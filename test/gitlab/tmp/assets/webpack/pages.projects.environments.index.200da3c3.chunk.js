(this.webpackJsonp=this.webpackJsonp||[]).push([[115],{1245:function(n,e,t){t(42),t(44),n.exports=t(1408)},1408:function(n,e,t){"use strict";t.r(e);var a=t(11),o=t(7),r=t(1),s={name:"EnvironmentsEmptyState",props:{newPath:{type:String,required:!0},canCreateEnvironment:{type:Boolean,required:!0},helpPath:{type:String,required:!0}}},i=t(3),c=Object(i.a)(s,function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"empty-state"},[t("div",{staticClass:"text-content"},[t("h4",{staticClass:"blank-state-title js-blank-state-title"},[n._v("\n      "+n._s(n.s__("Environments|You don't have any environments right now"))+"\n    ")]),n._v(" "),t("p",{staticClass:"blank-state-text"},[n._v("\n      "+n._s(n.s__("Environments|Environments are places where\n      code gets deployed, such as staging or production."))+"\n      "),t("a",{attrs:{href:n.helpPath}},[n._v(" "+n._s(n.s__("Environments|Read more about environments"))+" ")])]),n._v(" "),t("div",{staticClass:"text-center"},[n.canCreateEnvironment?t("a",{staticClass:"btn btn-success js-new-environment-button",attrs:{href:n.newPath}},[n._v("\n        "+n._s(n.s__("Environments|New environment"))+"\n      ")]):n._e()])])])},[],!1,null,null,null);c.options.__file="empty_state.vue";var l=c.exports,v=t(177),m=t(560),p=t(223),h={components:{emptyState:l,StopEnvironmentModal:t(562).a},mixins:[p.a,m.a],props:{endpoint:{type:String,required:!0},canCreateEnvironment:{type:Boolean,required:!0},canCreateDeployment:{type:Boolean,required:!0},canReadEnvironment:{type:Boolean,required:!0},cssContainerClass:{type:String,required:!0},newEnvironmentPath:{type:String,required:!0},helpPagePath:{type:String,required:!0}},created:function(){v.a.$on("toggleFolder",this.toggleFolder)},beforeDestroy:function(){v.a.$off("toggleFolder")},methods:{toggleFolder:function(n){this.store.toggleFolder(n),n.isOpen||this.fetchChildEnvironments(n,!0)},fetchChildEnvironments:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.store.updateEnvironmentProp(n,"isLoadingFolderContent",t),this.service.getFolderContent(n.folder_path).then(function(t){return e.store.setfolderContent(n,t.data.environments)}).then(function(){return e.store.updateEnvironmentProp(n,"isLoadingFolderContent",!1)}).catch(function(){Object(o.a)(Object(r.e)("Environments|An error occurred while fetching the environments.")),e.store.updateEnvironmentProp(n,"isLoadingFolderContent",!1)})},successCallback:function(n){var e=this;this.saveData(n);var t=this.store.getOpenFolders();t.length&&t.forEach(function(n){return e.fetchChildEnvironments(n)})}}},d=Object(i.a)(h,function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{class:n.cssContainerClass},[t("stop-environment-modal",{attrs:{environment:n.environmentInStopModal}}),n._v(" "),t("div",{staticClass:"top-area"},[t("tabs",{attrs:{tabs:n.tabs,scope:"environments"},on:{onChangeTab:n.onChangeTab}}),n._v(" "),n.canCreateEnvironment&&!n.isLoading?t("div",{staticClass:"nav-controls"},[t("a",{staticClass:"btn btn-success",attrs:{href:n.newEnvironmentPath}},[n._v("\n        "+n._s(n.s__("Environments|New environment"))+"\n      ")])]):n._e()],1),n._v(" "),t("container",{attrs:{"is-loading":n.isLoading,environments:n.state.environments,pagination:n.state.paginationInformation,"can-create-deployment":n.canCreateDeployment,"can-read-environment":n.canReadEnvironment},on:{onChangePage:n.onChangePage}},[n.isLoading||0!==n.state.environments.length?n._e():t("empty-state",{attrs:{slot:"emptyState","new-path":n.newEnvironmentPath,"help-path":n.helpPagePath,"can-create-environment":n.canCreateEnvironment},slot:"emptyState"})],1)],1)},[],!1,null,null,null);d.options.__file="environments_app.vue";var u=d.exports,C=t(13),g=t(78);a.default.use(g.a);document.addEventListener("DOMContentLoaded",function(){return new a.default({el:"#environments-list-view",components:{environmentsComponent:u},data:function(){var n=document.querySelector(this.$options.el).dataset;return{endpoint:n.environmentsDataEndpoint,newEnvironmentPath:n.newEnvironmentPath,helpPagePath:n.helpPagePath,cssContainerClass:n.cssClass,canCreateEnvironment:Object(C.A)(n.canCreateEnvironment),canCreateDeployment:Object(C.A)(n.canCreateDeployment),canReadEnvironment:Object(C.A)(n.canReadEnvironment)}},render:function(n){return n("environments-component",{props:{endpoint:this.endpoint,newEnvironmentPath:this.newEnvironmentPath,helpPagePath:this.helpPagePath,cssContainerClass:this.cssContainerClass,canCreateEnvironment:this.canCreateEnvironment,canCreateDeployment:this.canCreateDeployment,canReadEnvironment:this.canReadEnvironment}})}})})}},[[1245,1,0,2,20]]]);
//# sourceMappingURL=pages.projects.environments.index.200da3c3.chunk.js.map