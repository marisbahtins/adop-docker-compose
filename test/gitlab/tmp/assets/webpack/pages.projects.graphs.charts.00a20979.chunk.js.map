{"version":3,"sources":["webpack:///./pages/projects/graphs/charts/index.js"],"names":["__webpack_require__","r","__webpack_exports__","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","n","chart_js__WEBPACK_IMPORTED_MODULE_1__","chart_js__WEBPACK_IMPORTED_MODULE_1___default","underscore__WEBPACK_IMPORTED_MODULE_2__","underscore__WEBPACK_IMPORTED_MODULE_2___default","document","addEventListener","projectChartData","JSON","parse","getElementById","innerHTML","responsiveChart","selector","data","options","scaleOverlay","responsive","pointHitDetectionRadius","maintainAspectRatio","ctx","get","getContext","container","$","parent","generateChart","attr","width","window","innerWidth","scaleFontSize","Chart","Bar","resize","chartData","labels","Object","keys","datasets","fillColor","strokeColor","barStrokeWidth","barValueSpacing","barDatasetSpacing","_","values","hourData","hour","dayData","weekDays","monthData","month","languages","Pie"],"mappings":"6IAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,GAAAI,EAAAJ,EAAAK,EAAAF,GAAAG,EAAAN,EAAA,KAAAO,EAAAP,EAAAK,EAAAC,GAAAE,EAAAR,EAAA,GAAAS,EAAAT,EAAAK,EAAAG,GAIAE,SAASC,iBAAiB,mBAAoB,WAC5C,IAAMC,EAAmBC,KAAKC,MAAMJ,SAASK,eAAe,oBAAoBC,WAE1EC,EAAkB,SAACC,EAAUC,GACjC,IAAMC,GACJC,cAAc,EACdC,YAAY,EACZC,wBAAyB,EACzBC,qBAAqB,GAGjBC,EAAMP,EAASQ,IAAI,GAAGC,WAAW,MAEjCC,EAAYC,IAAEX,GAAUY,SACxBC,EAAgB,WAMpB,OALAb,EAASc,KAAK,QAASH,IAAED,GAAWK,SAChCC,OAAOC,WAAa,MAEtBf,EAAQgB,cAAgB,GAEnB,IAAIC,IAAMZ,GAAKa,IAAInB,EAAMC,IAIlC,OADAS,IAAEK,QAAQK,OAAOR,GACVA,KAGHS,EAAY,SAAArB,GAAI,OACpBsB,OAAQC,OAAOC,KAAKxB,GACpByB,WAEIC,UAAW,wBACXC,YAAa,sBACbC,eAAgB,EAChBC,gBAAiB,EACjBC,kBAAmB,EACnB9B,KAAM+B,IAAEC,OAAOhC,OAKfiC,EAAWZ,EAAU5B,EAAiByC,MAC5CpC,EAAgBY,IAAE,eAAgBuB,GAElC,IAAME,EAAUd,EAAU5B,EAAiB2C,UAC3CtC,EAAgBY,IAAE,kBAAmByB,GAErC,IAAME,EAAYhB,EAAU5B,EAAiB6C,OAC7CxC,EAAgBY,IAAE,gBAAiB2B,GAEnC,IAAMrC,EAAOP,EAAiB8C,UACxBjC,EAAMI,IAAE,oBACXH,IAAI,GACJC,WAAW,MAOd,IAAIU,IAAMZ,GAAKkC,IAAIxC,GALjBE,cAAc,EACdC,YAAY,EACZE,qBAAqB","file":"pages.projects.graphs.charts.00a20979.chunk.js","sourcesContent":["import $ from 'jquery';\nimport Chart from 'chart.js';\nimport _ from 'underscore';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const projectChartData = JSON.parse(document.getElementById('projectChartData').innerHTML);\n\n  const responsiveChart = (selector, data) => {\n    const options = {\n      scaleOverlay: true,\n      responsive: true,\n      pointHitDetectionRadius: 2,\n      maintainAspectRatio: false,\n    };\n    // get selector by context\n    const ctx = selector.get(0).getContext('2d');\n    // pointing parent container to make chart.js inherit its width\n    const container = $(selector).parent();\n    const generateChart = () => {\n      selector.attr('width', $(container).width());\n      if (window.innerWidth < 768) {\n        // Scale fonts if window width lower than 768px (iPad portrait)\n        options.scaleFontSize = 8;\n      }\n      return new Chart(ctx).Bar(data, options);\n    };\n    // enabling auto-resizing\n    $(window).resize(generateChart);\n    return generateChart();\n  };\n\n  const chartData = data => ({\n    labels: Object.keys(data),\n    datasets: [\n      {\n        fillColor: 'rgba(220,220,220,0.5)',\n        strokeColor: 'rgba(220,220,220,1)',\n        barStrokeWidth: 1,\n        barValueSpacing: 1,\n        barDatasetSpacing: 1,\n        data: _.values(data),\n      },\n    ],\n  });\n\n  const hourData = chartData(projectChartData.hour);\n  responsiveChart($('#hour-chart'), hourData);\n\n  const dayData = chartData(projectChartData.weekDays);\n  responsiveChart($('#weekday-chart'), dayData);\n\n  const monthData = chartData(projectChartData.month);\n  responsiveChart($('#month-chart'), monthData);\n\n  const data = projectChartData.languages;\n  const ctx = $('#languages-chart')\n    .get(0)\n    .getContext('2d');\n  const options = {\n    scaleOverlay: true,\n    responsive: true,\n    maintainAspectRatio: false,\n  };\n\n  new Chart(ctx).Pie(data, options);\n});\n"],"sourceRoot":""}