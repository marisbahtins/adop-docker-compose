(this.webpackJsonp=this.webpackJsonp||[]).push([[107],{106:function(t,e,i){"use strict";var n=i(0),a=i.n(n),s=["danger","primary","success","warning"],o=["sm","md","lg","xl"],r={name:"GlModal",props:{id:{type:String,required:!1,default:null},modalSize:{type:String,required:!1,default:"md",validator:function(t){return o.includes(t)}},headerTitleText:{type:String,required:!1,default:""},footerPrimaryButtonVariant:{type:String,required:!1,default:"primary",validator:function(t){return s.includes(t)}},footerPrimaryButtonText:{type:String,required:!1,default:""}},computed:{modalSizeClass:function(){return"md"===this.modalSize?"":"modal-".concat(this.modalSize)}},mounted:function(){a()(this.$el).on("shown.bs.modal",this.opened).on("hidden.bs.modal",this.closed)},beforeDestroy:function(){a()(this.$el).off("shown.bs.modal",this.opened).off("hidden.bs.modal",this.closed)},methods:{emitCancel:function(t){this.$emit("cancel",t)},emitSubmit:function(t){this.$emit("submit",t)},opened:function(){this.$emit("open")},closed:function(){this.$emit("closed")}}},l=i(3),c=Object(l.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal fade",attrs:{id:t.id,tabindex:"-1",role:"dialog"}},[i("div",{staticClass:"modal-dialog",class:t.modalSizeClass,attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[t._t("header",[i("h4",{staticClass:"modal-title"},[t._t("title",[t._v(" "+t._s(t.headerTitleText)+" ")])],2),t._v(" "),i("button",{staticClass:"close js-modal-close-action",attrs:{"aria-label":t.s__("Modal|Close"),type:"button","data-dismiss":"modal"},on:{click:function(e){t.emitCancel(e)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])],2),t._v(" "),i("div",{staticClass:"modal-body"},[t._t("default")],2),t._v(" "),i("div",{staticClass:"modal-footer"},[t._t("footer",[i("button",{staticClass:"btn js-modal-cancel-action qa-modal-cancel-button",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.emitCancel(e)}}},[t._v("\n            "+t._s(t.s__("Modal|Cancel"))+"\n          ")]),t._v(" "),i("button",{staticClass:"btn js-modal-primary-action qa-modal-primary-button",class:"btn-"+t.footerPrimaryButtonVariant,attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.emitSubmit(e)}}},[t._v("\n            "+t._s(t.footerPrimaryButtonText)+"\n          ")])])],2)])])])},[],!1,null,null,null);c.options.__file="gl_modal.vue";e.a=c.exports},1234:function(t,e,i){i(42),i(44),t.exports=i(1235)},1235:function(t,e,i){"use strict";i.r(e);var n=i(0),a=i.n(n),s=i(485),o=i(367);document.addEventListener("DOMContentLoaded",function(){new s.a({container:".js-commit-pipeline-graph"}).bindEvents(),a()(".commit-info.branches").load(document.querySelector(".js-commit-box").dataset.commitPath),Object(o.a)()})},135:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a});var n="CANCEL_REQUEST",a="PIPELINES_TABLE"},157:function(t,e,i){"use strict";var n=i(10),a=i(6),s=i(51),o=i(1),r=i(7),l={components:{Icon:i(15).a,GlButton:n.b},directives:{GlTooltip:n.n},props:{tooltipText:{type:String,required:!0},link:{type:String,required:!0},actionIcon:{type:String,required:!0}},data:function(){return{isDisabled:!1}},computed:{cssClass:function(){var t=Object(s.e)(this.actionIcon);return"".concat(t," js-icon-").concat(t)}},methods:{onClickAction:function(){var t=this;this.$root.$emit("bv::hide::tooltip","js-ci-action-".concat(this.link)),this.isDisabled=!0,a.a.post("".concat(this.link,".json")).then(function(){t.isDisabled=!1,t.$emit("pipelineActionRequestComplete")}).catch(function(){t.isDisabled=!1,Object(r.a)(Object(o.a)("An error occurred while making the request."))})}}},c=i(3),p=Object(c.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{boundary:"viewport"},expression:"{ boundary: 'viewport' }"}],staticClass:"js-ci-action btn btn-blank\nbtn-transparent ci-action-icon-container ci-action-icon-wrapper",class:this.cssClass,attrs:{id:"js-ci-action-"+this.link,title:this.tooltipText,disabled:this.isDisabled},on:{click:this.onClickAction}},[e("icon",{attrs:{name:this.actionIcon}})],1)},[],!1,null,null,null);p.options.__file="action_component.vue";var u=p.exports,d={components:{ciIcon:i(89).a},props:{name:{type:String,required:!0},status:{type:Object,required:!0}}},h=Object(c.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"ci-job-name-component"},[e("ci-icon",{attrs:{status:this.status}}),this._v(" "),e("span",{staticClass:"ci-status-text"},[this._v(" "+this._s(this.name)+" ")])],1)},[],!1,null,null,null);h.options.__file="job_name_component.vue";var m=h.exports,f=i(189),g={components:{ActionComponent:u,JobNameComponent:m,GlLink:n.d},directives:{GlTooltip:n.n},mixins:[f.a],props:{job:{type:Object,required:!0},cssClassJobName:{type:String,required:!1,default:""},dropdownLength:{type:Number,required:!1,default:1/0}},computed:{status:function(){return this.job&&this.job.status?this.job.status:{}},tooltipText:function(){var t=[],e=this.job.name;e&&t.push(e);var i=this.status.tooltip;return e&&i&&t.push("-"),i&&(this.isDelayedJob?t.push(Object(o.f)(i,{remainingTime:this.remainingTime})):t.push(i)),t.join(" ")},hasAction:function(){return this.job.status&&this.job.status.action&&this.job.status.action.path}},methods:{pipelineActionRequestComplete:function(){this.$emit("pipelineActionRequestComplete")}}},v=Object(c.a)(g,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ci-job-component"},[t.status.has_details?i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-graph-job-link",class:t.cssClassJobName,attrs:{href:t.status.details_path,title:t.tooltipText}},[i("job-name-component",{attrs:{name:t.job.name,status:t.job.status}})],1):i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-job-component-tooltip non-details-job-component",class:t.cssClassJobName,attrs:{title:t.tooltipText}},[i("job-name-component",{attrs:{name:t.job.name,status:t.job.status}})],1),t._v(" "),t.hasAction?i("action-component",{attrs:{"tooltip-text":t.status.action.title,link:t.status.action.path,"action-icon":t.status.action.icon},on:{pipelineActionRequestComplete:t.pipelineActionRequestComplete}}):t._e()],1)},[],!1,null,null,null);v.options.__file="job_item.vue";e.a=v.exports},195:function(t,e,i){"use strict";var n=i(1),a=Object(n.e)("Pagination|Prev"),s=Object(n.e)("Pagination|Next"),o=Object(n.e)("Pagination|« First"),r=Object(n.e)("Pagination|Last »"),l={props:{change:{type:Function,required:!0},pageInfo:{type:Object,required:!0}},computed:{prev:function(){return this.pageInfo.previousPage},next:function(){return this.pageInfo.nextPage},getItems:function(){var t=this.pageInfo.totalPages,e=this.pageInfo.page,i=[];e>1&&i.push({title:o,first:!0}),e>1?i.push({title:a,prev:!0}):i.push({title:a,disabled:!0,prev:!0}),e>6&&i.push({title:"...",separator:!0});for(var n=Math.max(e-4,1),l=Math.min(e+4,t),c=n;c<=l;c+=1){var p=c===e;i.push({title:c,active:p,page:!0})}return t-e>4&&i.push({title:"...",separator:!0,page:!0}),e===t?i.push({title:s,disabled:!0,next:!0}):t-e>=1&&i.push({title:s,next:!0}),t-e>=1&&i.push({title:r,last:!0}),i},showPagination:function(){return this.pageInfo.totalPages>1}},methods:{changePage:function(t,e){if(!e){var i=this.pageInfo,n=i.totalPages,l=i.nextPage,c=i.previousPage;switch(t){case"...":break;case r:this.change(n);break;case s:this.change(l);break;case a:this.change(c);break;case o:this.change(1);break;default:this.change(+t)}}},hideOnSmallScreen:function(t){return!(t.first||t.last||t.next||t.prev||t.active)}}},c=i(3),p=Object(c.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showPagination?i("div",{staticClass:"gl-pagination prepend-top-default"},[i("ul",{staticClass:"pagination justify-content-center"},t._l(t.getItems,function(e,n){return i("li",{key:n,staticClass:"page-item",class:{page:e.page,"js-previous-button":e.prev,"js-next-button":e.next,"js-last-button":e.last,"js-first-button":e.first,"d-none d-md-block":t.hideOnSmallScreen(e),separator:e.separator,active:e.active,disabled:e.disabled||e.separator}},[i("a",{staticClass:"page-link",on:{click:function(i){i.preventDefault(),t.changePage(e.title,e.disabled)}}},[t._v("\n        "+t._s(e.title)+"\n      ")])])}),0)]):t._e()},[],!1,null,null,null);p.options.__file="table_pagination.vue";e.a=p.exports},223:function(t,e,i){"use strict";var n=i(13);e.a={methods:{onChangeTab:function(t){this.updateContent({scope:t,page:"1"})},onChangePage:function(t){var e={page:Number(t).toString()};this.scope&&(e.scope=this.scope),this.updateContent(e)},updateInternalState:function(t){var e=this;this.poll.stop();var i=Object.keys(t).map(function(i){var n=t[i];return e[i]=n,"".concat(i,"=").concat(encodeURIComponent(n))}).join("&");this.requestData=t,Object(n.n)(Object(n.e)("?".concat(i))),this.isLoading=!0}}}},239:function(t,e,i){"use strict";var n=i(0),a=i.n(n);e.a={bind:function(t,e){a()(t).popover(e.value)},unbind:function(t){a()(t).popover("dispose")}}},242:function(t,e,i){"use strict";var n=i(20),a={directives:{GlTooltip:i(10).n},props:{endDateString:{type:String,required:!0,validator:function(t){return!Number.isNaN(new Date(t).getTime())}}},data:function(){return{remainingTime:Object(n.e)(0),countdownUpdateIntervalId:null}},mounted:function(){var t=this,e=function(){var e=Object(n.b)(t.endDateString);t.remainingTime=Object(n.e)(e)};e(),this.countdownUpdateIntervalId=window.setInterval(e,1e3)},beforeDestroy:function(){window.clearInterval(this.countdownUpdateIntervalId)}},s=i(3),o=Object(s.a)(a,function(){var t=this.$createElement;return(this._self._c||t)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{datetime:this.endDateString,title:this.endDateString}},[this._v(" "+this._s(this.remainingTime)+" ")])},[],!1,null,null,null);o.options.__file="gl_countdown.vue";e.a=o.exports},243:function(t,e,i){"use strict";var n={name:"PipelinesEmptyState",components:{GlButton:i(10).b},props:{helpPagePath:{type:String,required:!0},emptyStateSvgPath:{type:String,required:!0},canSetCi:{type:Boolean,required:!0}}},a=i(3),s=Object(a.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row empty-state js-empty-state"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"svg-content svg-250"},[i("img",{attrs:{src:t.emptyStateSvgPath}})])]),t._v(" "),i("div",{staticClass:"col-12"},[i("div",{staticClass:"text-content"},[t.canSetCi?[i("h4",{staticClass:"text-center"},[t._v(t._s(t.s__("Pipelines|Build with confidence")))]),t._v(" "),i("p",[t._v("\n          "+t._s(t.s__("Pipelines|Continuous Integration can help\n              catch bugs by running your tests automatically,\n              while Continuous Deployment can help you deliver\n              code to your product environment."))+"\n        ")]),t._v(" "),i("div",{staticClass:"text-center"},[i("gl-button",{staticClass:"js-get-started-pipelines",attrs:{href:t.helpPagePath,variant:"primary"}},[t._v("\n            "+t._s(t.s__("Pipelines|Get started with Pipelines"))+"\n          ")])],1)]:i("p",{staticClass:"text-center"},[t._v("\n        "+t._s(t.s__("Pipelines|This project is not currently set up to run pipelines."))+"\n      ")])],2)])])},[],!1,null,null,null);s.options.__file="empty_state.vue";e.a=s.exports},244:function(t,e,i){"use strict";var n=i(10),a=i(91),s=i(15),o={directives:{GlTooltip:n.n},components:{UserAvatarLink:a.a,Icon:s.a},props:{tag:{type:Boolean,required:!1,default:!1},commitRef:{type:Object,required:!1,default:function(){return{}}},commitUrl:{type:String,required:!1,default:""},shortSha:{type:String,required:!1,default:""},title:{type:String,required:!1,default:""},author:{type:Object,required:!1,default:function(){return{}}},showBranch:{type:Boolean,required:!1,default:!0}},computed:{hasCommitRef:function(){return this.commitRef&&this.commitRef.name&&this.commitRef.ref_url},hasAuthor:function(){return this.author&&this.author.avatar_url&&this.author.path&&this.author.username},userImageAltDescription:function(){return this.author&&this.author.username?"".concat(this.author.username,"'s avatar"):null}}},r=i(3),l=Object(r.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"branch-commit"},[t.hasCommitRef&&t.showBranch?[i("div",{staticClass:"icon-container"},[t.tag?i("i",{staticClass:"fa fa-tag",attrs:{"aria-hidden":"true"}}):t._e(),t._v(" "),t.tag?t._e():i("icon",{attrs:{name:"fork"}})],1),t._v(" "),i("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"ref-name",attrs:{href:t.commitRef.ref_url,title:t.commitRef.name}},[t._v("\n      "+t._s(t.commitRef.name)+"\n    ")])]:t._e(),t._v(" "),i("icon",{staticClass:"commit-icon js-commit-icon",attrs:{name:"commit"}}),t._v(" "),i("a",{staticClass:"commit-sha",attrs:{href:t.commitUrl}},[t._v(" "+t._s(t.shortSha)+" ")]),t._v(" "),i("div",{staticClass:"commit-title flex-truncate-parent"},[t.title?i("span",{staticClass:"flex-truncate-child"},[t.hasAuthor?i("user-avatar-link",{staticClass:"avatar-image-container",attrs:{"link-href":t.author.path,"img-src":t.author.avatar_url,"img-alt":t.userImageAltDescription,"tooltip-text":t.author.username}}):t._e(),t._v(" "),i("a",{staticClass:"commit-row-message",attrs:{href:t.commitUrl}},[t._v(" "+t._s(t.title)+" ")])],1):i("span",[t._v(" Can't find HEAD commit for this branch ")])])],2)},[],!1,null,null,null);l.options.__file="commit.vue";e.a=l.exports},262:function(t,e,i){"use strict";var n=i(0),a=i.n(n),s=i(10),o=i(1),r=i(7),l=i(6),c=i(59),p=i(15),u=i(157),d=i(135),h={components:{Icon:p.a,JobItem:u.a,GlLoadingIcon:s.e},directives:{GlTooltip:s.n},props:{stage:{type:Object,required:!0},updateDropdown:{type:Boolean,required:!1,default:!1},type:{type:String,required:!1,default:""}},data:function(){return{isLoading:!1,dropdownContent:""}},computed:{dropdownClass:function(){return this.dropdownContent.length>0?"js-builds-dropdown-container":"js-builds-dropdown-loading"},triggerButtonClass:function(){return"ci-status-icon-".concat(this.stage.status.group)},borderlessIcon:function(){return"".concat(this.stage.status.icon,"_borderless")}},watch:{updateDropdown:function(){this.updateDropdown&&this.isDropdownOpen()&&!this.isLoading&&this.fetchJobs()}},updated:function(){this.dropdownContent.length>0&&this.stopDropdownClickPropagation()},methods:{onClickStage:function(){this.isDropdownOpen()||(c.a.$emit("clickedDropdown"),this.isLoading=!0,this.fetchJobs())},fetchJobs:function(){var t=this;l.a.get(this.stage.dropdown_path).then(function(e){var i=e.data;t.dropdownContent=i.latest_statuses,t.isLoading=!1}).catch(function(){t.closeDropdown(),t.isLoading=!1,Object(r.a)(Object(o.a)("Something went wrong on our end."))})},stopDropdownClickPropagation:function(){a()(".js-builds-dropdown-list button, .js-builds-dropdown-list a.mini-pipeline-graph-dropdown-item",this.$el).on("click",function(t){t.stopPropagation()})},closeDropdown:function(){this.isDropdownOpen()&&a()(this.$refs.dropdown).dropdown("toggle")},isDropdownOpen:function(){return this.$el.classList.contains("open")},pipelineActionRequestComplete:function(){this.type===d.b?c.a.$emit("refreshPipelinesTable"):a()(this.$refs.dropdown).dropdown("toggle")}}},m=i(3),f=Object(m.a)(h,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dropdown"},[i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],ref:"dropdown",staticClass:"mini-pipeline-graph-dropdown-toggle js-builds-dropdown-button",class:t.triggerButtonClass,attrs:{id:"stageDropdown",title:t.stage.title,"data-toggle":"dropdown","data-display":"static",type:"button","aria-haspopup":"true","aria-expanded":"false"},on:{click:t.onClickStage}},[i("span",{staticClass:"no-pointer-events",attrs:{"aria-label":t.stage.title,"aria-hidden":"true"}},[i("icon",{attrs:{name:t.borderlessIcon}})],1),t._v(" "),i("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("div",{staticClass:"dropdown-menu mini-pipeline-graph-dropdown-menu js-builds-dropdown-container",attrs:{"aria-labelledby":"stageDropdown"}},[t.isLoading?i("gl-loading-icon"):i("ul",{staticClass:"js-builds-dropdown-list scrollable-menu"},t._l(t.dropdownContent,function(e){return i("li",{key:e.id},[i("job-item",{attrs:{"dropdown-length":t.dropdownContent.length,job:e,"css-class-job-name":"mini-pipeline-graph-dropdown-item"},on:{pipelineActionRequestComplete:t.pipelineActionRequestComplete}})],1)}),0)],1)])},[],!1,null,null,null);f.options.__file="stage.vue";e.a=f.exports},292:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(6);function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),-1===e.indexOf(".json")?this.endpoint="".concat(e,".json"):this.endpoint=e}var e,i,s;return e=t,(i=[{key:"getPipelines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scope,i=t.page,a=n.a.CancelToken;return this.cancelationSource=a.source(),n.a.get(this.endpoint,{params:{scope:e,page:i},cancelToken:this.cancelationSource.token})}},{key:"postAction",value:function(t){return n.a.post("".concat(t,".json"))}}])&&a(e.prototype,i),s&&a(e,s),t}()},293:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(13);function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={},this.state.pipelines=[],this.state.count={},this.state.pageInfo={}}var e,i,s;return e=t,(i=[{key:"storePipelines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.state.pipelines=t}},{key:"storeCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.count=t}},{key:"storePagination",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object.keys(e).length){var i=Object(n.y)(e);t=Object(n.B)(i)}else t=e;this.state.pageInfo=t}}])&&a(e.prototype,i),s&&a(e,s),t}()},294:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g fill="#8F8F8F" fill-rule="evenodd"><path d="M29.513 10.134A15.922 15.922 0 0 0 23 7.28V6h2.993C26.55 6 27 5.552 27 5V2a1 1 0 0 0-1.007-1H14.007C13.45 1 13 1.448 13 2v3a1 1 0 0 0 1.007 1H17v1.28C9.597 8.686 4 15.19 4 23c0 8.837 7.163 16 16 16s16-7.163 16-16c0-3.461-1.099-6.665-2.967-9.283l1.327-1.58a2.498 2.498 0 0 0-.303-3.53 2.499 2.499 0 0 0-3.528.315l-1.016 1.212zM20 34c6.075 0 11-4.925 11-11s-4.925-11-11-11S9 16.925 9 23s4.925 11 11 11z"/><path d="M19 21h-4.002c-.552 0-.998.452-.998 1.01v1.98c0 .567.447 1.01.998 1.01h7.004c.274 0 .521-.111.701-.291a.979.979 0 0 0 .297-.704v-8.01c0-.54-.452-.995-1.01-.995h-1.98a.997.997 0 0 0-1.01.995V21z"/></g></svg>\n'},298:function(t,e,i){"use strict";var n=i(69),a=i.n(n),s=i(10),o=i(1),r=i(7),l=i(96),c=i(243),p={name:"PipelinesSvgState",props:{svgPath:{type:String,required:!0},message:{type:String,required:!0}}},u=i(3),d=Object(u.a)(p,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row empty-state"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"svg-content"},[e("img",{attrs:{src:this.svgPath}})])]),this._v(" "),e("div",{staticClass:"col-12 text-center"},[e("div",{staticClass:"text-content"},[e("h4",[this._v(this._s(this.message))])])])])},[],!1,null,null,null);d.options.__file="blank_state.vue";var h=d.exports,m=i(106),f=i(59),g=i(242),v=i(15),b={directives:{GlTooltip:s.n},components:{Icon:v.a,GlCountdown:g.a,GlButton:s.b,GlLoadingIcon:s.e},props:{actions:{type:Array,required:!0}},data:function(){return{isLoading:!1}},methods:{onClickAction:function(t){if(t.scheduled_at){var e=Object(o.f)(Object(o.e)("DelayedJobs|Are you sure you want to run %{jobName} immediately? Otherwise this job will run automatically after it's timer finishes."),{jobName:t.name});if(!window.confirm(e))return}this.isLoading=!0,f.a.$emit("postAction",t.path)},isActionDisabled:function(t){return void 0!==t.playable&&!t.playable}}},_=Object(u.a)(b,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-group"},[i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"dropdown-new btn btn-default js-pipeline-dropdown-manual-actions",attrs:{disabled:t.isLoading,title:"Manual job","data-toggle":"dropdown","aria-label":"Manual job"}},[i("icon",{staticClass:"icon-play",attrs:{name:"play"}}),t._v(" "),i("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}}),t._v(" "),t.isLoading?i("gl-loading-icon"):t._e()],1),t._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.actions,function(e){return i("li",{key:e.path},[i("gl-button",{staticClass:"js-pipeline-action-link no-btn btn",class:{disabled:t.isActionDisabled(e)},attrs:{disabled:t.isActionDisabled(e)},on:{click:function(i){t.onClickAction(e)}}},[t._v("\n        "+t._s(e.name)+"\n        "),e.scheduled_at?i("span",{staticClass:"pull-right"},[i("icon",{attrs:{name:"clock"}}),t._v(" "),i("gl-countdown",{attrs:{"end-date-string":e.scheduled_at}})],1):t._e()])],1)}),0)],1)},[],!1,null,null,null);_.options.__file="pipelines_actions.vue";var C=_.exports,w={directives:{GlTooltip:s.n},components:{Icon:v.a,GlLink:s.d,GlButton:s.b},props:{artifacts:{type:Array,required:!0}}},y=Object(u.a)(w,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-group",attrs:{role:"group"}},[i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"dropdown-toggle build-artifacts js-pipeline-dropdown-download",attrs:{title:"Artifacts","data-toggle":"dropdown","aria-label":"Artifacts"}},[i("icon",{attrs:{name:"download"}}),t._v(" "),i("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}})],1),t._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.artifacts,function(e,n){return i("li",{key:n},[i("gl-link",{attrs:{href:e.path,rel:"nofollow",download:""}},[t._v("\n        Download "+t._s(e.name)+" artifacts\n      ")])],1)}),0)],1)},[],!1,null,null,null);y.options.__file="pipelines_artifacts.vue";var j=y.exports,P=i(205),S=i(262),k=i(5),q=i.n(k),T=i(91),D=i(239),O=Object(o.f)(q.a.escape(Object(o.a)("This pipeline makes use of a predefined CI/CD configuration enabled by %{strongStart}Auto DevOps.%{strongEnd}")),{strongStart:"<b>",strongEnd:"</b>"},!1),x={components:{UserAvatarLink:T.a,GlLink:s.d},directives:{GlTooltip:s.n,popover:D.a},props:{pipeline:{type:Object,required:!0},autoDevopsHelpPath:{type:String,required:!0}},computed:{user:function(){return this.pipeline.user},popoverOptions:function(){return{html:!0,trigger:"focus",placement:"top",title:'<div class="autodevops-title">\n            '.concat(O,"\n          </div>"),content:'<a\n            class="autodevops-link"\n            href="'.concat(this.autoDevopsHelpPath,'"\n            target="_blank"\n            rel="noopener noreferrer nofollow">\n            ').concat(q.a.escape(Object(o.a)("Learn more about Auto DevOps")),"\n          </a>")}}}},A=Object(u.a)(x,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-section section-15 d-none d-sm-none d-md-block pipeline-tags"},[i("gl-link",{staticClass:"js-pipeline-url-link",attrs:{href:t.pipeline.path}},[i("span",{staticClass:"pipeline-id"},[t._v("#"+t._s(t.pipeline.id))])]),t._v(" "),i("span",[t._v("by")]),t._v(" "),t.user?i("user-avatar-link",{staticClass:"js-pipeline-url-user",attrs:{"link-href":t.user.path,"img-src":t.user.avatar_url,"tooltip-text":t.user.name}}):t._e(),t._v(" "),t.user?t._e():i("span",{staticClass:"js-pipeline-url-api api"},[t._v(" API ")]),t._v(" "),i("div",{staticClass:"label-container"},[t.pipeline.flags.latest?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-url-latest badge badge-success",attrs:{title:t.__("Latest pipeline for this branch")}},[t._v("\n      "+t._s(t.__("latest"))+"\n    ")]):t._e(),t._v(" "),t.pipeline.flags.yaml_errors?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-url-yaml badge badge-danger",attrs:{title:t.pipeline.yaml_errors}},[t._v("\n      "+t._s(t.__("yaml invalid"))+"\n    ")]):t._e(),t._v(" "),t.pipeline.flags.failure_reason?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-url-failure badge badge-danger",attrs:{title:t.pipeline.failure_reason}},[t._v("\n      "+t._s(t.__("error"))+"\n    ")]):t._e(),t._v(" "),t.pipeline.flags.auto_devops?i("gl-link",{directives:[{name:"popover",rawName:"v-popover",value:t.popoverOptions,expression:"popoverOptions"}],staticClass:"js-pipeline-url-autodevops badge badge-info autodevops-badge",attrs:{tabindex:"0",role:"button"}},[t._v("\n      Auto DevOps\n    ")]):t._e(),t._v(" "),t.pipeline.flags.stuck?i("span",{staticClass:"js-pipeline-url-stuck badge badge-warning"},[t._v("\n      "+t._s(t.__("stuck"))+"\n    ")]):t._e(),t._v(" "),t.pipeline.flags.merge_request?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-url-mergerequest badge badge-info",attrs:{title:t.__("This pipeline is run in a merge request context")}},[t._v("\n      "+t._s(t.__("merge request"))+"\n    ")]):t._e()],1)],1)},[],!1,null,null,null);A.options.__file="pipeline_url.vue";var I=A.exports,L=i(294),E=i.n(L),$=(i(20),i(41)),R=i(84),B={directives:{tooltip:$.a},mixins:[R.a],props:{finishedTime:{type:String,required:!0},duration:{type:Number,required:!0}},data:function(){return{iconTimerSvg:E.a}},computed:{hasDuration:function(){return this.duration>0},hasFinishedTime:function(){return""!==this.finishedTime},durationFormated:function(){var t=new Date(1e3*this.duration),e=t.getUTCHours(),i=t.getUTCMinutes(),n=t.getSeconds();return e<10&&(e="0".concat(e)),i<10&&(i="0".concat(i)),n<10&&(n="0".concat(n)),"".concat(e,":").concat(i,":").concat(n)}}},G=Object(u.a)(B,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-section section-15 pipelines-time-ago"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v(t._s(t.s__("Pipeline|Duration")))]),t._v(" "),i("div",{staticClass:"table-mobile-content"},[t.hasDuration?i("p",{staticClass:"duration"},[i("span",{domProps:{innerHTML:t._s(t.iconTimerSvg)}}),t._v(" "+t._s(t.durationFormated)+"\n    ")]):t._e(),t._v(" "),t.hasFinishedTime?i("p",{staticClass:"finished-at d-none d-sm-none d-md-block"},[i("i",{staticClass:"fa fa-calendar",attrs:{"aria-hidden":"true"}}),t._v(" "),i("time",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:t.tooltipTitle(t.finishedTime),"data-placement":"top","data-container":"body"}},[t._v("\n        "+t._s(t.timeFormated(t.finishedTime))+"\n      ")])]):t._e()])])},[],!1,null,null,null);G.options.__file="time_ago.vue";var M=G.exports,N=i(244),U=i(108),H=i(135);function z(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var F={components:{PipelinesActionsComponent:C,PipelinesArtifactsComponent:j,CommitComponent:N.a,PipelineStage:S.a,PipelineUrl:I,CiBadge:P.a,PipelinesTimeago:M,LoadingButton:U.a,Icon:v.a},props:{pipeline:{type:Object,required:!0},updateGraphDropdown:{type:Boolean,required:!1,default:!1},autoDevopsHelpPath:{type:String,required:!0},viewType:{type:String,required:!0},cancelingPipeline:{type:Number,required:!1,default:null}},pipelinesTable:H.b,data:function(){return{isRetrying:!1}},computed:{actions:function(){if(!this.pipeline||!this.pipeline.details)return[];var t=this.pipeline.details;return z(t.manual_actions||[]).concat(z(t.scheduled_actions||[]))},commitAuthor:function(){var t;return this.pipeline&&this.pipeline.commit?(this.pipeline.commit.author?this.pipeline.commit.author.avatar_url?t=this.pipeline.commit.author:this.pipeline.commit.author_gravatar_url&&(t=Object.assign({},this.pipeline.commit.author,{avatar_url:this.pipeline.commit.author_gravatar_url})):t={avatar_url:this.pipeline.commit.author_gravatar_url,path:"mailto:".concat(this.pipeline.commit.author_email),username:this.pipeline.commit.author_name},t):null},commitTag:function(){if(this.pipeline.ref&&this.pipeline.ref.tag)return this.pipeline.ref.tag},commitRef:function(){var t=this;if(this.pipeline.ref)return Object.keys(this.pipeline.ref).reduce(function(e,i){return"path"===i?e.ref_url=t.pipeline.ref[i]:e[i]=t.pipeline.ref[i],e},{})},commitUrl:function(){if(this.pipeline.commit&&this.pipeline.commit.commit_path)return this.pipeline.commit.commit_path},commitShortSha:function(){if(this.pipeline.commit&&this.pipeline.commit.short_id)return this.pipeline.commit.short_id},commitTitle:function(){if(this.pipeline.commit&&this.pipeline.commit.title)return this.pipeline.commit.title},pipelineDuration:function(){return this.pipeline.details&&this.pipeline.details.duration?this.pipeline.details.duration:0},pipelineFinishedAt:function(){return this.pipeline.details&&this.pipeline.details.finished_at?this.pipeline.details.finished_at:""},pipelineStatus:function(){return this.pipeline.details&&this.pipeline.details.status?this.pipeline.details.status:{}},displayPipelineActions:function(){return this.pipeline.flags.retryable||this.pipeline.flags.cancelable||this.pipeline.details.manual_actions.length||this.pipeline.details.artifacts.length},isChildView:function(){return"child"===this.viewType},isCancelling:function(){return this.cancelingPipeline===this.pipeline.id}},methods:{handleCancelClick:function(){f.a.$emit("openConfirmationModal",{pipelineId:this.pipeline.id,endpoint:this.pipeline.cancel_path})},handleRetryClick:function(){this.isRetrying=!0,f.a.$emit("retryPipeline",this.pipeline.retry_path)}}},J=Object(u.a)(F,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"commit gl-responsive-table-row"},[i("div",{staticClass:"table-section section-10 commit-link"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v(t._s(t.s__("Pipeline|Status")))]),t._v(" "),i("div",{staticClass:"table-mobile-content"},[i("ci-badge",{attrs:{status:t.pipelineStatus,"show-text":!t.isChildView}})],1)]),t._v(" "),i("pipeline-url",{attrs:{pipeline:t.pipeline,"auto-devops-help-path":t.autoDevopsHelpPath}}),t._v(" "),i("div",{staticClass:"table-section section-20"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v(t._s(t.s__("Pipeline|Commit")))]),t._v(" "),i("div",{staticClass:"table-mobile-content"},[i("commit-component",{attrs:{tag:t.commitTag,"commit-ref":t.commitRef,"commit-url":t.commitUrl,"short-sha":t.commitShortSha,title:t.commitTitle,author:t.commitAuthor,"show-branch":!t.isChildView}})],1)]),t._v(" "),i("div",{staticClass:"table-section section-wrap section-20 stage-cell"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v(t._s(t.s__("Pipeline|Stages")))]),t._v(" "),i("div",{staticClass:"table-mobile-content"},[t.pipeline.details.stages.length>0?t._l(t.pipeline.details.stages,function(e,n){return i("div",{key:n,staticClass:"stage-container dropdown js-mini-pipeline-graph"},[i("pipeline-stage",{attrs:{type:t.$options.pipelinesTable,stage:e,"update-dropdown":t.updateGraphDropdown}})],1)}):t._e()],2)]),t._v(" "),i("pipelines-timeago",{attrs:{duration:t.pipelineDuration,"finished-time":t.pipelineFinishedAt}}),t._v(" "),t.displayPipelineActions?i("div",{staticClass:"table-section section-20 table-button-footer pipeline-actions"},[i("div",{staticClass:"btn-group table-action-buttons"},[t.actions.length>0?i("pipelines-actions-component",{attrs:{actions:t.actions}}):t._e(),t._v(" "),t.pipeline.details.artifacts.length?i("pipelines-artifacts-component",{staticClass:"d-md-block",attrs:{artifacts:t.pipeline.details.artifacts}}):t._e(),t._v(" "),t.pipeline.flags.retryable?i("loading-button",{attrs:{loading:t.isRetrying,disabled:t.isRetrying,"container-class":"js-pipelines-retry-button btn btn-default btn-retry"},on:{click:t.handleRetryClick}},[i("icon",{attrs:{name:"repeat"}})],1):t._e(),t._v(" "),t.pipeline.flags.cancelable?i("loading-button",{attrs:{loading:t.isCancelling,disabled:t.isCancelling,"data-toggle":"modal","data-target":"#confirmation-modal","container-class":"js-pipelines-cancel-button btn btn-remove"},on:{click:t.handleCancelClick}},[i("icon",{attrs:{name:"close"}})],1):t._e()],1)]):t._e()],1)},[],!1,null,null,null);J.options.__file="pipelines_table_row.vue";var V={components:{PipelinesTableRowComponent:J.exports,Modal:m.a},props:{pipelines:{type:Array,required:!0},updateGraphDropdown:{type:Boolean,required:!1,default:!1},autoDevopsHelpPath:{type:String,required:!0},viewType:{type:String,required:!0}},data:function(){return{pipelineId:0,endpoint:"",cancelingPipeline:null}},computed:{modalTitle:function(){return Object(o.f)(Object(o.e)("Pipeline|Stop pipeline #%{pipelineId}?"),{pipelineId:"".concat(this.pipelineId)},!1)},modalText:function(){return Object(o.f)(Object(o.e)("Pipeline|You’re about to stop pipeline %{pipelineId}."),{pipelineId:"<strong>#".concat(this.pipelineId,"</strong>")},!1)}},created:function(){f.a.$on("openConfirmationModal",this.setModalData)},beforeDestroy:function(){f.a.$off("openConfirmationModal",this.setModalData)},methods:{setModalData:function(t){this.pipelineId=t.pipelineId,this.endpoint=t.endpoint},onSubmit:function(){f.a.$emit("postAction",this.endpoint),this.cancelingPipeline=this.pipelineId}}},Q=Object(u.a)(V,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ci-table"},[i("div",{staticClass:"gl-responsive-table-row table-row-header",attrs:{role:"row"}},[i("div",{staticClass:"table-section section-10 js-pipeline-status pipeline-status",attrs:{role:"rowheader"}},[t._v("\n      "+t._s(t.s__("Pipeline|Status"))+"\n    ")]),t._v(" "),i("div",{staticClass:"table-section section-15 js-pipeline-info pipeline-info",attrs:{role:"rowheader"}},[t._v("\n      "+t._s(t.s__("Pipeline|Pipeline"))+"\n    ")]),t._v(" "),i("div",{staticClass:"table-section section-20 js-pipeline-commit pipeline-commit",attrs:{role:"rowheader"}},[t._v("\n      "+t._s(t.s__("Pipeline|Commit"))+"\n    ")]),t._v(" "),i("div",{staticClass:"table-section section-20 js-pipeline-stages pipeline-stages",attrs:{role:"rowheader"}},[t._v("\n      "+t._s(t.s__("Pipeline|Stages"))+"\n    ")])]),t._v(" "),t._l(t.pipelines,function(e){return i("pipelines-table-row-component",{key:e.id,attrs:{pipeline:e,"update-graph-dropdown":t.updateGraphDropdown,"auto-devops-help-path":t.autoDevopsHelpPath,"view-type":t.viewType,"canceling-pipeline":t.cancelingPipeline}})}),t._v(" "),i("modal",{attrs:{id:"confirmation-modal","header-title-text":t.modalTitle,"footer-primary-button-text":t.s__("Pipeline|Stop pipeline"),"footer-primary-button-variant":"danger"},on:{submit:t.onSubmit}},[i("span",{domProps:{innerHTML:t._s(t.modalText)}})])],2)},[],!1,null,null,null);Q.options.__file="pipelines_table.vue";var Y=Q.exports;e.a={components:{PipelinesTableComponent:Y,SvgBlankState:h,EmptyState:c.a,GlLoadingIcon:s.e},data:function(){return{isLoading:!1,hasError:!1,isMakingRequest:!1,updateGraphDropdown:!1,hasMadeRequest:!1}},computed:{shouldRenderPagination:function(){return!this.isLoading&&this.state.pipelines.length&&this.state.pageInfo.total>this.state.pageInfo.perPage}},beforeMount:function(){var t=this;this.poll=new l.a({resource:this.service,method:"getPipelines",data:this.requestData?this.requestData:void 0,successCallback:this.successCallback,errorCallback:this.errorCallback,notificationCallback:this.setIsMakingRequest}),a.a.hidden()?this.fetchPipelines():(this.isLoading=!0,this.poll.makeRequest()),a.a.change(function(){a.a.hidden()?t.poll.stop():t.poll.restart()}),f.a.$on("postAction",this.postAction),f.a.$on("retryPipeline",this.postAction),f.a.$on("clickedDropdown",this.updateTable),f.a.$on("refreshPipelinesTable",this.fetchPipelines)},beforeDestroy:function(){f.a.$off("postAction",this.postAction),f.a.$off("retryPipeline",this.postAction),f.a.$off("clickedDropdown",this.updateTable),f.a.$off("refreshPipelinesTable",this.fetchPipelines)},destroyed:function(){this.poll.stop()},methods:{updateContent:function(t){var e=this;return this.updateInternalState(t),this.service.getPipelines(this.requestData).then(function(t){e.isLoading=!1,e.successCallback(t),e.poll.restart({data:e.requestData})}).catch(function(){e.isLoading=!1,e.errorCallback(),e.poll.restart({data:e.requestData})})},updateTable:function(){var t=this;return this.isMakingRequest&&this.service.cancelationSource.cancel(H.a),this.poll.stop(),this.getPipelines().then(function(){return t.poll.restart()})},fetchPipelines:function(){this.isMakingRequest||(this.isLoading=!0,this.getPipelines())},getPipelines:function(){var t=this;return this.service.getPipelines(this.requestData).then(function(e){return t.successCallback(e)}).catch(function(e){return t.errorCallback(e)})},setCommonData:function(t){this.store.storePipelines(t),this.isLoading=!1,this.updateGraphDropdown=!0,this.hasMadeRequest=!0,this.hasError&&(this.hasError=!1)},errorCallback:function(t){this.hasMadeRequest=!0,this.isLoading=!1,t&&t.message&&t.message!==H.a&&(this.hasError=!0,this.updateGraphDropdown=!1)},setIsMakingRequest:function(t){this.isMakingRequest=t,t&&(this.updateGraphDropdown=!1)},postAction:function(t){var e=this;this.service.postAction(t).then(function(){return e.fetchPipelines()}).catch(function(){return Object(r.a)(Object(o.a)("An error occurred while making the request."))})}}}},367:function(t,e,i){"use strict";var n=i(11),a=i(292),s=i(293),o=i(298),r=i(195),l=i(13),c=i(223),p={components:{TablePagination:r.a},mixins:[o.a,c.a],props:{endpoint:{type:String,required:!0},helpPagePath:{type:String,required:!0},autoDevopsHelpPath:{type:String,required:!0},errorStateSvgPath:{type:String,required:!0},viewType:{type:String,required:!1,default:"child"}},data:function(){var t=new s.a;return{store:t,state:t.state,page:Object(l.i)("page")||"1",requestData:{}}},computed:{shouldRenderTable:function(){return!this.isLoading&&this.state.pipelines.length>0&&!this.hasError},shouldRenderErrorState:function(){return this.hasError&&!this.isLoading}},created:function(){this.service=new a.a(this.endpoint),this.requestData={page:this.page}},methods:{successCallback:function(t){var e=t.data.pipelines||t.data;this.store.storePagination(t.headers),this.setCommonData(e);var i=new CustomEvent("update-pipelines-count",{detail:{pipelines:t.data}});this.$el.parentElement&&this.$el.parentElement.dispatchEvent(i)}}},u=i(3),d=Object(u.a)(p,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-list pipelines"},[t.isLoading?i("gl-loading-icon",{staticClass:"prepend-top-20",attrs:{label:t.s__("Pipelines|Loading Pipelines"),size:3}}):t.shouldRenderErrorState?i("svg-blank-state",{attrs:{"svg-path":t.errorStateSvgPath,message:t.s__("Pipelines|There was an error fetching the pipelines.\n    Try again in a few moments or contact your support team.")}}):t.shouldRenderTable?i("div",{staticClass:"table-holder"},[i("pipelines-table-component",{attrs:{pipelines:t.state.pipelines,"update-graph-dropdown":t.updateGraphDropdown,"auto-devops-help-path":t.autoDevopsHelpPath,"view-type":t.viewType}})],1):t._e(),t._v(" "),t.shouldRenderPagination?i("table-pagination",{attrs:{change:t.onChangePage,"page-info":t.state.pageInfo}}):t._e()],1)},[],!1,null,null,null);d.options.__file="pipelines_table.vue";var h=d.exports,m=n.default.extend(h);window.gl=window.gl||{},window.gl.CommitPipelinesTable=m;e.a=function(){var t=document.querySelector("#commit-pipeline-table-view");if(t&&(t.addEventListener("update-pipelines-count",function(t){t.detail.pipelines&&t.detail.pipelines.count&&t.detail.pipelines.count.all&&(document.querySelector(".js-pipelines-mr-count").textContent=t.detail.pipelines.count.all)}),void 0===t.dataset.disableInitialization)){var e=new m({propsData:{endpoint:t.dataset.endpoint,helpPagePath:t.dataset.helpPagePath,emptyStateSvgPath:t.dataset.emptyStateSvgPath,errorStateSvgPath:t.dataset.errorStateSvgPath,autoDevopsHelpPath:t.dataset.helpAutoDevopsPath}}).$mount();t.appendChild(e.$el)}}},41:function(t,e,i){"use strict";var n=i(0),a=i.n(n);e.a={bind:function(t){a()(t).tooltip({trigger:"hover"})},componentUpdated:function(t){a()(t).tooltip("_fixTitle");var e=a()(t).data("bs.tooltip"),i=e.getTipElement();e.setElementContent(a()(i.querySelectorAll(".tooltip-inner")),e.getTitle())},unbind:function(t){a()(t).tooltip("dispose")}}},485:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(0),a=i.n(n),s=i(7),o=i(6);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.container||"",this.dropdownListSelector=".js-builds-dropdown-container",this.getBuildsList=this.getBuildsList.bind(this)}var e,i,n;return e=t,(i=[{key:"bindEvents",value:function(){a()(document).off("shown.bs.dropdown",this.container).on("shown.bs.dropdown",this.container,this.getBuildsList)}},{key:"stopDropdownClickPropagation",value:function(){a()(document).on("click","".concat(this.container," .js-builds-dropdown-list a.mini-pipeline-graph-dropdown-item"),function(t){t.stopPropagation()})}},{key:"renderBuildsList",value:function(t,e){t.parentElement.querySelector("".concat(this.dropdownListSelector," .js-builds-dropdown-list ul")).innerHTML=e}},{key:"getBuildsList",value:function(t){var e=this,i=t.relatedTarget,n=i.dataset.stageEndpoint;this.renderBuildsList(i,""),this.toggleLoading(i),o.a.get(n).then(function(t){var n=t.data;e.toggleLoading(i),e.renderBuildsList(i,n.html),e.stopDropdownClickPropagation()}).catch(function(){e.toggleLoading(i),a()(i).parent().hasClass("open")&&a()(i).dropdown("toggle"),Object(s.a)("An error occurred while fetching the builds.","alert")})}},{key:"toggleLoading",value:function(t){t.parentElement.querySelector("".concat(this.dropdownListSelector," .js-builds-dropdown-loading")).classList.toggle("hidden")}}])&&r(e.prototype,i),n&&r(e,n),t}()},59:function(t,e,i){"use strict";var n=i(11);e.a=new n.default},91:function(t,e,i){"use strict";var n=i(10),a=i(92),s={name:"UserAvatarLink",components:{GlLink:n.d,userAvatarImage:a.a},directives:{GlTooltip:n.n},props:{linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:Number,required:!1,default:20},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername:function(){return this.username.length>0},avatarTooltipText:function(){return this.shouldShowUsername?"":this.tooltipText}}},o=i(3),r=Object(o.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("gl-link",{staticClass:"user-avatar-link",attrs:{href:t.linkHref}},[i("user-avatar-image",{attrs:{"img-src":t.imgSrc,"img-alt":t.imgAlt,"css-classes":t.imgCssClasses,size:t.imgSize,"tooltip-text":t.avatarTooltipText,"tooltip-placement":t.tooltipPlacement}},[t._t("default")],2),t.shouldShowUsername?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-avatar-link-username",attrs:{title:t.tooltipText,"tooltip-placement":t.tooltipPlacement}},[t._v(t._s(t.username))]):t._e(),t._t("avatar-badge")],2)},[],!1,null,null,null);r.options.__file="user_avatar_link.vue";e.a=r.exports}},[[1234,1,0,2,7]]]);
//# sourceMappingURL=pages.projects.commit.pipelines.be2cf2d4.chunk.js.map