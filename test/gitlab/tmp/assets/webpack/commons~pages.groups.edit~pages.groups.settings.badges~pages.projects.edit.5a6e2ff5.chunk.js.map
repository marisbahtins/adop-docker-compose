{"version":3,"sources":["webpack:///./vue_shared/components/gl_modal.vue?07a1","webpack:///vue_shared/components/gl_modal.vue","webpack:///./vue_shared/components/gl_modal.vue?ba69","webpack:///./vue_shared/components/gl_modal.vue","webpack:///./vue_shared/components/loading_button.vue?8599","webpack:///./vue_shared/components/loading_button.vue?7584","webpack:///vue_shared/components/loading_button.vue","webpack:///./vue_shared/components/loading_button.vue","webpack:///./badges/constants.js","webpack:///./badges/components/badge.vue?ff92","webpack:///badges/components/badge.vue","webpack:///./badges/components/badge.vue","webpack:///./badges/components/badge.vue?f544","webpack:///badges/components/badge_form.vue","webpack:///./badges/components/badge_form.vue?f54b","webpack:///./badges/empty_badge.js","webpack:///./badges/components/badge_form.vue","webpack:///./badges/components/badge_form.vue?99f3","webpack:///badges/components/badge_list_row.vue","webpack:///./badges/components/badge_list_row.vue?3992","webpack:///./badges/components/badge_list_row.vue","webpack:///./badges/components/badge_list_row.vue?9316","webpack:///badges/components/badge_list.vue","webpack:///./badges/components/badge_list.vue?7695","webpack:///./badges/components/badge_list.vue","webpack:///./badges/components/badge_list.vue?b459","webpack:///badges/components/badge_settings.vue","webpack:///./badges/components/badge_settings.vue?fb5b","webpack:///./badges/components/badge_settings.vue","webpack:///./badges/components/badge_settings.vue?886f","webpack:///./badges/store/mutation_types.js","webpack:///./badges/store/actions.js","webpack:///./badges/store/mutations.js","webpack:///./badges/store/index.js","webpack:///./badges/store/state.js","webpack:///./pages/shared/mount_badge_settings.js"],"names":["buttonVariants","sizeVariants","components_gl_modalvue_type_script_lang_js_","name","props","id","type","String","required","default","modalSize","validator","value","includes","headerTitleText","footerPrimaryButtonVariant","footerPrimaryButtonText","computed","modalSizeClass","this","concat","mounted","jquery_default","$el","on","opened","closed","beforeDestroy","off","methods","emitCancel","event","$emit","emitSubmit","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","tabindex","role","class","_t","_v","_s","aria-label","s__","data-dismiss","click","$event","aria-hidden","options","__file","__webpack_exports__","components_loading_buttonvue_type_script_lang_js_","components","GlLoadingIcon","loading","Boolean","disabled","label","containerClass","Array","onClick","e","append-right-5","inline","_e","__webpack_require__","d","GROUP_BADGE","PROJECT_BADGE","components_badgevue_type_script_lang_js_","Icon","icon","dist","directives","GlTooltip","imageUrl","linkUrl","data","hasError","isLoading","numRetries","imageUrlWithRetries","watch","onError","onLoad","reloadImage","rawName","expression","href","target","rel","src","load","error","size","modifiers","hover","title","components_badge","components_badge_formvue_type_script_lang_js_","Badge","LoadingButton","isEditing","wasValidated","_objectSpread","vuex_esm","badge","badgeInEditForm","badgeInAddForm","helpText","placeholders","map","placeholder","join","locale","docsLinkEnd","docsLinkStart","underscore_default","a","escape","docsUrl","renderedImageUrl","renderedBadge","renderedLinkUrl","get","set","isDeleting","updateBadgeInForm","badgeImageUrlExample","exampleUrl","badgeLinkUrlExample","debouncedPreview","debounce","renderBadge","onCancel","stopEditing","onSubmit","_this","checkValidity","saveBadge","then","flash","catch","addBadge","Promise","resolve","badge_form_component","was-validated","novalidate","submit","preventDefault","stopPropagation","for","domProps","innerHTML","input","composing","isRendering","image-url","link-url","isSaving","container-class","__","badge_form","components_badge_list_rowvue_type_script_lang_js_","badge_list_rowvue_type_script_lang_js_objectSpread","badgeKindText","kind","constants","canEditBadge","badge_list_row_component","editBadge","data-toggle","data-target","updateBadgeInModal","components_badge_listvue_type_script_lang_js_","BadgeListRow","badge_listvue_type_script_lang_js_objectSpread","hasNoBadges","badges","length","isGroupBadge","badge_list_component","_l","key","components_badge_settingsvue_type_script_lang_js_","BadgeForm","BadgeList","GlModal","gl_modal","badge_settingsvue_type_script_lang_js_objectSpread","deleteModalText","onSubmitModal","deleteBadge","badgeInModal","badge_settings_component","header-title-text","footer-primary-button-text","footer-primary-button-variant","is-editing","badge_settings","mutation_types","transformBackendBadge","image_url","link_url","rendered_image_url","rendered_link_url","actions","requestNewBadge","_ref","commit","types","receiveNewBadge","_ref2","newBadge","receiveNewBadgeError","_ref3","_ref4","dispatch","state","endpoint","apiEndpointUrl","axios","post","res","requestDeleteBadge","_ref5","badgeId","receiveDeleteBadge","_ref6","receiveDeleteBadgeError","_ref7","_ref8","delete","_ref9","requestLoadBadges","_ref10","receiveLoadBadges","_ref11","receiveLoadBadgesError","_ref12","loadBadges","_ref13","requestRenderedBadge","_ref14","receiveRenderedBadge","_ref15","receiveRenderedBadgeError","_ref16","_ref17","trim","parameters","encodeURIComponent","renderEndpoint","requestUpdatedBadge","_ref18","receiveUpdatedBadge","_ref19","updatedBadge","receiveUpdatedBadgeError","_ref20","_ref21","put","_ref22","_ref23","_ref24","reorderBadges","sort","b","mutations","mutations_defineProperty","_types$RECEIVE_NEW_BA","assign","filter","mutations_objectSpread","Vue","use","Vuex","store","Store","badgeSettingsElement","document","getElementById","dataset","el","BadgeSettings","render","createElement"],"mappings":"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","file":"commons~pages.groups.edit~pages.groups.settings.badges~pages.projects.edit.5a6e2ff5.chunk.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":_vm.id,\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\",class:_vm.modalSizeClass,attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_vm._t(\"header\",[_c('h4',{staticClass:\"modal-title\"},[_vm._t(\"title\",[_vm._v(\" \"+_vm._s(_vm.headerTitleText)+\" \")])],2),_vm._v(\" \"),_c('button',{staticClass:\"close js-modal-close-action\",attrs:{\"aria-label\":_vm.s__('Modal|Close'),\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitCancel($event);}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"Ã—\")])])])],2),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"btn js-modal-cancel-action qa-modal-cancel-button\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitCancel($event);}}},[_vm._v(\"\\n            \"+_vm._s(_vm.s__('Modal|Cancel'))+\"\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn js-modal-primary-action qa-modal-primary-button\",class:(\"btn-\" + _vm.footerPrimaryButtonVariant),attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitSubmit($event);}}},[_vm._v(\"\\n            \"+_vm._s(_vm.footerPrimaryButtonText)+\"\\n          \")])])],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport $ from 'jquery';\n\nconst buttonVariants = ['danger', 'primary', 'success', 'warning'];\nconst sizeVariants = ['sm', 'md', 'lg', 'xl'];\n\nexport default {\n  name: 'GlModal',\n  props: {\n    id: {\n      type: String,\n      required: false,\n      default: null,\n    },\n    modalSize: {\n      type: String,\n      required: false,\n      default: 'md',\n      validator: value => sizeVariants.includes(value),\n    },\n    headerTitleText: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    footerPrimaryButtonVariant: {\n      type: String,\n      required: false,\n      default: 'primary',\n      validator: value => buttonVariants.includes(value),\n    },\n    footerPrimaryButtonText: {\n      type: String,\n      required: false,\n      default: '',\n    },\n  },\n  computed: {\n    modalSizeClass() {\n      return this.modalSize === 'md' ? '' : `modal-${this.modalSize}`;\n    },\n  },\n  mounted() {\n    $(this.$el)\n      .on('shown.bs.modal', this.opened)\n      .on('hidden.bs.modal', this.closed);\n  },\n  beforeDestroy() {\n    $(this.$el)\n      .off('shown.bs.modal', this.opened)\n      .off('hidden.bs.modal', this.closed);\n  },\n  methods: {\n    emitCancel(event) {\n      this.$emit('cancel', event);\n    },\n    emitSubmit(event) {\n      this.$emit('submit', event);\n    },\n    opened() {\n      this.$emit('open');\n    },\n    closed() {\n      this.$emit('closed');\n    },\n  },\n};\n</script>\n\n<template>\n  <div :id=\"id\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\">\n    <div :class=\"modalSizeClass\" class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <slot name=\"header\">\n            <h4 class=\"modal-title\">\n              <slot name=\"title\"> {{ headerTitleText }} </slot>\n            </h4>\n            <button\n              :aria-label=\"s__('Modal|Close')\"\n              type=\"button\"\n              class=\"close js-modal-close-action\"\n              data-dismiss=\"modal\"\n              @click=\"emitCancel($event);\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </slot>\n        </div>\n\n        <div class=\"modal-body\"><slot></slot></div>\n\n        <div class=\"modal-footer\">\n          <slot name=\"footer\">\n            <button\n              type=\"button\"\n              class=\"btn js-modal-cancel-action qa-modal-cancel-button\"\n              data-dismiss=\"modal\"\n              @click=\"emitCancel($event);\"\n            >\n              {{ s__('Modal|Cancel') }}\n            </button>\n            <button\n              :class=\"`btn-${footerPrimaryButtonVariant}`\"\n              type=\"button\"\n              class=\"btn js-modal-primary-action qa-modal-primary-button\"\n              data-dismiss=\"modal\"\n              @click=\"emitSubmit($event);\"\n            >\n              {{ footerPrimaryButtonText }}\n            </button>\n          </slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gl_modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gl_modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./gl_modal.vue?vue&type=template&id=3bea753a&\"\nimport script from \"./gl_modal.vue?vue&type=script&lang=js&\"\nexport * from \"./gl_modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"gl_modal.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{class:_vm.containerClass,attrs:{\"disabled\":_vm.loading || _vm.disabled,\"type\":\"button\"},on:{\"click\":_vm.onClick}},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.loading)?_c('gl-loading-icon',{staticClass:\"js-loading-button-icon\",class:{\n        'append-right-5': _vm.label,\n      },attrs:{\"inline\":true}}):_vm._e()],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_vm._t(\"default\",[(_vm.label)?_c('span',{staticClass:\"js-loading-button-label\"},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")]):_vm._e()])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading_button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading_button.vue?vue&type=script&lang=js&\"","<script>\nimport { GlLoadingIcon } from '@gitlab/ui';\n/* eslint-disable vue/require-default-prop */\n/* This is a re-usable vue component for rendering a button\n    that will probably be sending off ajax requests and need\n    to show the loading status by setting the `loading` option.\n    This can also be used for initial page load when you don't\n    know the action of the button yet by setting\n    `loading: true, label: undefined`.\n\n    Sample configuration:\n\n    <loading-button\n      :loading=\"true\"\n      :label=\"Hello\"\n      @click=\"...\"\n    />\n\n  */\n\nexport default {\n  components: {\n    GlLoadingIcon,\n  },\n  props: {\n    loading: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    label: {\n      type: String,\n      required: false,\n    },\n    containerClass: {\n      type: [String, Array, Object],\n      required: false,\n      default: 'btn btn-align-content',\n    },\n  },\n  methods: {\n    onClick(e) {\n      this.$emit('click', e);\n    },\n  },\n};\n</script>\n\n<template>\n  <button :class=\"containerClass\" :disabled=\"loading || disabled\" type=\"button\" @click=\"onClick\">\n    <transition name=\"fade\">\n      <gl-loading-icon\n        v-if=\"loading\"\n        :inline=\"true\"\n        :class=\"{\n          'append-right-5': label,\n        }\"\n        class=\"js-loading-button-icon\"\n      />\n    </transition>\n    <transition name=\"fade\">\n      <slot>\n        <span v-if=\"label\" class=\"js-loading-button-label\"> {{ label }} </span>\n      </slot>\n    </transition>\n  </button>\n</template>\n","import { render, staticRenderFns } from \"./loading_button.vue?vue&type=template&id=b5a20890&\"\nimport script from \"./loading_button.vue?vue&type=script&lang=js&\"\nexport * from \"./loading_button.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"loading_button.vue\"\nexport default component.exports","export const GROUP_BADGE = 'group';\nexport const PROJECT_BADGE = 'project';\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge.vue?vue&type=script&lang=js&\"","<script>\nimport Icon from '~/vue_shared/components/icon.vue';\nimport { GlLoadingIcon, GlTooltipDirective } from '@gitlab/ui';\n\nexport default {\n  name: 'Badge',\n  components: {\n    Icon,\n    GlLoadingIcon,\n  },\n  directives: {\n    GlTooltip: GlTooltipDirective,\n  },\n  props: {\n    imageUrl: {\n      type: String,\n      required: true,\n    },\n    linkUrl: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      hasError: false,\n      isLoading: true,\n      numRetries: 0,\n    };\n  },\n  computed: {\n    imageUrlWithRetries() {\n      if (this.numRetries === 0) {\n        return this.imageUrl;\n      }\n\n      return `${this.imageUrl}#retries=${this.numRetries}`;\n    },\n  },\n  watch: {\n    imageUrl() {\n      this.hasError = false;\n      this.isLoading = true;\n      this.numRetries = 0;\n    },\n  },\n  methods: {\n    onError() {\n      this.isLoading = false;\n      this.hasError = true;\n    },\n    onLoad() {\n      this.isLoading = false;\n    },\n    reloadImage() {\n      this.hasError = false;\n      this.isLoading = true;\n      this.numRetries += 1;\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <a v-show=\"!isLoading && !hasError\" :href=\"linkUrl\" target=\"_blank\" rel=\"noopener noreferrer\">\n      <img\n        :src=\"imageUrlWithRetries\"\n        class=\"project-badge\"\n        aria-hidden=\"true\"\n        @load=\"onLoad\"\n        @error=\"onError\"\n      />\n    </a>\n\n    <gl-loading-icon v-show=\"isLoading\" :inline=\"true\" />\n\n    <div v-show=\"hasError\" class=\"btn-group\">\n      <div class=\"btn btn-default btn-sm disabled\">\n        <icon\n          :size=\"16\"\n          class=\"prepend-left-8 append-right-8\"\n          name=\"doc-image\"\n          aria-hidden=\"true\"\n        />\n      </div>\n      <div class=\"btn btn-default btn-sm disabled\">\n        <span class=\"prepend-left-8 append-right-8\">{{ s__('Badges|No badge image') }}</span>\n      </div>\n    </div>\n\n    <button\n      v-show=\"hasError\"\n      v-gl-tooltip.hover\n      :title=\"s__('Badges|Reload badge image')\"\n      class=\"btn btn-transparent btn-sm text-primary\"\n      type=\"button\"\n      @click=\"reloadImage\"\n    >\n      <icon :size=\"16\" name=\"retry\" />\n    </button>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./badge.vue?vue&type=template&id=3b4b0c55&\"\nimport script from \"./badge.vue?vue&type=script&lang=js&\"\nexport * from \"./badge.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"badge.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isLoading && !_vm.hasError),expression:\"!isLoading && !hasError\"}],attrs:{\"href\":_vm.linkUrl,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_c('img',{staticClass:\"project-badge\",attrs:{\"src\":_vm.imageUrlWithRetries,\"aria-hidden\":\"true\"},on:{\"load\":_vm.onLoad,\"error\":_vm.onError}})]),_vm._v(\" \"),_c('gl-loading-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],attrs:{\"inline\":true}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasError),expression:\"hasError\"}],staticClass:\"btn-group\"},[_c('div',{staticClass:\"btn btn-default btn-sm disabled\"},[_c('icon',{staticClass:\"prepend-left-8 append-right-8\",attrs:{\"size\":16,\"name\":\"doc-image\",\"aria-hidden\":\"true\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"btn btn-default btn-sm disabled\"},[_c('span',{staticClass:\"prepend-left-8 append-right-8\"},[_vm._v(_vm._s(_vm.s__('Badges|No badge image')))])])]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasError),expression:\"hasError\"},{name:\"gl-tooltip\",rawName:\"v-gl-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"btn btn-transparent btn-sm text-primary\",attrs:{\"title\":_vm.s__('Badges|Reload badge image'),\"type\":\"button\"},on:{\"click\":_vm.reloadImage}},[_c('icon',{attrs:{\"size\":16,\"name\":\"retry\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport _ from 'underscore';\nimport { mapActions, mapState } from 'vuex';\nimport createFlash from '~/flash';\nimport { s__, sprintf } from '~/locale';\nimport LoadingButton from '~/vue_shared/components/loading_button.vue';\nimport { GlLoadingIcon } from '@gitlab/ui';\nimport createEmptyBadge from '../empty_badge';\nimport Badge from './badge.vue';\n\nconst badgePreviewDelayInMilliseconds = 1500;\n\nexport default {\n  name: 'BadgeForm',\n  components: {\n    Badge,\n    LoadingButton,\n    GlLoadingIcon,\n  },\n  props: {\n    isEditing: {\n      type: Boolean,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      wasValidated: false,\n    };\n  },\n  computed: {\n    ...mapState([\n      'badgeInAddForm',\n      'badgeInEditForm',\n      'docsUrl',\n      'isRendering',\n      'isSaving',\n      'renderedBadge',\n    ]),\n    badge() {\n      if (this.isEditing) {\n        return this.badgeInEditForm;\n      }\n\n      return this.badgeInAddForm;\n    },\n    helpText() {\n      const placeholders = ['project_path', 'project_id', 'default_branch', 'commit_sha']\n        .map(placeholder => `<code>%{${placeholder}}</code>`)\n        .join(', ');\n      return sprintf(\n        s__('Badges|The %{docsLinkStart}variables%{docsLinkEnd} GitLab supports: %{placeholders}'),\n        {\n          docsLinkEnd: '</a>',\n          docsLinkStart: `<a href=\"${_.escape(this.docsUrl)}\">`,\n          placeholders,\n        },\n        false,\n      );\n    },\n    renderedImageUrl() {\n      return this.renderedBadge ? this.renderedBadge.renderedImageUrl : '';\n    },\n    renderedLinkUrl() {\n      return this.renderedBadge ? this.renderedBadge.renderedLinkUrl : '';\n    },\n    imageUrl: {\n      get() {\n        return this.badge ? this.badge.imageUrl : '';\n      },\n      set(imageUrl) {\n        const badge = this.badge || createEmptyBadge();\n        this.updateBadgeInForm({\n          ...badge,\n          imageUrl,\n        });\n      },\n    },\n    linkUrl: {\n      get() {\n        return this.badge ? this.badge.linkUrl : '';\n      },\n      set(linkUrl) {\n        const badge = this.badge || createEmptyBadge();\n        this.updateBadgeInForm({\n          ...badge,\n          linkUrl,\n        });\n      },\n    },\n    badgeImageUrlExample() {\n      const exampleUrl =\n        'https://example.gitlab.com/%{project_path}/badges/%{default_branch}/badge.svg';\n      return sprintf(s__('Badges|e.g. %{exampleUrl}'), {\n        exampleUrl,\n      });\n    },\n    badgeLinkUrlExample() {\n      const exampleUrl = 'https://example.gitlab.com/%{project_path}';\n      return sprintf(s__('Badges|e.g. %{exampleUrl}'), {\n        exampleUrl,\n      });\n    },\n  },\n  methods: {\n    ...mapActions(['addBadge', 'renderBadge', 'saveBadge', 'stopEditing', 'updateBadgeInForm']),\n    debouncedPreview: _.debounce(function preview() {\n      this.renderBadge();\n    }, badgePreviewDelayInMilliseconds),\n    onCancel() {\n      this.stopEditing();\n    },\n    onSubmit() {\n      const form = this.$el;\n      if (!form.checkValidity()) {\n        this.wasValidated = true;\n        return Promise.resolve();\n      }\n\n      if (this.isEditing) {\n        return this.saveBadge()\n          .then(() => {\n            createFlash(s__('Badges|The badge was saved.'), 'notice');\n            this.wasValidated = false;\n          })\n          .catch(error => {\n            createFlash(\n              s__('Badges|Saving the badge failed, please check the entered URLs and try again.'),\n            );\n            throw error;\n          });\n      }\n\n      return this.addBadge()\n        .then(() => {\n          createFlash(s__('Badges|A new badge was added.'), 'notice');\n          this.wasValidated = false;\n        })\n        .catch(error => {\n          createFlash(\n            s__('Badges|Adding the badge failed, please check the entered URLs and try again.'),\n          );\n          throw error;\n        });\n    },\n  },\n};\n</script>\n\n<template>\n  <form\n    :class=\"{ 'was-validated': wasValidated }\"\n    class=\"prepend-top-default append-bottom-default needs-validation\"\n    novalidate\n    @submit.prevent.stop=\"onSubmit\"\n  >\n    <div class=\"form-group\">\n      <label for=\"badge-link-url\" class=\"label-bold\">{{ s__('Badges|Link') }}</label>\n      <p v-html=\"helpText\"></p>\n      <input\n        id=\"badge-link-url\"\n        v-model=\"linkUrl\"\n        type=\"URL\"\n        class=\"form-control\"\n        required\n        @input=\"debouncedPreview\"\n      />\n      <div class=\"invalid-feedback\">{{ s__('Badges|Please fill in a valid URL') }}</div>\n      <span class=\"form-text text-muted\"> {{ badgeLinkUrlExample }} </span>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"badge-image-url\" class=\"label-bold\">{{ s__('Badges|Badge image URL') }}</label>\n      <p v-html=\"helpText\"></p>\n      <input\n        id=\"badge-image-url\"\n        v-model=\"imageUrl\"\n        type=\"URL\"\n        class=\"form-control\"\n        required\n        @input=\"debouncedPreview\"\n      />\n      <div class=\"invalid-feedback\">{{ s__('Badges|Please fill in a valid URL') }}</div>\n      <span class=\"form-text text-muted\"> {{ badgeImageUrlExample }} </span>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"badge-preview\">{{ s__('Badges|Badge image preview') }}</label>\n      <badge\n        v-show=\"renderedBadge && !isRendering\"\n        id=\"badge-preview\"\n        :image-url=\"renderedImageUrl\"\n        :link-url=\"renderedLinkUrl\"\n      />\n      <p v-show=\"isRendering\"><gl-loading-icon :inline=\"true\" /></p>\n      <p v-show=\"!renderedBadge && !isRendering\" class=\"disabled-content\">\n        {{ s__('Badges|No image to preview') }}\n      </p>\n    </div>\n\n    <div v-if=\"isEditing\" class=\"row-content-block\">\n      <loading-button\n        :loading=\"isSaving\"\n        :label=\"s__('Badges|Save changes')\"\n        type=\"submit\"\n        container-class=\"btn btn-success\"\n      />\n      <button class=\"btn btn-cancel\" type=\"button\" @click=\"onCancel\">{{ __('Cancel') }}</button>\n    </div>\n    <div v-else class=\"form-group\">\n      <loading-button\n        :loading=\"isSaving\"\n        :label=\"s__('Badges|Add badge')\"\n        type=\"submit\"\n        container-class=\"btn btn-success\"\n      />\n    </div>\n  </form>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge_form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge_form.vue?vue&type=script&lang=js&\"","export default () => ({\n  imageUrl: '',\n  isDeleting: false,\n  linkUrl: '',\n  renderedImageUrl: '',\n  renderedLinkUrl: '',\n});\n","import { render, staticRenderFns } from \"./badge_form.vue?vue&type=template&id=997392f8&\"\nimport script from \"./badge_form.vue?vue&type=script&lang=js&\"\nexport * from \"./badge_form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"badge_form.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"prepend-top-default append-bottom-default needs-validation\",class:{ 'was-validated': _vm.wasValidated },attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onSubmit($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"label-bold\",attrs:{\"for\":\"badge-link-url\"}},[_vm._v(_vm._s(_vm.s__('Badges|Link')))]),_vm._v(\" \"),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.helpText)}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.linkUrl),expression:\"linkUrl\"}],staticClass:\"form-control\",attrs:{\"id\":\"badge-link-url\",\"type\":\"URL\",\"required\":\"\"},domProps:{\"value\":(_vm.linkUrl)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.linkUrl=$event.target.value},_vm.debouncedPreview]}}),_vm._v(\" \"),_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(_vm.s__('Badges|Please fill in a valid URL')))]),_vm._v(\" \"),_c('span',{staticClass:\"form-text text-muted\"},[_vm._v(\" \"+_vm._s(_vm.badgeLinkUrlExample)+\" \")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"label-bold\",attrs:{\"for\":\"badge-image-url\"}},[_vm._v(_vm._s(_vm.s__('Badges|Badge image URL')))]),_vm._v(\" \"),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.helpText)}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.imageUrl),expression:\"imageUrl\"}],staticClass:\"form-control\",attrs:{\"id\":\"badge-image-url\",\"type\":\"URL\",\"required\":\"\"},domProps:{\"value\":(_vm.imageUrl)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.imageUrl=$event.target.value},_vm.debouncedPreview]}}),_vm._v(\" \"),_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(_vm.s__('Badges|Please fill in a valid URL')))]),_vm._v(\" \"),_c('span',{staticClass:\"form-text text-muted\"},[_vm._v(\" \"+_vm._s(_vm.badgeImageUrlExample)+\" \")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"badge-preview\"}},[_vm._v(_vm._s(_vm.s__('Badges|Badge image preview')))]),_vm._v(\" \"),_c('badge',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.renderedBadge && !_vm.isRendering),expression:\"renderedBadge && !isRendering\"}],attrs:{\"id\":\"badge-preview\",\"image-url\":_vm.renderedImageUrl,\"link-url\":_vm.renderedLinkUrl}}),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRendering),expression:\"isRendering\"}]},[_c('gl-loading-icon',{attrs:{\"inline\":true}})],1),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.renderedBadge && !_vm.isRendering),expression:\"!renderedBadge && !isRendering\"}],staticClass:\"disabled-content\"},[_vm._v(\"\\n      \"+_vm._s(_vm.s__('Badges|No image to preview'))+\"\\n    \")])],1),_vm._v(\" \"),(_vm.isEditing)?_c('div',{staticClass:\"row-content-block\"},[_c('loading-button',{attrs:{\"loading\":_vm.isSaving,\"label\":_vm.s__('Badges|Save changes'),\"type\":\"submit\",\"container-class\":\"btn btn-success\"}}),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-cancel\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.onCancel}},[_vm._v(_vm._s(_vm.__('Cancel')))])],1):_c('div',{staticClass:\"form-group\"},[_c('loading-button',{attrs:{\"loading\":_vm.isSaving,\"label\":_vm.s__('Badges|Add badge'),\"type\":\"submit\",\"container-class\":\"btn btn-success\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapActions, mapState } from 'vuex';\nimport { s__ } from '~/locale';\nimport Icon from '~/vue_shared/components/icon.vue';\nimport { GlLoadingIcon } from '@gitlab/ui';\nimport { PROJECT_BADGE } from '../constants';\nimport Badge from './badge.vue';\n\nexport default {\n  name: 'BadgeListRow',\n  components: {\n    Badge,\n    Icon,\n    GlLoadingIcon,\n  },\n  props: {\n    badge: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    ...mapState(['kind']),\n    badgeKindText() {\n      if (this.badge.kind === PROJECT_BADGE) {\n        return s__('Badges|Project Badge');\n      }\n\n      return s__('Badges|Group Badge');\n    },\n    canEditBadge() {\n      return this.badge.kind === this.kind;\n    },\n  },\n  methods: {\n    ...mapActions(['editBadge', 'updateBadgeInModal']),\n  },\n};\n</script>\n\n<template>\n  <div class=\"gl-responsive-table-row-layout gl-responsive-table-row\">\n    <badge\n      :image-url=\"badge.renderedImageUrl\"\n      :link-url=\"badge.renderedLinkUrl\"\n      class=\"table-section section-40\"\n    />\n    <span class=\"table-section section-30 str-truncated\">{{ badge.linkUrl }}</span>\n    <div class=\"table-section section-15\">\n      <span class=\"badge badge-pill\">{{ badgeKindText }}</span>\n    </div>\n    <div class=\"table-section section-15 table-button-footer\">\n      <div v-if=\"canEditBadge\" class=\"table-action-buttons\">\n        <button\n          :disabled=\"badge.isDeleting\"\n          class=\"btn btn-default append-right-8\"\n          type=\"button\"\n          @click=\"editBadge(badge);\"\n        >\n          <icon :size=\"16\" :aria-label=\"__('Edit')\" name=\"pencil\" />\n        </button>\n        <button\n          :disabled=\"badge.isDeleting\"\n          class=\"btn btn-danger\"\n          type=\"button\"\n          data-toggle=\"modal\"\n          data-target=\"#delete-badge-modal\"\n          @click=\"updateBadgeInModal(badge);\"\n        >\n          <icon :size=\"16\" :aria-label=\"__('Delete')\" name=\"remove\" />\n        </button>\n        <gl-loading-icon v-show=\"badge.isDeleting\" :inline=\"true\" />\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge_list_row.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge_list_row.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./badge_list_row.vue?vue&type=template&id=5458eb89&\"\nimport script from \"./badge_list_row.vue?vue&type=script&lang=js&\"\nexport * from \"./badge_list_row.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"badge_list_row.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"gl-responsive-table-row-layout gl-responsive-table-row\"},[_c('badge',{staticClass:\"table-section section-40\",attrs:{\"image-url\":_vm.badge.renderedImageUrl,\"link-url\":_vm.badge.renderedLinkUrl}}),_vm._v(\" \"),_c('span',{staticClass:\"table-section section-30 str-truncated\"},[_vm._v(_vm._s(_vm.badge.linkUrl))]),_vm._v(\" \"),_c('div',{staticClass:\"table-section section-15\"},[_c('span',{staticClass:\"badge badge-pill\"},[_vm._v(_vm._s(_vm.badgeKindText))])]),_vm._v(\" \"),_c('div',{staticClass:\"table-section section-15 table-button-footer\"},[(_vm.canEditBadge)?_c('div',{staticClass:\"table-action-buttons\"},[_c('button',{staticClass:\"btn btn-default append-right-8\",attrs:{\"disabled\":_vm.badge.isDeleting,\"type\":\"button\"},on:{\"click\":function($event){_vm.editBadge(_vm.badge);}}},[_c('icon',{attrs:{\"size\":16,\"aria-label\":_vm.__('Edit'),\"name\":\"pencil\"}})],1),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-danger\",attrs:{\"disabled\":_vm.badge.isDeleting,\"type\":\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#delete-badge-modal\"},on:{\"click\":function($event){_vm.updateBadgeInModal(_vm.badge);}}},[_c('icon',{attrs:{\"size\":16,\"aria-label\":_vm.__('Delete'),\"name\":\"remove\"}})],1),_vm._v(\" \"),_c('gl-loading-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.badge.isDeleting),expression:\"badge.isDeleting\"}],attrs:{\"inline\":true}})],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapState } from 'vuex';\nimport { GlLoadingIcon } from '@gitlab/ui';\nimport BadgeListRow from './badge_list_row.vue';\nimport { GROUP_BADGE } from '../constants';\n\nexport default {\n  name: 'BadgeList',\n  components: {\n    BadgeListRow,\n    GlLoadingIcon,\n  },\n  computed: {\n    ...mapState(['badges', 'isLoading', 'kind']),\n    hasNoBadges() {\n      return !this.isLoading && (!this.badges || !this.badges.length);\n    },\n    isGroupBadge() {\n      return this.kind === GROUP_BADGE;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      {{ s__('Badges|Your badges') }}\n      <span v-show=\"!isLoading\" class=\"badge badge-pill\">{{ badges.length }}</span>\n    </div>\n    <gl-loading-icon v-show=\"isLoading\" :size=\"2\" class=\"card-body\" />\n    <div v-if=\"hasNoBadges\" class=\"card-body\">\n      <span v-if=\"isGroupBadge\">{{ s__('Badges|This group has no badges') }}</span>\n      <span v-else>{{ s__('Badges|This project has no badges') }}</span>\n    </div>\n    <div v-else class=\"card-body\">\n      <badge-list-row v-for=\"badge in badges\" :key=\"badge.id\" :badge=\"badge\" />\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge_list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge_list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./badge_list.vue?vue&type=template&id=2e2bbeec&\"\nimport script from \"./badge_list.vue?vue&type=script&lang=js&\"\nexport * from \"./badge_list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"badge_list.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_vm._v(\"\\n    \"+_vm._s(_vm.s__('Badges|Your badges'))+\"\\n    \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isLoading),expression:\"!isLoading\"}],staticClass:\"badge badge-pill\"},[_vm._v(_vm._s(_vm.badges.length))])]),_vm._v(\" \"),_c('gl-loading-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"card-body\",attrs:{\"size\":2}}),_vm._v(\" \"),(_vm.hasNoBadges)?_c('div',{staticClass:\"card-body\"},[(_vm.isGroupBadge)?_c('span',[_vm._v(_vm._s(_vm.s__('Badges|This group has no badges')))]):_c('span',[_vm._v(_vm._s(_vm.s__('Badges|This project has no badges')))])]):_c('div',{staticClass:\"card-body\"},_vm._l((_vm.badges),function(badge){return _c('badge-list-row',{key:badge.id,attrs:{\"badge\":badge}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapState, mapActions } from 'vuex';\nimport createFlash from '~/flash';\nimport { s__ } from '~/locale';\nimport GlModal from '~/vue_shared/components/gl_modal.vue';\nimport Badge from './badge.vue';\nimport BadgeForm from './badge_form.vue';\nimport BadgeList from './badge_list.vue';\n\nexport default {\n  name: 'BadgeSettings',\n  components: {\n    Badge,\n    BadgeForm,\n    BadgeList,\n    GlModal,\n  },\n  computed: {\n    ...mapState(['badgeInModal', 'isEditing']),\n    deleteModalText() {\n      return s__(\n        'Badges|You are going to delete this badge. Deleted badges <strong>cannot</strong> be restored.',\n      );\n    },\n  },\n  methods: {\n    ...mapActions(['deleteBadge']),\n    onSubmitModal() {\n      this.deleteBadge(this.badgeInModal)\n        .then(() => {\n          createFlash(s__('Badges|The badge was deleted.'), 'notice');\n        })\n        .catch(error => {\n          createFlash(s__('Badges|Deleting the badge failed, please try again.'));\n          throw error;\n        });\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"badge-settings\">\n    <gl-modal\n      id=\"delete-badge-modal\"\n      :header-title-text=\"s__('Badges|Delete badge?')\"\n      :footer-primary-button-text=\"s__('Badges|Delete badge')\"\n      footer-primary-button-variant=\"danger\"\n      @submit=\"onSubmitModal\"\n    >\n      <div class=\"well\">\n        <badge\n          :image-url=\"badgeInModal ? badgeInModal.renderedImageUrl : ''\"\n          :link-url=\"badgeInModal ? badgeInModal.renderedLinkUrl : ''\"\n        />\n      </div>\n      <p v-html=\"deleteModalText\"></p>\n    </gl-modal>\n\n    <badge-form v-show=\"isEditing\" :is-editing=\"true\" />\n\n    <badge-form v-show=\"!isEditing\" :is-editing=\"false\" />\n    <badge-list v-show=\"!isEditing\" />\n  </div>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge_settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge_settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./badge_settings.vue?vue&type=template&id=9a69ce92&\"\nimport script from \"./badge_settings.vue?vue&type=script&lang=js&\"\nexport * from \"./badge_settings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"badge_settings.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"badge-settings\"},[_c('gl-modal',{attrs:{\"id\":\"delete-badge-modal\",\"header-title-text\":_vm.s__('Badges|Delete badge?'),\"footer-primary-button-text\":_vm.s__('Badges|Delete badge'),\"footer-primary-button-variant\":\"danger\"},on:{\"submit\":_vm.onSubmitModal}},[_c('div',{staticClass:\"well\"},[_c('badge',{attrs:{\"image-url\":_vm.badgeInModal ? _vm.badgeInModal.renderedImageUrl : '',\"link-url\":_vm.badgeInModal ? _vm.badgeInModal.renderedLinkUrl : ''}})],1),_vm._v(\" \"),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.deleteModalText)}})]),_vm._v(\" \"),_c('badge-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEditing),expression:\"isEditing\"}],attrs:{\"is-editing\":true}}),_vm._v(\" \"),_c('badge-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEditing),expression:\"!isEditing\"}],attrs:{\"is-editing\":false}}),_vm._v(\" \"),_c('badge-list',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEditing),expression:\"!isEditing\"}]})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  RECEIVE_DELETE_BADGE: 'RECEIVE_DELETE_BADGE',\n  RECEIVE_DELETE_BADGE_ERROR: 'RECEIVE_DELETE_BADGE_ERROR',\n  RECEIVE_LOAD_BADGES: 'RECEIVE_LOAD_BADGES',\n  RECEIVE_LOAD_BADGES_ERROR: 'RECEIVE_LOAD_BADGES_ERROR',\n  RECEIVE_NEW_BADGE: 'RECEIVE_NEW_BADGE',\n  RECEIVE_NEW_BADGE_ERROR: 'RECEIVE_NEW_BADGE_ERROR',\n  RECEIVE_RENDERED_BADGE: 'RECEIVE_RENDERED_BADGE',\n  RECEIVE_RENDERED_BADGE_ERROR: 'RECEIVE_RENDERED_BADGE_ERROR',\n  RECEIVE_UPDATED_BADGE: 'RECEIVE_UPDATED_BADGE',\n  RECEIVE_UPDATED_BADGE_ERROR: 'RECEIVE_UPDATED_BADGE_ERROR',\n  REQUEST_DELETE_BADGE: 'REQUEST_DELETE_BADGE',\n  REQUEST_LOAD_BADGES: 'REQUEST_LOAD_BADGES',\n  REQUEST_NEW_BADGE: 'REQUEST_NEW_BADGE',\n  REQUEST_RENDERED_BADGE: 'REQUEST_RENDERED_BADGE',\n  REQUEST_UPDATED_BADGE: 'REQUEST_UPDATED_BADGE',\n  START_EDITING: 'START_EDITING',\n  STOP_EDITING: 'STOP_EDITING',\n  UPDATE_BADGE_IN_FORM: 'UPDATE_BADGE_IN_FORM',\n  UPDATE_BADGE_IN_MODAL: 'UPDATE_BADGE_IN_MODAL',\n};\n","import axios from '~/lib/utils/axios_utils';\nimport types from './mutation_types';\n\nexport const transformBackendBadge = badge => ({\n  id: badge.id,\n  imageUrl: badge.image_url,\n  kind: badge.kind,\n  linkUrl: badge.link_url,\n  renderedImageUrl: badge.rendered_image_url,\n  renderedLinkUrl: badge.rendered_link_url,\n  isDeleting: false,\n});\n\nexport default {\n  requestNewBadge({ commit }) {\n    commit(types.REQUEST_NEW_BADGE);\n  },\n  receiveNewBadge({ commit }, newBadge) {\n    commit(types.RECEIVE_NEW_BADGE, newBadge);\n  },\n  receiveNewBadgeError({ commit }) {\n    commit(types.RECEIVE_NEW_BADGE_ERROR);\n  },\n  addBadge({ dispatch, state }) {\n    const newBadge = state.badgeInAddForm;\n    const endpoint = state.apiEndpointUrl;\n    dispatch('requestNewBadge');\n    return axios\n      .post(endpoint, {\n        image_url: newBadge.imageUrl,\n        link_url: newBadge.linkUrl,\n      })\n      .catch(error => {\n        dispatch('receiveNewBadgeError');\n        throw error;\n      })\n      .then(res => {\n        dispatch('receiveNewBadge', transformBackendBadge(res.data));\n      });\n  },\n  requestDeleteBadge({ commit }, badgeId) {\n    commit(types.REQUEST_DELETE_BADGE, badgeId);\n  },\n  receiveDeleteBadge({ commit }, badgeId) {\n    commit(types.RECEIVE_DELETE_BADGE, badgeId);\n  },\n  receiveDeleteBadgeError({ commit }, badgeId) {\n    commit(types.RECEIVE_DELETE_BADGE_ERROR, badgeId);\n  },\n  deleteBadge({ dispatch, state }, badge) {\n    const badgeId = badge.id;\n    dispatch('requestDeleteBadge', badgeId);\n    const endpoint = `${state.apiEndpointUrl}/${badgeId}`;\n    return axios\n      .delete(endpoint)\n      .catch(error => {\n        dispatch('receiveDeleteBadgeError', badgeId);\n        throw error;\n      })\n      .then(() => {\n        dispatch('receiveDeleteBadge', badgeId);\n      });\n  },\n\n  editBadge({ commit }, badge) {\n    commit(types.START_EDITING, badge);\n  },\n\n  requestLoadBadges({ commit }, data) {\n    commit(types.REQUEST_LOAD_BADGES, data);\n  },\n  receiveLoadBadges({ commit }, badges) {\n    commit(types.RECEIVE_LOAD_BADGES, badges);\n  },\n  receiveLoadBadgesError({ commit }) {\n    commit(types.RECEIVE_LOAD_BADGES_ERROR);\n  },\n\n  loadBadges({ dispatch, state }, data) {\n    dispatch('requestLoadBadges', data);\n    const endpoint = state.apiEndpointUrl;\n    return axios\n      .get(endpoint)\n      .catch(error => {\n        dispatch('receiveLoadBadgesError');\n        throw error;\n      })\n      .then(res => {\n        dispatch('receiveLoadBadges', res.data.map(transformBackendBadge));\n      });\n  },\n\n  requestRenderedBadge({ commit }) {\n    commit(types.REQUEST_RENDERED_BADGE);\n  },\n  receiveRenderedBadge({ commit }, renderedBadge) {\n    commit(types.RECEIVE_RENDERED_BADGE, renderedBadge);\n  },\n  receiveRenderedBadgeError({ commit }) {\n    commit(types.RECEIVE_RENDERED_BADGE_ERROR);\n  },\n\n  renderBadge({ dispatch, state }) {\n    const badge = state.isEditing ? state.badgeInEditForm : state.badgeInAddForm;\n    const { linkUrl, imageUrl } = badge;\n    if (!linkUrl || linkUrl.trim() === '' || !imageUrl || imageUrl.trim() === '') {\n      return Promise.resolve(badge);\n    }\n\n    dispatch('requestRenderedBadge');\n\n    const parameters = [\n      `link_url=${encodeURIComponent(linkUrl)}`,\n      `image_url=${encodeURIComponent(imageUrl)}`,\n    ].join('&');\n    const renderEndpoint = `${state.apiEndpointUrl}/render?${parameters}`;\n    return axios\n      .get(renderEndpoint)\n      .catch(error => {\n        dispatch('receiveRenderedBadgeError');\n        throw error;\n      })\n      .then(res => {\n        dispatch('receiveRenderedBadge', transformBackendBadge(res.data));\n      });\n  },\n\n  requestUpdatedBadge({ commit }) {\n    commit(types.REQUEST_UPDATED_BADGE);\n  },\n  receiveUpdatedBadge({ commit }, updatedBadge) {\n    commit(types.RECEIVE_UPDATED_BADGE, updatedBadge);\n  },\n  receiveUpdatedBadgeError({ commit }) {\n    commit(types.RECEIVE_UPDATED_BADGE_ERROR);\n  },\n\n  saveBadge({ dispatch, state }) {\n    const badge = state.badgeInEditForm;\n    const endpoint = `${state.apiEndpointUrl}/${badge.id}`;\n    dispatch('requestUpdatedBadge');\n    return axios\n      .put(endpoint, {\n        image_url: badge.imageUrl,\n        link_url: badge.linkUrl,\n      })\n      .catch(error => {\n        dispatch('receiveUpdatedBadgeError');\n        throw error;\n      })\n      .then(res => {\n        dispatch('receiveUpdatedBadge', transformBackendBadge(res.data));\n      });\n  },\n\n  stopEditing({ commit }) {\n    commit(types.STOP_EDITING);\n  },\n\n  updateBadgeInForm({ commit }, badge) {\n    commit(types.UPDATE_BADGE_IN_FORM, badge);\n  },\n\n  updateBadgeInModal({ commit }, badge) {\n    commit(types.UPDATE_BADGE_IN_MODAL, badge);\n  },\n};\n","import types from './mutation_types';\nimport { PROJECT_BADGE } from '../constants';\n\nconst reorderBadges = badges =>\n  badges.sort((a, b) => {\n    if (a.kind !== b.kind) {\n      return a.kind === PROJECT_BADGE ? 1 : -1;\n    }\n\n    return a.id - b.id;\n  });\n\nexport default {\n  [types.RECEIVE_NEW_BADGE](state, newBadge) {\n    Object.assign(state, {\n      badgeInAddForm: null,\n      badges: reorderBadges(state.badges.concat(newBadge)),\n      isSaving: false,\n      renderedBadge: null,\n    });\n  },\n  [types.RECEIVE_NEW_BADGE_ERROR](state) {\n    Object.assign(state, {\n      isSaving: false,\n    });\n  },\n  [types.REQUEST_NEW_BADGE](state) {\n    Object.assign(state, {\n      isSaving: true,\n    });\n  },\n\n  [types.RECEIVE_UPDATED_BADGE](state, updatedBadge) {\n    const badges = state.badges.map(badge => {\n      if (badge.id === updatedBadge.id) {\n        return updatedBadge;\n      }\n      return badge;\n    });\n    Object.assign(state, {\n      badgeInEditForm: null,\n      badges,\n      isEditing: false,\n      isSaving: false,\n      renderedBadge: null,\n    });\n  },\n  [types.RECEIVE_UPDATED_BADGE_ERROR](state) {\n    Object.assign(state, {\n      isSaving: false,\n    });\n  },\n  [types.REQUEST_UPDATED_BADGE](state) {\n    Object.assign(state, {\n      isSaving: true,\n    });\n  },\n\n  [types.RECEIVE_LOAD_BADGES](state, badges) {\n    Object.assign(state, {\n      badges: reorderBadges(badges),\n      isLoading: false,\n    });\n  },\n  [types.RECEIVE_LOAD_BADGES_ERROR](state) {\n    Object.assign(state, {\n      isLoading: false,\n    });\n  },\n  [types.REQUEST_LOAD_BADGES](state, data) {\n    Object.assign(state, {\n      kind: data.kind, // project or group\n      apiEndpointUrl: data.apiEndpointUrl,\n      docsUrl: data.docsUrl,\n      isLoading: true,\n    });\n  },\n\n  [types.RECEIVE_DELETE_BADGE](state, badgeId) {\n    const badges = state.badges.filter(badge => badge.id !== badgeId);\n    Object.assign(state, {\n      badges,\n    });\n  },\n  [types.RECEIVE_DELETE_BADGE_ERROR](state, badgeId) {\n    const badges = state.badges.map(badge => {\n      if (badge.id === badgeId) {\n        return {\n          ...badge,\n          isDeleting: false,\n        };\n      }\n\n      return badge;\n    });\n    Object.assign(state, {\n      badges,\n    });\n  },\n  [types.REQUEST_DELETE_BADGE](state, badgeId) {\n    const badges = state.badges.map(badge => {\n      if (badge.id === badgeId) {\n        return {\n          ...badge,\n          isDeleting: true,\n        };\n      }\n\n      return badge;\n    });\n    Object.assign(state, {\n      badges,\n    });\n  },\n\n  [types.RECEIVE_RENDERED_BADGE](state, renderedBadge) {\n    Object.assign(state, { isRendering: false, renderedBadge });\n  },\n  [types.RECEIVE_RENDERED_BADGE_ERROR](state) {\n    Object.assign(state, { isRendering: false });\n  },\n  [types.REQUEST_RENDERED_BADGE](state) {\n    Object.assign(state, { isRendering: true });\n  },\n\n  [types.START_EDITING](state, badge) {\n    Object.assign(state, {\n      badgeInEditForm: { ...badge },\n      isEditing: true,\n      renderedBadge: { ...badge },\n    });\n  },\n  [types.STOP_EDITING](state) {\n    Object.assign(state, {\n      badgeInEditForm: null,\n      isEditing: false,\n      renderedBadge: null,\n    });\n  },\n\n  [types.UPDATE_BADGE_IN_FORM](state, badge) {\n    if (state.isEditing) {\n      Object.assign(state, {\n        badgeInEditForm: badge,\n      });\n    } else {\n      Object.assign(state, {\n        badgeInAddForm: badge,\n      });\n    }\n  },\n\n  [types.UPDATE_BADGE_IN_MODAL](state, badge) {\n    Object.assign(state, {\n      badgeInModal: badge,\n    });\n  },\n};\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport createState from './state';\nimport actions from './actions';\nimport mutations from './mutations';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: createState(),\n  actions,\n  mutations,\n});\n","export default () => ({\n  apiEndpointUrl: null,\n  badgeInAddForm: null,\n  badgeInEditForm: null,\n  badgeInModal: null,\n  badges: [],\n  docsUrl: null,\n  renderedBadge: null,\n  isEditing: false,\n  isLoading: false,\n  isRendering: false,\n  isSaving: false,\n});\n","import Vue from 'vue';\nimport BadgeSettings from '~/badges/components/badge_settings.vue';\nimport store from '~/badges/store';\n\nexport default kind => {\n  const badgeSettingsElement = document.getElementById('badge-settings');\n\n  store.dispatch('loadBadges', {\n    kind,\n    apiEndpointUrl: badgeSettingsElement.dataset.apiEndpointUrl,\n    docsUrl: badgeSettingsElement.dataset.docsUrl,\n  });\n\n  return new Vue({\n    el: badgeSettingsElement,\n    store,\n    components: {\n      BadgeSettings,\n    },\n    render(createElement) {\n      return createElement(BadgeSettings);\n    },\n  });\n};\n"],"sourceRoot":""}