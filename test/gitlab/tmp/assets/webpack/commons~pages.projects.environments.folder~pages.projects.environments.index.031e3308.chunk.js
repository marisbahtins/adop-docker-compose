(this.webpackJsonp=this.webpackJsonp||[]).push([[20],{102:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return r}),n.d(e,"g",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return u}),n.d(e,"b",function(){return d});var o={INSTANCE:"instance_type",GROUP:"group_type",PROJECT:"project_type"},i={NOT_INSTALLABLE:"not_installable",INSTALLABLE:"installable",SCHEDULED:"scheduled",INSTALLING:"installing",INSTALLED:"installed",UPDATED:"updated",UPDATING:"updating",ERROR:"errored"},a="request-loading",r="request-success",s="request-failure",l="ingress",c="jupyter",u="knative",d="cert_manager"},106:function(t,e,n){"use strict";var o=n(0),i=n.n(o),a=["danger","primary","success","warning"],r=["sm","md","lg","xl"],s={name:"GlModal",props:{id:{type:String,required:!1,default:null},modalSize:{type:String,required:!1,default:"md",validator:function(t){return r.includes(t)}},headerTitleText:{type:String,required:!1,default:""},footerPrimaryButtonVariant:{type:String,required:!1,default:"primary",validator:function(t){return a.includes(t)}},footerPrimaryButtonText:{type:String,required:!1,default:""}},computed:{modalSizeClass:function(){return"md"===this.modalSize?"":"modal-".concat(this.modalSize)}},mounted:function(){i()(this.$el).on("shown.bs.modal",this.opened).on("hidden.bs.modal",this.closed)},beforeDestroy:function(){i()(this.$el).off("shown.bs.modal",this.opened).off("hidden.bs.modal",this.closed)},methods:{emitCancel:function(t){this.$emit("cancel",t)},emitSubmit:function(t){this.$emit("submit",t)},opened:function(){this.$emit("open")},closed:function(){this.$emit("closed")}}},l=n(3),c=Object(l.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",attrs:{id:t.id,tabindex:"-1",role:"dialog"}},[n("div",{staticClass:"modal-dialog",class:t.modalSizeClass,attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[t._t("header",[n("h4",{staticClass:"modal-title"},[t._t("title",[t._v(" "+t._s(t.headerTitleText)+" ")])],2),t._v(" "),n("button",{staticClass:"close js-modal-close-action",attrs:{"aria-label":t.s__("Modal|Close"),type:"button","data-dismiss":"modal"},on:{click:function(e){t.emitCancel(e)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])],2),t._v(" "),n("div",{staticClass:"modal-body"},[t._t("default")],2),t._v(" "),n("div",{staticClass:"modal-footer"},[t._t("footer",[n("button",{staticClass:"btn js-modal-cancel-action qa-modal-cancel-button",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.emitCancel(e)}}},[t._v("\n            "+t._s(t.s__("Modal|Cancel"))+"\n          ")]),t._v(" "),n("button",{staticClass:"btn js-modal-primary-action qa-modal-primary-button",class:"btn-"+t.footerPrimaryButtonVariant,attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.emitSubmit(e)}}},[t._v("\n            "+t._s(t.footerPrimaryButtonText)+"\n          ")])])],2)])])])},[],!1,null,null,null);c.options.__file="gl_modal.vue";e.a=c.exports},108:function(t,e,n){"use strict";var o={components:{GlLoadingIcon:n(10).e},props:{loading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1},containerClass:{type:[String,Array,Object],required:!1,default:"btn btn-align-content"}},methods:{onClick:function(t){this.$emit("click",t)}}},i=n(3),a=Object(i.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{class:t.containerClass,attrs:{disabled:t.loading||t.disabled,type:"button"},on:{click:t.onClick}},[n("transition",{attrs:{name:"fade"}},[t.loading?n("gl-loading-icon",{staticClass:"js-loading-button-icon",class:{"append-right-5":t.label},attrs:{inline:!0}}):t._e()],1),t._v(" "),n("transition",{attrs:{name:"fade"}},[t._t("default",[t.label?n("span",{staticClass:"js-loading-button-label"},[t._v(" "+t._s(t.label)+" ")]):t._e()])],2)],1)},[],!1,null,null,null);a.options.__file="loading_button.vue";e.a=a.exports},177:function(t,e,n){"use strict";var o=n(11);e.a=new o.default},193:function(t,e,n){!function(e){"use strict";var o=-1,i=function(t){return t.every=function(e,n,i){t._time(),i||(i=n,n=null);var a=o+=1;return t._timers[a]={visible:e,hidden:n,callback:i},t._run(a,!1),t.isSupported()&&t._listen(),a},t.stop=function(e){return!!t._timers[e]&&(t._stop(e),delete t._timers[e],!0)},t._timers={},t._time=function(){t._timed||(t._timed=!0,t._wasHidden=t.hidden(),t.change(function(){t._stopRun(),t._wasHidden=t.hidden()}))},t._run=function(n,o){var i,a=t._timers[n];if(t.hidden()){if(null===a.hidden)return;i=a.hidden}else i=a.visible;var r=function(){a.last=new Date,a.callback.call(e)};if(o){var s=new Date-a.last;i>s?a.delay=setTimeout(function(){a.id=setInterval(r,i),r()},i-s):(a.id=setInterval(r,i),r())}else a.id=setInterval(r,i)},t._stop=function(e){var n=t._timers[e];clearInterval(n.id),clearTimeout(n.delay),delete n.id,delete n.delay},t._stopRun=function(e){var n=t.hidden(),o=t._wasHidden;if(n&&!o||!n&&o)for(var i in t._timers)t._stop(i),t._run(i,!n)},t};void 0!==t&&t.exports?t.exports=i(n(194)):i(e.Visibility)}(window)},194:function(t,e){!function(e){"use strict";var n=-1,o={onVisible:function(t){var e=o.isSupported();if(!e||!o.hidden())return t(),e;var n=o.change(function(e,i){o.hidden()||(o.unbind(n),t())});return n},change:function(t){if(!o.isSupported())return!1;var e=n+=1;return o._callbacks[e]=t,o._listen(),e},unbind:function(t){delete o._callbacks[t]},afterPrerendering:function(t){var e=o.isSupported();if(!e||"prerender"!=o.state())return t(),e;var n=o.change(function(e,i){"prerender"!=i&&(o.unbind(n),t())});return n},hidden:function(){return!(!o._doc.hidden&&!o._doc.webkitHidden)},state:function(){return o._doc.visibilityState||o._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!o._doc.visibilityState&&!o._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(t){var e=o.state();for(var n in o._callbacks)o._callbacks[n].call(o._doc,t,e)},_listen:function(){if(!o._init){var t="visibilitychange";o._doc.webkitVisibilityState&&(t="webkit"+t);var e=function(){o._change.apply(o,arguments)};o._doc.addEventListener?o._doc.addEventListener(t,e):o._doc.attachEvent(t,e),o._init=!0}}};void 0!==t&&t.exports?t.exports=o:e.Visibility=o}(this)},195:function(t,e,n){"use strict";var o=n(1),i=Object(o.e)("Pagination|Prev"),a=Object(o.e)("Pagination|Next"),r=Object(o.e)("Pagination|« First"),s=Object(o.e)("Pagination|Last »"),l={props:{change:{type:Function,required:!0},pageInfo:{type:Object,required:!0}},computed:{prev:function(){return this.pageInfo.previousPage},next:function(){return this.pageInfo.nextPage},getItems:function(){var t=this.pageInfo.totalPages,e=this.pageInfo.page,n=[];e>1&&n.push({title:r,first:!0}),e>1?n.push({title:i,prev:!0}):n.push({title:i,disabled:!0,prev:!0}),e>6&&n.push({title:"...",separator:!0});for(var o=Math.max(e-4,1),l=Math.min(e+4,t),c=o;c<=l;c+=1){var u=c===e;n.push({title:c,active:u,page:!0})}return t-e>4&&n.push({title:"...",separator:!0,page:!0}),e===t?n.push({title:a,disabled:!0,next:!0}):t-e>=1&&n.push({title:a,next:!0}),t-e>=1&&n.push({title:s,last:!0}),n},showPagination:function(){return this.pageInfo.totalPages>1}},methods:{changePage:function(t,e){if(!e){var n=this.pageInfo,o=n.totalPages,l=n.nextPage,c=n.previousPage;switch(t){case"...":break;case s:this.change(o);break;case a:this.change(l);break;case i:this.change(c);break;case r:this.change(1);break;default:this.change(+t)}}},hideOnSmallScreen:function(t){return!(t.first||t.last||t.next||t.prev||t.active)}}},c=n(3),u=Object(c.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPagination?n("div",{staticClass:"gl-pagination prepend-top-default"},[n("ul",{staticClass:"pagination justify-content-center"},t._l(t.getItems,function(e,o){return n("li",{key:o,staticClass:"page-item",class:{page:e.page,"js-previous-button":e.prev,"js-next-button":e.next,"js-last-button":e.last,"js-first-button":e.first,"d-none d-md-block":t.hideOnSmallScreen(e),separator:e.separator,active:e.active,disabled:e.disabled||e.separator}},[n("a",{staticClass:"page-link",on:{click:function(n){n.preventDefault(),t.changePage(e.title,e.disabled)}}},[t._v("\n        "+t._s(e.title)+"\n      ")])])}),0)]):t._e()},[],!1,null,null,null);u.options.__file="table_pagination.vue";e.a=u.exports},223:function(t,e,n){"use strict";var o=n(13);e.a={methods:{onChangeTab:function(t){this.updateContent({scope:t,page:"1"})},onChangePage:function(t){var e={page:Number(t).toString()};this.scope&&(e.scope=this.scope),this.updateContent(e)},updateInternalState:function(t){var e=this;this.poll.stop();var n=Object.keys(t).map(function(n){var o=t[n];return e[n]=o,"".concat(n,"=").concat(encodeURIComponent(o))}).join("&");this.requestData=t,Object(o.n)(Object(o.e)("?".concat(n))),this.isLoading=!0}}}},244:function(t,e,n){"use strict";var o=n(10),i=n(91),a=n(15),r={directives:{GlTooltip:o.n},components:{UserAvatarLink:i.a,Icon:a.a},props:{tag:{type:Boolean,required:!1,default:!1},commitRef:{type:Object,required:!1,default:function(){return{}}},commitUrl:{type:String,required:!1,default:""},shortSha:{type:String,required:!1,default:""},title:{type:String,required:!1,default:""},author:{type:Object,required:!1,default:function(){return{}}},showBranch:{type:Boolean,required:!1,default:!0}},computed:{hasCommitRef:function(){return this.commitRef&&this.commitRef.name&&this.commitRef.ref_url},hasAuthor:function(){return this.author&&this.author.avatar_url&&this.author.path&&this.author.username},userImageAltDescription:function(){return this.author&&this.author.username?"".concat(this.author.username,"'s avatar"):null}}},s=n(3),l=Object(s.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"branch-commit"},[t.hasCommitRef&&t.showBranch?[n("div",{staticClass:"icon-container"},[t.tag?n("i",{staticClass:"fa fa-tag",attrs:{"aria-hidden":"true"}}):t._e(),t._v(" "),t.tag?t._e():n("icon",{attrs:{name:"fork"}})],1),t._v(" "),n("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"ref-name",attrs:{href:t.commitRef.ref_url,title:t.commitRef.name}},[t._v("\n      "+t._s(t.commitRef.name)+"\n    ")])]:t._e(),t._v(" "),n("icon",{staticClass:"commit-icon js-commit-icon",attrs:{name:"commit"}}),t._v(" "),n("a",{staticClass:"commit-sha",attrs:{href:t.commitUrl}},[t._v(" "+t._s(t.shortSha)+" ")]),t._v(" "),n("div",{staticClass:"commit-title flex-truncate-parent"},[t.title?n("span",{staticClass:"flex-truncate-child"},[t.hasAuthor?n("user-avatar-link",{staticClass:"avatar-image-container",attrs:{"link-href":t.author.path,"img-src":t.author.avatar_url,"img-alt":t.userImageAltDescription,"tooltip-text":t.author.username}}):t._e(),t._v(" "),n("a",{staticClass:"commit-row-message",attrs:{href:t.commitUrl}},[t._v(" "+t._s(t.title)+" ")])],1):n("span",[t._v(" Can't find HEAD commit for this branch ")])])],2)},[],!1,null,null,null);l.options.__file="commit.vue";e.a=l.exports},27:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var o=n(2),i=n.n(o),a=n(4),r=n(43);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=l(this,c(e).call(this)),i.a.bind("g p",function(){return Object(a.a)(".shortcuts-project")}),i.a.bind("g v",function(){return Object(a.a)(".shortcuts-project-activity")}),i.a.bind("g r",function(){return Object(a.a)(".shortcuts-project-releases")}),i.a.bind("g f",function(){return Object(a.a)(".shortcuts-tree")}),i.a.bind("g c",function(){return Object(a.a)(".shortcuts-commits")}),i.a.bind("g j",function(){return Object(a.a)(".shortcuts-builds")}),i.a.bind("g n",function(){return Object(a.a)(".shortcuts-network")}),i.a.bind("g d",function(){return Object(a.a)(".shortcuts-repository-charts")}),i.a.bind("g i",function(){return Object(a.a)(".shortcuts-issues")}),i.a.bind("g b",function(){return Object(a.a)(".shortcuts-issue-boards")}),i.a.bind("g m",function(){return Object(a.a)(".shortcuts-merge_requests")}),i.a.bind("g w",function(){return Object(a.a)(".shortcuts-wiki")}),i.a.bind("g s",function(){return Object(a.a)(".shortcuts-snippets")}),i.a.bind("g k",function(){return Object(a.a)(".shortcuts-kubernetes")}),i.a.bind("g e",function(){return Object(a.a)(".shortcuts-environments")}),i.a.bind("g l",function(){return Object(a.a)(".shortcuts-metrics")}),i.a.bind("i",function(){return Object(a.a)(".shortcuts-new-issue")}),t.enabledHelp.push(".hidden-shortcut.project"),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r["a"]),e}()},28:function(t,e,n){"use strict";var o=n(0),i=n.n(o),a=n(12),r=n(31);function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.projectSelectInput=i()(e),this.newItemBtn=i()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var e,n,o;return e=t,(n=[{key:"bindEvents",value:function(){var t=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",function(e){return t.openDropdown(e)}),this.newItemBtn.on("click",function(e){t.getProjectFromLocalStorage()||(e.preventDefault(),t.openDropdown(e))}),this.projectSelectInput.on("change",function(){return t.selectProject()})}},{key:"initLocalStorage",value:function(){r.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(t){i()(t.currentTarget).siblings(".project-item-select").select2("open")}},{key:"selectProject",value:function(){var t=JSON.parse(this.projectSelectInput.val()),e={url:"".concat(t.url,"/").concat(this.projectSelectInput.data("relativePath")),name:t.name};this.setNewItemBtnAttributes(e),this.setProjectInLocalStorage(e)}},{key:"setBtnTextFromLocalStorage",value:function(){var t=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(t)}},{key:"setNewItemBtnAttributes",value:function(t){t?(this.newItemBtn.attr("href",t.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(t.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var t=localStorage.getItem(this.localStorageKey);return JSON.parse(t)}},{key:"setProjectInLocalStorage",value:function(t){var e=JSON.stringify(t);localStorage.setItem(this.localStorageKey,e)}},{key:"deriveTextVariants",value:function(){var t=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:t,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&s(e.prototype,n),o&&s(e,o),t}();function c(){i()(".ajax-project-select").each(function(t,e){var n,o,r=i()(e).data("simpleFilter")||!1;return this.groupId=i()(e).data("groupId"),this.includeGroups=i()(e).data("includeGroups"),this.allProjects=i()(e).data("allProjects")||!1,this.orderBy=i()(e).data("orderBy")||"id",this.withIssuesEnabled=i()(e).data("withIssuesEnabled"),this.withMergeRequestsEnabled=i()(e).data("withMergeRequestsEnabled"),this.withShared=void 0===i()(e).data("withShared")||i()(e).data("withShared"),this.includeProjectsInSubgroups=i()(e).data("includeProjectsInSubgroups")||!1,this.allowClear=i()(e).data("allowClear")||!1,n="Search for project",this.includeGroups&&(n+=" or group"),i()(e).select2({placeholder:n,minimumInputLength:0,query:(o=this,function(t){var e,n;return e=function(e){var n;return n={results:e},t.callback(n)},n=o.includeGroups?function(n){var o;return o=function(t){var o;return o=t.concat(n),e(o)},a.a.groups(t.term,{},o)}:e,o.groupId?a.a.groupProjects(o.groupId,t.term,{with_issues_enabled:o.withIssuesEnabled,with_merge_requests_enabled:o.withMergeRequestsEnabled,with_shared:o.withShared,include_subgroups:o.includeProjectsInSubgroups},n):a.a.projects(t.term,{order_by:o.orderBy,with_issues_enabled:o.withIssuesEnabled,with_merge_requests_enabled:o.withMergeRequestsEnabled,membership:!o.allProjects},n)}),id:function(t){return r?t.id:JSON.stringify({name:t.name,url:t.web_url})},text:function(t){return t.name_with_namespace||t.name},initSelection:function(t,e){return a.a.project(t.val()).then(function(t){var n=t.data;return e(n)})},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),r?e:new l(e)})}n.d(e,"a",function(){return c})},29:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var o=n(0),i=n.n(o),a=n(14),r=n.n(a),s=n(1),l=n(19),c=n(6),u=n(7),d=n(28);function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=i()("ul.clone-options-dropdown"),n=i()("#project_clone"),o=i()(".js-git-clone-holder .js-clone-dropdown-label"),a=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),s=o.text().trim();s.length>0&&i()("a:contains('".concat(s,"')"),e).addClass("is-active"),i()("a",e).on("click",function(t){t.preventDefault();var o=i()(t.currentTarget),r=o.attr("href"),s=o.data("cloneType");i()(".is-active",e).removeClass("is-active"),i()('a[data-clone-type="'.concat(s,'"]')).each(function(){var t=i()(this),e=t.find(".dropdown-menu-inner-title").text(),n=t.closest(".project-clone-holder").find(".js-clone-dropdown-label");t.toggleClass("is-active"),n.text(e)}),a?a.dataset.clipboardText=r:n.val(r),i()(".js-git-empty .js-clone").text(r)}),t.initRefSwitcher(),i()(".project-refs-select").on("change",function(){return i()(this).parents("form").submit()}),i()(".hide-no-ssh-message").on("click",function(t){return r.a.set("hide_no_ssh_message","false"),i()(this).parents(".no-ssh-key-message").remove(),t.preventDefault()}),i()(".hide-no-password-message").on("click",function(t){return r.a.set("hide_no_password_message","false"),i()(this).parents(".no-password-message").remove(),t.preventDefault()}),i()(".hide-auto-devops-implicitly-enabled-banner").on("click",function(t){var e=i()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(e);return r.a.set(n,"false"),i()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),t.preventDefault()}),t.projectSelectDropdown()}var e,n,o;return e=t,o=[{key:"projectSelectDropdown",value:function(){Object(d.a)(),i()(".project-item-select").on("click",function(e){return t.changeProject(i()(e.currentTarget).val())})}},{key:"changeProject",value:function(t){return window.location=t}},{key:"initRefSwitcher",value:function(){var t=document.createElement("li"),e=document.createElement("a");return e.href="#",i()(".js-project-refs-dropdown").each(function(){var n,o;return n=i()(this),o=n.data("selected"),n.glDropdown({data:function(t,e){c.a.get(n.data("refsUrl"),{params:{ref:n.data("ref"),search:t}}).then(function(t){var n=t.data;return e(n)}).catch(function(){return Object(u.a)(Object(s.a)("An error occurred while getting projects"))})},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:n.data("inputFieldName"),fieldName:n.data("fieldName"),renderRow:function(n){var i=t.cloneNode(!1);if(null!=n.header)i.className="dropdown-header",i.textContent=n.header;else{var a=e.cloneNode(!1);n===o&&(a.className="is-active"),a.textContent=n,a.dataset.ref=n,i.appendChild(a)}return i},id:function(t,e){return e.attr("data-ref")},toggleLabel:function(t,e){return e.text().trim()},clicked:function(t){if(t.e.preventDefault(),i()('input[name="ref"]').length){var e=n.closest("form"),o=n.data("visit"),a=!!o||o,r=e.attr("action"),s=-1===r.indexOf("?")?"?":"&";a&&Object(l.g)("".concat(r).concat(s).concat(e.serialize()))}}})})}}],(n=null)&&m(e.prototype,n),o&&m(e,o),t}()},302:function(t,e,n){"use strict";var o=n(0),i=n.n(o),a={name:"NavigationTabs",props:{tabs:{type:Array,required:!0},scope:{type:String,required:!1,default:""}},mounted:function(){i()(document).trigger("init.scrolling-tabs")},methods:{shouldRenderBadge:function(t){return!(void 0===t||null===t)},onTabClick:function(t){this.$emit("onChangeTab",t.scope)}}},r=n(3),s=Object(r.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"nav-links scrolling-tabs separator"},t._l(t.tabs,function(e,o){return n("li",{key:o,class:{active:e.isActive}},[n("a",{class:"js-"+t.scope+"-tab-"+e.scope,attrs:{role:"button"},on:{click:function(n){t.onTabClick(e)}}},[t._v("\n      "+t._s(e.name)+"\n\n      "),t.shouldRenderBadge(e.count)?n("span",{staticClass:"badge badge-pill"},[t._v(" "+t._s(e.count)+" ")]):t._e()])])}),0)},[],!1,null,null,null);s.options.__file="navigation_tabs.vue";e.a=s.exports},41:function(t,e,n){"use strict";var o=n(0),i=n.n(o);e.a={bind:function(t){i()(t).tooltip({trigger:"hover"})},componentUpdated:function(t){i()(t).tooltip("_fixTitle");var e=i()(t).data("bs.tooltip"),n=e.getTipElement();e.setElementContent(i()(n.querySelectorAll(".tooltip-inner")),e.getTitle())},unbind:function(t){i()(t).tooltip("dispose")}}},44:function(t,e,n){"use strict";n.r(e);var o=n(38),i=n(36),a=n(29),r=n(27);document.addEventListener("DOMContentLoaded",function(){var t=document.body.dataset.page;if(["projects:clusters:new","projects:clusters:create_gcp","projects:clusters:create_user"].indexOf(t)>-1){var e=document.querySelector(".gcp-signup-offer");e&&new i.a(e),Object(o.a)()}new a.a,new r.a})},560:function(t,e,n){"use strict";var o=n(5),i=n.n(o),a=n(69),r=n.n(a),s=n(96),l=n(13),c=n(1),u=n(7),d=n(177);function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var p=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={},this.state.environments=[],this.state.stoppedCounter=0,this.state.availableCounter=0,this.state.paginationInformation={},this}var e,n,o;return e=t,(n=[{key:"storeEnvironments",value:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){var n=t.state.environments.find(function(t){return e.latest?t.id===e.latest.id:t.id===e.id})||{},o={};return e.size>1&&(o=Object.assign({},e,{isFolder:!0,isLoadingFolderContent:n.isLoading||!1,folderName:e.name,isOpen:n.isOpen||!1,children:n.children||[]})),e.latest?delete(o=Object.assign(o,e,e.latest)).latest:o=Object.assign(o,e),o});return this.state.environments=e,e}},{key:"setPagination",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(l.y)(t),n=Object(l.B)(e);return this.state.paginationInformation=n,n}},{key:"storeAvailableCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.availableCounter=t,t}},{key:"storeStoppedCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.stoppedCounter=t,t}},{key:"toggleFolder",value:function(t){return this.updateEnvironmentProp(t,"isOpen",!t.isOpen)}},{key:"setfolderContent",value:function(t,e){var n=e.map(function(t){var e=t;return t.latest?delete(e=Object.assign({},t,t.latest)).latest:e=t,e.isChildren=!0,e});return this.updateEnvironmentProp(t,"children",n)}},{key:"updateEnvironmentProp",value:function(t,e,n){var o=this.state.environments.map(function(o){var i=Object.assign({},o);return o.id===t.id&&(i[e]=n),i});this.state.environments=o}},{key:"getOpenFolders",value:function(){return this.state.environments.filter(function(t){return t.isFolder&&t.isOpen})}}])&&m(e.prototype,n),o&&m(e,o),t}(),h=n(6);function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.environmentsEndpoint=e,this.folderResults=3}var e,n,o;return e=t,(n=[{key:"fetchEnvironments",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scope,n=t.page;return h.a.get(this.environmentsEndpoint,{params:{scope:e,page:n}})}},{key:"postAction",value:function(t){return h.a.post(t,{})}},{key:"getFolderContent",value:function(t){return h.a.get("".concat(t,".json?per_page=").concat(this.folderResults))}}])&&f(e.prototype,n),o&&f(e,o),t}(),_=n(195),b=n(10),g=n(343),y=n.n(g),C=n(91),j=n(51),w=n(15),E=n(20),S={directives:{tooltip:n(41).a},components:{Icon:w.a,GlLoadingIcon:b.e},props:{actions:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{isLoading:!1}},computed:{title:function(){return"Deploy to..."}},methods:{onClickAction:function(t){if(t.scheduledAt){var e=Object(c.f)(Object(c.e)("DelayedJobs|Are you sure you want to run %{jobName} immediately? Otherwise this job will run automatically after it's timer finishes."),{jobName:t.name});if(!window.confirm(e))return}this.isLoading=!0,d.a.$emit("postAction",{endpoint:t.playPath})},isActionDisabled:function(t){return void 0!==t.playable&&!t.playable},remainingTime:function(t){var e=new Date(t.scheduledAt).getTime()-Date.now();return Object(E.e)(Math.max(0,e))}}},k=n(3),O=Object(k.a)(S,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"dropdown btn btn-default dropdown-new js-environment-actions-dropdown",attrs:{title:t.title,"aria-label":t.title,disabled:t.isLoading,type:"button","data-container":"body","data-toggle":"dropdown"}},[n("span",[n("icon",{attrs:{name:"play"}}),t._v(" "),n("icon",{attrs:{name:"chevron-down"}}),t._v(" "),t.isLoading?n("gl-loading-icon"):t._e()],1)]),t._v(" "),n("ul",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.actions,function(e,o){return n("li",{key:o},[n("button",{staticClass:"js-manual-action-link no-btn btn d-flex align-items-center",class:{disabled:t.isActionDisabled(e)},attrs:{disabled:t.isActionDisabled(e),type:"button"},on:{click:function(n){t.onClickAction(e)}}},[n("span",{staticClass:"flex-fill"},[t._v(" "+t._s(e.name)+" ")]),t._v(" "),e.scheduledAt?n("span",{staticClass:"text-secondary"},[n("icon",{attrs:{name:"clock"}}),t._v(" "+t._s(t.remainingTime(e))+"\n        ")],1):t._e()])])}),0)])},[],!1,null,null,null);O.options.__file="environment_actions.vue";var T=O.exports,I={components:{Icon:w.a},directives:{GlTooltip:b.n},props:{externalUrl:{type:String,required:!0}},computed:{title:function(){return Object(c.e)("Environments|Open live environment")}}},x=Object(k.a)(I,function(){var t=this.$createElement,e=this._self._c||t;return e("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"btn external-url",attrs:{title:this.title,"aria-label":this.title,href:this.externalUrl,target:"_blank",rel:"noopener noreferrer nofollow"}},[e("icon",{attrs:{name:"external-link"}})],1)},[],!1,null,null,null);x.options.__file="environment_external_url.vue";var L=x.exports,A=n(0),P=n.n(A),D=n(108),R={components:{Icon:w.a,LoadingButton:D.a},directives:{GlTooltip:b.n},props:{environment:{type:Object,required:!0}},data:function(){return{isLoading:!1}},computed:{title:function(){return Object(c.e)("Environments|Stop environment")}},mounted:function(){d.a.$on("stopEnvironment",this.onStopEnvironment)},beforeDestroy:function(){d.a.$off("stopEnvironment",this.onStopEnvironment)},methods:{onClick:function(){P()(this.$el).tooltip("dispose"),d.a.$emit("requestStopEnvironment",this.environment)},onStopEnvironment:function(t){this.environment.id===t.id&&(this.isLoading=!0)}}},q=Object(k.a)(R,function(){var t=this.$createElement,e=this._self._c||t;return e("loading-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{loading:this.isLoading,title:this.title,"aria-label":this.title,"container-class":"btn btn-danger d-none d-sm-none d-md-block","data-toggle":"modal","data-target":"#stop-environment-modal"},on:{click:this.onClick}},[e("icon",{attrs:{name:"stop"}})],1)},[],!1,null,null,null);q.options.__file="environment_stop.vue";var N=q.exports,U={components:{Icon:w.a,GlLoadingIcon:b.e},directives:{GlTooltip:b.n},props:{retryUrl:{type:String,default:""},isLastDeployment:{type:Boolean,default:!0}},data:function(){return{isLoading:!1}},computed:{title:function(){return this.isLastDeployment?Object(c.e)("Environments|Re-deploy to environment"):Object(c.e)("Environments|Rollback environment")}},methods:{onClick:function(){this.isLoading=!0,d.a.$emit("postAction",{endpoint:this.retryUrl})}}},B=Object(k.a)(U,function(){var t=this.$createElement,e=this._self._c||t;return e("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"btn d-none d-sm-none d-md-block",attrs:{disabled:this.isLoading,title:this.title,type:"button"},on:{click:this.onClick}},[this.isLastDeployment?e("icon",{attrs:{name:"repeat"}}):e("icon",{attrs:{name:"redo"}}),this._v(" "),this.isLoading?e("gl-loading-icon"):this._e()],1)},[],!1,null,null,null);B.options.__file="environment_rollback.vue";var $=B.exports,F={components:{Icon:w.a},directives:{GlTooltip:b.n},props:{terminalPath:{type:String,required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1}},computed:{title:function(){return"Terminal"}}},M=Object(k.a)(F,function(){var t=this.$createElement,e=this._self._c||t;return e("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"btn terminal-button d-none d-sm-none d-md-block",class:{disabled:this.disabled},attrs:{title:this.title,"aria-label":this.title,href:this.terminalPath}},[e("icon",{attrs:{name:"terminal"}})],1)},[],!1,null,null,null);M.options.__file="environment_terminal_button.vue";var G=M.exports,H={components:{Icon:w.a,GlButton:b.b},directives:{GlTooltip:b.n},props:{monitoringUrl:{type:String,required:!0}},computed:{title:function(){return"Monitoring"}}},z=Object(k.a)(H,function(){var t=this.$createElement,e=this._self._c||t;return e("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"monitoring-url d-none d-sm-none d-md-block",attrs:{href:this.monitoringUrl,title:this.title,"aria-label":this.title,rel:"noopener noreferrer nofollow",variant:"default"}},[e("icon",{attrs:{name:"chart"}})],1)},[],!1,null,null,null);z.options.__file="environment_monitoring.vue";var V=z.exports,J=n(244),K=n(102);function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Q=new y.a,W={components:{UserAvatarLink:C.a,CommitComponent:J.a,Icon:w.a,ActionsComponent:T,ExternalUrlComponent:L,StopComponent:N,RollbackComponent:$,TerminalButtonComponent:G,MonitoringButtonComponent:V},directives:{GlTooltip:b.n},props:{model:{type:Object,required:!0,default:function(){return{}}},canCreateDeployment:{type:Boolean,required:!1,default:!1},canReadEnvironment:{type:Boolean,required:!1,default:!1}},computed:{hasLastDeploymentKey:function(){return!(!this.model||!this.model.last_deployment||i.a.isEmpty(this.model.last_deployment))},isProtected:function(){return this.model&&this.model.is_protected},disableGroupClusterFeatures:function(){return this.model&&this.model.cluster_type===K.c.GROUP},canStopEnvironment:function(){return this.model&&this.model.can_stop},canRetry:function(){return this.model&&this.hasLastDeploymentKey&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.retry_path},canShowDate:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&void 0!==this.model.last_deployment.deployable},createdDate:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.created_at?Q.format(this.model.last_deployment.deployable.created_at):""},actions:function(){if(!this.model||!this.model.last_deployment||!this.canCreateDeployment)return[];var t=Object(l.f)(this.model.last_deployment,{deep:!0}),e=t.manualActions,n=t.scheduledActions;return(e||[]).concat(n||[]).map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){Y(t,e,n[e])})}return t}({},t,{name:Object(j.h)(t.name)})})},userImageAltDescription:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.user&&this.model.last_deployment.user.username?"".concat(this.model.last_deployment.user.username,"'s avatar'"):""},commitTag:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.tag)return this.model.last_deployment.tag},commitRef:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.ref)return this.model.last_deployment.ref},commitUrl:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.commit_path)return this.model.last_deployment.commit.commit_path},commitShortSha:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.short_id)return this.model.last_deployment.commit.short_id},commitTitle:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.title)return this.model.last_deployment.commit.title},commitAuthor:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.author)return this.model.last_deployment.commit.author},retryUrl:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.retry_path)return this.model.last_deployment.deployable.retry_path},isLastDeployment:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment["last?"]},buildName:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.deployable){var t=this.model.last_deployment.deployable;return"".concat(t.name," #").concat(t.id)}return""},deploymentInternalId:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.iid?"#".concat(this.model.last_deployment.iid):""},deploymentHasUser:function(){return this.model&&!i.a.isEmpty(this.model.last_deployment)&&!i.a.isEmpty(this.model.last_deployment.user)},deploymentUser:function(){return!this.model||i.a.isEmpty(this.model.last_deployment)||i.a.isEmpty(this.model.last_deployment.user)?{}:this.model.last_deployment.user},shouldRenderBuildName:function(){return!this.model.isFolder&&!i.a.isEmpty(this.model.last_deployment)&&!i.a.isEmpty(this.model.last_deployment.deployable)},buildPath:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.build_path?this.model.last_deployment.deployable.build_path:""},externalURL:function(){return this.model&&this.model.external_url?this.model.external_url:""},shouldRenderDeploymentID:function(){return!this.model.isFolder&&!i.a.isEmpty(this.model.last_deployment)&&void 0!==this.model.last_deployment.iid},environmentPath:function(){return this.model&&this.model.environment_path?this.model.environment_path:""},monitoringUrl:function(){return this.model&&this.model.metrics_path?this.model.metrics_path:""},displayEnvironmentActions:function(){return this.actions.length>0||this.externalURL||this.monitoringUrl||this.canStopEnvironment||this.canRetry},folderIconName:function(){return this.model.isOpen?"chevron-down":"chevron-right"}},methods:{onClickFolder:function(){d.a.$emit("toggleFolder",this.model)}}},X=Object(k.a)(W,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gl-responsive-table-row",class:{"js-child-row environment-child-row":t.model.isChildren,"folder-row":t.model.isFolder},attrs:{role:"row"}},[n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"table-section section-wrap section-15 text-truncate",attrs:{title:t.model.name,role:"gridcell"}},[t.model.isFolder?t._e():n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v("\n      "+t._s(t.s__("Environments|Environment"))+"\n    ")]),t._v(" "),t.model.isFolder?n("span",{staticClass:"folder-name",attrs:{role:"button"},on:{click:t.onClickFolder}},[n("icon",{staticClass:"folder-icon",attrs:{name:t.folderIconName}}),t._v(" "),n("icon",{staticClass:"folder-icon",attrs:{name:"folder"}}),t._v(" "),n("span",[t._v(" "+t._s(t.model.folderName)+" ")]),t._v(" "),n("span",{staticClass:"badge badge-pill"},[t._v(" "+t._s(t.model.size)+" ")])],1):n("span",{staticClass:"environment-name table-mobile-content"},[n("a",{staticClass:"qa-environment-link",attrs:{href:t.environmentPath}},[t._v(" "+t._s(t.model.name)+" ")])])]),t._v(" "),n("div",{staticClass:"table-section section-10 deployment-column d-none d-sm-none d-md-block",attrs:{role:"gridcell"}},[t.shouldRenderDeploymentID?n("span",[t._v(" "+t._s(t.deploymentInternalId)+" ")]):t._e(),t._v(" "),!t.model.isFolder&&t.deploymentHasUser?n("span",[t._v("\n      by\n      "),n("user-avatar-link",{staticClass:"js-deploy-user-container",attrs:{"link-href":t.deploymentUser.web_url,"img-src":t.deploymentUser.avatar_url,"img-alt":t.userImageAltDescription,"tooltip-text":t.deploymentUser.username}})],1):t._e()]),t._v(" "),n("div",{staticClass:"table-section section-15 d-none d-sm-none d-md-block",attrs:{role:"gridcell"}},[t.shouldRenderBuildName?n("a",{staticClass:"build-link flex-truncate-parent",attrs:{href:t.buildPath}},[n("span",{staticClass:"flex-truncate-child"},[t._v(t._s(t.buildName))])]):t._e()]),t._v(" "),t.model.isFolder?t._e():n("div",{staticClass:"table-section section-20",attrs:{role:"gridcell"}},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v(t._s(t.s__("Environments|Commit")))]),t._v(" "),t.hasLastDeploymentKey?n("div",{staticClass:"js-commit-component table-mobile-content"},[n("commit-component",{attrs:{tag:t.commitTag,"commit-ref":t.commitRef,"commit-url":t.commitUrl,"short-sha":t.commitShortSha,title:t.commitTitle,author:t.commitAuthor}})],1):t._e(),t._v(" "),t.hasLastDeploymentKey?t._e():n("div",{staticClass:"commit-title table-mobile-content"},[t._v("\n      "+t._s(t.s__("Environments|No deployments yet"))+"\n    ")])]),t._v(" "),t.model.isFolder?t._e():n("div",{staticClass:"table-section section-10",attrs:{role:"gridcell"}},[n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v(t._s(t.s__("Environments|Updated")))]),t._v(" "),t.canShowDate?n("span",{staticClass:"environment-created-date-timeago table-mobile-content"},[t._v("\n      "+t._s(t.createdDate)+"\n    ")]):t._e()]),t._v(" "),!t.model.isFolder&&t.displayEnvironmentActions?n("div",{staticClass:"table-section section-30 table-button-footer",attrs:{role:"gridcell"}},[n("div",{staticClass:"btn-group table-action-buttons",attrs:{role:"group"}},[t.externalURL&&t.canReadEnvironment?n("external-url-component",{attrs:{"external-url":t.externalURL}}):t._e(),t._v(" "),t.monitoringUrl&&t.canReadEnvironment?n("monitoring-button-component",{attrs:{"monitoring-url":t.monitoringUrl}}):t._e(),t._v(" "),t.actions.length>0?n("actions-component",{attrs:{actions:t.actions}}):t._e(),t._v(" "),t.model&&t.model.terminal_path?n("terminal-button-component",{attrs:{"terminal-path":t.model.terminal_path,disabled:t.disableGroupClusterFeatures}}):t._e(),t._v(" "),t.canRetry&&t.canCreateDeployment?n("rollback-component",{attrs:{"is-last-deployment":t.isLastDeployment,"retry-url":t.retryUrl}}):t._e(),t._v(" "),t.canStopEnvironment?n("stop-component",{attrs:{environment:t.model}}):t._e()],1)]):t._e()])},[],!1,null,null,null);X.options.__file="environment_item.vue";var Z={components:{environmentItem:X.exports,GlLoadingIcon:b.e},props:{environments:{type:Array,required:!0,default:function(){return[]}},canReadEnvironment:{type:Boolean,required:!1,default:!1},canCreateDeployment:{type:Boolean,required:!1,default:!1}},methods:{folderUrl:function(t){return"".concat(window.location.pathname,"/folders/").concat(t.folderName)},shouldRenderFolderContent:function(t){return t.isFolder&&t.isOpen&&t.children&&t.children.length>0}}},tt=Object(k.a)(Z,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ci-table",attrs:{role:"grid"}},[n("div",{staticClass:"gl-responsive-table-row table-row-header",attrs:{role:"row"}},[n("div",{staticClass:"table-section section-15 environments-name",attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.s__("Environments|Environment"))+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section section-10 environments-deploy",attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.s__("Environments|Deployment"))+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section section-15 environments-build",attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.s__("Environments|Job"))+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section section-20 environments-commit",attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.s__("Environments|Commit"))+"\n    ")]),t._v(" "),n("div",{staticClass:"table-section section-10 environments-date",attrs:{role:"columnheader"}},[t._v("\n      "+t._s(t.s__("Environments|Updated"))+"\n    ")])]),t._v(" "),t._l(t.environments,function(e,o){return[n("environment-item",{key:"environment-item-"+o,tag:"div",attrs:{model:e,"can-create-deployment":t.canCreateDeployment,"can-read-environment":t.canReadEnvironment}}),t._v(" "),t.shouldRenderFolderContent(e)?[e.isLoadingFolderContent?n("div",{key:"loading-item-"+o},[n("gl-loading-icon",{staticClass:"prepend-top-16",attrs:{size:2}})],1):[t._l(e.children,function(e,i){return n("environment-item",{key:"env-item-"+o+"-"+i,tag:"div",attrs:{model:e,"can-create-deployment":t.canCreateDeployment,"can-read-environment":t.canReadEnvironment}})}),t._v(" "),n("div",{key:"sub-div-"+o},[n("div",{staticClass:"text-center prepend-top-10"},[n("a",{staticClass:"btn btn-default",attrs:{href:t.folderUrl(e)}},[t._v("\n              "+t._s(t.s__("Environments|Show all"))+"\n            ")])])])]]:t._e()]})],2)},[],!1,null,null,null);tt.options.__file="environments_table.vue";var et=tt.exports,nt=n(302),ot={components:{environmentTable:et,tablePagination:_.a,GlLoadingIcon:b.e},props:{isLoading:{type:Boolean,required:!0},environments:{type:Array,required:!0},pagination:{type:Object,required:!0},canCreateDeployment:{type:Boolean,required:!0},canReadEnvironment:{type:Boolean,required:!0}},methods:{onChangePage:function(t){this.$emit("onChangePage",t)}}},it=Object(k.a)(ot,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"environments-container"},[t.isLoading?n("gl-loading-icon",{staticClass:"prepend-top-default",attrs:{size:3,label:"Loading environments"}}):t._e(),t._v(" "),t._t("emptyState"),t._v(" "),!t.isLoading&&t.environments.length>0?n("div",{staticClass:"table-holder"},[n("environment-table",{attrs:{environments:t.environments,"can-create-deployment":t.canCreateDeployment,"can-read-environment":t.canReadEnvironment}}),t._v(" "),t.pagination&&t.pagination.totalPages>1?n("table-pagination",{attrs:{change:t.onChangePage,"page-info":t.pagination}}):t._e()],1):t._e()],2)},[],!1,null,null,null);it.options.__file="container.vue";var at=it.exports;e.a={components:{environmentTable:et,container:at,tabs:nt.a,tablePagination:_.a},data:function(){var t=new p;return{store:t,state:t.state,isLoading:!1,isMakingRequest:!1,scope:Object(l.i)("scope")||"available",page:Object(l.i)("page")||"1",requestData:{},environmentInStopModal:{}}},methods:{saveData:function(t){this.isLoading=!1,i.a.isEqual(t.config.params,this.requestData)&&(this.store.storeAvailableCount(t.data.available_count),this.store.storeStoppedCount(t.data.stopped_count),this.store.storeEnvironments(t.data.environments),this.store.setPagination(t.headers))},updateContent:function(t){var e=this;return this.updateInternalState(t),this.service.fetchEnvironments(this.requestData).then(function(t){return e.successCallback(t)}).then(function(){e.poll.restart({data:e.requestData})}).catch(function(){e.errorCallback(),e.poll.restart()})},errorCallback:function(){this.isLoading=!1,Object(u.a)(Object(c.e)("Environments|An error occurred while fetching the environments."))},postAction:function(t){var e=this,n=t.endpoint,o=t.errorMessage;this.isMakingRequest||(this.isLoading=!0,this.service.postAction(n).then(function(){return e.fetchEnvironments()}).catch(function(){e.isLoading=!1,Object(u.a)(o||Object(c.e)("Environments|An error occurred while making the request."))}))},fetchEnvironments:function(){return this.isLoading=!0,this.service.fetchEnvironments(this.requestData).then(this.successCallback).catch(this.errorCallback)},updateStopModal:function(t){this.environmentInStopModal=t},stopEnvironment:function(t){var e=t.stop_path,n=Object(c.e)("Environments|An error occurred while stopping the environment, please try again");this.postAction({endpoint:e,errorMessage:n})}},computed:{tabs:function(){return[{name:Object(c.e)("Available"),scope:"available",count:this.state.availableCounter,isActive:"available"===this.scope},{name:Object(c.e)("Stopped"),scope:"stopped",count:this.state.stoppedCounter,isActive:"stopped"===this.scope}]}},created:function(){var t=this;this.service=new v(this.endpoint),this.requestData={page:this.page,scope:this.scope},this.poll=new s.a({resource:this.service,method:"fetchEnvironments",data:this.requestData,successCallback:this.successCallback,errorCallback:this.errorCallback,notificationCallback:function(e){t.isMakingRequest=e}}),r.a.hidden()?this.fetchEnvironments():(this.isLoading=!0,this.poll.makeRequest()),r.a.change(function(){r.a.hidden()?t.poll.stop():t.poll.restart()}),d.a.$on("postAction",this.postAction),d.a.$on("requestStopEnvironment",this.updateStopModal),d.a.$on("stopEnvironment",this.stopEnvironment)},beforeDestroy:function(){d.a.$off("postAction",this.postAction),d.a.$off("requestStopEnvironment",this.updateStopModal),d.a.$off("stopEnvironment",this.stopEnvironment)}}},562:function(t,e,n){"use strict";var o=n(10),i=n(106),a=n(1),r=n(108),s=n(177),l={id:"stop-environment-modal",name:"StopEnvironmentModal",components:{GlModal:i.a,LoadingButton:r.a},directives:{GlTooltip:o.n},props:{environment:{type:Object,required:!0}},computed:{noStopActionMessage:function(){return Object(a.f)(Object(a.e)("Environments|Note that this action will stop the environment,\n        but it will %{emphasisStart}not%{emphasisEnd} have an effect on any existing deployment\n        due to no “stop environment action” being defined\n        in the %{ciConfigLinkStart}.gitlab-ci.yml%{ciConfigLinkEnd} file."),{emphasisStart:"<strong>",emphasisEnd:"</strong>",ciConfigLinkStart:'<a href="https://docs.gitlab.com/ee/ci/yaml/" target="_blank" rel="noopener noreferrer">',ciConfigLinkEnd:"</a>"},!1)}},methods:{onSubmit:function(){s.a.$emit("stopEnvironment",this.environment)}}},c=n(3),u=Object(c.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("gl-modal",{attrs:{id:t.$options.id,"footer-primary-button-text":t.s__("Environments|Stop environment"),"footer-primary-button-variant":"danger"},on:{submit:t.onSubmit}},[n("template",{slot:"header"},[n("h4",{staticClass:"modal-title d-flex mw-100"},[t._v("\n      Stopping\n      "),n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"text-truncate ml-1 mr-1 flex-fill",attrs:{title:t.environment.name}},[t._v(t._s(t.environment.name))]),t._v("\n      ?\n    ")])]),t._v(" "),n("p",[t._v(t._s(t.s__("Environments|Are you sure you want to stop this environment?")))]),t._v(" "),t.environment.has_stop_action?t._e():n("div",{staticClass:"warning_message"},[n("p",{domProps:{innerHTML:t._s(t.noStopActionMessage)}}),t._v(" "),n("a",{attrs:{href:"https://docs.gitlab.com/ee/ci/environments.html#stopping-an-environment",target:"_blank",rel:"noopener noreferrer"}},[t._v(t._s(t.s__("Environments|Learn more about stopping environments")))])])],2)},[],!1,null,null,null);u.options.__file="stop_environment_modal.vue";e.a=u.exports},69:function(t,e,n){t.exports=n(193)},83:function(t,e,n){"use strict";n.d(e,"b",function(){return i});var o={ABORTED:0,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,BAD_REQUEST:400,FORBIDDEN:403,NOT_FOUND:404,UNPROCESSABLE_ENTITY:422},i=[o.OK,o.CREATED,o.ACCEPTED,o.NON_AUTHORITATIVE_INFORMATION,o.NO_CONTENT,o.RESET_CONTENT,o.PARTIAL_CONTENT,o.MULTI_STATUS,o.ALREADY_REPORTED,o.IM_USED];e.a=o},91:function(t,e,n){"use strict";var o=n(10),i=n(92),a={name:"UserAvatarLink",components:{GlLink:o.d,userAvatarImage:i.a},directives:{GlTooltip:o.n},props:{linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:Number,required:!1,default:20},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername:function(){return this.username.length>0},avatarTooltipText:function(){return this.shouldShowUsername?"":this.tooltipText}}},r=n(3),s=Object(r.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("gl-link",{staticClass:"user-avatar-link",attrs:{href:t.linkHref}},[n("user-avatar-image",{attrs:{"img-src":t.imgSrc,"img-alt":t.imgAlt,"css-classes":t.imgCssClasses,size:t.imgSize,"tooltip-text":t.avatarTooltipText,"tooltip-placement":t.tooltipPlacement}},[t._t("default")],2),t.shouldShowUsername?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-avatar-link-username",attrs:{title:t.tooltipText,"tooltip-placement":t.tooltipPlacement}},[t._v(t._s(t.username))]):t._e(),t._t("avatar-badge")],2)},[],!1,null,null,null);s.options.__file="user_avatar_link.vue";e.a=s.exports},96:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(83),i=n(13);function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.options.data=e.data||{},this.options.notificationCallback=e.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}var e,n,r;return e=t,(n=[{key:"checkConditions",value:function(t){var e=this,n=Object(i.y)(t.headers),a=parseInt(n[this.intervalHeader],10);a>0&&-1!==o.b.indexOf(t.status)&&this.canPoll&&(this.timeoutID=setTimeout(function(){e.makeRequest()},a)),this.options.successCallback(t)}},{key:"makeRequest",value:function(){var t=this,e=this.options,n=e.resource,i=e.method,a=e.data,r=e.errorCallback,s=e.notificationCallback;return s(!0),n[i](a).then(function(e){t.checkConditions(e),s(!1)}).catch(function(t){s(!1),t.status!==o.a.ABORTED&&r(t)})}},{key:"stop",value:function(){this.canPoll=!1,clearTimeout(this.timeoutID)}},{key:"restart",value:function(t){t&&t.data&&(this.options.data=t.data),this.canPoll=!0,this.makeRequest()}}])&&a(e.prototype,n),r&&a(e,r),t}()}}]);
//# sourceMappingURL=commons~pages.projects.environments.folder~pages.projects.environments.index.031e3308.chunk.js.map