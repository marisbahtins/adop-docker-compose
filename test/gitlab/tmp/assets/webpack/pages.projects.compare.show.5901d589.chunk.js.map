{"version":3,"sources":["webpack:///./pages/projects/compare/show/index.js","webpack:///./lib/utils/sticky.js","webpack:///./files_comment_button.js","webpack:///./single_file_diff.js","webpack:///./diff.js","webpack:////home/git/gitlab/node_modules/stickyfilljs/dist/stickyfill.js","webpack:///./gpg_badges.js","webpack:///./behaviors/shortcuts/shortcuts_navigation.js","webpack:///./project_select_combo_button.js","webpack:///./project_select.js","webpack:///./pages/projects/project.js","webpack:///./init_changes_dropdown.js","webpack:///./compare_autocomplete.js","webpack:///./pages/projects/index.js","webpack:///./pages/projects/compare/index.js"],"names":["__webpack_require__","r","__webpack_exports__","_diff__WEBPACK_IMPORTED_MODULE_0__","_init_changes_dropdown__WEBPACK_IMPORTED_MODULE_1__","_gpg_badges__WEBPACK_IMPORTED_MODULE_2__","document","addEventListener","Diff","initChangesDropdown","querySelector","offsetHeight","GpgBadges","fetch","d","stickyMonitor","polyfillSticky","stickyfilljs__WEBPACK_IMPORTED_MODULE_0__","stickyfilljs__WEBPACK_IMPORTED_MODULE_0___default","n","isSticky","el","scrollY","stickyTop","insertPlaceholder","top","Math","floor","offsetTop","classList","contains","placeholder","createElement","add","createPlaceholder","heightBefore","parentNode","insertBefore","nextElementSibling","style","height","concat","remove","arguments","length","undefined","CSS","supports","window","passive","StickyFill","LINE_COLUMN_CLASSES","files_comment_button","init","$diffFile","_this","this","userCanCreateNote","closest","data","isParallelView","Cookies","get","on","e","showButton","hideButton","buttonParentElement","getButtonParent","currentTarget","validateButtonParent","hoveredElement","previousElementSibling","WRAPPER","LOADING_HTML","COLLAPSED_HTML","SingleFileDiff","file","_classCallCheck","toggleDiff","bind","content","$","$toggleIcon","diffForPath","find","isOpen","collapsedContent","loadingContent","addClass","html","hide","after","target","$target","cb","hasClass","hasError","removeClass","getContentHTML","show","gl","diffNotesCompileComponents","axios","then","_ref","syntaxHighlight","$file","FilesCommentButton","canCreateNote","is","imageDiffHelper","initImageDiff","catch","createFlash","__","isBound","diff_classCallCheck","each","index","tab","getElementById","dataset","isLocked","firstFile","first","hasAttribute","handleClickUnfold","handleClickLineNum","handleParallelLineDown","getLocationHash","highlightSelectedLine","openAnchoredDiff","since","to","_this$lineNumbers2","_slicedToArray","lineNumbers","parent","oldLineNumber","newLineNumber","offset","bottom","unfold","lineNumber","prevNewLine","prev","parents","link","params","view","replaceWith","flash","locationHash","anchoredDiff","split","diffFile","clickTarget","hash","attr","preventDefault","history","pushState","location","line","table","lineClass","filter","name","children","toArray","map","elm","parseInt","$diffFiles","_createClass","defineProperties","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","seppuku","getComputedStyle","testNode","some","prefix","position","shadowRootExists","ShadowRoot","scroll","left","stickies","extend","targetObj","sourceObject","hasOwnProperty","parseNumeric","val","parseFloat","getDocOffsetTop","node","docOffsetTop","offsetParent","Sticky","instance","TypeError","HTMLElement","Error","sticky","_node","_stickyMode","_active","push","refresh","value","_removed","_deactivate","nodeComputedStyle","nodeComputedProps","display","marginTop","marginBottom","marginLeft","marginRight","cssFloat","isNaN","referenceNode","host","nodeWinOffset","getBoundingClientRect","parentWinOffset","parentComputedStyle","_parent","styles","_offsetToWindow","right","documentElement","clientWidth","_offsetToParent","borderTopWidth","borderLeftWidth","borderRightWidth","_styles","width","nodeTopValue","_limits","start","pageYOffset","end","borderBottomWidth","parentPosition","_recalcPosition","clone","_clone","padding","border","borderSpacing","fontSize","stickyMode","abs","removeChild","_this2","splice","Stickyfill","addOne","nodeList","addedStickies","_loop","refreshAll","forEach","removeOne","_loop2","removeAll","checkScroll","pageXOffset","fastCheckTimer","startFastCheckTimer","setInterval","_fastCheck","docHiddenKey","visibilityChangeEventName","clearInterval","module","exports","tag","Promise","resolve","badges","displayError","endpoint","reject","parseQueryStringIntoObject","serialize","signatures","signature","commit_sha","ShortcutsNavigation","_possibleConstructorReturn","_getPrototypeOf","call","Mousetrap","findAndFollowLink","enabledHelp","Shortcuts","ProjectSelectComboButton","select","projectSelectInput","newItemBtn","resourceType","resourceLabel","formattedText","deriveTextVariants","groupId","bindEvents","initLocalStorage","siblings","openDropdown","getProjectFromLocalStorage","selectProject","AccessorUtilities","isLocalStorageAccessSafe","localStorageKey","localStorageItemType","join","setBtnTextFromLocalStorage","event","select2","selectedProjectData","JSON","parse","projectMeta","url","setNewItemBtnAttributes","setProjectInLocalStorage","cachedProjectData","project","text","defaultTextPrefix","presetTextSuffix","projectString","localStorage","getItem","stringify","setItem","slice","projectSelect","simpleFilter","includeGroups","allProjects","orderBy","withIssuesEnabled","withMergeRequestsEnabled","withShared","includeProjectsInSubgroups","allowClear","minimumInputLength","query","finalCallback","projectsCallback","projects","results","callback","groupsCallback","groups","Api","term","groupProjects","with_issues_enabled","with_merge_requests_enabled","with_shared","include_subgroups","order_by","membership","id","web_url","name_with_namespace","initSelection","dropdownCssClass","Project","$cloneOptions","$projectCloneField","$cloneBtnLabel","mobileCloneField","selectedCloneOption","trim","$this","cloneType","$el","activeText","$label","toggleClass","clipboardText","initRefSwitcher","submit","set","projectId","cookieKey","projectSelectDropdown","changeProject","refListItem","refLink","href","$dropdown","selected","glDropdown","ref","search","selectable","filterable","filterRemote","filterByText","inputFieldName","fieldName","renderRow","li","cloneNode","header","className","textContent","appendChild","obj","toggleLabel","clicked","options","$form","$visit","shouldVisit","action","divider","indexOf","visitUrl","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","_lib_utils_sticky__WEBPACK_IMPORTED_MODULE_1__","remoteFilter","initCompareAutocomplete","_locale__WEBPACK_IMPORTED_MODULE_1__","_lib_utils_axios_utils__WEBPACK_IMPORTED_MODULE_2__","_flash__WEBPACK_IMPORTED_MODULE_3__","_lib_utils_text_utility__WEBPACK_IMPORTED_MODULE_4__","limitTo","clickHandler","$dropdownContainer","$fieldInput","$filterInput","capitalizeFirstCharacter","filterInput","append","keyCode","which","prop","replace","tooltip","_projects_gke_cluster_dropdowns__WEBPACK_IMPORTED_MODULE_0__","_persistent_user_callout__WEBPACK_IMPORTED_MODULE_1__","_project__WEBPACK_IMPORTED_MODULE_2__","_behaviors_shortcuts_shortcuts_navigation__WEBPACK_IMPORTED_MODULE_3__","page","body","callout","PersistentUserCallout","initGkeDropdowns","_compare_autocomplete__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"pages.projects.compare.show.5901d589.chunk.js","sourcesContent":["import Diff from '~/diff';\nimport initChangesDropdown from '~/init_changes_dropdown';\nimport GpgBadges from '~/gpg_badges';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  new Diff(); // eslint-disable-line no-new\n  const paddingTop = 16;\n  initChangesDropdown(document.querySelector('.navbar-gitlab').offsetHeight - paddingTop);\n  GpgBadges.fetch();\n});\n","import StickyFill from 'stickyfilljs';\n\nexport const createPlaceholder = () => {\n  const placeholder = document.createElement('div');\n  placeholder.classList.add('sticky-placeholder');\n\n  return placeholder;\n};\n\nexport const isSticky = (el, scrollY, stickyTop, insertPlaceholder) => {\n  const top = Math.floor(el.offsetTop - scrollY);\n\n  if (top <= stickyTop && !el.classList.contains('is-stuck')) {\n    const placeholder = insertPlaceholder ? createPlaceholder() : null;\n    const heightBefore = el.offsetHeight;\n\n    el.classList.add('is-stuck');\n\n    if (insertPlaceholder) {\n      el.parentNode.insertBefore(placeholder, el.nextElementSibling);\n\n      placeholder.style.height = `${heightBefore - el.offsetHeight}px`;\n    }\n  } else if (top > stickyTop && el.classList.contains('is-stuck')) {\n    el.classList.remove('is-stuck');\n\n    if (\n      insertPlaceholder &&\n      el.nextElementSibling &&\n      el.nextElementSibling.classList.contains('sticky-placeholder')\n    ) {\n      el.nextElementSibling.remove();\n    }\n  }\n};\n\n/**\n * Create a listener that will toggle a 'is-stuck' class, based on the current scroll position.\n *\n * - If the current environment does not support `position: sticky`, do nothing.\n *\n * @param {HTMLElement} el The `position: sticky` element.\n * @param {Number} stickyTop Used to determine when an element is stuck.\n * @param {Boolean} insertPlaceholder Should a placeholder element be created when element is stuck?\n */\nexport const stickyMonitor = (el, stickyTop, insertPlaceholder = true) => {\n  if (!el) return;\n\n  if (\n    typeof CSS === 'undefined' ||\n    !CSS.supports('(position: -webkit-sticky) or (position: sticky)')\n  )\n    return;\n\n  document.addEventListener(\n    'scroll',\n    () => isSticky(el, window.scrollY, stickyTop, insertPlaceholder),\n    {\n      passive: true,\n    },\n  );\n};\n\n/**\n * Polyfill the `position: sticky` behavior.\n *\n * - If the current environment supports `position: sticky`, do nothing.\n * - Can receive an iterable element list (NodeList, jQuery collection, etc.) or single HTMLElement.\n */\nexport const polyfillSticky = el => {\n  StickyFill.add(el);\n};\n","/* Developer beware! Do not add logic to showButton or hideButton\n * that will force a reflow. Doing so will create a significant performance\n * bottleneck for pages with large diffs. For a comprehensive list of what\n * causes reflows, visit https://gist.github.com/paulirish/5d52fb081b3570c81e3a\n */\n\nimport Cookies from 'js-cookie';\n\nconst LINE_NUMBER_CLASS = 'diff-line-num';\nconst UNFOLDABLE_LINE_CLASS = 'js-unfold';\nconst NO_COMMENT_CLASS = 'no-comment-btn';\nconst EMPTY_CELL_CLASS = 'empty-cell';\nconst OLD_LINE_CLASS = 'old_line';\nconst LINE_COLUMN_CLASSES = `.${LINE_NUMBER_CLASS}, .line_content`;\nconst DIFF_CONTAINER_SELECTOR = '.files';\nconst DIFF_EXPANDED_CLASS = 'diff-expanded';\n\nexport default {\n  init($diffFile) {\n    /* Caching is used only when the following members are *true*.\n     * This is because there are likely to be\n     * differently configured versions of diffs in the same session.\n     * However if these values are true, they\n     * will be true in all cases */\n\n    if (!this.userCanCreateNote) {\n      // data-can-create-note is an empty string when true, otherwise undefined\n      this.userCanCreateNote =\n        $diffFile.closest(DIFF_CONTAINER_SELECTOR).data('canCreateNote') === '';\n    }\n\n    this.isParallelView = Cookies.get('diff_view') === 'parallel';\n\n    if (this.userCanCreateNote) {\n      $diffFile\n        .on('mouseover', LINE_COLUMN_CLASSES, e => this.showButton(this.isParallelView, e))\n        .on('mouseleave', LINE_COLUMN_CLASSES, e => this.hideButton(this.isParallelView, e));\n    }\n  },\n\n  showButton(isParallelView, e) {\n    const buttonParentElement = this.getButtonParent(e.currentTarget, isParallelView);\n\n    if (!this.validateButtonParent(buttonParentElement)) return;\n\n    buttonParentElement.classList.add('is-over');\n    buttonParentElement.nextElementSibling.classList.add('is-over');\n  },\n\n  hideButton(isParallelView, e) {\n    const buttonParentElement = this.getButtonParent(e.currentTarget, isParallelView);\n\n    buttonParentElement.classList.remove('is-over');\n    buttonParentElement.nextElementSibling.classList.remove('is-over');\n  },\n\n  getButtonParent(hoveredElement, isParallelView) {\n    if (isParallelView) {\n      if (!hoveredElement.classList.contains(LINE_NUMBER_CLASS)) {\n        return hoveredElement.previousElementSibling;\n      }\n    } else if (!hoveredElement.classList.contains(OLD_LINE_CLASS)) {\n      return hoveredElement.parentNode.querySelector(`.${OLD_LINE_CLASS}`);\n    }\n    return hoveredElement;\n  },\n\n  validateButtonParent(buttonParentElement) {\n    return (\n      !buttonParentElement.classList.contains(EMPTY_CELL_CLASS) &&\n      !buttonParentElement.classList.contains(UNFOLDABLE_LINE_CLASS) &&\n      !buttonParentElement.classList.contains(NO_COMMENT_CLASS) &&\n      !buttonParentElement.parentNode.classList.contains(DIFF_EXPANDED_CLASS)\n    );\n  },\n};\n","/* eslint-disable func-names, prefer-arrow-callback, consistent-return, */\n\nimport $ from 'jquery';\nimport { __ } from './locale';\nimport axios from './lib/utils/axios_utils';\nimport createFlash from './flash';\nimport FilesCommentButton from './files_comment_button';\nimport imageDiffHelper from './image_diff/helpers/index';\nimport syntaxHighlight from './syntax_highlight';\n\nconst WRAPPER = '<div class=\"diff-content\"></div>';\nconst LOADING_HTML = '<i class=\"fa fa-spinner fa-spin\"></i>';\nconst ERROR_HTML =\n  '<div class=\"nothing-here-block\"><i class=\"fa fa-warning\"></i> Could not load diff</div>';\nconst COLLAPSED_HTML =\n  '<div class=\"nothing-here-block diff-collapsed\">This diff is collapsed. <button class=\"click-to-expand btn btn-link\">Click to expand it.</button></div>';\n\nexport default class SingleFileDiff {\n  constructor(file) {\n    this.file = file;\n    this.toggleDiff = this.toggleDiff.bind(this);\n    this.content = $('.diff-content', this.file);\n    this.$toggleIcon = $('.diff-toggle-caret', this.file);\n    this.diffForPath = this.content.find('[data-diff-for-path]').data('diffForPath');\n    this.isOpen = !this.diffForPath;\n    if (this.diffForPath) {\n      this.collapsedContent = this.content;\n      this.loadingContent = $(WRAPPER)\n        .addClass('loading')\n        .html(LOADING_HTML)\n        .hide();\n      this.content = null;\n      this.collapsedContent.after(this.loadingContent);\n      this.$toggleIcon.addClass('fa-caret-right');\n    } else {\n      this.collapsedContent = $(WRAPPER)\n        .html(COLLAPSED_HTML)\n        .hide();\n      this.content.after(this.collapsedContent);\n      this.$toggleIcon.addClass('fa-caret-down');\n    }\n\n    $('.js-file-title, .click-to-expand', this.file).on(\n      'click',\n      function(e) {\n        this.toggleDiff($(e.target));\n      }.bind(this),\n    );\n  }\n\n  toggleDiff($target, cb) {\n    if (\n      !$target.hasClass('js-file-title') &&\n      !$target.hasClass('click-to-expand') &&\n      !$target.hasClass('diff-toggle-caret')\n    )\n      return;\n    this.isOpen = !this.isOpen;\n    if (!this.isOpen && !this.hasError) {\n      this.content.hide();\n      this.$toggleIcon.addClass('fa-caret-right').removeClass('fa-caret-down');\n      this.collapsedContent.show();\n      if (typeof gl.diffNotesCompileComponents !== 'undefined') {\n        gl.diffNotesCompileComponents();\n      }\n    } else if (this.content) {\n      this.collapsedContent.hide();\n      this.content.show();\n      this.$toggleIcon.addClass('fa-caret-down').removeClass('fa-caret-right');\n      if (typeof gl.diffNotesCompileComponents !== 'undefined') {\n        gl.diffNotesCompileComponents();\n      }\n    } else {\n      this.$toggleIcon.addClass('fa-caret-down').removeClass('fa-caret-right');\n      return this.getContentHTML(cb);\n    }\n  }\n\n  getContentHTML(cb) {\n    this.collapsedContent.hide();\n    this.loadingContent.show();\n\n    axios\n      .get(this.diffForPath)\n      .then(({ data }) => {\n        this.loadingContent.hide();\n        if (data.html) {\n          this.content = $(data.html);\n          syntaxHighlight(this.content);\n        } else {\n          this.hasError = true;\n          this.content = $(ERROR_HTML);\n        }\n        this.collapsedContent.after(this.content);\n\n        if (typeof gl.diffNotesCompileComponents !== 'undefined') {\n          gl.diffNotesCompileComponents();\n        }\n\n        const $file = $(this.file);\n        FilesCommentButton.init($file);\n\n        const canCreateNote = $file.closest('.files').is('[data-can-create-note]');\n        imageDiffHelper.initImageDiff($file[0], canCreateNote);\n\n        if (cb) cb();\n      })\n      .catch(() => {\n        createFlash(__('An error occurred while retrieving diff'));\n      });\n  }\n}\n","import $ from 'jquery';\nimport axios from '~/lib/utils/axios_utils';\nimport flash from '~/flash';\nimport { __ } from '~/locale';\nimport { getLocationHash } from './lib/utils/url_utility';\nimport FilesCommentButton from './files_comment_button';\nimport SingleFileDiff from './single_file_diff';\nimport imageDiffHelper from './image_diff/helpers/index';\n\nconst UNFOLD_COUNT = 20;\nlet isBound = false;\n\nexport default class Diff {\n  constructor() {\n    const $diffFile = $('.files .diff-file');\n\n    $diffFile.each((index, file) => {\n      if (!$.data(file, 'singleFileDiff')) {\n        $.data(file, 'singleFileDiff', new SingleFileDiff(file));\n      }\n    });\n\n    const tab = document.getElementById('diffs');\n    if (!tab || (tab && tab.dataset && tab.dataset.isLocked !== ''))\n      FilesCommentButton.init($diffFile);\n\n    const firstFile = $('.files')\n      .first()\n      .get(0);\n    const canCreateNote = firstFile && firstFile.hasAttribute('data-can-create-note');\n    $diffFile.each((index, file) => imageDiffHelper.initImageDiff(file, canCreateNote));\n\n    if (!isBound) {\n      $(document)\n        .on('click', '.js-unfold', this.handleClickUnfold.bind(this))\n        .on('click', '.diff-line-num a', this.handleClickLineNum.bind(this))\n        .on('mousedown', 'td.line_content.parallel', this.handleParallelLineDown.bind(this));\n      isBound = true;\n    }\n\n    if (getLocationHash()) {\n      this.highlightSelectedLine();\n    }\n\n    this.openAnchoredDiff();\n  }\n\n  handleClickUnfold(e) {\n    const $target = $(e.target);\n    const [oldLineNumber, newLineNumber] = this.lineNumbers($target.parent());\n    const offset = newLineNumber - oldLineNumber;\n    const bottom = $target.hasClass('js-unfold-bottom');\n    let since;\n    let to;\n    let unfold = true;\n\n    if (bottom) {\n      const lineNumber = newLineNumber + 1;\n      since = lineNumber;\n      to = lineNumber + UNFOLD_COUNT;\n    } else {\n      const lineNumber = newLineNumber - 1;\n      since = lineNumber - UNFOLD_COUNT;\n      to = lineNumber;\n\n      // make sure we aren't loading more than we need\n      const prevNewLine = this.lineNumbers($target.parent().prev())[1];\n      if (since <= prevNewLine + 1) {\n        since = prevNewLine + 1;\n        unfold = false;\n      }\n    }\n\n    const file = $target.parents('.diff-file');\n    const link = file.data('blobDiffPath');\n    const view = file.data('view');\n\n    const params = { since, to, bottom, offset, unfold, view };\n    axios\n      .get(link, { params })\n      .then(({ data }) => $target.parent().replaceWith(data))\n      .catch(() => flash(__('An error occurred while loading diff')));\n  }\n\n  openAnchoredDiff(cb) {\n    const locationHash = getLocationHash();\n    const anchoredDiff = locationHash && locationHash.split('_')[0];\n\n    if (!anchoredDiff) return;\n\n    const diffTitle = $(`#${anchoredDiff}`);\n    const diffFile = diffTitle.closest('.diff-file');\n    const nothingHereBlock = $('.nothing-here-block:visible', diffFile);\n    if (nothingHereBlock.length) {\n      const clickTarget = $('.js-file-title, .click-to-expand', diffFile);\n      diffFile.data('singleFileDiff').toggleDiff(clickTarget, () => {\n        this.highlightSelectedLine();\n        if (cb) cb();\n      });\n    } else if (cb) {\n      cb();\n    }\n  }\n\n  handleClickLineNum(e) {\n    const hash = $(e.currentTarget).attr('href');\n    e.preventDefault();\n    if (window.history.pushState) {\n      window.history.pushState(null, null, hash);\n    } else {\n      window.location.hash = hash;\n    }\n    this.highlightSelectedLine();\n  }\n  // eslint-disable-next-line class-methods-use-this\n  handleParallelLineDown(e) {\n    const line = $(e.currentTarget);\n    const table = line.closest('table');\n\n    table.removeClass('left-side-selected right-side-selected');\n\n    const lineClass = ['left-side', 'right-side'].filter(name => line.hasClass(name))[0];\n    if (lineClass) {\n      table.addClass(`${lineClass}-selected`);\n    }\n  }\n  // eslint-disable-next-line class-methods-use-this\n  diffViewType() {\n    return $('.inline-parallel-buttons a.active').data('viewType');\n  }\n  // eslint-disable-next-line class-methods-use-this\n  lineNumbers(line) {\n    const children = line.find('.diff-line-num').toArray();\n    if (children.length !== 2) {\n      return [0, 0];\n    }\n    return children.map(elm => parseInt($(elm).data('linenumber'), 10) || 0);\n  }\n  // eslint-disable-next-line class-methods-use-this\n  highlightSelectedLine() {\n    const hash = getLocationHash();\n    const $diffFiles = $('.diff-file');\n    $diffFiles.find('.hll').removeClass('hll');\n\n    if (hash) {\n      $diffFiles\n        .find(`tr#${hash}:not(.match) td, td#${hash}, td[data-line-code=\"${hash}\"]`)\n        .addClass('hll');\n    }\n  }\n}\n","/*!\r\n  * Stickyfill – `position: sticky` polyfill\r\n  * v. 2.0.5 | https://github.com/wilddeer/stickyfill\r\n  * MIT License\r\n  */\r\n\r\n;(function(window, document) {\r\n    'use strict';\r\n    \r\n    /*\r\n     * 1. Check if the browser supports `position: sticky` natively or is too old to run the polyfill.\r\n     *    If either of these is the case set `seppuku` flag. It will be checked later to disable key features\r\n     *    of the polyfill, but the API will remain functional to avoid breaking things.\r\n     */\r\n    \r\n    var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n    \r\n    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n    \r\n    var seppuku = false;\r\n    \r\n    // The polyfill cant’t function properly without `getComputedStyle`.\r\n    if (!window.getComputedStyle) seppuku = true;\r\n    // Dont’t get in a way if the browser supports `position: sticky` natively.\r\n    else {\r\n            var testNode = document.createElement('div');\r\n    \r\n            if (['', '-webkit-', '-moz-', '-ms-'].some(function (prefix) {\r\n                try {\r\n                    testNode.style.position = prefix + 'sticky';\r\n                } catch (e) {}\r\n    \r\n                return testNode.style.position != '';\r\n            })) seppuku = true;\r\n        }\r\n    \r\n    /*\r\n     * 2. “Global” vars used across the polyfill\r\n     */\r\n    \r\n    // Check if Shadow Root constructor exists to make further checks simpler\r\n    var shadowRootExists = typeof ShadowRoot !== 'undefined';\r\n    \r\n    // Last saved scroll position\r\n    var scroll = {\r\n        top: null,\r\n        left: null\r\n    };\r\n    \r\n    // Array of created Sticky instances\r\n    var stickies = [];\r\n    \r\n    /*\r\n     * 3. Utility functions\r\n     */\r\n    function extend(targetObj, sourceObject) {\r\n        for (var key in sourceObject) {\r\n            if (sourceObject.hasOwnProperty(key)) {\r\n                targetObj[key] = sourceObject[key];\r\n            }\r\n        }\r\n    }\r\n    \r\n    function parseNumeric(val) {\r\n        return parseFloat(val) || 0;\r\n    }\r\n    \r\n    function getDocOffsetTop(node) {\r\n        var docOffsetTop = 0;\r\n    \r\n        while (node) {\r\n            docOffsetTop += node.offsetTop;\r\n            node = node.offsetParent;\r\n        }\r\n    \r\n        return docOffsetTop;\r\n    }\r\n    \r\n    /*\r\n     * 4. Sticky class\r\n     */\r\n    \r\n    var Sticky = function () {\r\n        function Sticky(node) {\r\n            _classCallCheck(this, Sticky);\r\n    \r\n            if (!(node instanceof HTMLElement)) throw new Error('First argument must be HTMLElement');\r\n            if (stickies.some(function (sticky) {\r\n                return sticky._node === node;\r\n            })) throw new Error('Stickyfill is already applied to this node');\r\n    \r\n            this._node = node;\r\n            this._stickyMode = null;\r\n            this._active = false;\r\n    \r\n            stickies.push(this);\r\n    \r\n            this.refresh();\r\n        }\r\n    \r\n        _createClass(Sticky, [{\r\n            key: 'refresh',\r\n            value: function refresh() {\r\n                if (seppuku || this._removed) return;\r\n                if (this._active) this._deactivate();\r\n    \r\n                var node = this._node;\r\n    \r\n                /*\r\n                 * 1. Save node computed props\r\n                 */\r\n                var nodeComputedStyle = getComputedStyle(node);\r\n                var nodeComputedProps = {\r\n                    top: nodeComputedStyle.top,\r\n                    display: nodeComputedStyle.display,\r\n                    marginTop: nodeComputedStyle.marginTop,\r\n                    marginBottom: nodeComputedStyle.marginBottom,\r\n                    marginLeft: nodeComputedStyle.marginLeft,\r\n                    marginRight: nodeComputedStyle.marginRight,\r\n                    cssFloat: nodeComputedStyle.cssFloat\r\n                };\r\n    \r\n                /*\r\n                 * 2. Check if the node can be activated\r\n                 */\r\n                if (isNaN(parseFloat(nodeComputedProps.top)) || nodeComputedProps.display == 'table-cell' || nodeComputedProps.display == 'none') return;\r\n    \r\n                this._active = true;\r\n    \r\n                /*\r\n                 * 3. Get necessary node parameters\r\n                 */\r\n                var referenceNode = node.parentNode;\r\n                var parentNode = shadowRootExists && referenceNode instanceof ShadowRoot ? referenceNode.host : referenceNode;\r\n                var nodeWinOffset = node.getBoundingClientRect();\r\n                var parentWinOffset = parentNode.getBoundingClientRect();\r\n                var parentComputedStyle = getComputedStyle(parentNode);\r\n    \r\n                this._parent = {\r\n                    node: parentNode,\r\n                    styles: {\r\n                        position: parentNode.style.position\r\n                    },\r\n                    offsetHeight: parentNode.offsetHeight\r\n                };\r\n                this._offsetToWindow = {\r\n                    left: nodeWinOffset.left,\r\n                    right: document.documentElement.clientWidth - nodeWinOffset.right\r\n                };\r\n                this._offsetToParent = {\r\n                    top: nodeWinOffset.top - parentWinOffset.top - parseNumeric(parentComputedStyle.borderTopWidth),\r\n                    left: nodeWinOffset.left - parentWinOffset.left - parseNumeric(parentComputedStyle.borderLeftWidth),\r\n                    right: -nodeWinOffset.right + parentWinOffset.right - parseNumeric(parentComputedStyle.borderRightWidth)\r\n                };\r\n                this._styles = {\r\n                    position: node.style.position,\r\n                    top: node.style.top,\r\n                    bottom: node.style.bottom,\r\n                    left: node.style.left,\r\n                    right: node.style.right,\r\n                    width: node.style.width,\r\n                    marginTop: node.style.marginTop,\r\n                    marginLeft: node.style.marginLeft,\r\n                    marginRight: node.style.marginRight\r\n                };\r\n    \r\n                var nodeTopValue = parseNumeric(nodeComputedProps.top);\r\n                this._limits = {\r\n                    start: nodeWinOffset.top + window.pageYOffset - nodeTopValue,\r\n                    end: parentWinOffset.top + window.pageYOffset + parentNode.offsetHeight - parseNumeric(parentComputedStyle.borderBottomWidth) - node.offsetHeight - nodeTopValue - parseNumeric(nodeComputedProps.marginBottom)\r\n                };\r\n    \r\n                /*\r\n                 * 4. Ensure that the node will be positioned relatively to the parent node\r\n                 */\r\n                var parentPosition = parentComputedStyle.position;\r\n    \r\n                if (parentPosition != 'absolute' && parentPosition != 'relative') {\r\n                    parentNode.style.position = 'relative';\r\n                }\r\n    \r\n                /*\r\n                 * 5. Recalc node position.\r\n                 *    It’s important to do this before clone injection to avoid scrolling bug in Chrome.\r\n                 */\r\n                this._recalcPosition();\r\n    \r\n                /*\r\n                 * 6. Create a clone\r\n                 */\r\n                var clone = this._clone = {};\r\n                clone.node = document.createElement('div');\r\n    \r\n                // Apply styles to the clone\r\n                extend(clone.node.style, {\r\n                    width: nodeWinOffset.right - nodeWinOffset.left + 'px',\r\n                    height: nodeWinOffset.bottom - nodeWinOffset.top + 'px',\r\n                    marginTop: nodeComputedProps.marginTop,\r\n                    marginBottom: nodeComputedProps.marginBottom,\r\n                    marginLeft: nodeComputedProps.marginLeft,\r\n                    marginRight: nodeComputedProps.marginRight,\r\n                    cssFloat: nodeComputedProps.cssFloat,\r\n                    padding: 0,\r\n                    border: 0,\r\n                    borderSpacing: 0,\r\n                    fontSize: '1em',\r\n                    position: 'static'\r\n                });\r\n    \r\n                referenceNode.insertBefore(clone.node, node);\r\n                clone.docOffsetTop = getDocOffsetTop(clone.node);\r\n            }\r\n        }, {\r\n            key: '_recalcPosition',\r\n            value: function _recalcPosition() {\r\n                if (!this._active || this._removed) return;\r\n    \r\n                var stickyMode = scroll.top <= this._limits.start ? 'start' : scroll.top >= this._limits.end ? 'end' : 'middle';\r\n    \r\n                if (this._stickyMode == stickyMode) return;\r\n    \r\n                switch (stickyMode) {\r\n                    case 'start':\r\n                        extend(this._node.style, {\r\n                            position: 'absolute',\r\n                            left: this._offsetToParent.left + 'px',\r\n                            right: this._offsetToParent.right + 'px',\r\n                            top: this._offsetToParent.top + 'px',\r\n                            bottom: 'auto',\r\n                            width: 'auto',\r\n                            marginLeft: 0,\r\n                            marginRight: 0,\r\n                            marginTop: 0\r\n                        });\r\n                        break;\r\n    \r\n                    case 'middle':\r\n                        extend(this._node.style, {\r\n                            position: 'fixed',\r\n                            left: this._offsetToWindow.left + 'px',\r\n                            right: this._offsetToWindow.right + 'px',\r\n                            top: this._styles.top,\r\n                            bottom: 'auto',\r\n                            width: 'auto',\r\n                            marginLeft: 0,\r\n                            marginRight: 0,\r\n                            marginTop: 0\r\n                        });\r\n                        break;\r\n    \r\n                    case 'end':\r\n                        extend(this._node.style, {\r\n                            position: 'absolute',\r\n                            left: this._offsetToParent.left + 'px',\r\n                            right: this._offsetToParent.right + 'px',\r\n                            top: 'auto',\r\n                            bottom: 0,\r\n                            width: 'auto',\r\n                            marginLeft: 0,\r\n                            marginRight: 0\r\n                        });\r\n                        break;\r\n                }\r\n    \r\n                this._stickyMode = stickyMode;\r\n            }\r\n        }, {\r\n            key: '_fastCheck',\r\n            value: function _fastCheck() {\r\n                if (!this._active || this._removed) return;\r\n    \r\n                if (Math.abs(getDocOffsetTop(this._clone.node) - this._clone.docOffsetTop) > 1 || Math.abs(this._parent.node.offsetHeight - this._parent.offsetHeight) > 1) this.refresh();\r\n            }\r\n        }, {\r\n            key: '_deactivate',\r\n            value: function _deactivate() {\r\n                var _this = this;\r\n    \r\n                if (!this._active || this._removed) return;\r\n    \r\n                this._clone.node.parentNode.removeChild(this._clone.node);\r\n                delete this._clone;\r\n    \r\n                extend(this._node.style, this._styles);\r\n                delete this._styles;\r\n    \r\n                // Check whether element’s parent node is used by other stickies.\r\n                // If not, restore parent node’s styles.\r\n                if (!stickies.some(function (sticky) {\r\n                    return sticky !== _this && sticky._parent && sticky._parent.node === _this._parent.node;\r\n                })) {\r\n                    extend(this._parent.node.style, this._parent.styles);\r\n                }\r\n                delete this._parent;\r\n    \r\n                this._stickyMode = null;\r\n                this._active = false;\r\n    \r\n                delete this._offsetToWindow;\r\n                delete this._offsetToParent;\r\n                delete this._limits;\r\n            }\r\n        }, {\r\n            key: 'remove',\r\n            value: function remove() {\r\n                var _this2 = this;\r\n    \r\n                this._deactivate();\r\n    \r\n                stickies.some(function (sticky, index) {\r\n                    if (sticky._node === _this2._node) {\r\n                        stickies.splice(index, 1);\r\n                        return true;\r\n                    }\r\n                });\r\n    \r\n                this._removed = true;\r\n            }\r\n        }]);\r\n    \r\n        return Sticky;\r\n    }();\r\n    \r\n    /*\r\n     * 5. Stickyfill API\r\n     */\r\n    \r\n    \r\n    var Stickyfill = {\r\n        stickies: stickies,\r\n        Sticky: Sticky,\r\n    \r\n        addOne: function addOne(node) {\r\n            // Check whether it’s a node\r\n            if (!(node instanceof HTMLElement)) {\r\n                // Maybe it’s a node list of some sort?\r\n                // Take first node from the list then\r\n                if (node.length && node[0]) node = node[0];else return;\r\n            }\r\n    \r\n            // Check if Stickyfill is already applied to the node\r\n            // and return existing sticky\r\n            for (var i = 0; i < stickies.length; i++) {\r\n                if (stickies[i]._node === node) return stickies[i];\r\n            }\r\n    \r\n            // Create and return new sticky\r\n            return new Sticky(node);\r\n        },\r\n        add: function add(nodeList) {\r\n            // If it’s a node make an array of one node\r\n            if (nodeList instanceof HTMLElement) nodeList = [nodeList];\r\n            // Check if the argument is an iterable of some sort\r\n            if (!nodeList.length) return;\r\n    \r\n            // Add every element as a sticky and return an array of created Sticky instances\r\n            var addedStickies = [];\r\n    \r\n            var _loop = function _loop(i) {\r\n                var node = nodeList[i];\r\n    \r\n                // If it’s not an HTMLElement – create an empty element to preserve 1-to-1\r\n                // correlation with input list\r\n                if (!(node instanceof HTMLElement)) {\r\n                    addedStickies.push(void 0);\r\n                    return 'continue';\r\n                }\r\n    \r\n                // If Stickyfill is already applied to the node\r\n                // add existing sticky\r\n                if (stickies.some(function (sticky) {\r\n                    if (sticky._node === node) {\r\n                        addedStickies.push(sticky);\r\n                        return true;\r\n                    }\r\n                })) return 'continue';\r\n    \r\n                // Create and add new sticky\r\n                addedStickies.push(new Sticky(node));\r\n            };\r\n    \r\n            for (var i = 0; i < nodeList.length; i++) {\r\n                var _ret = _loop(i);\r\n    \r\n                if (_ret === 'continue') continue;\r\n            }\r\n    \r\n            return addedStickies;\r\n        },\r\n        refreshAll: function refreshAll() {\r\n            stickies.forEach(function (sticky) {\r\n                return sticky.refresh();\r\n            });\r\n        },\r\n        removeOne: function removeOne(node) {\r\n            // Check whether it’s a node\r\n            if (!(node instanceof HTMLElement)) {\r\n                // Maybe it’s a node list of some sort?\r\n                // Take first node from the list then\r\n                if (node.length && node[0]) node = node[0];else return;\r\n            }\r\n    \r\n            // Remove the stickies bound to the nodes in the list\r\n            stickies.some(function (sticky) {\r\n                if (sticky._node === node) {\r\n                    sticky.remove();\r\n                    return true;\r\n                }\r\n            });\r\n        },\r\n        remove: function remove(nodeList) {\r\n            // If it’s a node make an array of one node\r\n            if (nodeList instanceof HTMLElement) nodeList = [nodeList];\r\n            // Check if the argument is an iterable of some sort\r\n            if (!nodeList.length) return;\r\n    \r\n            // Remove the stickies bound to the nodes in the list\r\n    \r\n            var _loop2 = function _loop2(i) {\r\n                var node = nodeList[i];\r\n    \r\n                stickies.some(function (sticky) {\r\n                    if (sticky._node === node) {\r\n                        sticky.remove();\r\n                        return true;\r\n                    }\r\n                });\r\n            };\r\n    \r\n            for (var i = 0; i < nodeList.length; i++) {\r\n                _loop2(i);\r\n            }\r\n        },\r\n        removeAll: function removeAll() {\r\n            while (stickies.length) {\r\n                stickies[0].remove();\r\n            }\r\n        }\r\n    };\r\n    \r\n    /*\r\n     * 6. Setup events (unless the polyfill was disabled)\r\n     */\r\n    function init() {\r\n        // Watch for scroll position changes and trigger recalc/refresh if needed\r\n        function checkScroll() {\r\n            if (window.pageXOffset != scroll.left) {\r\n                scroll.top = window.pageYOffset;\r\n                scroll.left = window.pageXOffset;\r\n    \r\n                Stickyfill.refreshAll();\r\n            } else if (window.pageYOffset != scroll.top) {\r\n                scroll.top = window.pageYOffset;\r\n                scroll.left = window.pageXOffset;\r\n    \r\n                // recalc position for all stickies\r\n                stickies.forEach(function (sticky) {\r\n                    return sticky._recalcPosition();\r\n                });\r\n            }\r\n        }\r\n    \r\n        checkScroll();\r\n        window.addEventListener('scroll', checkScroll);\r\n    \r\n        // Watch for window resizes and device orientation changes and trigger refresh\r\n        window.addEventListener('resize', Stickyfill.refreshAll);\r\n        window.addEventListener('orientationchange', Stickyfill.refreshAll);\r\n    \r\n        //Fast dirty check for layout changes every 500ms\r\n        var fastCheckTimer = void 0;\r\n    \r\n        function startFastCheckTimer() {\r\n            fastCheckTimer = setInterval(function () {\r\n                stickies.forEach(function (sticky) {\r\n                    return sticky._fastCheck();\r\n                });\r\n            }, 500);\r\n        }\r\n    \r\n        function stopFastCheckTimer() {\r\n            clearInterval(fastCheckTimer);\r\n        }\r\n    \r\n        var docHiddenKey = void 0;\r\n        var visibilityChangeEventName = void 0;\r\n    \r\n        if ('hidden' in document) {\r\n            docHiddenKey = 'hidden';\r\n            visibilityChangeEventName = 'visibilitychange';\r\n        } else if ('webkitHidden' in document) {\r\n            docHiddenKey = 'webkitHidden';\r\n            visibilityChangeEventName = 'webkitvisibilitychange';\r\n        }\r\n    \r\n        if (visibilityChangeEventName) {\r\n            if (!document[docHiddenKey]) startFastCheckTimer();\r\n    \r\n            document.addEventListener(visibilityChangeEventName, function () {\r\n                if (document[docHiddenKey]) {\r\n                    stopFastCheckTimer();\r\n                } else {\r\n                    startFastCheckTimer();\r\n                }\r\n            });\r\n        } else startFastCheckTimer();\r\n    }\r\n    \r\n    if (!seppuku) init();\r\n    \r\n    /*\r\n     * 7. Expose Stickyfill\r\n     */\r\n    if (typeof module != 'undefined' && module.exports) {\r\n        module.exports = Stickyfill;\r\n    } else {\r\n        window.Stickyfill = Stickyfill;\r\n    }\r\n    \r\n})(window, document);","import $ from 'jquery';\nimport { parseQueryStringIntoObject } from '~/lib/utils/common_utils';\nimport axios from '~/lib/utils/axios_utils';\nimport createFlash from '~/flash';\nimport { __ } from '~/locale';\n\nexport default class GpgBadges {\n  static fetch() {\n    const tag = $('.js-signature-container');\n    if (tag.length === 0) {\n      return Promise.resolve();\n    }\n\n    const badges = $('.js-loading-gpg-badge');\n\n    badges.html('<i class=\"fa fa-spinner fa-spin\"></i>');\n\n    const displayError = () => createFlash(__('An error occurred while loading commit signatures'));\n\n    const endpoint = tag.data('signaturesPath');\n    if (!endpoint) {\n      displayError();\n      return Promise.reject(new Error('Missing commit signatures endpoint!'));\n    }\n\n    const params = parseQueryStringIntoObject(tag.serialize());\n    return axios\n      .get(endpoint, { params })\n      .then(({ data }) => {\n        data.signatures.forEach(signature => {\n          badges.filter(`[data-commit-sha=\"${signature.commit_sha}\"]`).replaceWith(signature.html);\n        });\n      })\n      .catch(displayError);\n  }\n}\n","import Mousetrap from 'mousetrap';\nimport findAndFollowLink from '../../lib/utils/navigation_utility';\nimport Shortcuts from './shortcuts';\n\nexport default class ShortcutsNavigation extends Shortcuts {\n  constructor() {\n    super();\n\n    Mousetrap.bind('g p', () => findAndFollowLink('.shortcuts-project'));\n    Mousetrap.bind('g v', () => findAndFollowLink('.shortcuts-project-activity'));\n    Mousetrap.bind('g r', () => findAndFollowLink('.shortcuts-project-releases'));\n    Mousetrap.bind('g f', () => findAndFollowLink('.shortcuts-tree'));\n    Mousetrap.bind('g c', () => findAndFollowLink('.shortcuts-commits'));\n    Mousetrap.bind('g j', () => findAndFollowLink('.shortcuts-builds'));\n    Mousetrap.bind('g n', () => findAndFollowLink('.shortcuts-network'));\n    Mousetrap.bind('g d', () => findAndFollowLink('.shortcuts-repository-charts'));\n    Mousetrap.bind('g i', () => findAndFollowLink('.shortcuts-issues'));\n    Mousetrap.bind('g b', () => findAndFollowLink('.shortcuts-issue-boards'));\n    Mousetrap.bind('g m', () => findAndFollowLink('.shortcuts-merge_requests'));\n    Mousetrap.bind('g w', () => findAndFollowLink('.shortcuts-wiki'));\n    Mousetrap.bind('g s', () => findAndFollowLink('.shortcuts-snippets'));\n    Mousetrap.bind('g k', () => findAndFollowLink('.shortcuts-kubernetes'));\n    Mousetrap.bind('g e', () => findAndFollowLink('.shortcuts-environments'));\n    Mousetrap.bind('g l', () => findAndFollowLink('.shortcuts-metrics'));\n    Mousetrap.bind('i', () => findAndFollowLink('.shortcuts-new-issue'));\n\n    this.enabledHelp.push('.hidden-shortcut.project');\n  }\n}\n","import $ from 'jquery';\nimport AccessorUtilities from './lib/utils/accessor';\n\nexport default class ProjectSelectComboButton {\n  constructor(select) {\n    this.projectSelectInput = $(select);\n    this.newItemBtn = $('.new-project-item-link');\n    this.resourceType = this.newItemBtn.data('type');\n    this.resourceLabel = this.newItemBtn.data('label');\n    this.formattedText = this.deriveTextVariants();\n    this.groupId = this.projectSelectInput.data('groupId');\n    this.bindEvents();\n    this.initLocalStorage();\n  }\n\n  bindEvents() {\n    this.projectSelectInput\n      .siblings('.new-project-item-select-button')\n      .on('click', e => this.openDropdown(e));\n\n    this.newItemBtn.on('click', e => {\n      if (!this.getProjectFromLocalStorage()) {\n        e.preventDefault();\n        this.openDropdown(e);\n      }\n    });\n\n    this.projectSelectInput.on('change', () => this.selectProject());\n  }\n\n  initLocalStorage() {\n    const localStorageIsSafe = AccessorUtilities.isLocalStorageAccessSafe();\n\n    if (localStorageIsSafe) {\n      this.localStorageKey = [\n        'group',\n        this.groupId,\n        this.formattedText.localStorageItemType,\n        'recent-project',\n      ].join('-');\n      this.setBtnTextFromLocalStorage();\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  openDropdown(event) {\n    $(event.currentTarget)\n      .siblings('.project-item-select')\n      .select2('open');\n  }\n\n  selectProject() {\n    const selectedProjectData = JSON.parse(this.projectSelectInput.val());\n    const projectUrl = `${selectedProjectData.url}/${this.projectSelectInput.data('relativePath')}`;\n    const projectName = selectedProjectData.name;\n\n    const projectMeta = {\n      url: projectUrl,\n      name: projectName,\n    };\n\n    this.setNewItemBtnAttributes(projectMeta);\n    this.setProjectInLocalStorage(projectMeta);\n  }\n\n  setBtnTextFromLocalStorage() {\n    const cachedProjectData = this.getProjectFromLocalStorage();\n\n    this.setNewItemBtnAttributes(cachedProjectData);\n  }\n\n  setNewItemBtnAttributes(project) {\n    if (project) {\n      this.newItemBtn.attr('href', project.url);\n      this.newItemBtn.text(`${this.formattedText.defaultTextPrefix} in ${project.name}`);\n    } else {\n      this.newItemBtn.text(`Select project to create ${this.formattedText.presetTextSuffix}`);\n    }\n  }\n\n  getProjectFromLocalStorage() {\n    const projectString = localStorage.getItem(this.localStorageKey);\n\n    return JSON.parse(projectString);\n  }\n\n  setProjectInLocalStorage(projectMeta) {\n    const projectString = JSON.stringify(projectMeta);\n\n    localStorage.setItem(this.localStorageKey, projectString);\n  }\n\n  deriveTextVariants() {\n    const defaultTextPrefix = this.resourceLabel;\n\n    // the trailing slice call depluralizes each of these strings (e.g. new-issues -> new-issue)\n    const localStorageItemType = `new-${this.resourceType\n      .split('_')\n      .join('-')\n      .slice(0, -1)}`;\n    const presetTextSuffix = this.resourceType\n      .split('_')\n      .join(' ')\n      .slice(0, -1);\n\n    return {\n      localStorageItemType, // new-issue / new-merge-request\n      defaultTextPrefix, // New issue / New merge request\n      presetTextSuffix, // issue / merge request\n    };\n  }\n}\n","/* eslint-disable func-names, no-var, object-shorthand, one-var, no-else-return */\n\nimport $ from 'jquery';\nimport Api from './api';\nimport ProjectSelectComboButton from './project_select_combo_button';\n\nexport default function projectSelect() {\n  $('.ajax-project-select').each(function(i, select) {\n    var placeholder;\n    const simpleFilter = $(select).data('simpleFilter') || false;\n    this.groupId = $(select).data('groupId');\n    this.includeGroups = $(select).data('includeGroups');\n    this.allProjects = $(select).data('allProjects') || false;\n    this.orderBy = $(select).data('orderBy') || 'id';\n    this.withIssuesEnabled = $(select).data('withIssuesEnabled');\n    this.withMergeRequestsEnabled = $(select).data('withMergeRequestsEnabled');\n    this.withShared =\n      $(select).data('withShared') === undefined ? true : $(select).data('withShared');\n    this.includeProjectsInSubgroups = $(select).data('includeProjectsInSubgroups') || false;\n    this.allowClear = $(select).data('allowClear') || false;\n\n    placeholder = 'Search for project';\n    if (this.includeGroups) {\n      placeholder += ' or group';\n    }\n\n    $(select).select2({\n      placeholder: placeholder,\n      minimumInputLength: 0,\n      query: (function(_this) {\n        return function(query) {\n          var finalCallback, projectsCallback;\n          finalCallback = function(projects) {\n            var data;\n            data = {\n              results: projects,\n            };\n            return query.callback(data);\n          };\n          if (_this.includeGroups) {\n            projectsCallback = function(projects) {\n              var groupsCallback;\n              groupsCallback = function(groups) {\n                var data;\n                data = groups.concat(projects);\n                return finalCallback(data);\n              };\n              return Api.groups(query.term, {}, groupsCallback);\n            };\n          } else {\n            projectsCallback = finalCallback;\n          }\n          if (_this.groupId) {\n            return Api.groupProjects(\n              _this.groupId,\n              query.term,\n              {\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                with_shared: _this.withShared,\n                include_subgroups: _this.includeProjectsInSubgroups,\n              },\n              projectsCallback,\n            );\n          } else {\n            return Api.projects(\n              query.term,\n              {\n                order_by: _this.orderBy,\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                membership: !_this.allProjects,\n              },\n              projectsCallback,\n            );\n          }\n        };\n      })(this),\n      id: function(project) {\n        if (simpleFilter) return project.id;\n        return JSON.stringify({\n          name: project.name,\n          url: project.web_url,\n        });\n      },\n      text: function(project) {\n        return project.name_with_namespace || project.name;\n      },\n\n      initSelection: function(el, callback) {\n        return Api.project(el.val()).then(({ data }) => callback(data));\n      },\n\n      allowClear: this.allowClear,\n\n      dropdownCssClass: 'ajax-project-dropdown',\n    });\n    if (simpleFilter) return select;\n    return new ProjectSelectComboButton(select);\n  });\n}\n","/* eslint-disable func-names, no-var, no-return-assign, one-var, object-shorthand, vars-on-top */\n\nimport $ from 'jquery';\nimport Cookies from 'js-cookie';\nimport { __ } from '~/locale';\nimport { visitUrl } from '~/lib/utils/url_utility';\nimport axios from '~/lib/utils/axios_utils';\nimport flash from '~/flash';\nimport projectSelect from '../../project_select';\n\nexport default class Project {\n  constructor() {\n    const $cloneOptions = $('ul.clone-options-dropdown');\n    const $projectCloneField = $('#project_clone');\n    const $cloneBtnLabel = $('.js-git-clone-holder .js-clone-dropdown-label');\n    const mobileCloneField = document.querySelector(\n      '.js-mobile-git-clone .js-clone-dropdown-label',\n    );\n\n    const selectedCloneOption = $cloneBtnLabel.text().trim();\n    if (selectedCloneOption.length > 0) {\n      $(`a:contains('${selectedCloneOption}')`, $cloneOptions).addClass('is-active');\n    }\n\n    $('a', $cloneOptions).on('click', e => {\n      e.preventDefault();\n      const $this = $(e.currentTarget);\n      const url = $this.attr('href');\n      const cloneType = $this.data('cloneType');\n\n      $('.is-active', $cloneOptions).removeClass('is-active');\n      $(`a[data-clone-type=\"${cloneType}\"]`).each(function() {\n        const $el = $(this);\n        const activeText = $el.find('.dropdown-menu-inner-title').text();\n        const $container = $el.closest('.project-clone-holder');\n        const $label = $container.find('.js-clone-dropdown-label');\n\n        $el.toggleClass('is-active');\n        $label.text(activeText);\n      });\n\n      if (mobileCloneField) {\n        mobileCloneField.dataset.clipboardText = url;\n      } else {\n        $projectCloneField.val(url);\n      }\n      $('.js-git-empty .js-clone').text(url);\n    });\n    // Ref switcher\n    Project.initRefSwitcher();\n    $('.project-refs-select').on('change', function() {\n      return $(this)\n        .parents('form')\n        .submit();\n    });\n    $('.hide-no-ssh-message').on('click', function(e) {\n      Cookies.set('hide_no_ssh_message', 'false');\n      $(this)\n        .parents('.no-ssh-key-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-no-password-message').on('click', function(e) {\n      Cookies.set('hide_no_password_message', 'false');\n      $(this)\n        .parents('.no-password-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-auto-devops-implicitly-enabled-banner').on('click', function(e) {\n      const projectId = $(this).data('project-id');\n      const cookieKey = `hide_auto_devops_implicitly_enabled_banner_${projectId}`;\n      Cookies.set(cookieKey, 'false');\n      $(this)\n        .parents('.auto-devops-implicitly-enabled-banner')\n        .remove();\n      return e.preventDefault();\n    });\n    Project.projectSelectDropdown();\n  }\n\n  static projectSelectDropdown() {\n    projectSelect();\n    $('.project-item-select').on('click', e => Project.changeProject($(e.currentTarget).val()));\n  }\n\n  static changeProject(url) {\n    return (window.location = url);\n  }\n\n  static initRefSwitcher() {\n    var refListItem = document.createElement('li');\n    var refLink = document.createElement('a');\n\n    refLink.href = '#';\n\n    return $('.js-project-refs-dropdown').each(function() {\n      var $dropdown, selected;\n      $dropdown = $(this);\n      selected = $dropdown.data('selected');\n      return $dropdown.glDropdown({\n        data(term, callback) {\n          axios\n            .get($dropdown.data('refsUrl'), {\n              params: {\n                ref: $dropdown.data('ref'),\n                search: term,\n              },\n            })\n            .then(({ data }) => callback(data))\n            .catch(() => flash(__('An error occurred while getting projects')));\n        },\n        selectable: true,\n        filterable: true,\n        filterRemote: true,\n        filterByText: true,\n        inputFieldName: $dropdown.data('inputFieldName'),\n        fieldName: $dropdown.data('fieldName'),\n        renderRow: function(ref) {\n          var li = refListItem.cloneNode(false);\n\n          if (ref.header != null) {\n            li.className = 'dropdown-header';\n            li.textContent = ref.header;\n          } else {\n            var link = refLink.cloneNode(false);\n\n            if (ref === selected) {\n              link.className = 'is-active';\n            }\n\n            link.textContent = ref;\n            link.dataset.ref = ref;\n\n            li.appendChild(link);\n          }\n\n          return li;\n        },\n        id: function(obj, $el) {\n          return $el.attr('data-ref');\n        },\n        toggleLabel: function(obj, $el) {\n          return $el.text().trim();\n        },\n        clicked: function(options) {\n          const { e } = options;\n          e.preventDefault();\n          if ($('input[name=\"ref\"]').length) {\n            var $form = $dropdown.closest('form');\n\n            var $visit = $dropdown.data('visit');\n            var shouldVisit = $visit ? true : $visit;\n            var action = $form.attr('action');\n            var divider = action.indexOf('?') === -1 ? '?' : '&';\n            if (shouldVisit) {\n              visitUrl(`${action}${divider}${$form.serialize()}`);\n            }\n          }\n        },\n      });\n    });\n  }\n}\n","import $ from 'jquery';\nimport { stickyMonitor } from './lib/utils/sticky';\n\nexport default stickyTop => {\n  stickyMonitor(document.querySelector('.js-diff-files-changed'), stickyTop);\n\n  $('.js-diff-stats-dropdown').glDropdown({\n    filterable: true,\n    remoteFilter: false,\n  });\n};\n","/* eslint-disable func-names, one-var, no-var, object-shorthand, no-else-return */\n\nimport $ from 'jquery';\nimport { __ } from './locale';\nimport axios from './lib/utils/axios_utils';\nimport flash from './flash';\nimport { capitalizeFirstCharacter } from './lib/utils/text_utility';\n\nexport default function initCompareAutocomplete(limitTo = null, clickHandler = () => {}) {\n  $('.js-compare-dropdown').each(function() {\n    var $dropdown, selected;\n    $dropdown = $(this);\n    selected = $dropdown.data('selected');\n    const $dropdownContainer = $dropdown.closest('.dropdown');\n    const $fieldInput = $(`input[name=\"${$dropdown.data('fieldName')}\"]`, $dropdownContainer);\n    const $filterInput = $('input[type=\"search\"]', $dropdownContainer);\n    $dropdown.glDropdown({\n      data: function(term, callback) {\n        const params = {\n          ref: $dropdown.data('ref'),\n          search: term,\n        };\n\n        if (limitTo) {\n          params.find = limitTo;\n        }\n\n        axios\n          .get($dropdown.data('refsUrl'), {\n            params,\n          })\n          .then(({ data }) => {\n            if (limitTo) {\n              callback(data[capitalizeFirstCharacter(limitTo)] || []);\n            } else {\n              callback(data);\n            }\n          })\n          .catch(() => flash(__('Error fetching refs')));\n      },\n      selectable: true,\n      filterable: true,\n      filterRemote: !!$dropdown.data('refsUrl'),\n      fieldName: $dropdown.data('fieldName'),\n      filterInput: 'input[type=\"search\"]',\n      renderRow: function(ref) {\n        var link;\n        if (ref.header != null) {\n          return $('<li />')\n            .addClass('dropdown-header')\n            .text(ref.header);\n        } else {\n          link = $('<a />')\n            .attr('href', '#')\n            .addClass(ref === selected ? 'is-active' : '')\n            .text(ref)\n            .attr('data-ref', ref);\n          return $('<li />').append(link);\n        }\n      },\n      id: function(obj, $el) {\n        return $el.attr('data-ref');\n      },\n      toggleLabel: function(obj, $el) {\n        return $el.text().trim();\n      },\n      clicked: () => clickHandler($dropdown),\n    });\n    $filterInput.on('keyup', e => {\n      const keyCode = e.keyCode || e.which;\n      if (keyCode !== 13) return;\n      const text = $filterInput.val();\n      $fieldInput.val(text);\n      $('.dropdown-toggle-text', $dropdown).text(text);\n      $dropdownContainer.removeClass('open');\n    });\n\n    $dropdownContainer.on('click', '.dropdown-content a', e => {\n      $dropdown.prop('title', e.target.text.replace(/_+?/g, '-'));\n      if ($dropdown.hasClass('has-tooltip')) {\n        $dropdown.tooltip('_fixTitle');\n      }\n    });\n  });\n}\n","import initGkeDropdowns from '~/projects/gke_cluster_dropdowns';\nimport PersistentUserCallout from '../../persistent_user_callout';\nimport Project from './project';\nimport ShortcutsNavigation from '../../behaviors/shortcuts/shortcuts_navigation';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const { page } = document.body.dataset;\n  const newClusterViews = [\n    'projects:clusters:new',\n    'projects:clusters:create_gcp',\n    'projects:clusters:create_user',\n  ];\n\n  if (newClusterViews.indexOf(page) > -1) {\n    const callout = document.querySelector('.gcp-signup-offer');\n    if (callout) new PersistentUserCallout(callout); // eslint-disable-line no-new\n\n    initGkeDropdowns();\n  }\n\n  new Project(); // eslint-disable-line no-new\n  new ShortcutsNavigation(); // eslint-disable-line no-new\n});\n","import initCompareAutocomplete from '~/compare_autocomplete';\n\ndocument.addEventListener('DOMContentLoaded', () => initCompareAutocomplete());\n"],"sourceRoot":""}