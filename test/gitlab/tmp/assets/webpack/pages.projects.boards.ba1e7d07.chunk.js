(this.webpackJsonp=this.webpackJsonp||[]).push([[98,10],{115:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var s=n(0),i=n.n(s),a=n(12),o=n(51);function r(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var l=function(){function e(t,n,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=t,this.namespacePath=n,this.projectPath=s,this.$dropdownBack=i()(".dropdown-menu-back",this.$el.closest(".dropdown")),this.$cancelButton=i()(".js-cancel-label-btn",this.$el),this.$newLabelField=i()("#new_label_name",this.$el),this.$newColorField=i()("#new_label_color",this.$el),this.$colorPreview=i()(".js-dropdown-label-color-preview",this.$el),this.$newLabelError=i()(".js-label-error",this.$el),this.$newLabelCreateButton=i()(".js-new-label-btn",this.$el),this.$colorSuggestions=i()(".suggest-colors-dropdown a",this.$el),this.$newLabelError.hide(),this.$newLabelCreateButton.disable(),this.cleanBinding(),this.addBinding()}var t,n,s;return t=e,(n=[{key:"cleanBinding",value:function(){this.$colorSuggestions.off("click"),this.$newLabelField.off("keyup change"),this.$newColorField.off("keyup change"),this.$dropdownBack.off("click"),this.$cancelButton.off("click"),this.$newLabelCreateButton.off("click")}},{key:"addBinding",value:function(){var e=this;this.$colorSuggestions.on("click",function(t){var n=i()(this);e.addColorValue(t,n)}),this.$newLabelField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$newColorField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$dropdownBack.on("click",this.resetForm.bind(this)),this.$cancelButton.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.resetForm(),e.$dropdownBack.trigger("click")}),this.$newLabelCreateButton.on("click",this.saveLabel.bind(this))}},{key:"addColorValue",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.$newColorField.val(t.data("color")).trigger("change"),this.$colorPreview.css("background-color",t.data("color")).parent().addClass("is-active")}},{key:"enableLabelCreateButton",value:function(){""!==this.$newLabelField.val()&&""!==this.$newColorField.val()?(this.$newLabelError.hide(),this.$newLabelCreateButton.enable()):this.$newLabelCreateButton.disable()}},{key:"resetForm",value:function(){this.$newLabelField.val("").trigger("change"),this.$newColorField.val("").trigger("change"),this.$colorPreview.css("background-color","").parent().removeClass("is-active")}},{key:"saveLabel",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),a.a.newLabel(this.namespacePath,this.projectPath,{title:this.$newLabelField.val(),color:this.$newColorField.val()},function(e){var n;(t.$newLabelCreateButton.enable(),e.message)?(n="string"==typeof e.message?e.message:Object.keys(e.message).map(function(t){return"".concat(Object(o.h)(t)," ").concat(e.message[t].join(", "))}).join("<br/>"),t.$newLabelError.html(n).show()):(t.$dropdownBack.trigger("click"),i()(document).trigger("created.label",e))})}}])&&r(t.prototype,n),s&&r(t,s),e}()},1217:function(e,t,n){n(42),n(44),e.exports=n(1218)},1218:function(e,t,n){"use strict";n.r(t);var s=n(105),i=n(27),a=n(498);document.addEventListener("DOMContentLoaded",function(){new s.a,new i.a,Object(a.a)()})},123:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var s=n(0),i=n.n(s),a=n(5),o=n.n(a),r=n(1),l=n(6),c=n(80),u=n(115),d=n(7),h=n(48),p=n(21);function f(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var g=function(){function e(t){var n,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,s=i()(t),t||(s=i()(".js-label-select")),s.each(function(t,s){var c,f,g,v,b,m,y,w,_,k,S,C,I,j,D,T,E,L,O,x,P,A;A=(f=i()(s)).closest(".labels-filter"),f.find(".dropdown-toggle-text"),C=f.data("namespacePath"),I=f.data("projectPath"),k=f.data("issueUpdate"),null==(D=f.data("selected"))||f.hasClass("js-multiselect")||(D=D.split(",")),E=f.data("showNo"),T=f.data("showAny"),P=f.data("showMenuAbove"),_=f.data("defaultLabel")||Object(r.a)("Label"),w=f.data("abilityName"),c=(b=f.closest(".selectbox")).closest(".block"),g=f.closest("form, .js-issuable-update"),m=c.find(".sidebar-collapsed-icon span"),L=c.find(".js-sidebar-labels-tooltip"),y=c.find(".value"),v=c.find(".block-loading").fadeOut(),x=f.data("fieldName"),f.is(".js-issuable-form-dropdown, .js-filter-bulk-update, .js-label-sidebar-dropdown"),O=b.find('input[name="'+f.data("fieldName")+'"]').map(function(){return this.value}).get();var B=a.handleClick;L.tooltip(),f.closest(".dropdown").find(".dropdown-new-label").length&&new u.a(f.closest(".dropdown").find(".dropdown-new-label"),C,I),j=function(){var t,n;n=f.closest(".selectbox").find("input[name='"+x+"']").map(function(){return this.value}).get(),o.a.isEqual(O,n)||(O=n,(t={})[w]={},t[w].label_ids=n,n.length||(t[w].label_ids=[""]),v.removeClass("hidden").fadeIn(),f.trigger("loading.gl.dropdown"),l.a.put(k,t).then(function(t){var n,s,a,o,l=t.data;v.fadeOut(),f.trigger("loaded.gl.dropdown"),b.hide(),l.issueUpdateURL=k,n=0,l.labels.length&&k?(s=e.getLabelTemplate({labels:l.labels,issueUpdateURL:k}),n=l.labels.length):s='<span class="no-value">None</span>',y.removeAttr("style").html(s),m.text(n),l.labels.length?((o=l.labels.map(function(e){return e.title})).length>5&&(o=o.slice(0,5)).push("and "+(l.labels.length-5)+" more"),a=o.join(", ")):a=Object(r.a)("Labels"),L.attr("title",a).tooltip("_fixTitle"),i()(".has-tooltip",y).tooltip({container:"body"})}).catch(function(){return Object(d.a)(Object(r.a)("Error saving label update."))}))},f.glDropdown({showMenuAbove:P,data:function(e,t){S=f.attr("data-labels"),l.a.get(S).then(function(e){var n=e.data;if(f.hasClass("js-extra-options")){var s=[];E&&s.unshift({id:0,title:"No Label"}),T&&s.unshift({isAny:!0,title:"Any Label"}),s.length&&(s.push("divider"),n=s.concat(n))}t(n),P&&f.data("glDropdown").positionMenuAbove()}).catch(function(){return Object(d.a)(Object(r.a)("Error fetching labels."))})},renderRow:function(e,t){var n,s,a,r,l,c,u,d,h,p;return s=i()("<li>"),n=i()('<a href="#">'),c=[],l=e.id<=0||null==e.id,f.hasClass("js-filter-bulk-update")?(r=f.data("indeterminate")||[],d=f.data("marked")||[],-1!==r.indexOf(e.id)&&c.push("is-indeterminate"),-1!==d.indexOf(e.id)&&(-1!==(u=c.indexOf("is-indeterminate"))&&c.splice(u,1),c.push("is-active"))):(this.id(e)&&(h=f.data("fieldName"),p=this.id(e).toString().replace(/'/g,"\\'"),g.find("input[type='hidden'][name='"+h+"'][value='"+p+"']").length&&c.push("is-active")),f.hasClass("js-multiselect")&&l&&c.push("dropdown-clear-active")),a=e.color?"<span class='dropdown-label-box' style='background: "+e.color+"'></span>":"",e.id&&(c.push("label-item"),n.attr("data-label-id",e.id)),n.addClass(c.join(" ")).html("".concat(a," ").concat(o.a.escape(e.title))),s.html(n).prop("outerHTML")},search:{fields:["title"]},selectable:!0,filterable:!0,selected:f.data("selected")||[],toggleLabel:function(e,t){var n=f.parent(),s=n.find(".dropdown-input-field"),i=null!==t&&t.hasClass("is-active"),a=e?e.title:null,o=this.selected;if(s.length&&s.val().length&&n.find(".dropdown-input-clear").trigger("click"),e&&0===e.id)return this.selected=[],"No Label";if(i)this.selected.push(a);else if(!i&&a){var l=this.selected.indexOf(a);this.selected.splice(l,1)}return 1===o.length?o:o.length?Object(r.f)(Object(r.a)("%{firstLabel} +%{labelCount} more"),{firstLabel:o[0],labelCount:o.length-1}):_},fieldName:f.data("fieldName"),id:function(e){return e.id<=0?e.title:f.hasClass("js-issuable-form-dropdown")?e.id:f.hasClass("js-filter-submit")&&null==e.isAny?e.title:e.id},hidden:function(){var e,t,n;e="projects:issues:index"===(n=i()("body").attr("data-page")),t="projects:merge_requests:index"===n,b.hide(),y.removeAttr("style"),f.hasClass("js-issuable-form-dropdown")||i()("html").hasClass("issue-boards-page")||f.hasClass("js-multiselect")&&(f.hasClass("js-filter-submit")&&(e||t)?(f.closest("form").find("input:hidden[name='"+f.data("fieldName")+"']"),Issuable.filterResults(f.closest("form"))):f.hasClass("js-filter-submit")?f.closest("form").submit():f.hasClass("js-filter-bulk-update")||j())},multiSelect:f.hasClass("js-multiselect"),vue:f.hasClass("js-issue-board-sidebar"),clicked:function(e){var t,s,a,o,r=e.$el,l=e.e,c=e.isMarking,u=e.selectedObj,d=function(){v.fadeOut()};if(t="projects:issues:index"===(a=i()("body").attr("data-page")),s="projects:merge_requests:index"===a,f.parent().find(".is-active:not(.dropdown-clear-active)").length&&f.parent().find(".dropdown-clear-active").removeClass("is-active"),!f.hasClass("js-issuable-form-dropdown")){if(f.hasClass("js-filter-bulk-update"))return n.enableBulkLabelDropdown(),void n.setDropdownData(f,c,u.id);if(f.closest(".add-issues-modal").length&&(o=h.a.store.filter),o)return u.isAny?o.label_name=[]:r.hasClass("is-active")&&o.label_name.push(u.title),void l.preventDefault();if(f.hasClass("js-filter-submit")&&(t||s)){if(!f.hasClass("js-multiselect"))return D=u.title,Issuable.filterResults(f.closest("form"))}else{if(f.hasClass("js-filter-submit"))return f.closest("form").submit();if(f.hasClass("js-issue-board-sidebar")){if(r.hasClass("is-active"))p.c.detail.issue.labels.push(new ListLabel({id:u.id,title:u.title,color:u.color,textColor:"#fff"}));else{var g=p.c.detail.issue.labels;g=g.filter(function(e){return e.id!==u.id}),p.c.detail.issue.labels=g}v.fadeIn(),p.c.detail.issue.update(f.attr("data-issue-update")).then(d).catch(d)}else if(B)l.preventDefault(),B(u);else if(!f.hasClass("js-multiselect"))return j()}}},opened:function(e){if(f.hasClass("js-issue-board-sidebar")){var t=f.attr("data-selected");this.selected=t?t.split(","):[],f.data("glDropdown").updateLabel()}},preserveContext:!0}),n.setOriginalDropdownData(A,f)}),this.bindEvents()}var t,n,s;return t=e,s=[{key:"getLabelTemplate",value:function(e){return o.a.template(["<% _.each(labels, function(label){ %>",'<a href="<%- issueUpdateURL.slice(0, issueUpdateURL.lastIndexOf("/")) %>?label_name[]=<%- encodeURIComponent(label.title) %>">','<span class="badge label has-tooltip color-label" title="<%- label.description %>" style="background-color: <%- label.color %>; color: <%- label.text_color %>;">',"<%- label.title %>","</span>","</a>","<% }); %>"].join(""))(e)}}],(n=[{key:"bindEvents",value:function(){return i()("body").on("change",".selected-issuable",this.onSelectCheckboxIssue)}},{key:"onSelectCheckboxIssue",value:function(){if(!i()(".selected-issuable:checked").length)return i()(".issues-bulk-update .labels-filter .dropdown-toggle-text").text("Label")}},{key:"enableBulkLabelDropdown",value:function(){c.a.willUpdateLabels=!0}},{key:"setDropdownData",value:function(e,t,n){var s,i,a,o;i=e.data("marked")||[],a=e.data("unmarked")||[],o=e.data("indeterminate")||[],t?(i.push(n),(s=o.indexOf(n))>-1&&o.splice(s,1),(s=a.indexOf(n))>-1&&a.splice(s,1)):((s=i.indexOf(n))>-1&&i.splice(s,1),c.a.getOriginalIndeterminateIds().indexOf(n)>-1&&a.push(n),c.a.getOriginalCommonIds().indexOf(n)>-1&&a.push(n)),e.data("marked",i),e.data("unmarked",a),e.data("indeterminate",o)}},{key:"setOriginalDropdownData",value:function(e,t){var n=[];e.find('[name="label_name[]"]').map(function(){return n.push(this.value)}),t.data("marked",n)}}])&&f(t.prototype,n),s&&f(t,s),e}()},124:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var s=n(0),i=n.n(s),a=n(5),o=n.n(a),r=n(1),l=(n(260),n(6)),c=n(20),u=n(48),d=n(21);function h(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var p=function(){function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==t&&(this.currentProject="string"==typeof t?JSON.parse(t):t),e.init(n,s)}var t,n,s;return t=e,s=[{key:"init",value:function(e,t){var n=i()(e);e||(n=i()(".js-milestone-select")),n.each(function(e,n){var s,a,h,p,f=i()(n),g=(f.data("projectId"),f.data("milestones")),v=f.data("issueUpdate"),b=f.data("showNo"),m=f.data("showAny"),y=f.data("showMenuAbove"),w=f.data("showUpcoming"),_=f.data("showStarted"),k=f.data("useId"),S=f.data("defaultLabel"),C=f.data("defaultNo"),I=(f.data("issuableId"),f.data("abilityName")),j=f.closest(".selectbox"),D=j.closest(".block"),T=D.find(".sidebar-collapsed-icon"),E=D.find(".value"),L=D.find(".block-loading").fadeOut();return p=m?"":null,p=b&&C?"No Milestone":p,h=f.data("selected")||p,v&&(a=o.a.template('<a href="<%- web_url %>" class="bold has-tooltip" data-container="body" title="<%- remaining %>"><%- title %></a>'),s='<span class="no-value">None</span>'),f.glDropdown({showMenuAbove:y,data:function(e,t){return l.a.get(g).then(function(e){var n=e.data,s=[];m&&s.push({id:null,name:null,title:"Any Milestone"}),b&&s.push({id:-1,name:"No Milestone",title:"No Milestone"}),w&&s.push({id:-2,name:"#upcoming",title:"Upcoming"}),_&&s.push({id:-3,name:"#started",title:"Started"}),s.length&&s.push("divider"),t(s.concat(n)),y&&f.data("glDropdown").positionMenuAbove(),i()('[data-milestone-id="'.concat(o.a.escape(h),'"] > a')).addClass("is-active")})},renderRow:function(e){return'\n          <li data-milestone-id="'.concat(o.a.escape(e.name),"\">\n            <a href='#' class='dropdown-menu-milestone-link'>\n              ").concat(o.a.escape(e.title),"\n            </a>\n          </li>\n        ")},filterable:!0,search:{fields:["title"]},selectable:!0,toggleLabel:function(e,t,n){return e&&"id"in e&&i()(t).hasClass("is-active")?e.title:S},defaultLabel:S,fieldName:f.data("fieldName"),text:function(e){return o.a.escape(e.title)},id:function(e){return k||f.is(".js-issuable-form-dropdown")?e.id:e.name},hidden:function(){return j.hide(),E.css("display","")},opened:function(e){var n=i()(e.currentTarget);(f.hasClass("js-issue-board-sidebar")||t.handleClick)&&(h=f[0].dataset.selected||p),i()("a.is-active",n).removeClass("is-active"),i()('[data-milestone-id="'.concat(o.a.escape(h),'"] > a'),n).addClass("is-active")},vue:f.hasClass("js-issue-board-sidebar"),clicked:function(e){e.$el;var n,o,g=e.e,b=e.selectedObj;if(b){if(t.handleClick)return g.preventDefault(),void t.handleClick(b);var m=i()("body").attr("data-page"),y="projects:issues:index"===m,w=m==m&&"projects:merge_requests:index"===m,_=b.name!==h;if(h=_?b.name:p,f.hasClass("js-filter-bulk-update")||f.hasClass("js-issuable-form-dropdown"))g.preventDefault();else if(f.closest(".add-issues-modal").length&&(o=u.a.store.filter),o)o[f.data("fieldName")]=b.name,g.preventDefault();else{if(f.hasClass("js-filter-submit")&&(y||w))return Issuable.filterResults(f.closest("form"));if(f.hasClass("js-filter-submit"))return f.closest("form").submit();if(!f.hasClass("js-issue-board-sidebar"))return b=j.find('input[type="hidden"]').val(),(n={})[I]={},n[I].milestone_id=null!=b?b:null,L.removeClass("hidden").fadeIn(),f.trigger("loading.gl.dropdown"),l.a.put(v,n).then(function(e){var t=e.data;return f.trigger("loaded.gl.dropdown"),L.fadeOut(),j.hide(),E.css("display",""),null!=t.milestone?(t.milestone.remaining=Object(c.n)(t.milestone.due_date),t.milestone.name=t.milestone.title,E.html(a(t.milestone)),T.attr("data-original-title","".concat(t.milestone.name,"<br />").concat(t.milestone.remaining)).find("span").text(t.milestone.title)):(E.html(s),T.attr("data-original-title",Object(r.a)("Milestone")).find("span").text(Object(r.a)("None")))}).catch(function(){L.fadeOut()});-1!==b.id&&_?Object(d.b)("milestone",new ListMilestone({id:b.id,title:b.name})):Object(d.a)("milestone"),f.trigger("loading.gl.dropdown"),L.removeClass("hidden").fadeIn(),d.c.detail.issue.update(f.attr("data-issue-update")).then(function(){f.trigger("loaded.gl.dropdown"),L.fadeOut()}).catch(function(){L.fadeOut()})}}}})})}}],(n=null)&&h(t.prototype,n),s&&h(t,s),e}();window.MilestoneSelect=p},126:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var s=n(0),i=n.n(s),a=n(88),o=n.n(a),r=n(116),l=n.n(r),c=n(1),u=n(6),d=n(20),h=n(21);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function g(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.$dropdown,s=t.$loading;p(this,e);var a=n.closest(".dropdown"),o=n.closest(".block");this.$loading=s,this.$dropdown=n,this.$dropdownParent=a,this.$datePicker=a.find(".js-due-date-calendar"),this.$block=o,this.$sidebarCollapsedValue=o.find(".sidebar-collapsed-icon"),this.$selectbox=n.closest(".selectbox"),this.$value=o.find(".value"),this.$valueContent=o.find(".value-content"),this.$sidebarValue=i()(".js-due-date-sidebar-value",o),this.fieldName=n.data("fieldName"),this.abilityName=n.data("abilityName"),this.issueUpdateURL=n.data("issueUpdate"),this.rawSelectedDate=null,this.displayedDate=null,this.datePayload=null,this.initGlDropdown(),this.initRemoveDueDate(),this.initDatePicker()}return g(e,[{key:"initGlDropdown",value:function(){var e=this;this.$dropdown.glDropdown({opened:function(){e.$datePicker.data("pikaday").show()},hidden:function(){e.$selectbox.hide(),e.$value.css("display","")}})}},{key:"initDatePicker",value:function(){var e=this,t=i()("input[name='".concat(this.fieldName,"']")),n=new o.a({field:t.get(0),theme:"gitlab-theme",format:"yyyy-mm-dd",parse:function(e){return Object(d.j)(e)},toString:function(e){return Object(d.l)(e)},onSelect:function(s){t.val(n.toString(s)),e.$dropdown.hasClass("js-issue-boards-due-date")?(h.c.detail.issue.dueDate=t.val(),e.updateIssueBoardIssue()):e.saveDueDate(!0)}});n.setDate(Object(d.j)(t.val())),this.$datePicker.append(n.el),this.$datePicker.data("pikaday",n)}},{key:"initRemoveDueDate",value:function(){var e=this;this.$block.on("click",".js-remove-due-date",function(t){var n=e.$datePicker.data("pikaday");t.preventDefault(),n.setDate(null),e.$dropdown.hasClass("js-issue-boards-due-date")?(h.c.detail.issue.dueDate="",e.updateIssueBoardIssue()):(i()("input[name='".concat(e.fieldName,"']")).val(""),e.saveDueDate(!1))})}},{key:"saveDueDate",value:function(e){this.parseSelectedDate(),this.prepSelectedDate(),this.submitSelectedDate(e)}},{key:"parseSelectedDate",value:function(){if(this.rawSelectedDate=i()("input[name='".concat(this.fieldName,"']")).val(),this.rawSelectedDate.length){var e=this.rawSelectedDate.split("-").map(function(e){return parseInt(e,10)}),t=new Date(e[0],e[1]-1,e[2]);this.displayedDate=l()(t,"mmm d, yyyy")}else this.displayedDate="No due date"}},{key:"prepSelectedDate",value:function(){var e={};e[this.abilityName]={},e[this.abilityName].due_date=this.rawSelectedDate,this.datePayload=e}},{key:"updateIssueBoardIssue",value:function(){var e=this;this.$loading.fadeIn(),this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide(),this.$value.css("display","");var t=function(){e.$loading.fadeOut()};h.c.detail.issue.update(this.$dropdown.attr("data-issue-update")).then(t).catch(t)}},{key:"submitSelectedDate",value:function(e){var t=this,n=this.datePayload[this.abilityName].due_date,s="No due date"!==this.displayedDate,a=s?"bold":"no-value";return this.$loading.removeClass("hidden").fadeIn(),e&&(this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide()),this.$value.css("display",""),this.$valueContent.html("<span class='".concat(a,"'>").concat(this.displayedDate,"</span>")),this.$sidebarValue.html(this.displayedDate),i()(".js-remove-due-date-holder").toggleClass("hidden",n.length),u.a.put(this.issueUpdateURL,this.datePayload).then(function(){var i=s?"".concat(Object(c.a)("Due date"),"<br />").concat(n," (").concat(Object(d.n)(n),")"):Object(c.a)("Due date");return e&&(t.$dropdown.trigger("loaded.gl.dropdown"),t.$dropdown.dropdown("toggle")),t.$sidebarCollapsedValue.attr("data-original-title",i),t.$loading.fadeOut()})}}]),e}(),b=function(){function e(){p(this,e),this.initMilestoneDatePicker(),this.initIssuableSelect()}return g(e,[{key:"initMilestoneDatePicker",value:function(){i()(".datepicker").each(function(){var e=i()(this),t=e.val(),n=new o.a({field:e.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",container:e.parent().get(0),parse:function(e){return Object(d.j)(e)},toString:function(e){return Object(d.l)(e)},onSelect:function(t){e.val(n.toString(t))}});n.setDate(Object(d.j)(t)),e.data("pikaday",n)}),i()(".js-clear-due-date,.js-clear-start-date").on("click",function(e){e.preventDefault(),i()(e.target).siblings(".datepicker").data("pikaday").setDate(null)})}},{key:"initIssuableSelect",value:function(){var e=i()(".js-issuable-update .due_date").find(".block-loading").hide();i()(".js-due-date-select").each(function(t,n){var s=i()(n);new v({$dropdown:s,$loading:e})})}}]),e}()},144:function(e,t,n){"use strict";var s=n(232),i=[{key:"author",type:"string",param:"username",symbol:"@",icon:"pencil",tag:"@author"},{key:"assignee",type:"string",param:"username",symbol:"@",icon:"user",tag:"@assignee"},{key:"milestone",type:"string",param:"title",symbol:"%",icon:"clock",tag:"%milestone"},{key:"label",type:"array",param:"name[]",symbol:"~",icon:"labels",tag:"~label"}];gon.current_user_id&&i.push({key:"my-reaction",type:"string",param:"emoji",symbol:"",icon:"thumb-up",tag:"emoji"});var a=new s.a(i,[{key:"label",type:"string",param:"name",symbol:"~"}],[{url:"assignee_id=None",tokenKey:"assignee",value:"none"},{url:"assignee_id=Any",tokenKey:"assignee",value:"any"},{url:"milestone_title=None",tokenKey:"milestone",value:"none"},{url:"milestone_title=Any",tokenKey:"milestone",value:"any"},{url:"milestone_title=%23upcoming",tokenKey:"milestone",value:"upcoming"},{url:"milestone_title=%23started",tokenKey:"milestone",value:"started"},{url:"label_name[]=None",tokenKey:"label",value:"none"},{url:"label_name[]=Any",tokenKey:"any",value:"any"},{url:"my_reaction_emoji=None",tokenKey:"my-reaction",value:"none"},{url:"my_reaction_emoji=Any",tokenKey:"my-reaction",value:"any"}]);t.a=a},159:function(e,t,n){"use strict";var s=n(0),i=n.n(s),a=n(5),o=n.n(a),r=n(14),l=n.n(r),c=n(7),u=n(6),d=n(1);function h(e){this.toggleTodo=this.toggleTodo.bind(this),this.sidebar=i()("aside"),this.removeListeners(),this.addEventListeners()}h.initialize=function(e){this.instance||(this.instance=new h(e))},h.prototype.removeListeners=function(){this.sidebar.off("click",".sidebar-collapsed-icon"),this.sidebar.off("hidden.gl.dropdown"),i()(".dropdown").off("loading.gl.dropdown"),i()(".dropdown").off("loaded.gl.dropdown"),i()(document).off("click",".js-sidebar-toggle")},h.prototype.addEventListeners=function(){var e=i()(document);return this.sidebar.on("click",".sidebar-collapsed-icon",this,this.sidebarCollapseClicked),this.sidebar.on("hidden.gl.dropdown",this,this.onSidebarDropdownHidden),i()(".dropdown").on("loading.gl.dropdown",this.sidebarDropdownLoading),i()(".dropdown").on("loaded.gl.dropdown",this.sidebarDropdownLoaded),e.on("click",".js-sidebar-toggle",this.sidebarToggleClicked),i()(document).off("click",".js-issuable-todo").on("click",".js-issuable-todo",this.toggleTodo)},h.prototype.sidebarToggleClicked=function(e,t){var n,s,a,o;e.preventDefault(),o=(a=(s=i()(this)).find("i").hasClass("fa-angle-double-right"))?Object(d.a)("Expand sidebar"):Object(d.a)("Collapse sidebar"),n=i()(".js-sidebar-toggle i"),a?(n.removeClass("fa-angle-double-right").addClass("fa-angle-double-left"),i()("aside.right-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed"),i()(".layout-page").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed")):(n.removeClass("fa-angle-double-left").addClass("fa-angle-double-right"),i()("aside.right-sidebar").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),i()(".layout-page").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded")),s.attr("data-original-title",o),t||l.a.set("collapsed_gutter",i()(".right-sidebar").hasClass("right-sidebar-collapsed"))},h.prototype.toggleTodo=function(e){var t,n,s,a=this;t=i()(e.currentTarget),n=t.data("deletePath")?"delete":"post",s=t.data("deletePath")?""+t.data("deletePath"):""+t.data("createPath"),t.tooltip("hide"),i()(".js-issuable-todo").disable().addClass("is-loading"),u.a[n](s,{issuable_id:t.data("issuableId"),issuable_type:t.data("issuableType")}).then(function(e){var t=e.data;a.todoUpdateDone(t)}).catch(function(){return Object(c.a)("There was an error ".concat("post"===n?"adding a":"deleting the"," todo."))})},h.prototype.todoUpdateDone=function(e){var t=e.delete_path?e.delete_path:null,n=t?"mark":"todo",s=i()(".js-issuable-todo");i()(document).trigger("todo:toggle",e.count),s.each(function(e,s){var a=i()(s),o=a.find(".js-issuable-todo-inner");a.removeClass("is-loading").enable().attr("aria-label",a.data("".concat(n,"Text"))).attr("title",a.data("".concat(n,"Text"))).data("deletePath",t),a.hasClass("has-tooltip")&&a.tooltip("_fixTitle"),void 0!==a.data("isCollapsed")?o.html(a.data("".concat(n,"Icon"))):o.text(a.data("".concat(n,"Text")))})},h.prototype.sidebarDropdownLoading=function(e){var t,n,s,a;return a=(n=i()(this).closest(".block").find(".sidebar-collapsed-icon")).find("img"),s=n.find("i"),t=i()('<i class="fa fa-spinner fa-spin"></i>'),a.length?(a.before(t),a.hide()):s.length?(s.before(t),s.hide()):void 0},h.prototype.sidebarDropdownLoaded=function(e){var t,n,s;return s=(t=i()(this).closest(".block").find(".sidebar-collapsed-icon")).find("img"),t.find("i.fa-spin").remove(),n=t.find("i"),s.length?s.show():n.show()},h.prototype.sidebarCollapseClicked=function(e){var t,n;if(!i()(e.currentTarget).hasClass("dont-change-state"))return n=e.data,e.preventDefault(),t=i()(this).closest(".block"),n.openDropdown(t)},h.prototype.openDropdown=function(e){var t;t=o.a.isString(e)?this.getBlock(e):e,this.isOpen()||(this.setCollapseAfterUpdate(t),this.toggleSidebar("open")),setTimeout(function(){t.find(".js-sidebar-dropdown-toggle").trigger("click")})},h.prototype.setCollapseAfterUpdate=function(e){return e.addClass("collapse-after-update"),i()(".layout-page").addClass("with-overlay")},h.prototype.onSidebarDropdownHidden=function(e){var t,n;return n=e.data,e.preventDefault(),t=i()(e.target).closest(".block"),n.sidebarDropdownHidden(t)},h.prototype.sidebarDropdownHidden=function(e){if(e.hasClass("collapse-after-update"))return e.removeClass("collapse-after-update"),i()(".layout-page").removeClass("with-overlay"),this.toggleSidebar("hide")},h.prototype.triggerOpenSidebar=function(){return this.sidebar.find(".js-sidebar-toggle").trigger("click")},h.prototype.toggleSidebar=function(e){if(null==e&&(e="toggle"),"toggle"===e&&this.triggerOpenSidebar(),"open"===e&&(this.isOpen()||this.triggerOpenSidebar()),"hide"===e&&this.isOpen())return this.triggerOpenSidebar()},h.prototype.isOpen=function(){return this.sidebar.is(".right-sidebar-expanded")},h.prototype.getBlock=function(e){return this.sidebar.find(".block."+e)},t.a=h},164:function(e,t,n){"use strict";var s=n(10),i=n(1),a=n(15),o=Object(i.e)("ToggleButton|Toggle Status: ON"),r=Object(i.e)("ToggleButton|Toggle Status: OFF"),l={components:{icon:a.a,GlLoadingIcon:s.e},model:{prop:"value",event:"change"},props:{name:{type:String,required:!1,default:null},value:{type:Boolean,required:!1,default:null},disabledInput:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1}},computed:{toggleIcon:function(){return this.value?"status_success_borderless":"status_failed_borderless"},ariaLabel:function(){return this.value?o:r}},methods:{toggleFeature:function(){this.disabledInput||this.$emit("change",!this.value)}}},c=n(3),u=Object(c.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"toggle-wrapper"},[e.name?n("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.value}}):e._e(),e._v(" "),n("button",{staticClass:"project-feature-toggle",class:{"is-checked":e.value,"is-disabled":e.disabledInput,"is-loading":e.isLoading},attrs:{"aria-label":e.ariaLabel,type:"button"},on:{click:e.toggleFeature}},[n("gl-loading-icon",{staticClass:"loading-icon"}),e._v(" "),n("span",{staticClass:"toggle-icon"},[n("icon",{attrs:{name:e.toggleIcon,"css-classes":"toggle-icon-svg"}})],1)],1)])},[],!1,null,null,null);u.options.__file="toggle_button.vue";t.a=u.exports},21:function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return p});var s=n(0),i=n.n(s),a=n(5),o=n.n(a),r=n(11),l=n(14),c=n.n(l),u=n(13),d={disabled:!1,filter:{path:""},state:{},detail:{issue:{}},moving:{issue:{},list:{}},create:function(){this.state.lists=[],this.filter.path=Object(u.l)().join("&"),this.detail={issue:{}}},addList:function(e,t){var n=new List(e,t);return this.state.lists.push(n),n},new:function(e){var t=this,n=this.addList(e),s=this.findList("type","backlog","backlog");n.save().then(function(){n.issues.forEach(s.removeIssue.bind(s)),t.state.lists=o.a.sortBy(t.state.lists,"position")}).catch(function(){}),this.removeBlankState()},updateNewListDropdown:function(e){i()(".js-board-list-".concat(e)).removeClass("is-active")},shouldAddBlankState:function(){return!this.state.lists.filter(function(e){return"backlog"!==e.type&&"closed"!==e.type})[0]},addBlankState:function(){!this.shouldAddBlankState()||this.welcomeIsHidden()||this.disabled||(this.addList({id:"blank",list_type:"blank",title:"Welcome to your Issue Board!",position:0}),this.state.lists=o.a.sortBy(this.state.lists,"position"))},removeBlankState:function(){this.removeList("blank"),c.a.set("issue_board_welcome_hidden","true",{expires:3650,path:""})},welcomeIsHidden:function(){return Object(u.A)(c.a.get("issue_board_welcome_hidden"))},removeList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank";this.findList("id",e,t)&&(this.state.lists=this.state.lists.filter(function(t){return t.id!==e}))},moveList:function(e,t){var n=this;t.forEach(function(e,t){n.findList("id",parseInt(e,10)).position=t}),e.update()},moveIssueToList:function(e,t,n,s){var i=t.findIssue(n.id),a=n.getLists(),o=a.map(function(e){return e.label});if(i)t.updateIssueLabel(n,e),i.removeLabel(e.label);else if("assignee"===t.type&&"assignee"===e.type&&n.findAssignee(t.assignee))t.findIssue(n.id).removeAssignee(e.assignee);else if("milestone"===t.type){var r=n.milestone,l=this.state.lists.filter(function(e){return"milestone"===e.type&&e.id!==t.id}).filter(function(e){return e.issues.some(function(e){return n.id===e.id})});n.removeMilestone(r),n.addMilestone(t.milestone),l.forEach(function(e){return e.removeIssue(n)}),t.addIssue(n,e,s)}else t.addIssue(n,e,s);"closed"===t.type&&"backlog"!==e.type?(a.forEach(function(e){e.removeIssue(n)}),n.removeLabels(o)):"backlog"===t.type&&"assignee"===e.type?(n.removeAssignee(e.assignee),e.removeIssue(n)):"backlog"===t.type&&"milestone"===e.type?(n.removeMilestone(e.milestone),e.removeIssue(n)):this.shouldRemoveIssue(e,t)&&e.removeIssue(n)},shouldRemoveIssue:function(e,t){return"label"!==t.type&&"assignee"===e.type||"assignee"!==t.type&&"label"===e.type||"backlog"===e.type},moveIssueInList:function(e,t,n,s,i){var a=parseInt(i[s-1],10)||null,o=parseInt(i[s+1],10)||null;e.moveIssue(t,n,s,a,o)},findList:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";return this.state.lists.filter(function(s){var i=!n||(s.type===n||"assignee"===s.type||"milestone"===s.type);return s[e]===t&&i})[0]},findListByLabelId:function(e){return this.state.lists.find(function(t){return"label"===t.type&&t.label.id===e})},updateFiltersUrl:function(){window.history.pushState(null,null,"?".concat(this.filter.path))}};function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.default.set.apply(r.default,[d.detail.issue].concat(t))}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.default.delete.apply(r.default,[d.detail.issue].concat(t))}t.c=d},217:function(e,t,n){"use strict";var s=n(5),i=n.n(s),a=n(13),o=n(144),r=n(19),l=n(7),c=n(120),u=n(11),d=new u.default,h=n(165),p={name:"RecentSearchesDropdownContent",props:{items:{type:Array,required:!0},isLocalStorageAvailable:{type:Boolean,required:!1,default:!0},allowedKeys:{type:Array,required:!0}},computed:{processedItems:function(){var e=this;return this.items.map(function(t){var n=h.a.processTokens(t,e.allowedKeys),s=n.tokens,i=n.searchToken;return{text:t,tokens:s.map(function(e){return{prefix:"".concat(e.key,":"),suffix:"".concat(e.symbol).concat(e.value)}}),searchToken:i}})},hasItems:function(){return this.items.length>0}},methods:{onItemActivated:function(e){d.$emit("recentSearchesItemSelected",e)},onRequestClearRecentSearches:function(e){e.stopPropagation(),d.$emit("requestClearRecentSearches")}}},f=n(3),g=Object(f.a)(p,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLocalStorageAvailable?e.hasItems?n("ul",[e._l(e.processedItems,function(t,s){return n("li",{key:"processed-items-"+s},[n("button",{staticClass:"filtered-search-history-dropdown-item",attrs:{type:"button"},on:{click:function(n){e.onItemActivated(t.text)}}},[n("span",e._l(t.tokens,function(t,s){return n("span",{key:"dropdown-token-"+s,staticClass:"filtered-search-history-dropdown-token"},[n("span",{staticClass:"name"},[e._v(e._s(t.prefix))]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(t.suffix))])])}),0),e._v(" "),n("span",{staticClass:"filtered-search-history-dropdown-search-token"},[e._v("\n          "+e._s(t.searchToken)+"\n        ")])])])}),e._v(" "),n("li",{staticClass:"divider"}),e._v(" "),n("li",[n("button",{staticClass:"filtered-search-history-clear-button",attrs:{type:"button"},on:{click:function(t){e.onRequestClearRecentSearches(t)}}},[e._v("\n        Clear recent searches\n      ")])])],2):n("div",{staticClass:"dropdown-info-note"},[e._v("You don't have any recent searches")]):n("div",{staticClass:"dropdown-info-note"},[e._v("\n    This feature requires local storage to be enabled\n  ")])])},[],!1,null,null,null);g.options.__file="recent_searches_dropdown_content.vue";var v=g.exports;function b(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var m=function(){function e(t,n,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.service=n,this.wrapperElement=s}var t,n,s;return t=e,(n=[{key:"init",value:function(){this.bindEvents(),this.render()}},{key:"bindEvents",value:function(){this.onRequestClearRecentSearchesWrapper=this.onRequestClearRecentSearches.bind(this),d.$on("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}},{key:"unbindEvents",value:function(){d.$off("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}},{key:"render",value:function(){var e=this.store.state;this.vm=new u.default({el:this.wrapperElement,components:{RecentSearchesDropdownContent:v},data:function(){return e},template:'\n        <recent-searches-dropdown-content\n          :items="recentSearches"\n          :is-local-storage-available="isLocalStorageAvailable"\n          :allowed-keys="allowedKeys"\n          />\n      '})}},{key:"onRequestClearRecentSearches",value:function(){var e=this.store.setRecentSearches([]);this.service.save(e)}},{key:"destroy",value:function(){this.unbindEvents(),this.vm&&this.vm.$destroy()}}])&&b(t.prototype,n),s&&b(t,s),e}();function y(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=Object.assign({isLocalStorageAvailable:!0,recentSearches:[],allowedKeys:n},t)}var t,n,s;return t=e,(n=[{key:"addRecentSearch",value:function(e){return this.setRecentSearches([e].concat(this.state.recentSearches)),this.state.recentSearches}},{key:"setRecentSearches",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.trim()});return this.state.recentSearches=i.a.uniq(e).slice(0,5),this.state.recentSearches}}])&&y(t.prototype,n),s&&y(t,s),e}();var _=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="RecentSearchesServiceError",this.message=t||"Recent Searches Service is unavailable"};_.prototype=Error.prototype;var k=_,S=n(31);function C(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"issuable-recent-searches";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.localStorageKey=t}var t,n,s;return t=e,s=[{key:"isAvailable",value:function(){return S.a.isLocalStorageAccessSafe()}}],(n=[{key:"fetch",value:function(){if(!e.isAvailable()){var t=new k;return Promise.reject(t)}var n=window.localStorage.getItem(this.localStorageKey),s=[];if(n&&n.length>0)try{s=JSON.parse(n)}catch(e){return Promise.reject(e)}return Promise.resolve(s)}},{key:"save",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.isAvailable()&&window.localStorage.setItem(this.localStorageKey,JSON.stringify(t))}}])&&C(t.prototype,n),s&&C(t,s),e}(),j=n(176),D=n(278),T=n(64),E=n(95);function L(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}n.d(t,"a",function(){return O});var O=function(){function e(t){var n=t.page,s=t.isGroup,i=void 0!==s&&s,a=t.isGroupAncestor,r=void 0===a||a,l=t.isGroupDecendent,u=void 0!==l&&l,d=t.filteredSearchTokenKeys,h=void 0===d?o.a:d,p=t.stateFiltersSelector,f=void 0===p?".issues-state-filters":p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isGroup=i,this.isGroupAncestor=r,this.isGroupDecendent=u,this.states=["opened","closed","merged","all"],this.page=n,this.container=c.a.container,this.filteredSearchInput=this.container.querySelector(".filtered-search"),this.filteredSearchInputForm=this.filteredSearchInput.form,this.clearSearchButton=this.container.querySelector(".clear-search"),this.tokensContainer=this.container.querySelector(".tokens-container"),this.filteredSearchTokenKeys=h,this.stateFiltersSelector=f,this.recentsStorageKeyNames={issues:"issue-recent-searches",merge_requests:"merge-request-recent-searches"},this.recentSearchesStore=new w({isLocalStorageAvailable:I.isAvailable(),allowedKeys:this.filteredSearchTokenKeys.getKeys()}),this.searchHistoryDropdownElement=document.querySelector(".js-filtered-search-history-dropdown");var g=this.searchHistoryDropdownElement?this.searchHistoryDropdownElement.dataset.fullPath:"project",v="".concat(g,"-").concat(this.recentsStorageKeyNames[this.page]);this.recentSearchesService=new I(v)}var t,n,s;return t=e,(n=[{key:"setup",value:function(){var e=this;this.fetchingRecentSearchesPromise=this.recentSearchesService.fetch().catch(function(e){if("RecentSearchesServiceError"!==e.name)return new l.a("An error occurred while parsing recent searches"),[]}).then(function(t){if(t){var n=e.recentSearchesStore.setRecentSearches(e.recentSearchesStore.state.recentSearches.concat(t));e.recentSearchesService.save(n)}}),this.filteredSearchInput&&(this.tokenizer=h.a,this.dropdownManager=new D.a({baseEndpoint:this.filteredSearchInput.getAttribute("data-base-endpoint")||"",tokenizer:this.tokenizer,page:this.page,isGroup:this.isGroup,isGroupAncestor:this.isGroupAncestor,isGroupDecendent:this.isGroupDecendent,filteredSearchTokenKeys:this.filteredSearchTokenKeys}),this.recentSearchesRoot=new m(this.recentSearchesStore,this.recentSearchesService,this.searchHistoryDropdownElement),this.recentSearchesRoot.init(),this.bindEvents(),this.loadSearchParamsFromURL(),this.dropdownManager.setDropdown(),this.cleanupWrapper=this.cleanup.bind(this),document.addEventListener("beforeunload",this.cleanupWrapper))}},{key:"cleanup",value:function(){this.unbindEvents(),document.removeEventListener("beforeunload",this.cleanupWrapper),this.recentSearchesRoot&&this.recentSearchesRoot.destroy()}},{key:"bindStateEvents",value:function(){var e=this;this.stateFilters=document.querySelector(".container-fluid ".concat(this.stateFiltersSelector)),this.stateFilters&&(this.searchStateWrapper=this.searchState.bind(this),this.applyToStateFilters(function(t){t.addEventListener("click",e.searchStateWrapper)}))}},{key:"unbindStateEvents",value:function(){var e=this;this.stateFilters&&this.applyToStateFilters(function(t){t.removeEventListener("click",e.searchStateWrapper)})}},{key:"applyToStateFilters",value:function(e){var t=this;this.stateFilters.querySelectorAll("a[data-state]").forEach(function(n){t.states.indexOf(n.dataset.state)>-1&&e(n)})}},{key:"bindEvents",value:function(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.setDropdownWrapper=this.dropdownManager.setDropdown.bind(this.dropdownManager),this.toggleClearSearchButtonWrapper=this.toggleClearSearchButton.bind(this),this.handleInputPlaceholderWrapper=this.handleInputPlaceholder.bind(this),this.handleInputVisualTokenWrapper=this.handleInputVisualToken.bind(this),this.checkForEnterWrapper=this.checkForEnter.bind(this),this.onClearSearchWrapper=this.onClearSearch.bind(this),this.checkForBackspaceWrapper=this.checkForBackspace.call(this),this.removeSelectedTokenKeydownWrapper=this.removeSelectedTokenKeydown.bind(this),this.unselectEditTokensWrapper=this.unselectEditTokens.bind(this),this.editTokenWrapper=this.editToken.bind(this),this.tokenChange=this.tokenChange.bind(this),this.addInputContainerFocusWrapper=this.addInputContainerFocus.bind(this),this.removeInputContainerFocusWrapper=this.removeInputContainerFocus.bind(this),this.onrecentSearchesItemSelectedWrapper=this.onrecentSearchesItemSelected.bind(this),this.removeTokenWrapper=this.removeToken.bind(this),this.filteredSearchInputForm.addEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.addEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.addEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.addEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.addEventListener("input",this.handleInputVisualTokenWrapper),this.filteredSearchInput.addEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.addEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.addEventListener("click",this.tokenChange),this.filteredSearchInput.addEventListener("keyup",this.tokenChange),this.filteredSearchInput.addEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.addEventListener("click",this.removeTokenWrapper),this.tokensContainer.addEventListener("click",this.editTokenWrapper),this.clearSearchButton.addEventListener("click",this.onClearSearchWrapper),document.addEventListener("click",this.unselectEditTokensWrapper),document.addEventListener("click",this.removeInputContainerFocusWrapper),document.addEventListener("keydown",this.removeSelectedTokenKeydownWrapper),d.$on("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.bindStateEvents()}},{key:"unbindEvents",value:function(){this.filteredSearchInputForm.removeEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.removeEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.removeEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.removeEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.removeEventListener("input",this.handleInputVisualTokenWrapper),this.filteredSearchInput.removeEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.removeEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.removeEventListener("click",this.tokenChange),this.filteredSearchInput.removeEventListener("keyup",this.tokenChange),this.filteredSearchInput.removeEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.removeEventListener("click",this.removeTokenWrapper),this.tokensContainer.removeEventListener("click",this.editTokenWrapper),this.clearSearchButton.removeEventListener("click",this.onClearSearchWrapper),document.removeEventListener("click",this.unselectEditTokensWrapper),document.removeEventListener("click",this.removeInputContainerFocusWrapper),document.removeEventListener("keydown",this.removeSelectedTokenKeydownWrapper),d.$off("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.unbindStateEvents()}},{key:"checkForBackspace",value:function(){var e=this,t=0;return function(n){if(8===n.keyCode||46===n.keyCode){var s=T.a.getLastVisualTokenBeforeInput().lastVisualToken,i=E.a.getVisualTokenValues(s),a=i.tokenName,o=i.tokenValue,r=a&&e.canEdit&&e.canEdit(a,o);""===e.filteredSearchInput.value&&s&&r&&2===(t+=1)&&(t=0,e.filteredSearchInput.value=T.a.getLastTokenPartial(),T.a.removeLastTokenPartial()),e.dropdownManager.updateCurrentDropdownOffset()}else t=0}}},{key:"checkForEnter",value:function(e){if(38===e.keyCode||40===e.keyCode){var t=this.filteredSearchInput.selectionStart;e.preventDefault(),this.filteredSearchInput.setSelectionRange(t,t)}if(13===e.keyCode){var n=this.dropdownManager.mapping[this.dropdownManager.currentDropdown].element.querySelectorAll(".droplab-item-active");e.preventDefault(),n.length||(this.isHandledAsync?(e.stopImmediatePropagation(),this.filteredSearchInput.blur(),this.dropdownManager.resetDropdowns()):this.dropdownManager.destroyDroplab(),this.search())}}},{key:"addInputContainerFocus",value:function(){Object(j.a)(this.filteredSearchInput.closest(".filtered-search-box"),"focus")}},{key:"removeInputContainerFocus",value:function(e){var t=this.filteredSearchInput.closest(".filtered-search-box"),n=t&&t.contains(e.target),s=null!==e.target.closest(".filter-dropdown"),i=null!==e.target.closest("ul[data-dropdown]");n||s||i||!t||t.classList.remove("focus")}},{key:"removeToken",value:function(e){if(e.target.closest(".remove-token")){e.preventDefault(),e.stopImmediatePropagation();var t=e.target.closest(".selectable");T.a.selectToken(t,!0),this.removeSelectedToken()}}},{key:"unselectEditTokens",value:function(e){var t=this.container.querySelector(".filtered-search-box"),n=t&&t.contains(e.target),s=null!==e.target.closest(".filter-dropdown"),i=e.target.classList.contains("tokens-container");(!n&&!s||i)&&(T.a.moveInputToTheRight(),this.dropdownManager.resetDropdowns())}},{key:"editToken",value:function(e){var t=e.target.closest(".js-visual-token"),n=t&&t.querySelector(".name").textContent.trim(),s=this.canEdit&&this.canEdit(n);t&&s&&(e.preventDefault(),e.stopPropagation(),T.a.editToken(t),this.tokenChange())}},{key:"toggleClearSearchButton",value:function(){var e=E.a.getSearchQuery(),t=this.clearSearchButton.classList.contains("hidden");0!==e.length||t?e.length&&t&&this.clearSearchButton.classList.remove("hidden"):this.clearSearchButton.classList.add("hidden")}},{key:"handleInputPlaceholder",value:function(){var e=E.a.getSearchQuery(),t=this.filteredSearchInput.placeholder;0===e.length&&"Search or filter results..."!==t?this.filteredSearchInput.placeholder="Search or filter results...":e.length>0&&""!==t&&(this.filteredSearchInput.placeholder="")}},{key:"removeSelectedTokenKeydown",value:function(e){8!==e.keyCode&&46!==e.keyCode||this.removeSelectedToken()}},{key:"removeSelectedToken",value:function(){T.a.removeSelectedToken(),this.handleInputPlaceholder(),this.toggleClearSearchButton(),this.dropdownManager.updateCurrentDropdownOffset()}},{key:"onClearSearch",value:function(e){e.preventDefault(),this.clearSearch()}},{key:"clearSearch",value:function(){var e=this;this.filteredSearchInput.value="";var t=[];[].forEach.call(this.tokensContainer.children,function(n){var s=n.classList.contains("js-visual-token");if(s){var i=E.a.getVisualTokenValues(n),a=i.tokenName,o=i.tokenValue;s=e.canEdit&&e.canEdit(a,o)}s&&t.push(n)}),t.forEach(function(e){e.parentElement.removeChild(e)}),this.clearSearchButton.classList.add("hidden"),this.handleInputPlaceholder(),this.dropdownManager.resetDropdowns(),this.isHandledAsync&&this.search()}},{key:"handleInputVisualToken",value:function(){var e=this,t=this.filteredSearchInput,n=this.tokenizer.processTokens(t.value,this.filteredSearchTokenKeys.getKeys()),s=n.tokens,a=n.searchToken;if(T.a.getLastVisualTokenBeforeInput().isLastVisualTokenValid){s.forEach(function(n){t.value=t.value.replace("".concat(n.key,":").concat(n.symbol).concat(n.value),""),T.a.addFilterVisualToken(n.key,"".concat(n.symbol).concat(n.value),{uppercaseTokenName:e.filteredSearchTokenKeys.shouldUppercaseTokenName(n.key),capitalizeTokenValue:e.filteredSearchTokenKeys.shouldCapitalizeTokenValue(n.key)})});var o=a.split(":");if(o.length>1){var r=o[0].split(" "),l=i.a.last(r);if(r.length>1){r.pop();var c=r.join(" ");t.value=t.value.replace(c,""),T.a.addSearchVisualToken(c)}T.a.addFilterVisualToken(l,null,{uppercaseTokenName:this.filteredSearchTokenKeys.shouldUppercaseTokenName(l),capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(l)}),t.value=t.value.replace("".concat(l,":"),"")}}else{if(a.match(/([~%@]{0,1}".+")|([~%@]{0,1}'.+')|^((?![~%@]')(?![~%@]")(?!')(?!")).*/g)&&" "===t.value[t.value.length-1]){var u=T.a.getLastTokenPartial();T.a.addFilterVisualToken(a,null,{capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(u)}),t.value=t.value.replace(a,"").trim()}}}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),this.search()}},{key:"saveCurrentSearchQuery",value:function(){var e=this;this.fetchingRecentSearchesPromise.then(function(){var t=E.a.getSearchQuery();if(t.length>0){var n=e.recentSearchesStore.addRecentSearch(t);e.recentSearchesService.save(n)}}).catch(function(){})}},{key:"getAllParams",value:function(e){return this.modifyUrlParams?this.modifyUrlParams(e):e}},{key:"loadSearchParamsFromURL",value:function(){var e=this,t=Object(a.l)(),n=this.getAllParams(t),s=this.getUsernameParams(),i=!1;n.forEach(function(t){var n=t.split("="),a=decodeURIComponent(n[0]),o=n[1],r=e.filteredSearchTokenKeys.searchByConditionUrl(t);if(r){i=!0;var l=e.canEdit&&e.canEdit(r.tokenKey);T.a.addFilterVisualToken(r.tokenKey,r.value,{canEdit:l})}else{var c=o?decodeURIComponent(o.replace(/\+/g," ")):o,u=e.filteredSearchTokenKeys.searchByKeyParam(a);if(u){var d=a.lastIndexOf("_"),h=-1!==d?a.slice(0,d):a;h=h.replace("_","-");var p=u.symbol,f="";-1!==c.indexOf(" ")&&(f=-1===c.indexOf('"')?'"':"'"),i=!0;var g=e.canEdit&&e.canEdit(h,c),v=u.uppercaseTokenName,b=u.capitalizeTokenValue;T.a.addFilterVisualToken(h,"".concat(p).concat(f).concat(c).concat(f),{canEdit:g,uppercaseTokenName:v,capitalizeTokenValue:b})}else if(u||"assignee_id"!==a)if(u||"author_id"!==a)u||"search"!==a||(i=!0,e.filteredSearchInput.value=c);else{var m=parseInt(o,10);if(s[m]){i=!0;var y=e.canEdit&&e.canEdit("author");T.a.addFilterVisualToken("author","@".concat(s[m]),{canEdit:y})}}else{var w=parseInt(o,10);if(s[w]){i=!0;var _=e.canEdit&&e.canEdit("assignee");T.a.addFilterVisualToken("assignee","@".concat(s[w]),{canEdit:_})}}}}),this.saveCurrentSearchQuery(),i&&(this.clearSearchButton.classList.remove("hidden"),this.handleInputPlaceholder())}},{key:"searchState",value:function(e){e.preventDefault();var t=e.currentTarget;t.blur();var n=t.dataset&&t.dataset.state;n&&this.search(n)}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[],s=E.a.getSearchQuery();this.saveCurrentSearchQuery();var i=this.filteredSearchTokenKeys.getKeys(),o=this.tokenizer.processTokens(s,i),l=o.tokens,c=o.searchToken,u=t||Object(a.i)("state")||"opened";if(n.push("state=".concat(u)),l.forEach(function(t){var s=e.filteredSearchTokenKeys.searchByConditionKeyValue(t.key,t.value.toLowerCase()),i=e.filteredSearchTokenKeys.searchByKey(t.key)||{},a=i.param,o=t.key.replace("-","_"),r=a?"".concat(o,"_").concat(a):o,l="";if(s)l=s.url;else{var c=t.value;i.lowercaseValueOnSubmit&&(c=c.toLowerCase()),("'"===c[0]&&"'"===c[c.length-1]||'"'===c[0]&&'"'===c[c.length-1])&&(c=c.slice(1,c.length-1)),l="".concat(r,"=").concat(encodeURIComponent(c))}n.push(l)}),c){var d=c.split(" ").map(function(e){return encodeURIComponent(e)}).join("+");n.push("search=".concat(d))}var h="?scope=all&utf8=%E2%9C%93&".concat(n.join("&"));this.updateObject?this.updateObject(h):Object(r.g)(h)}},{key:"getUsernameParams",value:function(){var e={};try{var t=this.filteredSearchInput.getAttribute("data-username-params");JSON.parse(t).forEach(function(t){e[t.id]=t.username})}catch(e){}return e}},{key:"tokenChange",value:function(){var e=this.dropdownManager.mapping[this.dropdownManager.currentDropdown];if(e){var t=e.reference;this.setDropdownWrapper(),t.dispatchInputEvent()}}},{key:"onrecentSearchesItemSelected",value:function(e){this.clearSearch(),this.filteredSearchInput.value=e,this.filteredSearchInput.dispatchEvent(new CustomEvent("input")),this.search()}},{key:"canEdit",value:function(){return!0}}])&&L(t.prototype,n),s&&L(t,s),e}()},238:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var s=n(0),i=n.n(s),a=n(14),o=n.n(a),r=n(101),l=n(105);var c=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userSelect=new l.a(t),i()("select.select2").select2({width:"resolve",dropdownAutoWidth:!0}),i()(".issuable-sidebar .inline-update").on("change","select",function(){return i()(this).submit()}),i()(".issuable-sidebar .inline-update").on("change",".js-assignee",function(){return i()(this).submit()}),i()(document).off("click",".issuable-sidebar .dropdown-content a").on("click",".issuable-sidebar .dropdown-content a",function(e){return e.preventDefault()}),i()(document).off("click",".edit-link").on("click",".edit-link",function(e){e.preventDefault();var t=i()(this).parents(".block"),n=t.find(".selectbox");n.is(":visible")?(n.hide(),t.find(".value:not(.dont-hide)").show()):(n.show(),t.find(".value:not(.dont-hide)").hide()),n.is(":visible")&&setTimeout(function(){return t.find(".dropdown-menu-toggle").trigger("click")},0)}),window.addEventListener("beforeunload",function(){var e=r.a.getBreakpointSize();"xs"!==e&&"sm"!==e||o.a.set("collapsed_gutter",!0)})}},241:function(e,t,n){"use strict";var s={name:"AssigneeTitle",props:{loading:{type:Boolean,required:!1,default:!1},numberOfAssignees:{type:Number,required:!0},editable:{type:Boolean,required:!0},showToggle:{type:Boolean,required:!1,default:!1}},computed:{assigneeTitle:function(){var e=this.numberOfAssignees;return e>1?"".concat(e," Assignees"):"Assignee"}}},i=n(3),a=Object(i.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title hide-collapsed"},[e._v("\n  "+e._s(e.assigneeTitle)+"\n  "),e.loading?n("i",{staticClass:"fa fa-spinner fa-spin block-loading",attrs:{"aria-hidden":"true"}}):e._e(),e._v(" "),e.editable?n("a",{staticClass:"js-sidebar-dropdown-toggle edit-link float-right",attrs:{href:"#"}},[e._v("\n    "+e._s(e.__("Edit"))+"\n  ")]):e._e(),e._v(" "),e.showToggle?n("a",{staticClass:"gutter-toggle float-right js-sidebar-toggle",attrs:{"aria-label":"Toggle sidebar",href:"#",role:"button"}},[n("i",{staticClass:"fa fa-angle-double-right",attrs:{"aria-hidden":"true","data-hidden":"true"}})]):e._e()])},[],!1,null,null,null);a.options.__file="assignee_title.vue";t.a=a.exports},245:function(e,t,n){"use strict";var s=n(1),i=n(15),a=n(164),o=n(41),r=n(57),l=Object(s.a)("Notifications on"),c=Object(s.a)("Notifications off"),u={directives:{tooltip:o.a},components:{icon:i.a,toggleButton:a.a},props:{loading:{type:Boolean,required:!1,default:!1},subscribed:{type:Boolean,required:!1,default:null},id:{type:Number,required:!1,default:null}},computed:{showLoadingState:function(){return null===this.subscribed},notificationIcon:function(){return this.subscribed?"notifications":"notifications-off"},notificationTooltip:function(){return this.subscribed?l:c}},methods:{toggleSubscription:function(){r.a.$emit("toggleSubscription",this.id),this.$emit("toggleSubscription",this.id)},onClickCollapsedIcon:function(){this.$emit("toggleSidebar")}}},d=n(3),h=Object(d.a)(u,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"sidebar-collapsed-icon",on:{click:e.onClickCollapsedIcon}},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:e.notificationTooltip,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[n("icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.notificationIcon,size:16,"aria-hidden":"true"}})],1)]),e._v(" "),n("span",{staticClass:"issuable-header-text hide-collapsed float-left"},[e._v(" "+e._s(e.__("Notifications"))+" ")]),e._v(" "),n("toggle-button",{ref:"toggleButton",staticClass:"float-right hide-collapsed js-issuable-subscribe-button",attrs:{"is-loading":e.showLoadingState,value:e.subscribed},on:{change:e.toggleSubscription}})],1)},[],!1,null,null,null);h.options.__file="subscriptions.vue";t.a=h.exports},246:function(e,t,n){"use strict";var s=n(1),i={name:"Assignees",directives:{tooltip:n(41).a},props:{rootPath:{type:String,required:!0},users:{type:Array,required:!0},editable:{type:Boolean,required:!0},issuableType:{type:String,require:!0,default:"issue"}},data:function(){return{defaultRenderCount:5,defaultMaxCounter:99,showLess:!0}},computed:{firstUser:function(){return this.users[0]},hasMoreThanTwoAssignees:function(){return this.users.length>2},hasMoreThanOneAssignee:function(){return this.users.length>1},hasAssignees:function(){return this.users.length>0},hasNoUsers:function(){return!this.users.length},hasOneUser:function(){return 1===this.users.length},renderShowMoreSection:function(){return this.users.length>this.defaultRenderCount},numberOfHiddenAssignees:function(){return this.users.length-this.defaultRenderCount},isHiddenAssignees:function(){return this.numberOfHiddenAssignees>0},hiddenAssigneesLabel:function(){return"+ ".concat(this.numberOfHiddenAssignees," more")},collapsedTooltipTitle:function(){var e=Math.min(this.defaultRenderCount,this.users.length),t=this.users.slice(0,e).map(function(e){return e.name});if(this.users.length>e&&t.push("+ ".concat(this.users.length-e," more")),!this.users.length){var n="issue"===this.issuableType?Object(s.a)("Assignee(s)"):Object(s.a)("Assignee");t.push(n)}return t.join(", ")},sidebarAvatarCounter:function(){var e="+".concat(this.users.length-1);return this.users.length>this.defaultMaxCounter&&(e="".concat(this.defaultMaxCounter,"+")),e}},methods:{assignSelf:function(){this.$emit("assign-self")},toggleShowLess:function(){this.showLess=!this.showLess},renderAssignee:function(e){return!this.showLess||e<this.defaultRenderCount&&this.showLess},avatarUrl:function(e){return e.avatar||e.avatar_url||gon.default_avatar_url},assigneeUrl:function(e){return"".concat(this.rootPath).concat(e.username)},assigneeAlt:function(e){return"".concat(e.name,"'s avatar")},assigneeUsername:function(e){return"@".concat(e.username)},shouldRenderCollapsedAssignee:function(e){var t=this.users.length<=2&&e<=2;return 0===e||t}}},a=n(3),o=Object(a.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-user",class:{"multiple-users":e.hasMoreThanOneAssignee},attrs:{title:e.collapsedTooltipTitle,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[e.hasNoUsers?n("i",{staticClass:"fa fa-user",attrs:{"aria-label":"No Assignee"}}):e._e(),e._v(" "),e._l(e.users,function(t,s){return e.shouldRenderCollapsedAssignee(s)?n("button",{key:t.id,staticClass:"btn-link",attrs:{type:"button"}},[n("img",{staticClass:"avatar avatar-inline s24",attrs:{alt:e.assigneeAlt(t),src:e.avatarUrl(t),width:"24"}}),e._v(" "),n("span",{staticClass:"author"},[e._v(" "+e._s(t.name)+" ")])]):e._e()}),e._v(" "),e.hasMoreThanTwoAssignees?n("button",{staticClass:"btn-link",attrs:{type:"button"}},[n("span",{staticClass:"avatar-counter sidebar-avatar-counter"},[e._v(" "+e._s(e.sidebarAvatarCounter)+" ")])]):e._e()],2),e._v(" "),n("div",{staticClass:"value hide-collapsed"},[e.hasNoUsers?[n("span",{staticClass:"assign-yourself no-value"},[e._v("\n        No assignee\n        "),e.editable?[e._v("\n          - "),n("button",{staticClass:"btn-link",attrs:{type:"button"},on:{click:e.assignSelf}},[e._v("assign yourself")])]:e._e()],2)]:e.hasOneUser?[n("a",{staticClass:"author-link bold",attrs:{href:e.assigneeUrl(e.firstUser)}},[n("img",{staticClass:"avatar avatar-inline s32",attrs:{alt:e.assigneeAlt(e.firstUser),src:e.avatarUrl(e.firstUser),width:"32"}}),e._v(" "),n("span",{staticClass:"author"},[e._v(" "+e._s(e.firstUser.name)+" ")]),e._v(" "),n("span",{staticClass:"username"},[e._v(" "+e._s(e.assigneeUsername(e.firstUser))+" ")])])]:[n("div",{staticClass:"user-list"},e._l(e.users,function(t,s){return e.renderAssignee(s)?n("div",{key:t.id,staticClass:"user-item"},[n("a",{staticClass:"user-link has-tooltip",attrs:{href:e.assigneeUrl(t),"data-title":t.name,"data-container":"body","data-placement":"bottom"}},[n("img",{staticClass:"avatar avatar-inline s32",attrs:{alt:e.assigneeAlt(t),src:e.avatarUrl(t),width:"32"}})])]):e._e()}),0),e._v(" "),e.renderShowMoreSection?n("div",{staticClass:"user-list-more"},[n("button",{staticClass:"btn-link",attrs:{type:"button"},on:{click:e.toggleShowLess}},[e.showLess?[e._v("\n            "+e._s(e.hiddenAssigneesLabel)+"\n          ")]:[e._v("\n            - show less\n          ")]],2)]):e._e()]],2)])},[],!1,null,null,null);o.options.__file="assignees.vue";t.a=o.exports},27:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var s=n(2),i=n.n(s),a=n(4),o=n(43);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=l(this,c(t).call(this)),i.a.bind("g p",function(){return Object(a.a)(".shortcuts-project")}),i.a.bind("g v",function(){return Object(a.a)(".shortcuts-project-activity")}),i.a.bind("g r",function(){return Object(a.a)(".shortcuts-project-releases")}),i.a.bind("g f",function(){return Object(a.a)(".shortcuts-tree")}),i.a.bind("g c",function(){return Object(a.a)(".shortcuts-commits")}),i.a.bind("g j",function(){return Object(a.a)(".shortcuts-builds")}),i.a.bind("g n",function(){return Object(a.a)(".shortcuts-network")}),i.a.bind("g d",function(){return Object(a.a)(".shortcuts-repository-charts")}),i.a.bind("g i",function(){return Object(a.a)(".shortcuts-issues")}),i.a.bind("g b",function(){return Object(a.a)(".shortcuts-issue-boards")}),i.a.bind("g m",function(){return Object(a.a)(".shortcuts-merge_requests")}),i.a.bind("g w",function(){return Object(a.a)(".shortcuts-wiki")}),i.a.bind("g s",function(){return Object(a.a)(".shortcuts-snippets")}),i.a.bind("g k",function(){return Object(a.a)(".shortcuts-kubernetes")}),i.a.bind("g e",function(){return Object(a.a)(".shortcuts-environments")}),i.a.bind("g l",function(){return Object(a.a)(".shortcuts-metrics")}),i.a.bind("i",function(){return Object(a.a)(".shortcuts-new-issue")}),e.enabledHelp.push(".hidden-shortcut.project"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["a"]),t}()},273:function(e,t,n){var s,i;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
!function(a){"use strict";void 0===(i="function"==typeof(s=a)?s.call(t,n,t,e):s)||(e.exports=i)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,n,s,i,a,o,r,l,c,u,d,h,p,f,g,v,b,m,y,w,_={},k=/\s+/g,S=/left|right|inline/,C="Sortable"+(new Date).getTime(),I=window,j=I.document,D=I.parseInt,T=I.setTimeout,E=I.jQuery||I.Zepto,L=I.Polymer,O=!1,x="draggable"in j.createElement("div"),P=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((w=j.createElement("x")).style.cssText="pointer-events:auto","auto"===w.style.pointerEvents),A=!1,B=Math.abs,$=Math.min,N=[],M=[],R=se(function(e,t,n){if(n&&t.scroll){var s,i,a,o,u,d,h=n[C],p=t.scrollSensitivity,f=t.scrollSpeed,g=e.clientX,v=e.clientY,b=window.innerWidth,m=window.innerHeight;if(l!==n&&(r=t.scroll,l=n,c=t.scrollFn,!0===r)){r=n;do{if(r.offsetWidth<r.scrollWidth||r.offsetHeight<r.scrollHeight)break}while(r=r.parentNode)}r&&(s=r,i=r.getBoundingClientRect(),a=(B(i.right-g)<=p)-(B(i.left-g)<=p),o=(B(i.bottom-v)<=p)-(B(i.top-v)<=p)),a||o||(o=(m-v<=p)-(v<=p),((a=(b-g<=p)-(g<=p))||o)&&(s=I)),_.vx===a&&_.vy===o&&_.el===s||(_.el=s,_.vx=a,_.vy=o,clearInterval(_.pid),s&&(_.pid=setInterval(function(){if(d=o?o*f:0,u=a?a*f:0,"function"==typeof c)return c.call(h,u,d,e);s===I?I.scrollTo(I.pageXOffset+u,I.pageYOffset+d):(s.scrollTop+=d,s.scrollLeft+=u)},24)))}},30),F=function(e){function t(e,t){return void 0!==e&&!0!==e||(e=n.name),"function"==typeof e?e:function(n,s){var i=s.options.group.name;return t?e:e&&(e.join?e.indexOf(i)>-1:i==e)}}var n={},s=e.group;s&&"object"==typeof s||(s={name:s}),n.name=s.name,n.checkPull=t(s.pull,!0),n.checkPut=t(s.put),n.revertClone=s.revertClone,e.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){O={capture:!1,passive:!1}}}))}catch(e){}function q(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=ie({},t),e[C]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==q.supportPointer};for(var s in n)!(s in t)&&(t[s]=n[s]);for(var i in F(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&x,Y(e,"mousedown",this._onTapStart),Y(e,"touchstart",this._onTapStart),t.supportPointer&&Y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Y(e,"dragover",this),Y(e,"dragenter",this)),M.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function U(t,n){"clone"!==t.lastPullMode&&(n=!0),s&&s.state!==n&&(z(s,"display",n?"none":""),n||s.state&&(t.options.group.revertClone?(i.insertBefore(s,a),t._animate(e,s)):i.insertBefore(s,e)),s.state=n)}function W(e,t,n){if(e){n=n||j;do{if(">*"===t&&e.parentNode===n||ne(e,t))return e}while(e=H(e))}return null}function H(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function Y(e,t,n){e.addEventListener(t,n,O)}function K(e,t,n){e.removeEventListener(t,n,O)}function V(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var s=(" "+e.className+" ").replace(k," ").replace(" "+t+" "," ");e.className=(s+(n?" "+t:"")).replace(k," ")}}function z(e,t,n){var s=e&&e.style;if(s){if(void 0===n)return j.defaultView&&j.defaultView.getComputedStyle?n=j.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in s||(t="-webkit-"+t),s[t]=n+("string"==typeof n?"":"px")}}function G(e,t,n){if(e){var s=e.getElementsByTagName(t),i=0,a=s.length;if(n)for(;i<a;i++)n(s[i],i);return s}return[]}function X(e,t,n,i,a,o,r,l){e=e||t[C];var c=j.createEvent("Event"),u=e.options,d="on"+n.charAt(0).toUpperCase()+n.substr(1);c.initEvent(n,!0,!0),c.to=a||t,c.from=o||t,c.item=i||t,c.clone=s,c.oldIndex=r,c.newIndex=l,t.dispatchEvent(c),u[d]&&u[d].call(e,c)}function J(e,t,n,s,i,a,o,r){var l,c,u=e[C],d=u.options.onMove;return(l=j.createEvent("Event")).initEvent("move",!0,!0),l.to=t,l.from=e,l.dragged=n,l.draggedRect=s,l.related=i||t,l.relatedRect=a||t.getBoundingClientRect(),l.willInsertAfter=r,e.dispatchEvent(l),d&&(c=d.call(u,l,o)),c}function Q(e){e.draggable=!1}function Z(){A=!1}function ee(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,s=0;n--;)s+=t.charCodeAt(n);return s.toString(36)}function te(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!ne(e,t)||n++;return n}function ne(e,t){if(e){var n=(t=t.split(".")).shift().toUpperCase(),s=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(s)||[]).length!=t.length)}return!1}function se(e,t){var n,s;return function(){void 0===n&&(n=arguments,s=this,T(function(){1===n.length?e.call(s,n[0]):e.apply(s,n),n=void 0},t))}}function ie(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ae(e){return L&&L.dom?L.dom(e).cloneNode(!0):E?E(e).clone(!0)[0]:e.cloneNode(!0)}function oe(e){return T(e,0)}function re(e){return clearTimeout(e)}return q.prototype={constructor:q,_onTapStart:function(t){var n,s=this,i=this.el,a=this.options,r=a.preventOnFilter,l=t.type,c=t.touches&&t.touches[0],u=(c||t).target,d=t.target.shadowRoot&&t.path&&t.path[0]||u,h=a.filter;if(function(e){var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var s=t[n];s.checked&&N.push(s)}}(i),!e&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||a.disabled)&&!d.isContentEditable&&(u=W(u,a.draggable,i))&&o!==u){if(n=te(u,a.draggable),"function"==typeof h){if(h.call(this,t,u,this))return X(s,d,"filter",u,i,i,n),void(r&&t.preventDefault())}else if(h&&(h=h.split(",").some(function(e){if(e=W(d,e.trim(),i))return X(s,e,"filter",u,i,i,n),!0})))return void(r&&t.preventDefault());a.handle&&!W(d,a.handle,i)||this._prepareDragStart(t,c,u,n)}},_prepareDragStart:function(n,s,r,l){var c,u=this,d=u.el,h=u.options,f=d.ownerDocument;r&&!e&&r.parentNode===d&&(b=n,i=d,t=(e=r).parentNode,a=e.nextSibling,o=r,g=h.group,p=l,this._lastX=(s||n).clientX,this._lastY=(s||n).clientY,e.style["will-change"]="all",c=function(){u._disableDelayedDrag(),e.draggable=u.nativeDraggable,V(e,h.chosenClass,!0),u._triggerDragStart(n,s),X(u,i,"choose",e,i,i,p)},h.ignore.split(",").forEach(function(t){G(e,t.trim(),Q)}),Y(f,"mouseup",u._onDrop),Y(f,"touchend",u._onDrop),Y(f,"touchcancel",u._onDrop),Y(f,"selectstart",u),h.supportPointer&&Y(f,"pointercancel",u._onDrop),h.delay?(Y(f,"mouseup",u._disableDelayedDrag),Y(f,"touchend",u._disableDelayedDrag),Y(f,"touchcancel",u._disableDelayedDrag),Y(f,"mousemove",u._disableDelayedDrag),Y(f,"touchmove",u._disableDelayedDrag),h.supportPointer&&Y(f,"pointermove",u._disableDelayedDrag),u._dragStartTimer=T(c,h.delay)):c())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),K(e,"mouseup",this._disableDelayedDrag),K(e,"touchend",this._disableDelayedDrag),K(e,"touchcancel",this._disableDelayedDrag),K(e,"mousemove",this._disableDelayedDrag),K(e,"touchmove",this._disableDelayedDrag),K(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,n){(n=n||("touch"==t.pointerType?t:null))?(b={target:e,clientX:n.clientX,clientY:n.clientY},this._onDragStart(b,"touch")):this.nativeDraggable?(Y(e,"dragend",this),Y(i,"dragstart",this._onDragStart)):this._onDragStart(b,!0);try{j.selection?oe(function(){j.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(i&&e){var t=this.options;V(e,t.ghostClass,!0),V(e,t.dragClass,!1),q.active=this,X(this,i,"start",e,i,i,p)}else this._nulling()},_emulateDragOver:function(){if(m){if(this._lastX===m.clientX&&this._lastY===m.clientY)return;this._lastX=m.clientX,this._lastY=m.clientY,P||z(n,"display","none");var e=j.elementFromPoint(m.clientX,m.clientY),t=e,s=M.length;if(e&&e.shadowRoot&&(t=e=e.shadowRoot.elementFromPoint(m.clientX,m.clientY)),t)do{if(t[C]){for(;s--;)M[s]({clientX:m.clientX,clientY:m.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);P||z(n,"display","")}},_onTouchMove:function(e){if(b){var t=this.options,s=t.fallbackTolerance,i=t.fallbackOffset,a=e.touches?e.touches[0]:e,o=a.clientX-b.clientX+i.x,r=a.clientY-b.clientY+i.y,l=e.touches?"translate3d("+o+"px,"+r+"px,0)":"translate("+o+"px,"+r+"px)";if(!q.active){if(s&&$(B(a.clientX-this._lastX),B(a.clientY-this._lastY))<s)return;this._dragStarted()}this._appendGhost(),y=!0,m=a,z(n,"webkitTransform",l),z(n,"mozTransform",l),z(n,"msTransform",l),z(n,"transform",l),e.preventDefault()}},_appendGhost:function(){if(!n){var t,s=e.getBoundingClientRect(),a=z(e),o=this.options;V(n=e.cloneNode(!0),o.ghostClass,!1),V(n,o.fallbackClass,!0),V(n,o.dragClass,!0),z(n,"top",s.top-D(a.marginTop,10)),z(n,"left",s.left-D(a.marginLeft,10)),z(n,"width",s.width),z(n,"height",s.height),z(n,"opacity","0.8"),z(n,"position","fixed"),z(n,"zIndex","100000"),z(n,"pointerEvents","none"),o.fallbackOnBody&&j.body.appendChild(n)||i.appendChild(n),t=n.getBoundingClientRect(),z(n,"width",2*s.width-t.width),z(n,"height",2*s.height-t.height)}},_onDragStart:function(t,n){var a=this,o=t.dataTransfer,r=a.options;a._offUpEvents(),g.checkPull(a,a,e,t)&&((s=ae(e)).draggable=!1,s.style["will-change"]="",z(s,"display","none"),V(s,a.options.chosenClass,!1),a._cloneId=oe(function(){i.insertBefore(s,e),X(a,i,"clone",e)})),V(e,r.dragClass,!0),n?("touch"===n?(Y(j,"touchmove",a._onTouchMove),Y(j,"touchend",a._onDrop),Y(j,"touchcancel",a._onDrop),r.supportPointer&&(Y(j,"pointermove",a._onTouchMove),Y(j,"pointerup",a._onDrop))):(Y(j,"mousemove",a._onTouchMove),Y(j,"mouseup",a._onDrop)),a._loopId=setInterval(a._emulateDragOver,50)):(o&&(o.effectAllowed="move",r.setData&&r.setData.call(a,o,e)),Y(j,"drop",a),a._dragStartId=oe(a._dragStarted))},_onDragOver:function(o){var r,l,c,p,f=this.el,b=this.options,m=b.group,w=q.active,_=g===m,k=!1,I=b.sort;if(void 0!==o.preventDefault&&(o.preventDefault(),!b.dragoverBubble&&o.stopPropagation()),!e.animated&&(y=!0,w&&!b.disabled&&(_?I||(p=!i.contains(e)):v===this||(w.lastPullMode=g.checkPull(this,w,e,o))&&m.checkPut(this,w,e,o))&&(void 0===o.rootEl||o.rootEl===this.el))){if(R(o,b,this.el),A)return;if(r=W(o.target,b.draggable,f),l=e.getBoundingClientRect(),v!==this&&(v=this,k=!0),p)return U(w,!0),t=i,void(s||a?i.insertBefore(e,s||a):I||i.appendChild(e));if(0===f.children.length||f.children[0]===n||f===o.target&&function(e,t){var n=e.lastElementChild.getBoundingClientRect();return t.clientY-(n.top+n.height)>5||t.clientX-(n.left+n.width)>5}(f,o)){if(0!==f.children.length&&f.children[0]!==n&&f===o.target&&(r=f.lastElementChild),r){if(r.animated)return;c=r.getBoundingClientRect()}U(w,_),!1!==J(i,f,e,l,r,c,o)&&(e.contains(f)||(f.appendChild(e),t=f),this._animate(l,e),r&&this._animate(c,r))}else if(r&&!r.animated&&r!==e&&void 0!==r.parentNode[C]){u!==r&&(u=r,d=z(r),h=z(r.parentNode));var j=(c=r.getBoundingClientRect()).right-c.left,D=c.bottom-c.top,E=S.test(d.cssFloat+d.display)||"flex"==h.display&&0===h["flex-direction"].indexOf("row"),L=r.offsetWidth>e.offsetWidth,O=r.offsetHeight>e.offsetHeight,x=(E?(o.clientX-c.left)/j:(o.clientY-c.top)/D)>.5,P=r.nextElementSibling,B=!1;if(E){var $=e.offsetTop,N=r.offsetTop;B=$===N?r.previousElementSibling===e&&!L||x&&L:r.previousElementSibling===e||e.previousElementSibling===r?(o.clientY-c.top)/D>.5:N>$}else k||(B=P!==e&&!O||x&&O);var M=J(i,f,e,l,r,c,o,B);!1!==M&&(1!==M&&-1!==M||(B=1===M),A=!0,T(Z,30),U(w,_),e.contains(f)||(B&&!P?f.appendChild(e):r.parentNode.insertBefore(e,B?P:r)),t=e.parentNode,this._animate(l,e),this._animate(c,r))}}},_animate:function(e,t){var n=this.options.animation;if(n){var s=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),z(t,"transition","none"),z(t,"transform","translate3d("+(e.left-s.left)+"px,"+(e.top-s.top)+"px,0)"),t.offsetWidth,z(t,"transition","all "+n+"ms"),z(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=T(function(){z(t,"transition",""),z(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;K(j,"touchmove",this._onTouchMove),K(j,"pointermove",this._onTouchMove),K(e,"mouseup",this._onDrop),K(e,"touchend",this._onDrop),K(e,"pointerup",this._onDrop),K(e,"touchcancel",this._onDrop),K(e,"pointercancel",this._onDrop),K(e,"selectstart",this)},_onDrop:function(o){var r=this.el,l=this.options;clearInterval(this._loopId),clearInterval(_.pid),clearTimeout(this._dragStartTimer),re(this._cloneId),re(this._dragStartId),K(j,"mouseover",this),K(j,"mousemove",this._onTouchMove),this.nativeDraggable&&(K(j,"drop",this),K(r,"dragstart",this._onDragStart)),this._offUpEvents(),o&&(y&&(o.preventDefault(),!l.dropBubble&&o.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),i!==t&&"clone"===q.active.lastPullMode||s&&s.parentNode&&s.parentNode.removeChild(s),e&&(this.nativeDraggable&&K(e,"dragend",this),Q(e),e.style["will-change"]="",V(e,this.options.ghostClass,!1),V(e,this.options.chosenClass,!1),X(this,i,"unchoose",e,t,i,p),i!==t?(f=te(e,l.draggable))>=0&&(X(null,t,"add",e,t,i,p,f),X(this,i,"remove",e,t,i,p,f),X(null,t,"sort",e,t,i,p,f),X(this,i,"sort",e,t,i,p,f)):e.nextSibling!==a&&(f=te(e,l.draggable))>=0&&(X(this,i,"update",e,t,i,p,f),X(this,i,"sort",e,t,i,p,f)),q.active&&(null!=f&&-1!==f||(f=p),X(this,i,"end",e,t,i,p,f),this.save()))),this._nulling()},_nulling:function(){i=e=t=n=a=s=o=r=l=b=m=y=f=u=d=v=g=q.active=null,N.forEach(function(e){e.checked=!0}),N.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.preventDefault()}(t));break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,s=0,i=n.length,a=this.options;s<i;s++)W(e=n[s],a.draggable,this.el)&&t.push(e.getAttribute(a.dataIdAttr)||ee(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach(function(e,s){var i=n.children[s];W(i,this.options.draggable,n)&&(t[e]=i)},this),e.forEach(function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return W(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&F(n)},destroy:function(){var e=this.el;e[C]=null,K(e,"mousedown",this._onTapStart),K(e,"touchstart",this._onTapStart),K(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(K(e,"dragover",this),K(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),M.splice(M.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},Y(j,"touchmove",function(e){q.active&&e.preventDefault()}),q.utils={on:Y,off:K,css:z,find:G,is:function(e,t){return!!W(e,t,e)},extend:ie,throttle:se,closest:W,toggleClass:V,clone:ae,index:te,nextTick:oe,cancelNextTick:re},q.create=function(e,t){return new q(e,t)},q.version="1.7.0",q})},274:function(e,t,n){"use strict";var s=n(5),i=n.n(s),a={directives:{tooltip:n(41).a},props:{title:{type:String,required:!1,default:""},placement:{type:String,required:!1,default:"top"},truncateTarget:{type:[String,Function],required:!1,default:""}},data:function(){return{showTooltip:!1}},mounted:function(){var e=this.selectTarget();e&&e.scrollWidth>e.offsetWidth&&(this.showTooltip=!0)},methods:{selectTarget:function(){return i.a.isFunction(this.truncateTarget)?this.truncateTarget(this.$el):"child"===this.truncateTarget?this.$el.childNodes[0]:this.$el}}},o=n(3),r=Object(o.a)(a,function(){var e=this.$createElement,t=this._self._c||e;return this.showTooltip?t("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-show-tooltip",attrs:{title:this.title,"data-placement":this.placement}},[this._t("default")],2):t("span",[this._t("default")],2)},[],!1,null,null,null);r.options.__file="tooltip_on_truncate.vue";t.a=r.exports},28:function(e,t,n){"use strict";var s=n(0),i=n.n(s),a=n(12),o=n(31);function r(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=i()(t),this.newItemBtn=i()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,n,s;return t=e,(n=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",function(t){return e.openDropdown(t)}),this.newItemBtn.on("click",function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))}),this.projectSelectInput.on("change",function(){return e.selectProject()})}},{key:"initLocalStorage",value:function(){o.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){i()(e.currentTarget).siblings(".project-item-select").select2("open")}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&r(t.prototype,n),s&&r(t,s),e}();function c(){i()(".ajax-project-select").each(function(e,t){var n,s,o=i()(t).data("simpleFilter")||!1;return this.groupId=i()(t).data("groupId"),this.includeGroups=i()(t).data("includeGroups"),this.allProjects=i()(t).data("allProjects")||!1,this.orderBy=i()(t).data("orderBy")||"id",this.withIssuesEnabled=i()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=i()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===i()(t).data("withShared")||i()(t).data("withShared"),this.includeProjectsInSubgroups=i()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=i()(t).data("allowClear")||!1,n="Search for project",this.includeGroups&&(n+=" or group"),i()(t).select2({placeholder:n,minimumInputLength:0,query:(s=this,function(e){var t,n;return t=function(t){var n;return n={results:t},e.callback(n)},n=s.includeGroups?function(n){var s;return s=function(e){var s;return s=e.concat(n),t(s)},a.a.groups(e.term,{},s)}:t,s.groupId?a.a.groupProjects(s.groupId,e.term,{with_issues_enabled:s.withIssuesEnabled,with_merge_requests_enabled:s.withMergeRequestsEnabled,with_shared:s.withShared,include_subgroups:s.includeProjectsInSubgroups},n):a.a.projects(e.term,{order_by:s.orderBy,with_issues_enabled:s.withIssuesEnabled,with_merge_requests_enabled:s.withMergeRequestsEnabled,membership:!s.allProjects},n)}),id:function(e){return o?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return a.a.project(e.val()).then(function(e){var n=e.data;return t(n)})},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),o?t:new l(t)})}n.d(t,"a",function(){return c})},29:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var s=n(0),i=n.n(s),a=n(14),o=n.n(a),r=n(1),l=n(19),c=n(6),u=n(7),d=n(28);function h(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=i()("ul.clone-options-dropdown"),n=i()("#project_clone"),s=i()(".js-git-clone-holder .js-clone-dropdown-label"),a=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),r=s.text().trim();r.length>0&&i()("a:contains('".concat(r,"')"),t).addClass("is-active"),i()("a",t).on("click",function(e){e.preventDefault();var s=i()(e.currentTarget),o=s.attr("href"),r=s.data("cloneType");i()(".is-active",t).removeClass("is-active"),i()('a[data-clone-type="'.concat(r,'"]')).each(function(){var e=i()(this),t=e.find(".dropdown-menu-inner-title").text(),n=e.closest(".project-clone-holder").find(".js-clone-dropdown-label");e.toggleClass("is-active"),n.text(t)}),a?a.dataset.clipboardText=o:n.val(o),i()(".js-git-empty .js-clone").text(o)}),e.initRefSwitcher(),i()(".project-refs-select").on("change",function(){return i()(this).parents("form").submit()}),i()(".hide-no-ssh-message").on("click",function(e){return o.a.set("hide_no_ssh_message","false"),i()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()}),i()(".hide-no-password-message").on("click",function(e){return o.a.set("hide_no_password_message","false"),i()(this).parents(".no-password-message").remove(),e.preventDefault()}),i()(".hide-auto-devops-implicitly-enabled-banner").on("click",function(e){var t=i()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(t);return o.a.set(n,"false"),i()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()}),e.projectSelectDropdown()}var t,n,s;return t=e,s=[{key:"projectSelectDropdown",value:function(){Object(d.a)(),i()(".project-item-select").on("click",function(t){return e.changeProject(i()(t.currentTarget).val())})}},{key:"changeProject",value:function(e){return window.location=e}},{key:"initRefSwitcher",value:function(){var e=document.createElement("li"),t=document.createElement("a");return t.href="#",i()(".js-project-refs-dropdown").each(function(){var n,s;return n=i()(this),s=n.data("selected"),n.glDropdown({data:function(e,t){c.a.get(n.data("refsUrl"),{params:{ref:n.data("ref"),search:e}}).then(function(e){var n=e.data;return t(n)}).catch(function(){return Object(u.a)(Object(r.a)("An error occurred while getting projects"))})},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:n.data("inputFieldName"),fieldName:n.data("fieldName"),renderRow:function(n){var i=e.cloneNode(!1);if(null!=n.header)i.className="dropdown-header",i.textContent=n.header;else{var a=t.cloneNode(!1);n===s&&(a.className="is-active"),a.textContent=n,a.dataset.ref=n,i.appendChild(a)}return i},id:function(e,t){return t.attr("data-ref")},toggleLabel:function(e,t){return t.text().trim()},clicked:function(e){if(e.e.preventDefault(),i()('input[name="ref"]').length){var t=n.closest("form"),s=n.data("visit"),a=!!s||s,o=t.attr("action"),r=-1===o.indexOf("?")?"?":"&";a&&Object(l.g)("".concat(o).concat(r).concat(t.serialize()))}}})})}}],(n=null)&&h(t.prototype,n),s&&h(t,s),e}()},41:function(e,t,n){"use strict";var s=n(0),i=n.n(s);t.a={bind:function(e){i()(e).tooltip({trigger:"hover"})},componentUpdated:function(e){i()(e).tooltip("_fixTitle");var t=i()(e).data("bs.tooltip"),n=t.getTipElement();t.setElementContent(i()(n.querySelectorAll(".tooltip-inner")),t.getTitle())},unbind:function(e){i()(e).tooltip("dispose")}}},44:function(e,t,n){"use strict";n.r(t);var s=n(38),i=n(36),a=n(29),o=n(27);document.addEventListener("DOMContentLoaded",function(){var e=document.body.dataset.page;if(["projects:clusters:new","projects:clusters:create_gcp","projects:clusters:create_user"].indexOf(e)>-1){var t=document.querySelector(".gcp-signup-offer");t&&new i.a(t),Object(s.a)()}new a.a,new o.a})},498:function(e,t,n){"use strict";var s=n(0),i=n.n(s),a=n(5),o=n.n(a),r=n(11),l=n(7),c=n(1);var u=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.title=t.title,this.type=t.type,this.color=t.color,this.textColor=t.text_color,this.description=t.description,this.priority=null!==t.priority?t.priority:1/0};window.ListLabel=u;var d=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.name=t.name,this.username=t.username,this.avatar=t.avatar_url||t.avatar||n,this.path=t.path,this.state=t.state,this.webUrl=t.web_url||t.webUrl};window.ListAssignee=d;var h=n(120),p=n(217),f=n(21);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function b(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var n,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=b(this,m(t).call(this,{page:"boards",isGroupDecendent:!0,stateFiltersSelector:".issues-state-filters"}))).store=e,n.updateUrl=s,n.isHandledAsync=!0,n.cantEdit=i.filter(function(e){return"string"==typeof e}),n.cantEditWithValue=i.filter(function(e){return"object"===g(e)}),n}var n,s,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,p["a"]),n=t,(s=[{key:"updateObject",value:function(e){this.store.path=e.substr(1),this.updateUrl&&f.c.updateFiltersUrl()}},{key:"removeTokens",value:function(){var e=h.a.container.querySelectorAll(".js-visual-token");[].forEach.call(e,function(e){e.parentNode.removeChild(e)}),this.filteredSearchInput.value=""}},{key:"updateTokens",value:function(){this.removeTokens(),this.loadSearchParamsFromURL(),this.filteredSearchInput.dispatchEvent(new Event("input"))}},{key:"canEdit",value:function(e,t){return!this.cantEdit.includes(e)&&-1===this.cantEditWithValue.findIndex(function(n){return n.name===e&&n.value===t})}}])&&v(n.prototype,s),i&&v(n,i),t}(),_=new r.default,k=n(57);var S=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.path=t.path};function C(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var I=function(){function e(t,n){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.iid=t.iid,this.title=t.title,this.confidential=t.confidential,this.dueDate=t.due_date,this.subscribed=t.subscribed,this.labels=[],this.assignees=[],this.selected=!1,this.position=t.relative_position||1/0,this.isFetching={subscriptions:!0},this.isLoading={},this.sidebarInfoEndpoint=t.issue_sidebar_endpoint,this.referencePath=t.reference_path,this.path=t.real_path,this.toggleSubscriptionEndpoint=t.toggle_subscription_endpoint,this.milestone_id=t.milestone_id,this.project_id=t.project_id,this.timeEstimate=t.time_estimate,this.assignableLabelsEndpoint=t.assignable_labels_endpoint,t.project&&(this.project=new S(t.project)),t.milestone&&(this.milestone=new ListMilestone(t.milestone)),t.labels.forEach(function(e){s.labels.push(new ListLabel(e))}),this.assignees=t.assignees.map(function(e){return new ListAssignee(e,n)})}var t,n,s;return t=e,(n=[{key:"addLabel",value:function(e){this.findLabel(e)||this.labels.push(new ListLabel(e))}},{key:"findLabel",value:function(e){return this.labels.find(function(t){return t.id===e.id})}},{key:"removeLabel",value:function(e){e&&(this.labels=this.labels.filter(function(t){return e.id!==t.id}))}},{key:"removeLabels",value:function(e){e.forEach(this.removeLabel.bind(this))}},{key:"addAssignee",value:function(e){this.findAssignee(e)||this.assignees.push(new ListAssignee(e))}},{key:"findAssignee",value:function(e){return this.assignees.find(function(t){return t.id===e.id})}},{key:"removeAssignee",value:function(e){e&&(this.assignees=this.assignees.filter(function(t){return t.id!==e.id}))}},{key:"removeAllAssignees",value:function(){this.assignees=[]}},{key:"getLists",value:function(){var e=this;return f.c.state.lists.filter(function(t){return t.findIssue(e.id)})}},{key:"updateData",value:function(e){Object.assign(this,e)}},{key:"setFetchingState",value:function(e,t){this.isFetching[e]=t}},{key:"setLoadingState",value:function(e,t){this.isLoading[e]=t}},{key:"update",value:function(){var e={issue:{milestone_id:this.milestone?this.milestone.id:null,due_date:this.dueDate,assignee_ids:this.assignees.length>0?this.assignees.map(function(e){return e.id}):[0],label_ids:this.labels.map(function(e){return e.id})}};e.issue.label_ids.length||(e.issue.label_ids=[""]);this.project&&this.project.path;return r.default.http.patch("".concat(this.path,".json"),e)}}])&&C(t.prototype,n),s&&C(t,s),e}();window.ListIssue=I;var j=I,D=n(13);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var L={backlog:{isPreset:!0,isExpandable:!0,isBlank:!1},closed:{isPreset:!0,isExpandable:!0,isBlank:!1},blank:{isPreset:!0,isExpandable:!1,isBlank:!0}},O=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this._uid=this.guid(),this.position=t.position,this.title="backlog"===t.list_type?Object(c.a)("Open"):t.title,this.type=t.list_type;var s=this.getTypeInfo(this.type);this.preset=!!s.isPreset,this.isExpandable=!!s.isExpandable,this.isExpanded=!0,this.page=1,this.loading=!0,this.loadingMore=!1,this.issues=[],this.issuesSize=0,this.defaultAvatar=n,t.label?this.label=new u(t.label):t.user&&(this.assignee=new d(t.user),this.title=this.assignee.name),!s.isBlank&&this.id&&this.getIssues().catch(function(){})}var t,n,s;return t=e,(n=[{key:"guid",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return"".concat(e()).concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())}},{key:"save",value:function(){var e=this,t=this.label||this.assignee,n="";return n=this.label?"label_id":"assignee_id",gl.boardService.createList(t.id,n).then(function(e){return e.data}).then(function(t){return e.id=t.id,e.type=t.list_type,e.position=t.position,e.getIssues()})}},{key:"destroy",value:function(){var e=f.c.state.lists.indexOf(this);f.c.state.lists.splice(e,1),f.c.updateNewListDropdown(this.id),gl.boardService.destroyList(this.id).catch(function(){})}},{key:"update",value:function(){gl.boardService.updateList(this.id,this.position).catch(function(){})}},{key:"nextPage",value:function(){if(this.issuesSize>this.issues.length)return this.issues.length/20>=1&&(this.page+=1),this.getIssues(!1)}},{key:"getIssues",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),s.forEach(function(t){T(e,t,n[t])})}return e}({},Object(D.L)(f.c.filter.path),{page:this.page});return this.label&&n.label_name&&(n.label_name=n.label_name.filter(function(t){return t!==e.label.title})),t&&(this.loading=!0),gl.boardService.getIssuesForList(this.id,n).then(function(e){return e.data}).then(function(n){return e.loading=!1,e.issuesSize=n.size,t&&(e.issues=[]),e.createIssues(n.issues),n})}},{key:"newIssue",value:function(e){var t=this;return this.addIssue(e,null,0),this.issuesSize+=1,gl.boardService.newIssue(this.id,e).then(function(e){return e.data}).then(function(n){return t.onNewIssueResponse(e,n)})}},{key:"createIssues",value:function(e){var t=this;e.forEach(function(e){t.addIssue(new ListIssue(e,t.defaultAvatar))})}},{key:"addIssue",value:function(e,t,n){var s=null,i=null;this.findIssue(e.id)||(void 0!==n?(this.issues.splice(n,0,e),this.issues[n-1]&&(s=this.issues[n-1].id),this.issues[n+1]&&(i=this.issues[n+1].id)):this.issues.push(e),this.label&&e.addLabel(this.label),this.assignee&&(t&&"assignee"===t.type&&e.removeAssignee(t.assignee),e.addAssignee(this.assignee)),t&&(this.issuesSize+=1,this.updateIssueLabel(e,t,s,i)))}},{key:"moveIssue",value:function(e,t,n,s,i){this.issues.splice(t,1),this.issues.splice(n,0,e),gl.boardService.moveIssue(e.id,null,null,s,i).catch(function(){})}},{key:"updateIssueLabel",value:function(e,t,n,s){gl.boardService.moveIssue(e.id,t.id,this.id,n,s).catch(function(){})}},{key:"findIssue",value:function(e){return this.issues.find(function(t){return t.id===e})}},{key:"removeIssue",value:function(e){var t=this;this.issues=this.issues.filter(function(n){var s=e.id===n.id;return s&&(t.issuesSize-=1,n.removeLabel(t.label)),!s})}},{key:"getTypeInfo",value:function(e){return L[e]||{}}},{key:"onNewIssueResponse",value:function(e,t){if(e.id=t.id,e.iid=t.iid,e.project=t.project,e.path=t.real_path,e.referencePath=t.reference_path,e.assignableLabelsEndpoint=t.assignable_labels_endpoint,this.issuesSize>1){var n=this.issues[1].id;gl.boardService.moveIssue(e.id,null,null,null,n)}}}])&&E(t.prototype,n),s&&E(t,s),e}();window.List=O;n(600);var x=n(48),P=n(6),A=n(19);function B(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var $=function(){function e(t){var n=t.boardsEndpoint,s=t.listsEndpoint,i=t.bulkUpdatePath,a=t.boardId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.boardsEndpoint=n,this.boardId=a,this.listsEndpoint=s,this.listsEndpointGenerate="".concat(s,"/generate.json"),this.bulkUpdatePath=i}var t,n,s;return t=e,s=[{key:"generateIssuePath",value:function(e,t){return"".concat(gon.relative_url_root,"/-/boards/").concat(e?"".concat(e):"","/issues").concat(t?"/".concat(t):"")}},{key:"getIssueInfo",value:function(e){return P.a.get(e)}},{key:"toggleIssueSubscription",value:function(e){return P.a.post(e)}}],(n=[{key:"generateBoardsPath",value:function(e){return"".concat(this.boardsEndpoint).concat(e?"/".concat(e):"",".json")}},{key:"generateIssuesPath",value:function(e){return"".concat(this.listsEndpoint).concat(e?"/".concat(e):"","/issues")}},{key:"all",value:function(){return P.a.get(this.listsEndpoint)}},{key:"generateDefaultLists",value:function(){return P.a.post(this.listsEndpointGenerate,{})}},{key:"createList",value:function(e,t){var n,s,i,a=(i=e,(s=t)in(n={})?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i,n);return P.a.post(this.listsEndpoint,{list:a})}},{key:"updateList",value:function(e,t){return P.a.put("".concat(this.listsEndpoint,"/").concat(e),{list:{position:t}})}},{key:"destroyList",value:function(e){return P.a.delete("".concat(this.listsEndpoint,"/").concat(e))}},{key:"getIssuesForList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={id:e};return Object.keys(t).forEach(function(e){n[e]=t[e]}),P.a.get(Object(A.c)(n,this.generateIssuesPath(e)))}},{key:"moveIssue",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return P.a.put(e.generateIssuePath(this.boardId,t),{from_list_id:n,to_list_id:s,move_before_id:i,move_after_id:a})}},{key:"newIssue",value:function(e,t){return P.a.post(this.generateIssuesPath(e),{issue:t})}},{key:"getBacklog",value:function(e){return P.a.get(Object(A.c)(e,"".concat(gon.relative_url_root,"/-/boards/").concat(this.boardId,"/issues.json")))}},{key:"bulkUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={update:Object.assign(t,{issuable_ids:e.join(",")})};return P.a.post(this.bulkUpdatePath,n)}}])&&B(t.prototype,n),s&&B(t,s),e}();window.BoardService=$;var N={methods:{toggleModal:function(e){x.a.store.showAddIssuesModal=e},changeTab:function(e){x.a.store.activeTab=e}}},M=n(116),R=n.n(M);r.default.filter("due-date",function(e){var t=new Date(e);return R()(t,"mmm d, yyyy",!0)});var F=n(273),q=n.n(F),U=n(15),W=n(41),H=n(31),Y=n(14),K=n.n(Y),V={data:function(){return{predefinedLabels:[new ListLabel({title:"To Do",color:"#F0AD4E"}),new ListLabel({title:"Doing",color:"#5CB85C"})]}},methods:{addDefaultLists:function(){this.clearBlankState(),this.predefinedLabels.forEach(function(e,t){f.c.addList({title:e.title,position:t,list_type:"label",label:{title:e.title,color:e.color}})}),f.c.state.lists=o.a.sortBy(f.c.state.lists,"position"),gl.boardService.generateDefaultLists().then(function(e){return e.data}).then(function(e){e.forEach(function(e){var t=f.c.findList("title",e.title);t.id=e.id,t.label.id=e.label.id,t.getIssues().catch(function(){})})}).catch(function(){f.c.removeList(void 0,"label"),K.a.remove("issue_board_welcome_hidden",{path:""}),f.c.addBlankState()})},clearBlankState:f.c.removeBlankState.bind(f.c)}},z=n(3),G=Object(z.a)(V,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"board-blank-state"},[n("p",[e._v("Add the following default lists to your Issue Board with one click:")]),e._v(" "),n("ul",{staticClass:"board-blank-state-list"},e._l(e.predefinedLabels,function(t,s){return n("li",{key:s},[n("span",{staticClass:"label-color",style:{backgroundColor:t.color}}),e._v("\n      "+e._s(t.title)+"\n    ")])}),0),e._v(" "),n("p",[e._v("\n    Starting out with the default set of lists will get you right on the way to making the most of\n    your board.\n  ")]),e._v(" "),n("button",{staticClass:"btn btn-success btn-inverted btn-block",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.addDefaultLists(t)}}},[e._v("\n    Add default lists\n  ")]),e._v(" "),n("button",{staticClass:"btn btn-default btn-block",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.clearBlankState(t)}}},[e._v("\n    Nevermind, I'll use my own\n  ")])])},[],!1,null,null,null);G.options.__file="board_blank_state.vue";var X=G.exports,J=r.default.extend({props:{list:{type:Object,default:function(){return{}}}},methods:{deleteBoard:function(){i()(this.$el).tooltip("hide"),window.confirm("Are you sure you want to delete this list?")&&this.list.destroy()}}}),Q=n(10),Z=n(12),ee={name:"BoardProjectSelect",components:{Icon:U.a,GlLoadingIcon:Q.e},props:{groupId:{type:Number,required:!0,default:0}},data:function(){return{loading:!0,selectedProject:{}}},computed:{selectedProjectName:function(){return this.selectedProject.name||"Select a project"}},mounted:function(){var e=this;i()(this.$refs.projectsDropdown).glDropdown({filterable:!0,filterRemote:!0,search:{fields:["name_with_namespace"]},clicked:function(t){var n=t.$el;t.e.preventDefault(),e.selectedProject={id:n.data("project-id"),name:n.data("project-name")},_.$emit("setSelectedProject",e.selectedProject)},selectable:!0,data:function(t,n){return e.loading=!0,Z.a.groupProjects(e.groupId,t,{with_issues_enabled:!0,with_shared:!1,include_subgroups:!0},function(t){e.loading=!1,n(t)})},renderRow:function(e){return"\n            <li>\n              <a href='#' class='dropdown-menu-link' data-project-id=\"".concat(e.id,'" data-project-name="').concat(e.name,'">\n                ').concat(o.a.escape(e.name),"\n              </a>\n            </li>\n          ")},text:function(e){return e.name}})}},te=Object(z.a)(ee,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"label-bold prepend-top-10"},[e._v(" Project ")]),e._v(" "),n("div",{ref:"projectsDropdown",staticClass:"dropdown"},[n("button",{staticClass:"dropdown-menu-toggle wide",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[e._v("\n      "+e._s(e.selectedProjectName)+" "),n("icon",{attrs:{name:"chevron-down"}})],1),e._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-selectable dropdown-menu-full-width"},[n("div",{staticClass:"dropdown-title"},[e._v("Projects")]),e._v(" "),n("div",{staticClass:"dropdown-input"},[n("input",{staticClass:"dropdown-input-field",attrs:{type:"search",placeholder:"Search projects"}}),e._v(" "),n("icon",{staticClass:"dropdown-input-search",attrs:{name:"search","data-hidden":"true"}})],1),e._v(" "),n("div",{staticClass:"dropdown-content"}),e._v(" "),n("div",{staticClass:"dropdown-loading"},[n("gl-loading-icon")],1)])])])},[],!1,null,null,null);te.options.__file="project_select.vue";var ne={name:"BoardNewIssue",components:{ProjectSelect:te.exports,GlButton:Q.b},props:{groupId:{type:Number,required:!1,default:0},list:{type:Object,required:!0}},data:function(){return{title:"",error:!1,selectedProject:{}}},computed:{disabled:function(){return this.groupId?""===this.title||!this.selectedProject.name:""===this.title}},mounted:function(){this.$refs.input.focus(),_.$on("setSelectedProject",this.setSelectedProject)},methods:{submit:function(e){var t=this;if(e.preventDefault(),""===this.title.trim())return Promise.resolve();this.error=!1;var n=this.list.label?[this.list.label]:[],s=this.list.assignee?[this.list.assignee]:[],a=new j({title:this.title,labels:n,subscribed:!0,assignees:s,project_id:this.selectedProject.id});return _.$emit("scroll-board-list-".concat(this.list.id)),this.cancel(),this.list.newIssue(a).then(function(){i()(t.$refs.submitButton).enable(),f.c.detail.issue=a,f.c.detail.list=t.list}).catch(function(){i()(t.$refs.submitButton).enable(),t.list.removeIssue(a),t.error=!0})},cancel:function(){this.title="",_.$emit("hide-issue-form-".concat(this.list.id))},setSelectedProject:function(e){this.selectedProject=e}}},se=Object(z.a)(ne,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"board-new-issue-form"},[n("div",{staticClass:"board-card"},[n("form",{on:{submit:function(t){e.submit(t)}}},[e.error?n("div",{staticClass:"flash-container"},[n("div",{staticClass:"flash-alert"},[e._v("An error occurred. Please try again.")])]):e._e(),e._v(" "),n("label",{staticClass:"label-bold",attrs:{for:e.list.id+"-title"}},[e._v(" Title ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],ref:"input",staticClass:"form-control",attrs:{id:e.list.id+"-title",type:"text",name:"issue_title",autocomplete:"off"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),e._v(" "),e.groupId?n("project-select",{attrs:{"group-id":e.groupId}}):e._e(),e._v(" "),n("div",{staticClass:"clearfix prepend-top-10"},[n("gl-button",{ref:"submit-button",staticClass:"float-left",attrs:{disabled:e.disabled,variant:"success",type:"submit"}},[e._v("\n          Submit issue\n        ")]),e._v(" "),n("gl-button",{staticClass:"float-right",attrs:{type:"button",variant:"default"},on:{click:e.cancel}},[e._v("\n          Cancel\n        ")])],1)],1)])])},[],!1,null,null,null);se.options.__file="board_new_issue.vue";var ie=se.exports,ae=n(274),oe=n(91),re=n(20),le={components:{Icon:U.a,GlTooltip:Q.m},props:{date:{type:String,required:!0},cssClass:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"bottom"}},computed:{title:function(){var e=Object(re.h)(),t=this.timeDifference,n=this.standardDateFormat;return t>=-1&&t<7?"".concat(e.format(this.issueDueDate)," (").concat(n,")"):e.format(this.issueDueDate)},body:function(){var e=this.timeDifference,t=this.issueDueDate,n=this.standardDateFormat;return 0===e?Object(c.a)("Today"):1===e?Object(c.a)("Tomorrow"):-1===e?Object(c.a)("Yesterday"):e>0&&e<7?R()(t,"dddd",!0):n},issueDueDate:function(){return Object(re.j)(this.date)},timeDifference:function(){var e=new Date;return Object(re.f)(e,this.issueDueDate)},isPastDue:function(){return!(this.timeDifference>=0)},standardDateFormat:function(){var e=(new Date).getFullYear()===this.issueDueDate.getFullYear();return Object(re.c)(this.issueDueDate,!0,e)}}},ce=Object(z.a)(le,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("span",{ref:"issueDueDate",staticClass:"board-card-info card-number",class:e.cssClass},[n("icon",{class:{"text-danger":e.isPastDue,"board-card-info-icon":!0},attrs:{name:"calendar"}}),e._v(" "),n("time",{staticClass:"board-card-info-text",class:{"text-danger":e.isPastDue},attrs:{datetime:"date"}},[e._v(e._s(e.body))])],1),e._v(" "),n("gl-tooltip",{attrs:{target:function(){return e.$refs.issueDueDate},placement:e.tooltipPlacement}},[n("span",{staticClass:"bold"},[e._v(e._s(e.__("Due date")))]),e._v(" "),n("br"),e._v(" "),n("span",{class:{"text-danger-muted":e.isPastDue}},[e._v(e._s(e.title))])])],1)},[],!1,null,null,null);ce.options.__file="issue_due_date.vue";var ue=ce.exports,de={components:{Icon:U.a,GlTooltip:Q.m},props:{estimate:{type:Number,required:!0}},computed:{title:function(){return Object(re.m)(Object(re.k)(this.estimate),!0)},timeEstimate:function(){return Object(re.m)(Object(re.k)(this.estimate))}}},he=Object(z.a)(de,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("span",{ref:"issueTimeEstimate",staticClass:"board-card-info card-number"},[n("icon",{attrs:{name:"hourglass","css-classes":"board-card-info-icon"}}),n("time",{staticClass:"board-card-info-text"},[e._v(e._s(e.timeEstimate))])],1),e._v(" "),n("gl-tooltip",{staticClass:"js-issue-time-estimate",attrs:{target:function(){return e.$refs.issueTimeEstimate},placement:"bottom"}},[n("span",{staticClass:"bold d-block"},[e._v(e._s(e.__("Time estimate")))]),e._v(" "+e._s(e.title)+"\n  ")])],1)},[],!1,null,null,null);he.options.__file="issue_time_estimate.vue";var pe=he.exports,fe={components:{Icon:U.a,UserAvatarLink:oe.a,TooltipOnTruncate:ae.a,IssueDueDate:ue,IssueTimeEstimate:pe},directives:{GlTooltip:Q.n},props:{issue:{type:Object,required:!0},issueLinkBase:{type:String,required:!0},list:{type:Object,required:!1,default:function(){return{}}},rootPath:{type:String,required:!0},updateFilters:{type:Boolean,required:!1,default:!1},groupId:{type:Number,required:!1,default:null}},data:function(){return{limitBeforeCounter:2,maxRender:3,maxCounter:99}},computed:{numberOverLimit:function(){return this.issue.assignees.length-this.limitBeforeCounter},assigneeCounterTooltip:function(){var e=this.numberOverLimit,t=this.maxCounter,n=e>t?t:e;return Object(c.f)(Object(c.a)("%{count} more assignees"),{count:n})},assigneeCounterLabel:function(){return this.numberOverLimit>this.maxCounter?"".concat(this.maxCounter,"+"):"+".concat(this.numberOverLimit)},shouldRenderCounter:function(){return!(this.issue.assignees.length<=this.maxRender)&&this.issue.assignees.length>this.numberOverLimit},issueId:function(){return!!this.issue.iid&&"#".concat(this.issue.iid)},showLabelFooter:function(){var e=this;return void 0!==this.issue.labels.find(function(t){return e.showLabel(t)})},issueReferencePath:function(){var e=this.issue,t=e.referencePath;return e.groupId?null:t.split("#")[0]}},methods:{isIndexLessThanlimit:function(e){return e<this.limitBeforeCounter},shouldRenderAssignee:function(e){return this.issue.assignees.length<=this.maxRender?e<this.maxRender:e<this.limitBeforeCounter},assigneeUrl:function(e){return e?"".concat(this.rootPath).concat(e.username):""},avatarUrlTitle:function(e){return"Avatar for ".concat(e.name)},showLabel:function(e){return!!e.id},filterByLabel:function(e){if(this.updateFilters){var t=encodeURIComponent(e.title),n="label_name[]=".concat(t);this.applyFilter(n)}},filterByWeight:function(e){if(this.updateFilters){var t=encodeURIComponent(e),n="weight=".concat(t);this.applyFilter(n)}},applyFilter:function(e){var t=f.c.filter.path.split("&"),n=t.indexOf(e);-1===n?t.push(e):t.splice(n,1),f.c.filter.path=t.join("&"),f.c.updateFiltersUrl(),_.$emit("updateTokens")},labelStyle:function(e){return{backgroundColor:e.color,color:e.textColor}}}},ge=Object(z.a)(fe,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"board-card-header"},[n("h4",{staticClass:"board-card-title append-bottom-0 prepend-top-0"},[e.issue.confidential?n("icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"confidential-icon append-right-4",attrs:{name:"eye-slash",title:e.__("Confidential"),"aria-label":e.__("Confidential")}}):e._e(),n("a",{staticClass:"js-no-trigger",attrs:{href:e.issue.path,title:e.issue.title},on:{mousemove:function(e){e.stopPropagation()}}},[e._v(e._s(e.issue.title))])],1)]),e._v(" "),e.showLabelFooter?n("div",{staticClass:"board-card-labels prepend-top-4 d-flex flex-wrap"},e._l(e.issue.labels,function(t){return e.showLabel(t)?n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],key:t.id,staticClass:"badge color-label append-right-4 prepend-top-4",style:e.labelStyle(t),attrs:{title:t.description,type:"button"},on:{click:function(n){e.filterByLabel(t)}}},[e._v("\n      "+e._s(t.title)+"\n    ")]):e._e()}),0):e._e(),e._v(" "),n("div",{staticClass:"board-card-footer d-flex justify-content-between align-items-end"},[n("div",{staticClass:"d-flex align-items-start flex-wrap-reverse board-card-number-container js-board-card-number-container"},[e.issue.referencePath?n("span",{staticClass:"board-card-number d-flex append-right-8 prepend-top-8"},[e.issueReferencePath?n("tooltip-on-truncate",{staticClass:"board-issue-path block-truncated bold",attrs:{title:e.issueReferencePath,placement:"bottom"}},[e._v(e._s(e.issueReferencePath))]):e._e(),e._v("#"+e._s(e.issue.iid)+"\n      ")],1):e._e(),e._v(" "),n("span",{staticClass:"board-info-items prepend-top-8 d-inline-block"},[e.issue.dueDate?n("issue-due-date",{attrs:{date:e.issue.dueDate}}):e._e(),e.issue.timeEstimate?n("issue-time-estimate",{attrs:{estimate:e.issue.timeEstimate}}):e._e()],1)]),e._v(" "),n("div",{staticClass:"board-card-assignee"},[e._l(e.issue.assignees,function(t,s){return e.shouldRenderAssignee(s)?n("user-avatar-link",{key:t.id,staticClass:"js-no-trigger",attrs:{"link-href":e.assigneeUrl(t),"img-alt":e.avatarUrlTitle(t),"img-src":t.avatar,"img-size":24,"tooltip-placement":"bottom"}},[n("span",{staticClass:"js-assignee-tooltip"},[n("span",{staticClass:"bold d-block"},[e._v("Assignee")]),e._v(" "+e._s(t.name)+"\n          "),n("span",{staticClass:"text-white-50"},[e._v("@"+e._s(t.username))])])]):e._e()}),e._v(" "),e.shouldRenderCounter?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"avatar-counter",attrs:{title:e.assigneeCounterTooltip,"data-placement":"bottom"}},[e._v("\n        "+e._s(e.assigneeCounterLabel)+"\n      ")]):e._e()],2)])])},[],!1,null,null,null);ge.options.__file="issue_card_inner.vue";var ve=ge.exports,be={name:"BoardsIssueCard",components:{IssueCardInner:ve},props:{list:{type:Object,default:function(){return{}}},issue:{type:Object,default:function(){return{}}},issueLinkBase:{type:String,default:""},disabled:{type:Boolean,default:!1},index:{type:Number,default:0},rootPath:{type:String,default:""},groupId:{type:Number}},data:function(){return{showDetail:!1,detailIssue:f.c.detail}},computed:{issueDetailVisible:function(){return this.detailIssue.issue&&this.detailIssue.issue.id===this.issue.id}},methods:{mouseDown:function(){this.showDetail=!0},mouseMove:function(){this.showDetail=!1},showIssue:function(e){e.target.classList.contains("js-no-trigger")||this.showDetail&&(this.showDetail=!1,f.c.detail.issue&&f.c.detail.issue.id===this.issue.id?_.$emit("clearDetailIssue"):(_.$emit("newDetailIssue",this.issue),f.c.detail.list=this.list))}}},me=Object(z.a)(be,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"board-card",class:{"user-can-drag":!e.disabled&&e.issue.id,"is-disabled":e.disabled||!e.issue.id,"is-active":e.issueDetailVisible},attrs:{index:e.index,"data-issue-id":e.issue.id},on:{mousedown:e.mouseDown,mousemove:e.mouseMove,mouseup:function(t){e.showIssue(t)}}},[n("issue-card-inner",{attrs:{list:e.list,issue:e.issue,"issue-link-base":e.issueLinkBase,"group-id":e.groupId,"root-path":e.rootPath,"update-filters":!0}})],1)},[],!1,null,null,null);me.options.__file="board_card.vue";var ye={animation:200,forceFallback:!0,fallbackClass:"is-dragging",fallbackOnBody:!0,ghostClass:"is-ghost"};function we(){i()(".has-tooltip").tooltip("hide").tooltip("disable"),document.body.classList.add("is-dragging")}function _e(){i()(".has-tooltip").tooltip("enable"),document.body.classList.remove("is-dragging")}function ke(e){var t="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,n=Object.assign({},ye,{filter:".board-delete, .btn",delay:t?100:0,scrollSensitivity:t?60:100,scrollSpeed:20,onStart:we,onEnd:_e});return Object.keys(e).forEach(function(t){n[t]=e[t]}),n}var Se={name:"BoardList",components:{boardCard:me.exports,boardNewIssue:ie,GlLoadingIcon:Q.e},props:{groupId:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!0},list:{type:Object,required:!0},issues:{type:Array,required:!0},loading:{type:Boolean,required:!0},issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0}},data:function(){return{scrollOffset:250,filters:f.c.state.filters,showCount:!1,showIssueForm:!1}},watch:{filters:{handler:function(){this.list.loadingMore=!1,this.$refs.list.scrollTop=0},deep:!0},issues:function(){var e=this;this.$nextTick(function(){e.scrollHeight()<=e.listHeight()&&e.list.issuesSize>e.list.issues.length&&(e.list.page+=1,e.list.getIssues(!1).catch(function(){})),e.scrollHeight()>Math.ceil(e.listHeight())?e.showCount=!0:e.showCount=!1})}},created:function(){_.$on("hide-issue-form-".concat(this.list.id),this.toggleForm),_.$on("scroll-board-list-".concat(this.list.id),this.scrollToTop)},mounted:function(){var e=this,t=ke({scroll:!0,disabled:this.disabled,filter:".board-list-count, .is-disabled",dataIdAttr:"data-issue-id",group:{name:"issues",pull:function(t,n,s,i){if(i.target){var a=(i.target.closest(".js-board-list")||i.target.querySelector(".js-board-list")).dataset.boardType;if(a){var o=e.list.type;if(Object.entries({label:["milestone","assignee"],assignee:["milestone","label"],milestone:["label","assignee"]}).some(function(e){return o===e[0]&&e[1].includes(a)}))return"clone"}}return!0},revertClone:!0},onStart:function(t){var n=e.$refs.issue[t.oldIndex];n.showDetail=!1,f.c.moving.list=n.list,f.c.moving.issue=f.c.moving.list.findIssue(+t.item.dataset.issueId),we()},onAdd:function(t){f.c.moveIssueToList(f.c.moving.list,e.list,f.c.moving.issue,t.newIndex),e.$nextTick(function(){t.item.remove()})},onUpdate:function(t){var n=e.sortable.toArray().filter(function(e){return"-1"!==e});f.c.moveIssueInList(e.list,f.c.moving.issue,t.oldIndex,t.newIndex,n)},onMove:function(e){return!e.related.classList.contains("board-list-count")}});this.sortable=q.a.create(this.$refs.list,t),this.$refs.list.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){_.$off("hide-issue-form-".concat(this.list.id),this.toggleForm),_.$off("scroll-board-list-".concat(this.list.id),this.scrollToTop),this.$refs.list.removeEventListener("scroll",this.onScroll)},methods:{listHeight:function(){return this.$refs.list.getBoundingClientRect().height},scrollHeight:function(){return this.$refs.list.scrollHeight},scrollTop:function(){return this.$refs.list.scrollTop+this.listHeight()},scrollToTop:function(){this.$refs.list.scrollTop=0},loadNextPage:function(){var e=this,t=this.list.nextPage(),n=function(){e.list.loadingMore=!1};t&&(this.list.loadingMore=!0,t.then(n).catch(n))},toggleForm:function(){this.showIssueForm=!this.showIssueForm},onScroll:function(){!this.list.loadingMore&&this.scrollTop()>this.scrollHeight()-this.scrollOffset&&this.loadNextPage()}}},Ce=Object(z.a)(Se,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"board-list-component"},[e.loading?n("div",{staticClass:"board-list-loading text-center",attrs:{"aria-label":"Loading issues"}},[n("gl-loading-icon")],1):e._e(),e._v(" "),"closed"!==e.list.type&&e.showIssueForm?n("board-new-issue",{attrs:{"group-id":e.groupId,list:e.list}}):e._e(),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],ref:"list",staticClass:"board-list js-board-list",class:{"is-smaller":e.showIssueForm},attrs:{"data-board":e.list.id,"data-board-type":e.list.type}},[e._l(e.issues,function(t,s){return n("board-card",{key:t.id,ref:"issue",refInFor:!0,attrs:{index:s,list:e.list,issue:t,"issue-link-base":e.issueLinkBase,"group-id":e.groupId,"root-path":e.rootPath,disabled:e.disabled}})}),e._v(" "),e.showCount?n("li",{staticClass:"board-list-count text-center",attrs:{"data-issue-id":"-1"}},[n("gl-loading-icon",{directives:[{name:"show",rawName:"v-show",value:e.list.loadingMore,expression:"list.loadingMore"}],attrs:{label:"Loading more issues"}}),e._v(" "),e.list.issues.length===e.list.issuesSize?n("span",[e._v(" Showing all issues ")]):n("span",[e._v(" Showing "+e._s(e.list.issues.length)+" of "+e._s(e.list.issuesSize)+" issues ")])],1):e._e()],2)],1)},[],!1,null,null,null);Ce.options.__file="board_list.vue";var Ie=Ce.exports,je=r.default.extend({components:{BoardBlankState:X,BoardDelete:J,BoardList:Ie,Icon:U.a},directives:{Tooltip:W.a},props:{list:{type:Object,default:function(){return{}}},disabled:{type:Boolean,required:!0},issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},boardId:{type:String,required:!0}},data:function(){return{detailIssue:f.c.detail,filter:f.c.filter}},computed:{counterTooltip:function(){var e=this.list.issuesSize;return"".concat(Object(c.d)("%d issue","%d issues",e))},isNewIssueShown:function(){return"backlog"===this.list.type||!this.disabled&&"closed"!==this.list.type}},watch:{filter:{handler:function(){this.list.page=1,this.list.getIssues(!0).catch(function(){})},deep:!0}},mounted:function(){var e=this;this.sortableOptions=ke({disabled:this.disabled,group:"boards",draggable:".is-draggable",handle:".js-board-handle",onEnd:function(t){if(_e(),void 0!==t.newIndex&&t.oldIndex!==t.newIndex){var n=e.sortable.toArray(),s=f.c.findList("id",parseInt(t.item.dataset.id,10));e.$nextTick(function(){f.c.moveList(s,n)})}}}),this.sortable=q.a.create(this.$el.parentNode,this.sortableOptions)},created:function(){if(this.list.isExpandable&&H.a.isLocalStorageAccessSafe()){var e="false"===localStorage.getItem("boards.".concat(this.boardId,".").concat(this.list.type,".expanded"));this.list.isExpanded=!e}},methods:{showNewIssueForm:function(){this.$refs["board-list"].showIssueForm=!this.$refs["board-list"].showIssueForm},toggleExpanded:function(e){this.list.isExpandable&&!e.target.classList.contains("js-no-trigger-collapse")&&(this.list.isExpanded=!this.list.isExpanded,H.a.isLocalStorageAccessSafe()&&localStorage.setItem("boards.".concat(this.boardId,".").concat(this.list.type,".expanded"),this.list.isExpanded))}},template:"#js-board-template"}),De=n(159),Te=n(241),Ee=n(246),Le=n(126),Oe=r.default.extend({props:{issue:{type:Object,required:!0},list:{type:Object,required:!0}},computed:{updateUrl:function(){return this.issue.path}},methods:{removeIssue:function(){var e=this.issue,t=e.getLists(),n=this.buildPatchRequest(e,t),s={issue:this.seedPatchRequest(e,n)};0===s.issue.label_ids.length&&(s.issue.label_ids=[""]),r.default.http.patch(this.updateUrl,s).catch(function(){Object(l.a)(Object(c.a)("Failed to remove issue from board, please try again.")),t.forEach(function(t){t.addIssue(e)})}),t.forEach(function(t){t.removeIssue(e)}),f.c.detail.issue={}},buildPatchRequest:function(e,t){var n=t.map(function(e){return e.label.id});return{label_ids:e.labels.map(function(e){return e.id}).filter(function(e){return!n.includes(e)})}},seedPatchRequest:function(e,t){return t}}}),xe=Object(z.a)(Oe,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block list"},[t("button",{staticClass:"btn btn-default btn-block",attrs:{type:"button"},on:{click:this.removeIssue}},[this._v("\n    Remove from board\n  ")])])},[],!1,null,null,null);xe.options.__file="remove_issue.vue";var Pe=xe.exports,Ae=n(238),Be=n(123),$e=n(245),Ne=n(124),Me=r.default.extend({components:{AssigneeTitle:Te.a,Assignees:Ee.a,RemoveBtn:Pe,Subscriptions:$e.a},props:{currentUser:{type:Object,default:function(){return{}}}},data:function(){return{detail:f.c.detail,issue:{},list:{},loadingAssignees:!1}},computed:{showSidebar:function(){return Object.keys(this.issue).length},milestoneTitle:function(){return this.issue.milestone?this.issue.milestone.title:"No Milestone"},canRemove:function(){return!this.list.preset},hasLabels:function(){return this.issue.labels&&this.issue.labels.length},labelDropdownTitle:function(){return this.hasLabels?Object(c.f)(Object(c.a)("%{firstLabel} +%{labelCount} more"),{firstLabel:this.issue.labels[0].title,labelCount:this.issue.labels.length-1}):Object(c.a)("Label")},selectedLabels:function(){return this.hasLabels?this.issue.labels.map(function(e){return e.title}).join(","):""}},watch:{detail:{handler:function(){this.issue.id!==this.detail.issue.id&&(i()(".block.assignee").find('input:not(.js-vue)[name="issue[assignee_ids][]"]').each(function(e,t){i()(t).remove()}),i()(".js-issue-board-sidebar",this.$el).each(function(e,t){i()(t).data("glDropdown").clearMenu()})),this.issue=this.detail.issue,this.list=this.detail.list},deep:!0}},created:function(){k.a.$on("sidebar.removeAssignee",this.removeAssignee),k.a.$on("sidebar.addAssignee",this.addAssignee),k.a.$on("sidebar.removeAllAssignees",this.removeAllAssignees),k.a.$on("sidebar.saveAssignees",this.saveAssignees)},beforeDestroy:function(){k.a.$off("sidebar.removeAssignee",this.removeAssignee),k.a.$off("sidebar.addAssignee",this.addAssignee),k.a.$off("sidebar.removeAllAssignees",this.removeAllAssignees),k.a.$off("sidebar.saveAssignees",this.saveAssignees)},mounted:function(){new Ae.a(this.currentUser),new Ne.a,new Le.a,new Be.a,new De.a},methods:{closeSidebar:function(){this.detail.issue={}},assignSelf:function(){this.$refs.assigneeBlock.dispatchEvent(new Event("assignYourself")),this.addAssignee(this.currentUser),this.saveAssignees()},removeAssignee:function(e){f.c.detail.issue.removeAssignee(e)},addAssignee:function(e){f.c.detail.issue.addAssignee(e)},removeAllAssignees:function(){f.c.detail.issue.removeAllAssignees()},saveAssignees:function(){var e=this;this.loadingAssignees=!0,f.c.detail.issue.update().then(function(){e.loadingAssignees=!1}).catch(function(){e.loadingAssignees=!1,Object(l.a)(Object(c.a)("An error occurred while saving assignees"))})}}}),Re=n(115);i()(document).off("created.label").on("created.label",function(e,t){f.c.new({title:t.title,position:f.c.state.lists.length-2,list_type:"label",label:{id:t.id,title:t.title,color:t.color}})});var Fe={name:"modal-filters",props:{store:{type:Object,required:!0}},mounted:function(){h.a.container=this.$el,this.filteredSearch=new w(this.store),this.filteredSearch.setup(),this.filteredSearch.removeTokens(),this.filteredSearch.handleInputPlaceholder(),this.filteredSearch.toggleClearSearchButton()},destroyed:function(){this.filteredSearch.cleanup(),h.a.container=document,this.store.path=""},template:"#js-board-modal-filter"},qe={mixins:[N],data:function(){return x.a.store},computed:{selectedCount:function(){return x.a.selectedCount()}},destroyed:function(){this.activeTab="all"}},Ue=Object(z.a)(qe,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-area prepend-top-10 append-bottom-10"},[n("ul",{staticClass:"nav-links issues-state-filters"},[n("li",{class:{active:"all"==e.activeTab}},[n("a",{attrs:{href:"#",role:"button"},on:{click:function(t){t.preventDefault(),e.changeTab("all")}}},[e._v("\n        Open issues "),n("span",{staticClass:"badge badge-pill"},[e._v(" "+e._s(e.issuesCount)+" ")])])]),e._v(" "),n("li",{class:{active:"selected"==e.activeTab}},[n("a",{attrs:{href:"#",role:"button"},on:{click:function(t){t.preventDefault(),e.changeTab("selected")}}},[e._v("\n        Selected issues "),n("span",{staticClass:"badge badge-pill"},[e._v(" "+e._s(e.selectedCount)+" ")])])])])])},[],!1,null,null,null);Ue.options.__file="tabs.vue";var We={components:{ModalTabs:Ue.exports,ModalFilters:Fe},mixins:[N],props:{projectId:{type:Number,required:!0},milestonePath:{type:String,required:!0},labelPath:{type:String,required:!0}},data:function(){return x.a.store},computed:{selectAllText:function(){return x.a.selectedCount()!==this.issues.length||0===this.issues.length?"Select all":"Deselect all"},showSearch:function(){return"all"===this.activeTab&&!this.loading&&this.issuesCount>0}},methods:{toggleAll:function(){this.$refs.selectAllBtn.blur(),x.a.toggleAll()}}},He=Object(z.a)(We,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("header",{staticClass:"add-issues-header form-actions"},[n("h2",[e._v("\n      Add issues\n      "),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){e.toggleModal(!1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("")])])])]),e._v(" "),!e.loading&&e.issuesCount>0?n("modal-tabs"):e._e(),e._v(" "),e.showSearch?n("div",{staticClass:"add-issues-search append-bottom-10"},[n("modal-filters",{attrs:{store:e.filter}}),e._v(" "),n("button",{ref:"selectAllBtn",staticClass:"btn btn-success btn-inverted prepend-left-10",attrs:{type:"button"},on:{click:e.toggleAll}},[e._v("\n      "+e._s(e.selectAllText)+"\n    ")])],1):e._e()],1)},[],!1,null,null,null);He.options.__file="header.vue";var Ye=He.exports,Ke=n(101),Ve={components:{IssueCardInner:ve,Icon:U.a},props:{issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},emptyStateSvg:{type:String,required:!0}},data:function(){return x.a.store},computed:{loopIssues:function(){return"all"===this.activeTab?this.issues:this.selectedIssues},groupedIssues:function(){var e=this,t=[];return this.loopIssues.forEach(function(n,s){var i=s%e.columns;t[i]||t.push([]),t[i].push(n)}),t}},watch:{activeTab:function(){"all"===this.activeTab&&x.a.purgeUnselectedIssues()}},mounted:function(){this.scrollHandlerWrapper=this.scrollHandler.bind(this),this.setColumnCountWrapper=this.setColumnCount.bind(this),this.setColumnCount(),this.$refs.list.addEventListener("scroll",this.scrollHandlerWrapper),window.addEventListener("resize",this.setColumnCountWrapper)},beforeDestroy:function(){this.$refs.list.removeEventListener("scroll",this.scrollHandlerWrapper),window.removeEventListener("resize",this.setColumnCountWrapper)},methods:{scrollHandler:function(){var e=Math.floor(this.issues.length/this.perPage);this.scrollTop()>this.scrollHeight()-100&&!this.loadingNewPage&&e===this.page&&(this.loadingNewPage=!0,this.page+=1)},toggleIssue:function(e,t){"A"!==e.target.tagName&&x.a.toggleIssue(t)},listHeight:function(){return this.$refs.list.getBoundingClientRect().height},scrollHeight:function(){return this.$refs.list.scrollHeight},scrollTop:function(){return this.$refs.list.scrollTop+this.listHeight()},showIssue:function(e){return"all"===this.activeTab||-1!==x.a.selectedIssueIndex(e)},setColumnCount:function(){var e=Ke.a.getBreakpointSize();this.columns="lg"===e||"md"===e?3:"sm"===e?2:1}}},ze=Object(z.a)(Ve,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{ref:"list",staticClass:"add-issues-list add-issues-list-columns"},[e.issuesCount>0&&0===e.issues.length?n("div",{staticClass:"empty-state add-issues-empty-state-filter text-center"},[n("div",{staticClass:"svg-content"},[n("img",{attrs:{src:e.emptyStateSvg}})]),e._v(" "),e._m(0)]):e._e(),e._v(" "),e._l(e.groupedIssues,function(t,s){return n("div",{key:s,staticClass:"add-issues-list-column"},e._l(t,function(t){return e.showIssue(t)?n("div",{key:t.id,staticClass:"board-card-parent"},[n("div",{staticClass:"board-card",class:{"is-active":t.selected},on:{click:function(n){e.toggleIssue(n,t)}}},[n("issue-card-inner",{attrs:{issue:t,"issue-link-base":e.issueLinkBase,"root-path":e.rootPath}}),e._v(" "),t.selected?n("icon",{staticClass:"issue-card-selected text-center",attrs:{"aria-label":"Issue #"+t.id+" selected",name:"mobile-issue-close","aria-checked":"true"}}):e._e()],1)]):e._e()}),0)})],2)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"text-content"},[t("h4",[this._v("There are no issues to show.")])])}],!1,null,null,null);ze.options.__file="list.vue";var Ge=ze.exports,Xe={components:{GlLink:Q.d,Icon:U.a},data:function(){return{modal:x.a.store,state:f.c.state}},computed:{selected:function(){return this.modal.selectedList||this.state.lists[1]}},destroyed:function(){this.modal.selectedList=null}},Je=Object(z.a)(Xe,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown inline"},[n("button",{staticClass:"dropdown-menu-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[n("span",{staticClass:"dropdown-label-box",style:{backgroundColor:e.selected.label.color}}),e._v("\n    "+e._s(e.selected.title)+" "),n("icon",{attrs:{name:"chevron-down"}})],1),e._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-selectable dropdown-menu-drop-up"},[n("ul",e._l(e.state.lists,function(t,s){return"label"==t.type?n("li",{key:s},[n("gl-link",{class:{"is-active":t.id==e.selected.id},attrs:{href:"#",role:"button"},on:{click:function(n){n.preventDefault(),e.modal.selectedList=t}}},[n("span",{staticClass:"dropdown-label-box",style:{backgroundColor:t.label.color}}),e._v("\n          "+e._s(t.title)+"\n        ")])],1):e._e()}),0)])])},[],!1,null,null,null);Je.options.__file="lists_dropdown.vue";var Qe=Je.exports,Ze=n(51),et={components:{ListsDropdown:Qe},mixins:[N],data:function(){return{modal:x.a.store,state:f.c.state}},computed:{submitDisabled:function(){return!x.a.selectedCount()},submitText:function(){var e=x.a.selectedCount();return"Add ".concat(e>0?e:""," ").concat(Object(Ze.i)("issue",e))}},methods:{buildUpdateRequest:function(e){return{add_label_ids:[e.label.id]}},addIssues:function(){var e=this.modal.selectedList||this.state.lists[1],t=x.a.getSelectedIssues(),n=t.map(function(e){return e.id}),s=this.buildUpdateRequest(e);gl.boardService.bulkUpdate(n,s).catch(function(){Object(l.a)(Object(c.a)("Failed to update issues, please try again.")),t.forEach(function(t){e.removeIssue(t),e.issuesSize-=1})}),t.forEach(function(t){e.addIssue(t),e.issuesSize+=1}),this.toggleModal(!1)}}},tt=Object(z.a)(et,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"form-actions add-issues-footer"},[n("div",{staticClass:"float-left"},[n("button",{staticClass:"btn btn-success",attrs:{disabled:e.submitDisabled,type:"button"},on:{click:e.addIssues}},[e._v("\n      "+e._s(e.submitText)+"\n    ")]),e._v(" "),n("span",{staticClass:"inline add-issues-footer-to-list"},[e._v(" to list ")]),e._v(" "),n("lists-dropdown")],1),e._v(" "),n("button",{staticClass:"btn btn-default float-right",attrs:{type:"button"},on:{click:function(t){e.toggleModal(!1)}}},[e._v("\n    Cancel\n  ")])])},[],!1,null,null,null);tt.options.__file="footer.vue";var nt=tt.exports,st={mixins:[N],props:{newIssuePath:{type:String,required:!0},emptyStateSvg:{type:String,required:!0}},data:function(){return x.a.store},computed:{contents:function(){var e={title:"You haven't added any issues to your project yet",content:"\n          An issue can be a bug, a todo or a feature request that needs to be\n          discussed in a project. Besides, issues are searchable and filterable.\n        "};return"selected"===this.activeTab&&(e.title="You haven't selected any issues yet",e.content="\n          Go back to <strong>Open issues</strong> and select some issues\n          to add to your board.\n        "),e}}},it=Object(z.a)(st,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"empty-state"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-md-6 order-md-last"},[n("aside",{staticClass:"svg-content d-none d-md-block"},[n("img",{attrs:{src:e.emptyStateSvg}})])]),e._v(" "),n("div",{staticClass:"col-12 col-md-6 order-md-first"},[n("div",{staticClass:"text-content"},[n("h4",[e._v(e._s(e.contents.title))]),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.contents.content)}}),e._v(" "),"all"===e.activeTab?n("a",{staticClass:"btn btn-success btn-inverted",attrs:{href:e.newIssuePath}},[e._v("\n          New issue\n        ")]):e._e(),e._v(" "),"selected"===e.activeTab?n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){e.changeTab("all")}}},[e._v("\n          Open issues\n        ")]):e._e()])])])])},[],!1,null,null,null);function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}it.options.__file="empty_state.vue";var ot={components:{EmptyState:it.exports,ModalHeader:Ye,ModalList:Ge,ModalFooter:nt,GlLoadingIcon:Q.e},props:{newIssuePath:{type:String,required:!0},emptyStateSvg:{type:String,required:!0},issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},projectId:{type:Number,required:!0},milestonePath:{type:String,required:!0},labelPath:{type:String,required:!0}},data:function(){return x.a.store},computed:{showList:function(){return"selected"===this.activeTab?this.selectedIssues.length>0:this.issuesCount>0},showEmptyState:function(){return!this.loading&&0===this.issuesCount||"selected"===this.activeTab&&0===this.selectedIssues.length}},watch:{page:function(){this.loadIssues()},showAddIssuesModal:function(){var e=this;if(this.showAddIssuesModal&&!this.issues.length){this.loading=!0;var t=function(){e.loading=!1};this.loadIssues().then(t).catch(t)}else this.showAddIssuesModal||(this.issues=[],this.selectedIssues=[],this.issuesCount=!1)},filter:{handler:function(){var e=this;if(this.$el.tagName){this.page=1,this.filterLoading=!0;var t=function(){e.filterLoading=!1};this.loadIssues(!0).then(t).catch(t)}},deep:!0}},created:function(){this.page=1},methods:{loadIssues:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!this.showAddIssuesModal&&gl.boardService.getBacklog(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),s.forEach(function(t){at(e,t,n[t])})}return e}({},Object(D.L)(this.filter.path),{page:this.page,per:this.perPage})).then(function(e){return e.data}).then(function(n){t&&(e.issues=[]),n.issues.forEach(function(t){var n=new ListIssue(t),s=x.a.findSelectedIssue(n);n.selected=!!s,e.issues.push(n)}),e.loadingNewPage=!1,e.issuesCount||(e.issuesCount=n.size)}).catch(function(){})}}},rt=Object(z.a)(ot,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showAddIssuesModal?n("div",{staticClass:"add-issues-modal"},[n("div",{staticClass:"add-issues-container"},[n("modal-header",{attrs:{"project-id":e.projectId,"milestone-path":e.milestonePath,"label-path":e.labelPath}}),e._v(" "),e.loading||!e.showList||e.filterLoading?e._e():n("modal-list",{attrs:{"issue-link-base":e.issueLinkBase,"root-path":e.rootPath,"empty-state-svg":e.emptyStateSvg}}),e._v(" "),e.showEmptyState?n("empty-state",{attrs:{"new-issue-path":e.newIssuePath,"empty-state-svg":e.emptyStateSvg}}):e._e(),e._v(" "),e.loading||e.filterLoading?n("section",{staticClass:"add-issues-list text-center"},[n("div",{staticClass:"add-issues-list-loading"},[n("gl-loading-icon")],1)]):e._e(),e._v(" "),n("modal-footer")],1)]):e._e()},[],!1,null,null,null);rt.options.__file="index.vue";var lt,ct=rt.exports;n(412),t.a=function(){var e=document.getElementById("board-app");window.addEventListener("pageshow",function(e){var t=window.performance&&window.performance.navigation.type===D.a.TYPE_BACK_FORWARD;(e.persisted||t)&&window.location.reload()}),lt&&lt.$destroy(!0),f.c.create(),lt=new r.default({el:e,components:{Board:je,BoardSidebar:Me,BoardAddIssuesModal:ct},data:{state:f.c.state,loading:!0,boardsEndpoint:e.dataset.boardsEndpoint,listsEndpoint:e.dataset.listsEndpoint,boardId:e.dataset.boardId,disabled:Object(D.A)(e.dataset.disabled),issueLinkBase:e.dataset.issueLinkBase,rootPath:e.dataset.rootPath,bulkUpdatePath:e.dataset.bulkUpdatePath,detailIssue:f.c.detail,defaultAvatar:e.dataset.defaultAvatar},computed:{detailIssueVisible:function(){return Object.keys(this.detailIssue.issue).length}},created:function(){gl.boardService=new $({boardsEndpoint:this.boardsEndpoint,listsEndpoint:this.listsEndpoint,bulkUpdatePath:this.bulkUpdatePath,boardId:this.boardId}),f.c.rootPath=this.boardsEndpoint,_.$on("updateTokens",this.updateTokens),_.$on("newDetailIssue",this.updateDetailIssue),_.$on("clearDetailIssue",this.clearDetailIssue),k.a.$on("toggleSubscription",this.toggleSubscription)},beforeDestroy:function(){_.$off("updateTokens",this.updateTokens),_.$off("newDetailIssue",this.updateDetailIssue),_.$off("clearDetailIssue",this.clearDetailIssue),k.a.$off("toggleSubscription",this.toggleSubscription)},mounted:function(){var e=this;this.filterManager=new w(f.c.filter,!0,f.c.cantEdit),this.filterManager.setup(),f.c.disabled=this.disabled,gl.boardService.all().then(function(e){return e.data}).then(function(t){t.forEach(function(t){var n=f.c.addList(t,e.defaultAvatar);"closed"===n.type?n.position=1/0:"backlog"===n.type&&(n.position=-1)}),e.state.lists=o.a.sortBy(e.state.lists,"position"),f.c.addBlankState(),e.loading=!1}).catch(function(){Object(l.a)("An error occurred while fetching the board lists. Please try again.")})},methods:{updateTokens:function(){this.filterManager.updateTokens()},updateDetailIssue:function(e){var t=e.sidebarInfoEndpoint;t&&void 0===e.subscribed&&(e.setFetchingState("subscriptions",!0),$.getIssueInfo(t).then(function(e){return e.data}).then(function(t){e.setFetchingState("subscriptions",!1),e.updateData({subscribed:t.subscribed})}).catch(function(){e.setFetchingState("subscriptions",!1),Object(l.a)(Object(c.a)("An error occurred while fetching sidebar data"))})),f.c.detail.issue=e},clearDetailIssue:function(){f.c.detail.issue={}},toggleSubscription:function(e){var t=f.c.detail.issue;t.id===e&&t.toggleSubscriptionEndpoint&&(t.setFetchingState("subscriptions",!0),$.toggleIssueSubscription(t.toggleSubscriptionEndpoint).then(function(){t.setFetchingState("subscriptions",!1),t.updateData({subscribed:!t.subscribed})}).catch(function(){t.setFetchingState("subscriptions",!1),Object(l.a)(Object(c.a)("An error occurred when toggling the notification subscription"))}))}}}),new r.default({el:document.getElementById("js-add-list"),data:{filters:f.c.state.filters},mounted:function(){i()(".js-new-board-list").each(function(){var e=i()(this);new Re.a(e.closest(".dropdown").find(".dropdown-new-label"),e.data("namespacePath"),e.data("projectPath")),e.glDropdown({data:function(t,n){P.a.get(e.attr("data-list-labels-path")).then(function(e){var t=e.data;n(t)})},renderRow:function(e){var t=f.c.findListByLabelId(e.id),n=i()("<li />"),s=i()("<a />",{class:t?"is-active js-board-list-".concat(t.id):"",text:e.title,href:"#"}),a=i()("<span />",{class:"dropdown-label-box",style:"background-color: ".concat(e.color)});return n.append(s.prepend(a))},search:{fields:["title"]},filterable:!0,selectable:!0,multiSelect:!0,containerSelector:".js-tab-container-labels .dropdown-page-one .dropdown-content",clicked:function(e){var t=e.e,n=e.selectedObj;t.preventDefault(),f.c.findListByLabelId(n.id)||(f.c.new({title:n.title,position:f.c.state.lists.length-2,list_type:"label",label:{id:n.id,title:n.title,color:n.color}}),f.c.state.lists=o.a.sortBy(f.c.state.lists,"position"))}})})}});var t=document.getElementById("js-add-issues-btn");t&&new r.default({el:t,mixins:[N],data:function(){return{modal:x.a.store,store:f.c.state,canAdminList:this.$options.el.hasAttribute("data-can-admin-list")}},computed:{disabled:function(){return!this.store||!this.store.lists.filter(function(e){return!e.preset}).length},tooltipTitle:function(){return this.disabled?"Please add a list to your board first":""}},watch:{disabled:function(){this.updateTooltip()}},mounted:function(){this.updateTooltip()},methods:{updateTooltip:function(){var e=this,t=i()(this.$refs.addIssuesButton);this.$nextTick(function(){e.disabled?t.tooltip():t.tooltip("dispose")})},openModal:function(){this.disabled||this.toggleModal(!0)}},template:'\n        <div class="board-extra-actions">\n          <button\n            class="btn btn-success prepend-left-10"\n            type="button"\n            data-placement="bottom"\n            ref="addIssuesButton"\n            :class="{ \'disabled\': disabled }"\n            :title="tooltipTitle"\n            :aria-disabled="disabled"\n            v-if="canAdminList"\n            @click="openModal">\n            Add issues\n          </button>\n        </div>\n      '})}},57:function(e,t,n){"use strict";var s=new(n(11).default);window.emitSidebarEvent=function(){return s.$emit.apply(s,arguments)},t.a=s},600:function(e,t){window.ListMilestone=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.title=t.title}},80:function(e,t,n){"use strict";var s=n(0),i=n.n(s),a=n(5),o=n.n(a),r=n(6),l=n(7);t.a={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.container,e.form),n=e.issues,s=e.prefixId;this.prefixId=s||"issue_",this.form=t||this.getElement(".bulk-update"),this.$labelDropdown=this.form.find(".js-label-select"),this.issues=n||this.getElement(".issues-list .issue"),this.willUpdateLabels=!1,this.bindEvents()},bindEvents:function(){return this.form.off("submit").on("submit",this.onFormSubmit.bind(this))},onFormSubmit:function(e){return e.preventDefault(),this.submit()},submit:function(){var e=this;r.a[this.form.attr("method")](this.form.attr("action"),this.getFormDataAsObject()).then(function(){return window.location.reload()}).catch(function(){return e.onFormSubmitFailure()})},onFormSubmitFailure:function(){return this.form.find('[type="submit"]').enable(),new l.a("Issue update failed")},getSelectedIssues:function(){return this.issues.has(".selected-issuable:checked")},getLabelsFromSelection:function(){var e=[];return this.getSelectedIssues().map(function(){var t=i()(this).data("labels");if(t)return t.map(function(t){if(-1===e.indexOf(t))return e.push(t)})}),e},getUnmarkedIndeterminedLabels:function(){var e=[],t=this.$labelDropdown.data("indeterminate");return this.getLabelsFromSelection().forEach(function(n){-1===t.indexOf(n)&&e.push(n)}),e},getFormDataAsObject:function(){var e={update:{state_event:this.form.find('input[name="update[state_event]"]').val(),assignee_id:this.form.find('input[name="update[assignee_id]"]').val(),assignee_ids:[this.form.find('input[name="update[assignee_ids][]"]').val()],milestone_id:this.form.find('input[name="update[milestone_id]"]').val(),issuable_ids:this.form.find('input[name="update[issuable_ids]"]').val(),subscription_event:this.form.find('input[name="update[subscription_event]"]').val(),add_label_ids:[],remove_label_ids:[]}};return this.willUpdateLabels&&(e.update.add_label_ids=this.$labelDropdown.data("marked"),e.update.remove_label_ids=this.$labelDropdown.data("unmarked")),e},setOriginalDropdownData:function(){var e=i()(".bulk-update .js-label-select");e.data("common",this.getOriginalCommonIds()),e.data("marked",this.getOriginalMarkedIds()),e.data("indeterminate",this.getOriginalIndeterminateIds())},getOriginalCommonIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each(function(n,s){t.push(e.getElement("#".concat(e.prefixId).concat(s.dataset.id)).data("labels"))}),o.a.intersection.apply(this,t)},getOriginalMarkedIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each(function(n,s){t.push(e.getElement("#".concat(e.prefixId).concat(s.dataset.id)).data("labels"))}),o.a.intersection.apply(this,t)},getOriginalIndeterminateIds:function(){var e=this,t=[],n=[],s=[];return this.getElement(".selected-issuable:checked").each(function(i,a){(s=e.getElement("#".concat(e.prefixId).concat(a.dataset.id)).data("labels")).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),n.push(s)}),n.unshift(t),o.a.difference(t,o.a.intersection.apply(this,n))},getElement:function(e){return this.scopeEl=this.scopeEl||i()(".content"),this.scopeEl.find(e)}}},88:function(e,t,n){
/*!
 * Pikaday
 *
 * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */
!function(t,s){"use strict";var i;try{i=n(!function(){var e=new Error("Cannot find module 'moment'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}e.exports=function(e){var t="function"==typeof e,n=!!window.addEventListener,s=window.document,i=window.setTimeout,a=function(e,t,s,i){n?e.addEventListener(t,s,!!i):e.attachEvent("on"+t,s)},o=function(e,t,s,i){n?e.removeEventListener(t,s,!!i):e.detachEvent("on"+t,s)},r=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e){return/Array/.test(Object.prototype.toString.call(e))},c=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},u=function(e){var t=e.getDay();return 0===t||6===t},d=function(e,t){return[31,function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},h=function(e){c(e)&&e.setHours(0,0,0,0)},p=function(e,t){return e.getTime()===t.getTime()},f=function(e,t,n){var s,i;for(s in t)(i=void 0!==e[s])&&"object"==typeof t[s]&&null!==t[s]&&void 0===t[s].nodeName?c(t[s])?n&&(e[s]=new Date(t[s].getTime())):l(t[s])?n&&(e[s]=t[s].slice(0)):e[s]=f({},t[s],n):!n&&i||(e[s]=t[s]);return e},g=function(e,t,n){var i;s.createEvent?((i=s.createEvent("HTMLEvents")).initEvent(t,!0,!1),i=f(i,n),e.dispatchEvent(i)):s.createEventObject&&(i=s.createEventObject(),i=f(i,n),e.fireEvent("on"+t,i))},v=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},b={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},m=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},y=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},w=function(e,t,n,s){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(s?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},_=function(e,t,n,s,i,a){var o,r,c,u,d,h=e._o,p=n===h.minYear,f=n===h.maxYear,g='<div id="'+a+'" class="pika-title" role="heading" aria-live="assertive">',v=!0,b=!0;for(c=[],o=0;o<12;o++)c.push('<option value="'+(n===i?o-t:12+o-t)+'"'+(o===s?' selected="selected"':"")+(p&&o<h.minMonth||f&&o>h.maxMonth?'disabled="disabled"':"")+">"+h.i18n.months[o]+"</option>");for(u='<div class="pika-label">'+h.i18n.months[s]+'<select class="pika-select pika-select-month" tabindex="-1">'+c.join("")+"</select></div>",l(h.yearRange)?(o=h.yearRange[0],r=h.yearRange[1]+1):(o=n-h.yearRange,r=1+n+h.yearRange),c=[];o<r&&o<=h.maxYear;o++)o>=h.minYear&&c.push('<option value="'+o+'"'+(o===n?' selected="selected"':"")+">"+o+"</option>");return d='<div class="pika-label">'+n+h.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+c.join("")+"</select></div>",h.showMonthAfterYear?g+=d+u:g+=u+d,p&&(0===s||h.minMonth>=s)&&(v=!1),f&&(11===s||h.maxMonth<=s)&&(b=!1),0===t&&(g+='<button class="pika-prev'+(v?"":" is-disabled")+'" type="button">'+h.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(g+='<button class="pika-next'+(b?"":" is-disabled")+'" type="button">'+h.i18n.nextMonth+"</button>"),g+="</div>"},k=function(o){var l=this,u=l.config(o);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(r(t,"is-disabled")||(!r(t,"pika-button")||r(t,"is-empty")||r(t.parentNode,"is-disabled")?r(t,"pika-prev")?l.prevMonth():r(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),u.bound&&i(function(){l.hide(),u.blurFieldOnSelect&&u.field&&u.field.blur()},100))),r(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(r(t,"pika-select-month")?l.gotoMonth(t.value):r(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:u.field&&u.field.blur();break;case 37:e.preventDefault(),l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7)}},l._onInputChange=function(n){var s;n.firedBy!==l&&(s=u.parse?u.parse(u.field.value,u.format):t?(s=e(u.field.value,u.format,u.formatStrict))&&s.isValid()?s.toDate():null:new Date(Date.parse(u.field.value)),c(s)&&l.setDate(s),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=s.activeElement;do{if(r(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=i(function(){l.hide()},50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,s=t;if(t){!n&&r(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),a(t,"change",l._onChange)));do{if(r(s,"pika-single")||s===u.trigger)return}while(s=s.parentNode);l._v&&t!==u.trigger&&s!==u.trigger&&l.hide()}},l.el=s.createElement("div"),l.el.className="pika-single"+(u.isRTL?" is-rtl":"")+(u.theme?" "+u.theme:""),a(l.el,"mousedown",l._onMouseDown,!0),a(l.el,"touchend",l._onMouseDown,!0),a(l.el,"change",l._onChange),a(s,"keydown",l._onKeyChange),u.field&&(u.container?u.container.appendChild(l.el):u.bound?s.body.appendChild(l.el):u.field.parentNode.insertBefore(l.el,u.field.nextSibling),a(u.field,"change",l._onInputChange),u.defaultDate||(t&&u.field.value?u.defaultDate=e(u.field.value,u.format).toDate():u.defaultDate=new Date(Date.parse(u.field.value)),u.setDefaultDate=!0));var d=u.defaultDate;c(d)?u.setDefaultDate?l.setDate(d,!0):l.gotoDate(d):l.gotoDate(new Date),u.bound?(this.hide(),l.el.className+=" is-bound",a(u.trigger,"click",l._onInputClick),a(u.trigger,"focus",l._onInputFocus),a(u.trigger,"blur",l._onInputBlur)):this.show()};return k.prototype={config:function(e){this._o||(this._o=f({},b,!0));var t=f(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,c(t.minDate)||(t.minDate=!1),c(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),l(t.yearRange)){var s=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||s,t.yearRange[1]=parseInt(t.yearRange[1],10)||s}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||b.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return n=n||this._o.format,c(this._d)?this._o.toString?this._o.toString(this._d,n):t?e(this._d).format(n):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,s){t&&e.isMoment(n)&&this.setDate(n.toDate(),s)},getDate:function(){return c(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",g(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),c(e)){var n=this._o.minDate,s=this._o.maxDate;c(n)&&e<n?e=n:c(s)&&e>s&&(e=s),this._d=new Date(e.getTime()),h(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),g(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(c(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),s=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();s.setMonth(s.getMonth()+1),s.setDate(s.getDate()-1),t=i<n.getTime()||s.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var n,s=this.getDate()||new Date,i=24*parseInt(t)*60*60*1e3;"add"===e?n=new Date(s.valueOf()+i):"subtract"===e&&(n=new Date(s.valueOf()-i)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=v(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=v({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(h(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=b.minDate,this._o.minYear=b.minYear,this._o.minMonth=b.minMonth,this._o.startRange=b.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(h(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=b.maxDate,this._o.maxYear=b.maxYear,this._o.maxMonth=b.maxMonth,this._o.endRange=b.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,n=this._o,s=n.minYear,a=n.maxYear,o=n.minMonth,r=n.maxMonth,l="";this._y<=s&&(this._y=s,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=a&&(this._y=a,!isNaN(r)&&this._m>r&&(this._m=r)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var c=0;c<n.numberOfMonths;c++)l+='<div class="pika-lendar">'+_(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&i(function(){n.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var e,t,n,i,a,o,r,l,c,u;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,n=this.el.offsetWidth,i=this.el.offsetHeight,a=window.innerWidth||s.documentElement.clientWidth,o=window.innerHeight||s.documentElement.clientHeight,r=window.pageYOffset||s.body.scrollTop||s.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)l=(u=e.getBoundingClientRect()).left+window.pageXOffset,c=u.bottom+window.pageYOffset;else for(l=t.offsetLeft,c=t.offsetTop+t.offsetHeight;t=t.offsetParent;)l+=t.offsetLeft,c+=t.offsetTop;(this._o.reposition&&l+n>a||this._o.position.indexOf("right")>-1&&l-n+e.offsetWidth>0)&&(l=l-n+e.offsetWidth),(this._o.reposition&&c+i>o+r||this._o.position.indexOf("top")>-1&&c-i-e.offsetHeight>0)&&(c=c-i-e.offsetHeight),this.el.style.left=l+"px",this.el.style.top=c+"px"}},render:function(e,t,n){var s=this._o,i=new Date,a=d(e,t),o=new Date(e,t,1).getDay(),r=[],l=[];h(i),s.firstDay>0&&(o-=s.firstDay)<0&&(o+=7);for(var f=0===t?11:t-1,g=11===t?0:t+1,v=0===t?e-1:e,b=11===t?e+1:e,_=d(v,f),k=a+o,S=k;S>7;)S-=7;k+=7-S;for(var C,I,j,D,T=!1,E=0,L=0;E<k;E++){var O=new Date(e,t,E-o+1),x=!!c(this._d)&&p(O,this._d),P=p(O,i),A=-1!==s.events.indexOf(O.toDateString()),B=E<o||E>=a+o,$=E-o+1,N=t,M=e,R=s.startRange&&p(s.startRange,O),F=s.endRange&&p(s.endRange,O),q=s.startRange&&s.endRange&&s.startRange<O&&O<s.endRange,U=s.minDate&&O<s.minDate||s.maxDate&&O>s.maxDate||s.disableWeekends&&u(O)||s.disableDayFn&&s.disableDayFn(O);B&&(E<o?($=_+$,N=f,M=v):($-=a,N=g,M=b));var W={day:$,month:N,year:M,hasEvent:A,isSelected:x,isToday:P,isDisabled:U,isEmpty:B,isStartRange:R,isEndRange:F,isInRange:q,showDaysInNextAndPreviousMonths:s.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:s.enableSelectionDaysInNextAndPreviousMonths};s.pickWholeWeek&&x&&(T=!0),l.push(y(W)),7==++L&&(s.showWeekNumber&&l.unshift((C=E-o,I=t,j=e,D=void 0,D=new Date(j,0,1),'<td class="pika-week">'+Math.ceil(((new Date(j,I,C)-D)/864e5+D.getDay()+1)/7)+"</td>")),r.push(w(l,s.isRTL,s.pickWholeWeek,T)),l=[],L=0,T=!1)}return function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+m(e,t)+'">'+m(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}(e)+("<tbody>"+t.join("")+"</tbody>")+"</table>"}(s,r,n)},isVisible:function(){return this._v},show:function(){var e,t,n;this.isVisible()||(this._v=!0,this.draw(),e=this.el,t="is-hidden",e.className=(n=(" "+e.className+" ").replace(" "+t+" "," ")).trim?n.trim():n.replace(/^\s+|\s+$/g,""),this._o.bound&&(a(s,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e,t,n=this._v;!1!==n&&(this._o.bound&&o(s,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",e=this.el,r(e,t="is-hidden")||(e.className=""===e.className?t:e.className+" "+t),this._v=!1,void 0!==n&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"touchend",this._onMouseDown,!0),o(this.el,"change",this._onChange),o(s,"keydown",this._onKeyChange),this._o.field&&(o(this._o.field,"change",this._onInputChange),this._o.bound&&(o(this._o.trigger,"click",this._onInputClick),o(this._o.trigger,"focus",this._onInputFocus),o(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},k}(i)}()},91:function(e,t,n){"use strict";var s=n(10),i=n(92),a={name:"UserAvatarLink",components:{GlLink:s.d,userAvatarImage:i.a},directives:{GlTooltip:s.n},props:{linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:Number,required:!1,default:20},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername:function(){return this.username.length>0},avatarTooltipText:function(){return this.shouldShowUsername?"":this.tooltipText}}},o=n(3),r=Object(o.a)(a,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-link",{staticClass:"user-avatar-link",attrs:{href:e.linkHref}},[n("user-avatar-image",{attrs:{"img-src":e.imgSrc,"img-alt":e.imgAlt,"css-classes":e.imgCssClasses,size:e.imgSize,"tooltip-text":e.avatarTooltipText,"tooltip-placement":e.tooltipPlacement}},[e._t("default")],2),e.shouldShowUsername?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-avatar-link-username",attrs:{title:e.tooltipText,"tooltip-placement":e.tooltipPlacement}},[e._v(e._s(e.username))]):e._e(),e._t("avatar-badge")],2)},[],!1,null,null,null);r.options.__file="user_avatar_link.vue";t.a=r.exports}},[[1217,1,0,2,4]]]);
//# sourceMappingURL=pages.projects.boards.ba1e7d07.chunk.js.map