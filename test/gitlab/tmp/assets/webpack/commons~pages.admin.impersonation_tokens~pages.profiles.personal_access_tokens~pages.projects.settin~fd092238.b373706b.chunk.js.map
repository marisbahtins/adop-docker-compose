{"version":3,"sources":["webpack:///./due_date_select.js","webpack:///./boards/stores/boards_store.js","webpack:////home/git/gitlab/node_modules/pikaday/pikaday.js"],"names":["DueDateSelect","_ref","arguments","length","undefined","$dropdown","$loading","_classCallCheck","this","$dropdownParent","closest","$block","$datePicker","find","$sidebarCollapsedValue","$selectbox","$value","$valueContent","$sidebarValue","$","fieldName","data","abilityName","issueUpdateURL","rawSelectedDate","displayedDate","datePayload","initGlDropdown","initRemoveDueDate","initDatePicker","_this","glDropdown","opened","show","hidden","hide","css","_this2","$dueDateInput","concat","calendar","Pikaday","field","get","theme","format","parse","dateString","parsePikadayDate","toString","date","pikadayToString","onSelect","dateText","val","hasClass","boardsStore","detail","issue","dueDate","updateIssueBoardIssue","saveDueDate","setDate","append","el","_this3","on","e","preventDefault","isDropdown","parseSelectedDate","prepSelectedDate","submitSelectedDate","dateArray","split","map","v","parseInt","dateObj","Date","dateFormat","due_date","_this4","fadeIn","trigger","fadeOutLoader","fadeOut","update","attr","then","catch","_this5","selectedDateValue","hasDueDate","displayedDateStyle","removeClass","html","toggleClass","axios","put","tooltipText","__","timeFor","dropdown","DueDateSelectors","initMilestoneDatePicker","initIssuableSelect","each","datePickerVal","container","parent","target","siblings","i","__webpack_require__","d","__webpack_exports__","boardStoreIssueSet","boardStoreIssueDelete","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","n","underscore__WEBPACK_IMPORTED_MODULE_1__","underscore__WEBPACK_IMPORTED_MODULE_1___default","vue__WEBPACK_IMPORTED_MODULE_2__","js_cookie__WEBPACK_IMPORTED_MODULE_3__","js_cookie__WEBPACK_IMPORTED_MODULE_3___default","_lib_utils_common_utils__WEBPACK_IMPORTED_MODULE_4__","disabled","filter","path","state","moving","list","create","lists","getUrlParamsArray","join","addList","listObj","defaultAvatar","List","push","new","backlogList","findList","save","issues","forEach","removeIssue","bind","_","sortBy","removeBlankState","updateNewListDropdown","listId","shouldAddBlankState","type","addBlankState","welcomeIsHidden","id","list_type","title","position","removeList","Cookies","set","expires","parseBoolean","moveList","listFrom","orderLists","moveIssueToList","listTo","newIndex","issueTo","findIssue","issueLists","getLists","listLabels","listIssue","label","updateIssueLabel","removeLabel","findAssignee","assignee","removeAssignee","currentMilestone","milestone","currentLists","some","removeMilestone","addMilestone","currentList","addIssue","removeLabels","shouldRemoveIssue","moveIssueInList","oldIndex","idArray","beforeId","afterId","moveIssue","key","byType","findListByLabelId","updateFiltersUrl","window","history","pushState","_len","args","Array","_key","Vue","apply","_len2","_key2","delete","root","factory","moment","Error","code","module","exports","hasMoment","hasEventListeners","addEventListener","document","sto","setTimeout","addEvent","callback","capture","attachEvent","removeEvent","removeEventListener","detachEvent","cn","className","indexOf","isArray","obj","test","Object","prototype","call","isDate","isNaN","getTime","isWeekend","day","getDay","getDaysInMonth","year","month","isLeapYear","setToStartOfDay","setHours","compareDates","a","b","extend","to","from","overwrite","prop","hasProp","nodeName","slice","fireEvent","eventName","ev","createEvent","initEvent","dispatchEvent","createEventObject","adjustCalendar","Math","ceil","abs","floor","defaults","bound","reposition","defaultDate","setDefaultDate","firstDay","formatStrict","minDate","maxDate","yearRange","showWeekNumber","pickWholeWeek","minYear","maxYear","minMonth","maxMonth","startRange","endRange","isRTL","yearSuffix","showMonthAfterYear","showDaysInNextAndPreviousMonths","enableSelectionDaysInNextAndPreviousMonths","numberOfMonths","mainCalendar","blurFieldOnSelect","i18n","previousMonth","nextMonth","months","weekdays","weekdaysShort","events","onOpen","onClose","onDraw","renderDayName","opts","abbr","renderDay","arr","ariaSelected","isEmpty","isDisabled","isToday","isSelected","hasEvent","isInRange","isStartRange","isEndRange","renderRow","days","isRowSelected","reverse","renderTitle","instance","c","refYear","randId","j","monthHtml","yearHtml","_o","isMinYear","isMaxYear","prev","next","options","self","config","_onMouseDown","_v","event","srcElement","parentNode","prevMonth","getAttribute","blur","_c","returnValue","_onChange","gotoMonth","value","gotoYear","_onKeyChange","isVisible","keyCode","adjustDate","_onInputChange","firedBy","isValid","toDate","_onInputFocus","_onInputClick","_onInputBlur","pEl","activeElement","_b","_onClick","onchange","setAttribute","createElement","appendChild","body","insertBefore","nextSibling","defDate","gotoDate","disableWeekends","disableDayFn","nom","setMinDate","setMaxDate","fallback","getFullYear","_d","toDateString","getMoment","setMoment","preventOnSelect","isMoment","getDate","draw","min","max","newCalendar","calendars","firstVisibleDate","lastVisibleDate","visibleDate","setMonth","getMonth","adjustCalendars","sign","newDay","difference","valueOf","gotoToday","setStartRange","setEndRange","force","_y","_m","random","replace","substr","render","innerHTML","focus","adjustPosition","width","height","viewportWidth","viewportHeight","scrollTop","left","top","clientRect","style","offsetWidth","offsetHeight","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","pageYOffset","getBoundingClientRect","pageXOffset","bottom","offsetLeft","offsetTop","offsetParent","now","before","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","after","m","y","onejan","isWeekSelected","r","dayNumber","monthNumber","yearNumber","dayConfig","unshift","renderHead","renderTable","str","trim","destroy","removeChild"],"mappings":"6gBAQMA,aACJ,SAAAA,IAA0C,IAAAC,EAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,MAA5BG,EAA4BJ,EAA5BI,UAAWC,EAAiBL,EAAjBK,SAAiBC,EAAAC,KAAAR,GACxC,IAAMS,EAAkBJ,EAAUK,QAAQ,aACpCC,EAASN,EAAUK,QAAQ,UACjCF,KAAKF,SAAWA,EAChBE,KAAKH,UAAYA,EACjBG,KAAKC,gBAAkBA,EACvBD,KAAKI,YAAcH,EAAgBI,KAAK,yBACxCL,KAAKG,OAASA,EACdH,KAAKM,uBAAyBH,EAAOE,KAAK,2BAC1CL,KAAKO,WAAaV,EAAUK,QAAQ,cACpCF,KAAKQ,OAASL,EAAOE,KAAK,UAC1BL,KAAKS,cAAgBN,EAAOE,KAAK,kBACjCL,KAAKU,cAAgBC,IAAE,6BAA8BR,GACrDH,KAAKY,UAAYf,EAAUgB,KAAK,aAChCb,KAAKc,YAAcjB,EAAUgB,KAAK,eAClCb,KAAKe,eAAiBlB,EAAUgB,KAAK,eAErCb,KAAKgB,gBAAkB,KACvBhB,KAAKiB,cAAgB,KACrBjB,KAAKkB,YAAc,KAEnBlB,KAAKmB,iBACLnB,KAAKoB,oBACLpB,KAAKqB,oEAGU,IAAAC,EAAAtB,KACfA,KAAKH,UAAU0B,YACbC,OAAQ,WACWF,EAAKlB,YAAYS,KAAK,WAC9BY,QAEXC,OAAQ,WACNJ,EAAKf,WAAWoB,OAChBL,EAAKd,OAAOoB,IAAI,UAAW,gDAKhB,IAAAC,EAAA7B,KACT8B,EAAgBnB,IAAC,eAAAoB,OAAgB/B,KAAKY,UAArB,OACjBoB,EAAW,IAAIC,KACnBC,MAAOJ,EAAcK,IAAI,GACzBC,MAAO,eACPC,OAAQ,aACRC,MAAO,SAAAC,GAAU,OAAIC,YAAiBD,IACtCE,SAAU,SAAAC,GAAI,OAAIC,YAAgBD,IAClCE,SAAU,SAAAC,GACRf,EAAcgB,IAAId,EAASS,SAASI,IAEhChB,EAAKhC,UAAUkD,SAAS,6BAC1BC,IAAYC,OAAOC,MAAMC,QAAUrB,EAAcgB,MACjDjB,EAAKuB,yBAELvB,EAAKwB,aAAY,MAKvBrB,EAASsB,QAAQd,YAAiBV,EAAcgB,QAChD9C,KAAKI,YAAYmD,OAAOvB,EAASwB,IACjCxD,KAAKI,YAAYS,KAAK,UAAWmB,+CAGf,IAAAyB,EAAAzD,KAClBA,KAAKG,OAAOuD,GAAG,QAAS,sBAAuB,SAAAC,GAC7C,IAAM3B,EAAWyB,EAAKrD,YAAYS,KAAK,WACvC8C,EAAEC,iBAEF5B,EAASsB,QAAQ,MAEbG,EAAK5D,UAAUkD,SAAS,6BAC1BC,IAAYC,OAAOC,MAAMC,QAAU,GACnCM,EAAKL,0BAELzC,IAAC,eAAAoB,OAAgB0B,EAAK7C,UAArB,OAAoCkC,IAAI,IACzCW,EAAKJ,aAAY,0CAKXQ,GACV7D,KAAK8D,oBACL9D,KAAK+D,mBACL/D,KAAKgE,mBAAmBH,+CAMxB,GAFA7D,KAAKgB,gBAAkBL,IAAC,eAAAoB,OAAgB/B,KAAKY,UAArB,OAAoCkC,MAExD9C,KAAKgB,gBAAgBrB,OAAQ,CAE/B,IAAMsE,EAAYjE,KAAKgB,gBAAgBkD,MAAM,KAAKC,IAAI,SAAAC,GAAC,OAAIC,SAASD,EAAG,MACjEE,EAAU,IAAIC,KAAKN,EAAU,GAAIA,EAAU,GAAK,EAAGA,EAAU,IACnEjE,KAAKiB,cAAgBuD,IAAWF,EAAS,oBAEzCtE,KAAKiB,cAAgB,yDAKvB,IAAMC,KACNA,EAAYlB,KAAKc,gBACjBI,EAAYlB,KAAKc,aAAa2D,SAAWzE,KAAKgB,gBAC9ChB,KAAKkB,YAAcA,kDAGG,IAAAwD,EAAA1E,KACtBA,KAAKF,SAAS6E,SACd3E,KAAKH,UAAU+E,QAAQ,uBACvB5E,KAAKO,WAAWoB,OAChB3B,KAAKQ,OAAOoB,IAAI,UAAW,IAC3B,IAAMiD,EAAgB,WACpBH,EAAK5E,SAASgF,WAGhB9B,IAAYC,OAAOC,MAChB6B,OAAO/E,KAAKH,UAAUmF,KAAK,sBAC3BC,KAAKJ,GACLK,MAAML,8CAGQhB,GAAY,IAAAsB,EAAAnF,KACvBoF,EAAoBpF,KAAKkB,YAAYlB,KAAKc,aAAa2D,SACvDY,EAAoC,gBAAvBrF,KAAKiB,cAClBqE,EAAqBD,EAAa,OAAS,WAejD,OAbArF,KAAKF,SAASyF,YAAY,UAAUZ,SAEhCd,IACF7D,KAAKH,UAAU+E,QAAQ,uBACvB5E,KAAKO,WAAWoB,QAGlB3B,KAAKQ,OAAOoB,IAAI,UAAW,IAC3B5B,KAAKS,cAAc+E,KAAnB,gBAAAzD,OAAwCuD,EAAxC,MAAAvD,OAA+D/B,KAAKiB,cAApE,YACAjB,KAAKU,cAAc8E,KAAKxF,KAAKiB,eAE7BN,IAAE,8BAA8B8E,YAAY,SAAUL,EAAkBzF,QAEjE+F,IAAMC,IAAI3F,KAAKe,eAAgBf,KAAKkB,aAAa+D,KAAK,WAC3D,IAAMW,EAAcP,EAAU,GAAAtD,OACvB8D,YAAG,YADoB,UAAA9D,OACAqD,EADA,MAAArD,OACsB+D,YAAQV,GAD9B,KAE1BS,YAAG,YAOP,OANIhC,IACFsB,EAAKtF,UAAU+E,QAAQ,sBACvBO,EAAKtF,UAAUkG,SAAS,WAE1BZ,EAAK7E,uBAAuB0E,KAAK,sBAAuBY,GAEjDT,EAAKrF,SAASgF,qBAKNkB,aACnB,SAAAA,IAAcjG,EAAAC,KAAAgG,GACZhG,KAAKiG,0BACLjG,KAAKkG,iFAILvF,IAAE,eAAewF,KAAK,WACpB,IAAM/F,EAAcO,IAAEX,MAChBoG,EAAgBhG,EAAY0C,MAE5Bd,EAAW,IAAIC,KACnBC,MAAO9B,EAAY+B,IAAI,GACvBC,MAAO,8BACPC,OAAQ,aACRgE,UAAWjG,EAAYkG,SAASnE,IAAI,GACpCG,MAAO,SAAAC,GAAU,OAAIC,YAAiBD,IACtCE,SAAU,SAAAC,GAAI,OAAIC,YAAgBD,IAClCE,SAP2B,SAOlBC,GACPzC,EAAY0C,IAAId,EAASS,SAASI,OAItCb,EAASsB,QAAQd,YAAiB4D,IAElChG,EAAYS,KAAK,UAAWmB,KAG9BrB,IAAE,2CAA2C+C,GAAG,QAAS,SAAAC,GACvDA,EAAEC,iBACejD,IAAEgD,EAAE4C,QAClBC,SAAS,eACT3F,KAAK,WACCyC,QAAQ,qDAKnB,IAAMxD,EAAWa,IAAE,iCAChBN,KAAK,kBACLsB,OAEHhB,IAAE,uBAAuBwF,KAAK,SAACM,EAAGV,GAChC,IAAMlG,EAAYc,IAAEoF,GAEpB,IAAIvG,GACFK,YACAC,yDCnNR4G,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAA,IAAAC,EAAAL,EAAA,GAAAM,EAAAN,EAAAO,EAAAF,GAAAG,EAAAR,EAAA,GAAAS,EAAAT,EAAAO,EAAAC,GAAAE,EAAAV,EAAA,IAAAW,EAAAX,EAAA,IAAAY,EAAAZ,EAAAO,EAAAI,GAAAE,EAAAb,EAAA,IASM1D,GACJwE,UAAU,EACVC,QACEC,KAAM,IAERC,SACA1E,QACEC,UAEF0E,QACE1E,SACA2E,SAEFC,OAbkB,WAchB9H,KAAK2H,MAAMI,SACX/H,KAAKyH,OAAOC,KAAOM,cAAoBC,KAAK,KAC5CjI,KAAKiD,QACHC,WAGJgF,QApBkB,SAoBVC,EAASC,GACf,IAAMP,EAAO,IAAIQ,KAAKF,EAASC,GAG/B,OAFApI,KAAK2H,MAAMI,MAAMO,KAAKT,GAEfA,GAETU,IA1BkB,SA0BdJ,GAAS,IAAA7G,EAAAtB,KACL6H,EAAO7H,KAAKkI,QAAQC,GACpBK,EAAcxI,KAAKyI,SAAS,OAAQ,UAAW,WAErDZ,EACGa,OACAzD,KAAK,WAGJ4C,EAAKc,OAAOC,QAAQJ,EAAYK,YAAYC,KAAKN,IACjDlH,EAAKqG,MAAMI,MAAQgB,IAAEC,OAAO1H,EAAKqG,MAAMI,MAAO,cAE/C7C,MAAM,cAGTlF,KAAKiJ,oBAEPC,sBA3CkB,SA2CIC,GACpBxI,IAAC,kBAAAoB,OAAmBoH,IAAU5D,YAAY,cAE5C6D,oBA9CkB,WAgDhB,OAAQpJ,KAAK2H,MAAMI,MAAMN,OAAO,SAAAI,GAAI,MAAkB,YAAdA,EAAKwB,MAAoC,WAAdxB,EAAKwB,OAAmB,IAE7FC,cAlDkB,YAmDXtJ,KAAKoJ,uBAAyBpJ,KAAKuJ,mBAAqBvJ,KAAKwH,WAElExH,KAAKkI,SACHsB,GAAI,QACJC,UAAW,QACXC,MAAO,+BACPC,SAAU,IAGZ3J,KAAK2H,MAAMI,MAAQgB,IAAEC,OAAOhJ,KAAK2H,MAAMI,MAAO,cAEhDkB,iBA9DkB,WA+DhBjJ,KAAK4J,WAAW,SAEhBC,IAAQC,IAAI,6BAA8B,QACxCC,QAAS,KACTrC,KAAM,MAGV6B,gBAtEkB,WAuEhB,OAAOS,YAAaH,IAAQ1H,IAAI,gCAElCyH,WAzEkB,SAyEPJ,GAAoB,IAAhBH,EAAgB3J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAT,QACPM,KAAKyI,SAAS,KAAMe,EAAIH,KAIrCrJ,KAAK2H,MAAMI,MAAQ/H,KAAK2H,MAAMI,MAAMN,OAAO,SAAAI,GAAI,OAAIA,EAAK2B,KAAOA,MAEjES,SAhFkB,SAgFTC,EAAUC,GAAY,IAAAtI,EAAA7B,KAC7BmK,EAAWvB,QAAQ,SAACY,EAAI/C,GACT5E,EAAK4G,SAAS,KAAMpE,SAASmF,EAAI,KAEzCG,SAAWlD,IAElByD,EAASnF,UAEXqF,gBAxFkB,SAwFFF,EAAUG,EAAQnH,EAAOoH,GACvC,IAAMC,EAAUF,EAAOG,UAAUtH,EAAMsG,IACjCiB,EAAavH,EAAMwH,WACnBC,EAAaF,EAAWtG,IAAI,SAAAyG,GAAS,OAAIA,EAAUC,QAEzD,GAAKN,EAwBHF,EAAOS,iBAAiB5H,EAAOgH,GAC/BK,EAAQQ,YAAYb,EAASW,YAvB7B,GACkB,aAAhBR,EAAOhB,MACW,aAAlBa,EAASb,MACTnG,EAAM8H,aAAaX,EAAOY,UAENZ,EAAOG,UAAUtH,EAAMsG,IAC/B0B,eAAehB,EAASe,eAC/B,GAAoB,cAAhBZ,EAAOhB,KAAsB,CACtC,IAAM8B,EAAmBjI,EAAMkI,UACzBC,EAAerL,KAAK2H,MAAMI,MAC7BN,OAAO,SAAAI,GAAI,MAAkB,cAAdA,EAAKwB,MAAwBxB,EAAK2B,KAAOa,EAAOb,KAC/D/B,OAAO,SAAAI,GAAI,OAAIA,EAAKc,OAAO2C,KAAK,SAAAV,GAAS,OAAI1H,EAAMsG,KAAOoB,EAAUpB,OAEvEtG,EAAMqI,gBAAgBJ,GACtBjI,EAAMsI,aAAanB,EAAOe,WAC1BC,EAAazC,QAAQ,SAAA6C,GAAW,OAAIA,EAAY5C,YAAY3F,KAC5DmH,EAAOqB,SAASxI,EAAOgH,EAAUI,QAGjCD,EAAOqB,SAASxI,EAAOgH,EAAUI,GAOjB,WAAhBD,EAAOhB,MAAuC,YAAlBa,EAASb,MACvCoB,EAAW7B,QAAQ,SAAAf,GACjBA,EAAKgB,YAAY3F,KAEnBA,EAAMyI,aAAahB,IACM,YAAhBN,EAAOhB,MAAwC,aAAlBa,EAASb,MAC/CnG,EAAMgI,eAAehB,EAASe,UAC9Bf,EAASrB,YAAY3F,IACI,YAAhBmH,EAAOhB,MAAwC,cAAlBa,EAASb,MAC/CnG,EAAMqI,gBAAgBrB,EAASkB,WAC/BlB,EAASrB,YAAY3F,IACZlD,KAAK4L,kBAAkB1B,EAAUG,IAC1CH,EAASrB,YAAY3F,IAGzB0I,kBAxIkB,SAwIA1B,EAAUG,GAC1B,MACmB,UAAhBA,EAAOhB,MAAsC,aAAlBa,EAASb,MACpB,aAAhBgB,EAAOhB,MAAyC,UAAlBa,EAASb,MACtB,YAAlBa,EAASb,MAGbwC,gBA/IkB,SA+IFhE,EAAM3E,EAAO4I,EAAUxB,EAAUyB,GAC/C,IAAMC,EAAW3H,SAAS0H,EAAQzB,EAAW,GAAI,KAAO,KAClD2B,EAAU5H,SAAS0H,EAAQzB,EAAW,GAAI,KAAO,KAEvDzC,EAAKqE,UAAUhJ,EAAO4I,EAAUxB,EAAU0B,EAAUC,IAEtDxD,SArJkB,SAqJT0D,EAAKrJ,GAAqB,IAAhBuG,EAAgB3J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAT,QAQxB,OAPqBM,KAAK2H,MAAMI,MAAMN,OAAO,SAAAI,GAC3C,IAAMuE,GAAS/C,IACXxB,EAAKwB,OAASA,GAAsB,aAAdxB,EAAKwB,MAAqC,cAAdxB,EAAKwB,MAG3D,OAAOxB,EAAKsE,KAASrJ,GAAOsJ,IAEV,IAEtBC,kBA/JkB,SA+JA7C,GAChB,OAAOxJ,KAAK2H,MAAMI,MAAM1H,KAAK,SAAAwH,GAAI,MAAkB,UAAdA,EAAKwB,MAAoBxB,EAAKgD,MAAMrB,KAAOA,KAElF8C,iBAlKkB,WAmKhBC,OAAOC,QAAQC,UAAU,KAAM,KAA/B,IAAA1K,OAAyC/B,KAAKyH,OAAOC,SAOlD,SAASb,IAA4B,QAAA6F,EAAAhN,UAAAC,OAANgN,EAAM,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAANF,EAAME,GAAAnN,UAAAmN,GAC1CC,UAAIhD,IAAJiD,MAAAD,WAAQ9J,EAAYC,OAAOC,OAAxBnB,OAAkC4K,IAGhC,SAAS7F,IAA+B,QAAAkG,EAAAtN,UAAAC,OAANgN,EAAM,IAAAC,MAAAI,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANN,EAAMM,GAAAvN,UAAAuN,GAC7CH,UAAII,OAAJH,MAAAD,WAAW9J,EAAYC,OAAOC,OAA3BnB,OAAqC4K,IAG3B3J;;;;;;CCrLf,SAAAmK,EAAAC,GAEA,aAEA,IAAAC,EAIA,IAAaA,EAAU3G,GAAQ,eAAA/C,EAAA,IAAA2J,MAAA,qCAAA3J,EAAA4J,KAAA,mBAAA5J,EAAA,IAAY,MAAAA,IAC3C6J,EAAAC,QAaC,SAAAJ,GAOD,IAAAK,EAAA,mBAAAL,EAEAM,IAAApB,OAAAqB,iBAEAC,EAAAtB,OAAAsB,SAEAC,EAAAvB,OAAAwB,WAEAC,EAAA,SAAAxK,EAAAG,EAAAsK,EAAAC,GAEAP,EACAnK,EAAAoK,iBAAAjK,EAAAsK,IAAAC,GAEA1K,EAAA2K,YAAA,KAAAxK,EAAAsK,IAIAG,EAAA,SAAA5K,EAAAG,EAAAsK,EAAAC,GAEAP,EACAnK,EAAA6K,oBAAA1K,EAAAsK,IAAAC,GAEA1K,EAAA8K,YAAA,KAAA3K,EAAAsK,IASAlL,EAAA,SAAAS,EAAA+K,GAEA,gBAAA/K,EAAAgL,UAAA,KAAAC,QAAA,IAAAF,EAAA,MAeAG,EAAA,SAAAC,GAEA,cAAAC,KAAAC,OAAAC,UAAArM,SAAAsM,KAAAJ,KAGAK,EAAA,SAAAL,GAEA,aAAAC,KAAAC,OAAAC,UAAArM,SAAAsM,KAAAJ,MAAAM,MAAAN,EAAAO,YAGAC,EAAA,SAAAzM,GAEA,IAAA0M,EAAA1M,EAAA2M,SACA,WAAAD,GAAA,IAAAA,GASAE,EAAA,SAAAC,EAAAC,GAEA,UARA,SAAAD,GAGA,OAAAA,EAAA,MAAAA,EAAA,QAAAA,EAAA,OAKAE,CAAAF,GAAA,qCAAAC,IAGAE,EAAA,SAAAhN,GAEAsM,EAAAtM,MAAAiN,SAAA,UAGAC,EAAA,SAAAC,EAAAC,GAGA,OAAAD,EAAAX,YAAAY,EAAAZ,WAGAa,EAAA,SAAAC,EAAAC,EAAAC,GAEA,IAAAC,EAAAC,EACA,IAAAD,KAAAF,GACAG,OAAAxQ,IAAAoQ,EAAAG,KACA,iBAAAF,EAAAE,IAAA,OAAAF,EAAAE,SAAAvQ,IAAAqQ,EAAAE,GAAAE,SACArB,EAAAiB,EAAAE,IACAD,IACAF,EAAAG,GAAA,IAAA5L,KAAA0L,EAAAE,GAAAjB,YAGAR,EAAAuB,EAAAE,IACAD,IACAF,EAAAG,GAAAF,EAAAE,GAAAG,MAAA,IAGAN,EAAAG,GAAAJ,KAAwCE,EAAAE,GAAAD,IAE3BA,GAAAE,IACbJ,EAAAG,GAAAF,EAAAE,IAGA,OAAAH,GAGAO,EAAA,SAAA/M,EAAAgN,EAAA3P,GAEA,IAAA4P,EAEA5C,EAAA6C,cACAD,EAAA5C,EAAA6C,YAAA,eACAC,UAAAH,GAAA,MACAC,EAAAV,EAAAU,EAAA5P,GACA2C,EAAAoN,cAAAH,IACS5C,EAAAgD,oBACTJ,EAAA5C,EAAAgD,oBACAJ,EAAAV,EAAAU,EAAA5P,GACA2C,EAAA+M,UAAA,KAAAC,EAAAC,KAIAK,EAAA,SAAA9O,GASA,OARAA,EAAAwN,MAAA,IACAxN,EAAAuN,MAAAwB,KAAAC,KAAAD,KAAAE,IAAAjP,EAAAwN,OAAA,IACAxN,EAAAwN,OAAA,IAEAxN,EAAAwN,MAAA,KACAxN,EAAAuN,MAAAwB,KAAAG,MAAAH,KAAAE,IAAAjP,EAAAwN,OAAA,IACAxN,EAAAwN,OAAA,IAEAxN,GAMAmP,GAGAjP,MAAA,KAGAkP,WAAAxR,EAIA+J,SAAA,cAGA0H,YAAA,EAGAhP,OAAA,aAIAI,SAAA,KAGAH,MAAA,KAGAgP,YAAA,KAGAC,gBAAA,EAGAC,SAAA,EAGAC,cAAA,EAGAC,QAAA,KAEAC,QAAA,KAGAC,UAAA,GAGAC,gBAAA,EAGAC,eAAA,EAGAC,QAAA,EACAC,QAAA,KACAC,cAAArS,EACAsS,cAAAtS,EAEAuS,WAAA,KACAC,SAAA,KAEAC,OAAA,EAGAC,WAAA,GAGAC,oBAAA,EAGAC,iCAAA,EAGAC,4CAAA,EAGAC,eAAA,EAIAC,aAAA,OAGAtM,eAAAzG,EAGAgT,mBAAA,EAGAC,MACAC,cAAA,iBACAC,UAAA,aACAC,QAAA,+GACAC,UAAA,wEACAC,eAAA,4CAIA9Q,MAAA,KAGA+Q,UAGAvQ,SAAA,KACAwQ,OAAA,KACAC,QAAA,KACAC,OAAA,MAOAC,EAAA,SAAAC,EAAApE,EAAAqE,GAGA,IADArE,GAAAoE,EAAAhC,SACApC,GAAA,GACAA,GAAA,EAEA,OAAAqE,EAAAD,EAAAX,KAAAK,cAAA9D,GAAAoE,EAAAX,KAAAI,SAAA7D,IAGAsE,EAAA,SAAAF,GAEA,IAAAG,KACAC,EAAA,QACA,GAAAJ,EAAAK,QAAA,CACA,IAAAL,EAAAhB,gCAQA,mCAPAmB,EAAArL,KAAA,4BAEAkL,EAAAf,4CACAkB,EAAArL,KAAA,yBA6BA,OAtBAkL,EAAAM,YACAH,EAAArL,KAAA,eAEAkL,EAAAO,SACAJ,EAAArL,KAAA,YAEAkL,EAAAQ,aACAL,EAAArL,KAAA,eACAsL,EAAA,QAEAJ,EAAAS,UACAN,EAAArL,KAAA,aAEAkL,EAAAU,WACAP,EAAArL,KAAA,cAEAkL,EAAAW,cACAR,EAAArL,KAAA,iBAEAkL,EAAAY,YACAT,EAAArL,KAAA,eAEA,iBAAAkL,EAAApE,IAAA,YAAAuE,EAAA1L,KAAA,yBAAA2L,EAAA,wEAEAJ,EAAAjE,KAAA,sBAAAiE,EAAAhE,MAAA,oBAAAgE,EAAApE,IAAA,KACAoE,EAAApE,IACA,kBAWAiF,EAAA,SAAAC,EAAAjC,EAAAP,EAAAyC,GAEA,6BAAAzC,EAAA,wBAAAyC,EAAA,yBAAAlC,EAAAiC,EAAAE,UAAAF,GAAArM,KAAA,aAoBAwM,EAAA,SAAAC,EAAAC,EAAApF,EAAAC,EAAAoF,EAAAC,GAEA,IAAApO,EAAAqO,EAAAnB,EAKAoB,EACAC,EALAxB,EAAAkB,EAAAO,GACAC,EAAA3F,IAAAiE,EAAAzB,QACAoD,EAAA5F,IAAAiE,EAAAxB,QACAxM,EAAA,YAAAqP,EAAA,6DAGAO,GAAA,EACAC,GAAA,EAEA,IAAA1B,KAAAlN,EAAA,EAA6BA,EAAA,GAAQA,IACrCkN,EAAArL,KAAA,mBAAAiH,IAAAqF,EAAAnO,EAAAkO,EAAA,GAAAlO,EAAAkO,GAAA,KACAlO,IAAA+I,EAAA,4BACA0F,GAAAzO,EAAA+M,EAAAvB,UAAAkD,GAAA1O,EAAA+M,EAAAtB,SAAA,8BACAsB,EAAAX,KAAAG,OAAAvM,GAAA,aAaA,IAVAsO,EAAA,2BAAAvB,EAAAX,KAAAG,OAAAxD,GAAA,+DAAAmE,EAAA1L,KAAA,sBAEAyG,EAAA8E,EAAA5B,YACAnL,EAAA+M,EAAA5B,UAAA,GACAkD,EAAAtB,EAAA5B,UAAA,OAEAnL,EAAA8I,EAAAiE,EAAA5B,UACAkD,EAAA,EAAAvF,EAAAiE,EAAA5B,WAGA+B,KAAsBlN,EAAAqO,GAAArO,GAAA+M,EAAAxB,QAA4BvL,IAClDA,GAAA+M,EAAAzB,SACA4B,EAAArL,KAAA,kBAAA7B,EAAA,KAAAA,IAAA8I,EAAA,8CA0BA,OAvBAyF,EAAA,2BAAAzF,EAAAiE,EAAAlB,WAAA,8DAAAqB,EAAA1L,KAAA,sBAEAuL,EAAAjB,mBACA/M,GAAAwP,EAAAD,EAEAvP,GAAAuP,EAAAC,EAGAE,IAAA,IAAA1F,GAAAgE,EAAAvB,UAAAzC,KACA4F,GAAA,GAGAD,IAAA,KAAA3F,GAAAgE,EAAAtB,UAAA1C,KACA6F,GAAA,GAGA,IAAAV,IACAnP,GAAA,4BAAA4P,EAAA,sCAAA5B,EAAAX,KAAAC,cAAA,aAEA6B,IAAAD,EAAAO,GAAAvC,eAAA,IACAlN,GAAA,4BAAA6P,EAAA,sCAAA7B,EAAAX,KAAAE,UAAA,aAGAvN,GAAA,UAYAvD,EAAA,SAAAqT,GAEA,IAAAC,EAAAvV,KACAwT,EAAA+B,EAAAC,OAAAF,GAEAC,EAAAE,aAAA,SAAA9R,GAEA,GAAA4R,EAAAG,GAAA,CAIA,IAAAnP,GADA5C,KAAA4I,OAAAoJ,OACApP,QAAA5C,EAAAiS,WACA,GAAArP,EAuBA,GAnBAxD,EAAAwD,EAAA,kBACAxD,EAAAwD,EAAA,gBAAAxD,EAAAwD,EAAA,aAAAxD,EAAAwD,EAAAsP,WAAA,eAWA9S,EAAAwD,EAAA,aACAgP,EAAAO,YAEA/S,EAAAwD,EAAA,cACAgP,EAAAxC,aAdAwC,EAAAjS,QAAA,IAAAiB,KAAAgC,EAAAwP,aAAA,kBAAAxP,EAAAwP,aAAA,mBAAAxP,EAAAwP,aAAA,mBACAvC,EAAApC,OACAtD,EAAA,WACAyH,EAAA5T,OACA6R,EAAAZ,mBAAAY,EAAAtR,OACAsR,EAAAtR,MAAA8T,QAEyB,OAUzBjT,EAAAwD,EAAA,eASAgP,EAAAU,IAAA,MATA,CAEA,IAAAtS,EAAAC,eAIA,OADAD,EAAAuS,aAAA,GACA,EAHAvS,EAAAC,oBAUA2R,EAAAY,UAAA,SAAAxS,GAGA,IAAA4C,GADA5C,KAAA4I,OAAAoJ,OACApP,QAAA5C,EAAAiS,WACArP,IAGAxD,EAAAwD,EAAA,qBACAgP,EAAAa,UAAA7P,EAAA8P,OAEAtT,EAAAwD,EAAA,qBACAgP,EAAAe,SAAA/P,EAAA8P,SAIAd,EAAAgB,aAAA,SAAA5S,GAIA,GAFAA,KAAA4I,OAAAoJ,MAEAJ,EAAAiB,YAEA,OAAA7S,EAAA8S,SACA,QACA,QACAjD,EAAAtR,OACAsR,EAAAtR,MAAA8T,OAEA,MACA,QACArS,EAAAC,iBACA2R,EAAAmB,WAAA,cACA,MACA,QACAnB,EAAAmB,WAAA,cACA,MACA,QACAnB,EAAAmB,WAAA,SACA,MACA,QACAnB,EAAAmB,WAAA,WAMAnB,EAAAoB,eAAA,SAAAhT,GAEA,IAAAjB,EAEAiB,EAAAiT,UAAArB,IAIA7S,EADA8Q,EAAAlR,MACAkR,EAAAlR,MAAAkR,EAAAtR,MAAAmU,MAAA7C,EAAAnR,QACaqL,GACbhL,EAAA2K,EAAAmG,EAAAtR,MAAAmU,MAAA7C,EAAAnR,OAAAmR,EAAA/B,gBACA/O,EAAAmU,UAAAnU,EAAAoU,SAAA,KAGA,IAAAvS,UAAAjC,MAAAkR,EAAAtR,MAAAmU,QAEArH,EAAAtM,IACA6S,EAAAjS,QAAAZ,GAEA6S,EAAAG,IACAH,EAAA9T,SAIA8T,EAAAwB,cAAA,WAEAxB,EAAA9T,QAGA8T,EAAAyB,cAAA,WAEAzB,EAAA9T,QAGA8T,EAAA0B,aAAA,WAGA,IAAAC,EAAArJ,EAAAsJ,cACA,GACA,GAAApU,EAAAmU,EAAA,eACA,aAGAA,IAAArB,YAEAN,EAAAU,KACAV,EAAA6B,GAAAtJ,EAAA,WACAyH,EAAA5T,QACiB,KAEjB4T,EAAAU,IAAA,GAGAV,EAAA8B,SAAA,SAAA1T,GAGA,IAAA4C,GADA5C,KAAA4I,OAAAoJ,OACApP,QAAA5C,EAAAiS,WACAsB,EAAA3Q,EACA,GAAAA,EAAA,EAGAoH,GAAA5K,EAAAwD,EAAA,iBACAA,EAAA+Q,WACA/Q,EAAAgR,aAAA,sBACAvJ,EAAAzH,EAAA,SAAAgP,EAAAY,aAGA,GACA,GAAApT,EAAAmU,EAAA,gBAAAA,IAAA1D,EAAA5O,QACA,aAGAsS,IAAArB,YACAN,EAAAG,IAAAnP,IAAAiN,EAAA5O,SAAAsS,IAAA1D,EAAA5O,SACA2Q,EAAA5T,SAIA4T,EAAA/R,GAAAqK,EAAA2J,cAAA,OACAjC,EAAA/R,GAAAgL,UAAA,eAAAgF,EAAAnB,MAAA,eAAAmB,EAAApR,MAAA,IAAAoR,EAAApR,MAAA,IAEA4L,EAAAuH,EAAA/R,GAAA,YAAA+R,EAAAE,cAAA,GACAzH,EAAAuH,EAAA/R,GAAA,WAAA+R,EAAAE,cAAA,GACAzH,EAAAuH,EAAA/R,GAAA,SAAA+R,EAAAY,WACAnI,EAAAH,EAAA,UAAA0H,EAAAgB,cAEA/C,EAAAtR,QACAsR,EAAAnN,UACAmN,EAAAnN,UAAAoR,YAAAlC,EAAA/R,IACagQ,EAAApC,MACbvD,EAAA6J,KAAAD,YAAAlC,EAAA/R,IAEAgQ,EAAAtR,MAAA2T,WAAA8B,aAAApC,EAAA/R,GAAAgQ,EAAAtR,MAAA0V,aAEA5J,EAAAwF,EAAAtR,MAAA,SAAAqT,EAAAoB,gBAEAnD,EAAAlC,cACA5D,GAAA8F,EAAAtR,MAAAmU,MACA7C,EAAAlC,YAAAjE,EAAAmG,EAAAtR,MAAAmU,MAAA7C,EAAAnR,QAAAyU,SAEAtD,EAAAlC,YAAA,IAAA/M,UAAAjC,MAAAkR,EAAAtR,MAAAmU,QAEA7C,EAAAjC,gBAAA,IAIA,IAAAsG,EAAArE,EAAAlC,YAEAtC,EAAA6I,GACArE,EAAAjC,eACAgE,EAAAjS,QAAAuU,GAAA,GAEAtC,EAAAuC,SAAAD,GAGAtC,EAAAuC,SAAA,IAAAvT,MAGAiP,EAAApC,OACApR,KAAA2B,OACA4T,EAAA/R,GAAAgL,WAAA,YACAR,EAAAwF,EAAA5O,QAAA,QAAA2Q,EAAAyB,eACAhJ,EAAAwF,EAAA5O,QAAA,QAAA2Q,EAAAwB,eACA/I,EAAAwF,EAAA5O,QAAA,OAAA2Q,EAAA0B,eAEAjX,KAAAyB,QA4jBA,OApjBAQ,EAAA6M,WAMA0G,OAAA,SAAAF,GAEAtV,KAAAiV,KACAjV,KAAAiV,GAAAlF,KAAmCoB,GAAA,IAGnC,IAAAqC,EAAAzD,EAAA/P,KAAAiV,GAAAK,GAAA,GAEA9B,EAAAnB,QAAAmB,EAAAnB,MAEAmB,EAAAtR,MAAAsR,EAAAtR,OAAAsR,EAAAtR,MAAAmO,SAAAmD,EAAAtR,MAAA,KAEAsR,EAAApR,MAAA,iBAAAoR,EAAApR,OAAAoR,EAAApR,MAAAoR,EAAApR,MAAA,KAEAoR,EAAApC,cAAAxR,IAAA4T,EAAApC,MAAAoC,EAAAtR,OAAAsR,EAAApC,MAAAoC,EAAAtR,OAEAsR,EAAA5O,QAAA4O,EAAA5O,SAAA4O,EAAA5O,QAAAyL,SAAAmD,EAAA5O,QAAA4O,EAAAtR,MAEAsR,EAAAuE,kBAAAvE,EAAAuE,gBAEAvE,EAAAwE,aAAA,mBAAAxE,EAAAwE,aAAAxE,EAAAwE,aAAA,KAEA,IAAAC,EAAA5T,SAAAmP,EAAAd,eAAA,OAmBA,GAlBAc,EAAAd,eAAAuF,EAAA,IAAAA,EAEAjJ,EAAAwE,EAAA9B,WACA8B,EAAA9B,SAAA,GAEA1C,EAAAwE,EAAA7B,WACA6B,EAAA7B,SAAA,GAEA6B,EAAA9B,SAAA8B,EAAA7B,SAAA6B,EAAA7B,QAAA6B,EAAA9B,UACA8B,EAAA7B,QAAA6B,EAAA9B,SAAA,GAEA8B,EAAA9B,SACA1R,KAAAkY,WAAA1E,EAAA9B,SAEA8B,EAAA7B,SACA3R,KAAAmY,WAAA3E,EAAA7B,SAGAjD,EAAA8E,EAAA5B,WAAA,CACA,IAAAwG,GAAA,IAAA7T,MAAA8T,cAAA,GACA7E,EAAA5B,UAAA,GAAAvN,SAAAmP,EAAA5B,UAAA,QAAAwG,EACA5E,EAAA5B,UAAA,GAAAvN,SAAAmP,EAAA5B,UAAA,QAAAwG,OAEA5E,EAAA5B,UAAAb,KAAAE,IAAA5M,SAAAmP,EAAA5B,UAAA,MAAAT,EAAAS,UACA4B,EAAA5B,UAAA,MACA4B,EAAA5B,UAAA,KAIA,OAAA4B,GAMA/Q,SAAA,SAAAJ,GAGA,OADAA,KAAArC,KAAAiV,GAAA5S,OACA2M,EAAAhP,KAAAsY,IAGAtY,KAAAiV,GAAAxS,SACAzC,KAAAiV,GAAAxS,SAAAzC,KAAAsY,GAAAjW,GAEAqL,EACAL,EAAArN,KAAAsY,IAAAjW,UAEArC,KAAAsY,GAAAC,eARA,IAcAC,UAAA,WAEA,OAAA9K,EAAAL,EAAArN,KAAAsY,IAAA,MAMAG,UAAA,SAAA/V,EAAAgW,GAEAhL,GAAAL,EAAAsL,SAAAjW,IACA1C,KAAAsD,QAAAZ,EAAAoU,SAAA4B,IAOAE,QAAA,WAEA,OAAA5J,EAAAhP,KAAAsY,IAAA,IAAA/T,KAAAvE,KAAAsY,GAAApJ,WAAA,MAMA5L,QAAA,SAAAZ,EAAAgW,GAEA,IAAAhW,EAQA,OAPA1C,KAAAsY,GAAA,KAEAtY,KAAAiV,GAAA/S,QACAlC,KAAAiV,GAAA/S,MAAAmU,MAAA,GACA9F,EAAAvQ,KAAAiV,GAAA/S,MAAA,UAAwD0U,QAAA5W,QAGxDA,KAAA6Y,OAKA,GAHA,iBAAAnW,IACAA,EAAA,IAAA6B,UAAAjC,MAAAI,KAEAsM,EAAAtM,GAAA,CAIA,IAAAoW,EAAA9Y,KAAAiV,GAAAvD,QACAqH,EAAA/Y,KAAAiV,GAAAtD,QAEA3C,EAAA8J,IAAApW,EAAAoW,EACApW,EAAAoW,EACa9J,EAAA+J,IAAArW,EAAAqW,IACbrW,EAAAqW,GAGA/Y,KAAAsY,GAAA,IAAA/T,KAAA7B,EAAAwM,WACAQ,EAAA1P,KAAAsY,IACAtY,KAAA8X,SAAA9X,KAAAsY,IAEAtY,KAAAiV,GAAA/S,QACAlC,KAAAiV,GAAA/S,MAAAmU,MAAArW,KAAAyC,WACA8N,EAAAvQ,KAAAiV,GAAA/S,MAAA,UAAoD0U,QAAA5W,QAEpD0Y,GAAA,mBAAA1Y,KAAAiV,GAAArS,UACA5C,KAAAiV,GAAArS,SAAAmM,KAAA/O,UAAA4Y,aAOAd,SAAA,SAAApV,GAEA,IAAAsW,GAAA,EAEA,GAAAhK,EAAAtM,GAAA,CAIA,GAAA1C,KAAAiZ,UAAA,CACA,IAAAC,EAAA,IAAA3U,KAAAvE,KAAAiZ,UAAA,GAAA1J,KAAAvP,KAAAiZ,UAAA,GAAAzJ,MAAA,GACA2J,EAAA,IAAA5U,KAAAvE,KAAAiZ,UAAAjZ,KAAAiZ,UAAAtZ,OAAA,GAAA4P,KAAAvP,KAAAiZ,UAAAjZ,KAAAiZ,UAAAtZ,OAAA,GAAA6P,MAAA,GACA4J,EAAA1W,EAAAwM,UAEAiK,EAAAE,SAAAF,EAAAG,WAAA,GACAH,EAAA7V,QAAA6V,EAAAP,UAAA,GACAI,EAAAI,EAAAF,EAAAhK,WAAAiK,EAAAjK,UAAAkK,EAGAJ,IACAhZ,KAAAiZ,YACAzJ,MAAA9M,EAAA4W,WACA/J,KAAA7M,EAAA2V,gBAEA,UAAArY,KAAAiV,GAAAtC,eACA3S,KAAAiZ,UAAA,GAAAzJ,OAAA,EAAAxP,KAAAiV,GAAAvC,iBAIA1S,KAAAuZ,oBAGA7C,WAAA,SAAA8C,EAAAlF,GAEA,IAGAmF,EAHArK,EAAApP,KAAA4Y,WAAA,IAAArU,KACAmV,EAAA,GAAArV,SAAAiQ,GAAA,UAIA,QAAAkF,EACAC,EAAA,IAAAlV,KAAA6K,EAAAuK,UAAAD,GACa,aAAAF,IACbC,EAAA,IAAAlV,KAAA6K,EAAAuK,UAAAD,IAGA1Z,KAAAsD,QAAAmW,IAGAF,gBAAA,WACAvZ,KAAAiZ,UAAA,GAAAnI,EAAA9Q,KAAAiZ,UAAA,IACA,QAAAtE,EAAA,EAA2BA,EAAA3U,KAAAiV,GAAAvC,eAA4BiC,IACvD3U,KAAAiZ,UAAAtE,GAAA7D,GACAtB,MAAAxP,KAAAiZ,UAAA,GAAAzJ,MAAAmF,EACApF,KAAAvP,KAAAiZ,UAAA,GAAA1J,OAGAvP,KAAA6Y,QAGAe,UAAA,WAEA5Z,KAAA8X,SAAA,IAAAvT,OAMA6R,UAAA,SAAA5G,GAEAP,MAAAO,KACAxP,KAAAiZ,UAAA,GAAAzJ,MAAAnL,SAAAmL,EAAA,IACAxP,KAAAuZ,oBAIAxG,UAAA,WAEA/S,KAAAiZ,UAAA,GAAAzJ,QACAxP,KAAAuZ,mBAGAzD,UAAA,WAEA9V,KAAAiZ,UAAA,GAAAzJ,QACAxP,KAAAuZ,mBAMAjD,SAAA,SAAA/G,GAEAN,MAAAM,KACAvP,KAAAiZ,UAAA,GAAA1J,KAAAlL,SAAAkL,EAAA,IACAvP,KAAAuZ,oBAOArB,WAAA,SAAA7B,GAEAA,aAAA9R,MACAmL,EAAA2G,GACArW,KAAAiV,GAAAvD,QAAA2E,EACArW,KAAAiV,GAAAlD,QAAAsE,EAAAgC,cACArY,KAAAiV,GAAAhD,SAAAoE,EAAAiD,aAEAtZ,KAAAiV,GAAAvD,QAAAP,EAAAO,QACA1R,KAAAiV,GAAAlD,QAAAZ,EAAAY,QACA/R,KAAAiV,GAAAhD,SAAAd,EAAAc,SACAjS,KAAAiV,GAAA9C,WAAAhB,EAAAgB,YAGAnS,KAAA6Y,QAMAV,WAAA,SAAA9B,GAEAA,aAAA9R,MACAmL,EAAA2G,GACArW,KAAAiV,GAAAtD,QAAA0E,EACArW,KAAAiV,GAAAjD,QAAAqE,EAAAgC,cACArY,KAAAiV,GAAA/C,SAAAmE,EAAAiD,aAEAtZ,KAAAiV,GAAAtD,QAAAR,EAAAQ,QACA3R,KAAAiV,GAAAjD,QAAAb,EAAAa,QACAhS,KAAAiV,GAAA/C,SAAAf,EAAAe,SACAlS,KAAAiV,GAAA7C,SAAAjB,EAAAiB,UAGApS,KAAA6Y,QAGAgB,cAAA,SAAAxD,GAEArW,KAAAiV,GAAA9C,WAAAkE,GAGAyD,YAAA,SAAAzD,GAEArW,KAAAiV,GAAA7C,SAAAiE,GAMAwC,KAAA,SAAAkB,GAEA,GAAA/Z,KAAA0V,IAAAqE,EAAA,CAGA,IAMAlF,EANArB,EAAAxT,KAAAiV,GACAlD,EAAAyB,EAAAzB,QACAC,EAAAwB,EAAAxB,QACAC,EAAAuB,EAAAvB,SACAC,EAAAsB,EAAAtB,SACA1M,EAAA,GAGAxF,KAAAga,IAAAjI,IACA/R,KAAAga,GAAAjI,GACA9C,MAAAgD,IAAAjS,KAAAia,GAAAhI,IACAjS,KAAAia,GAAAhI,IAGAjS,KAAAga,IAAAhI,IACAhS,KAAAga,GAAAhI,GACA/C,MAAAiD,IAAAlS,KAAAia,GAAA/H,IACAlS,KAAAia,GAAA/H,IAIA2C,EAAA,cAAA9D,KAAAmJ,SAAAzX,SAAA,IAAA0X,QAAA,eAAAC,OAAA,KAEA,QAAAzF,EAAA,EAA2BA,EAAAnB,EAAAd,eAAyBiC,IACpDnP,GAAA,4BAAAiP,EAAAzU,KAAA2U,EAAA3U,KAAAiZ,UAAAtE,GAAApF,KAAAvP,KAAAiZ,UAAAtE,GAAAnF,MAAAxP,KAAAiZ,UAAA,GAAA1J,KAAAsF,GAAA7U,KAAAqa,OAAAra,KAAAiZ,UAAAtE,GAAApF,KAAAvP,KAAAiZ,UAAAtE,GAAAnF,MAAAqF,GAAA,SAGA7U,KAAAwD,GAAA8W,UAAA9U,EAEAgO,EAAApC,OACA,WAAAoC,EAAAtR,MAAAmH,MACAyE,EAAA,WACA0F,EAAA5O,QAAA2V,SACqB,GAIrB,mBAAAva,KAAAiV,GAAA3B,QACAtT,KAAAiV,GAAA3B,OAAAtT,MAGAwT,EAAApC,OAEAoC,EAAAtR,MAAAqV,aAAA,oDAIAiD,eAAA,WAEA,IAAAtY,EAAAgV,EAAAuD,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAEA,IAAAhb,KAAAiV,GAAA5O,UAAA,CAYA,GAVArG,KAAAwD,GAAAyX,MAAAtR,SAAA,WAGAuN,EADAhV,EAAAlC,KAAAiV,GAAArQ,QAEA6V,EAAAza,KAAAwD,GAAA0X,YACAR,EAAA1a,KAAAwD,GAAA2X,aACAR,EAAApO,OAAA6O,YAAAvN,EAAAwN,gBAAAC,YACAV,EAAArO,OAAAgP,aAAA1N,EAAAwN,gBAAAG,aACAX,EAAAtO,OAAAkP,aAAA5N,EAAA6J,KAAAmD,WAAAhN,EAAAwN,gBAAAR,UAEA,mBAAA3Y,EAAAwZ,sBAEAZ,GADAE,EAAA9Y,EAAAwZ,yBACAZ,KAAAvO,OAAAoP,YACAZ,EAAAC,EAAAY,OAAArP,OAAAkP,iBAIA,IAFAX,EAAA5D,EAAA2E,WACAd,EAAA7D,EAAA4E,UAAA5E,EAAAiE,aACAjE,IAAA6E,cACAjB,GAAA5D,EAAA2E,WACAd,GAAA7D,EAAA4E,WAKA9b,KAAAiV,GAAA5D,YAAAyJ,EAAAL,EAAAE,GAEA3a,KAAAiV,GAAAtL,SAAA8E,QAAA,aACAqM,EAAAL,EAAAvY,EAAAgZ,YAAA,KAGAJ,IAAAL,EAAAvY,EAAAgZ,cAEAlb,KAAAiV,GAAA5D,YAAA0J,EAAAL,EAAAE,EAAAC,GAEA7a,KAAAiV,GAAAtL,SAAA8E,QAAA,WACAsM,EAAAL,EAAAxY,EAAAiZ,aAAA,KAGAJ,IAAAL,EAAAxY,EAAAiZ,cAGAnb,KAAAwD,GAAAyX,MAAAH,OAAA,KACA9a,KAAAwD,GAAAyX,MAAAF,MAAA,OAMAV,OAAA,SAAA9K,EAAAC,EAAAqF,GAEA,IAAArB,EAAAxT,KAAAiV,GACA+G,EAAA,IAAAzX,KACA+P,EAAAhF,EAAAC,EAAAC,GACAyM,EAAA,IAAA1X,KAAAgL,EAAAC,EAAA,GAAAH,SACAxO,KACAqb,KACAxM,EAAAsM,GACAxI,EAAAhC,SAAA,IACAyK,GAAAzI,EAAAhC,UACA,IACAyK,GAAA,GAUA,IAPA,IAAAnJ,EAAA,IAAAtD,EAAA,GAAAA,EAAA,EACAuD,EAAA,KAAAvD,EAAA,EAAAA,EAAA,EACA2M,EAAA,IAAA3M,EAAAD,EAAA,EAAAA,EACA6M,EAAA,KAAA5M,EAAAD,EAAA,EAAAA,EACA8M,EAAA/M,EAAA6M,EAAArJ,GACAwJ,EAAAhI,EAAA2H,EACAM,EAAAD,EACAC,EAAA,GACAA,GAAA,EAEAD,GAAA,EAAAC,EAEA,IADA,IAtvBA5V,EAAA6V,EAAAC,EAEAC,EAovBAC,GAAA,EACAlW,EAAA,EAAAmW,EAAA,EAAkCnW,EAAA6V,EAAW7V,IAC7C,CACA,IAAA2I,EAAA,IAAA7K,KAAAgL,EAAAC,EAAA/I,EAAAwV,EAAA,GACAjI,IAAAhF,EAAAhP,KAAAsY,KAAA1I,EAAAR,EAAApP,KAAAsY,IACAvE,EAAAnE,EAAAR,EAAA4M,GACA/H,GAAA,IAAAT,EAAAL,OAAA1E,QAAAW,EAAAmJ,gBACA1E,EAAApN,EAAAwV,GAAAxV,GAAA6N,EAAA2H,EACAY,EAAApW,EAAAwV,EAAA,EACAa,EAAAtN,EACAuN,EAAAxN,EACA4E,EAAAX,EAAArB,YAAAvC,EAAA4D,EAAArB,WAAA/C,GACAgF,EAAAZ,EAAApB,UAAAxC,EAAA4D,EAAApB,SAAAhD,GACA8E,EAAAV,EAAArB,YAAAqB,EAAApB,UAAAoB,EAAArB,WAAA/C,KAAAoE,EAAApB,SACA0B,EAAAN,EAAA9B,SAAAtC,EAAAoE,EAAA9B,SACA8B,EAAA7B,SAAAvC,EAAAoE,EAAA7B,SACA6B,EAAAuE,iBAAA5I,EAAAC,IACAoE,EAAAwE,cAAAxE,EAAAwE,aAAA5I,GAEAyE,IACApN,EAAAwV,GACAY,EAAAR,EAAAQ,EACAC,EAAAhK,EACAiK,EAAAZ,IAEAU,GAAAvI,EACAwI,EAAA/J,EACAgK,EAAAX,IAIA,IAAAY,GACA5N,IAAAyN,EACArN,MAAAsN,EACAvN,KAAAwN,EACA9I,WACAD,aACAD,UACAD,aACAD,UACAM,eACAC,aACAF,YACA1B,gCAAAgB,EAAAhB,gCACAC,2CAAAe,EAAAf,4CAGAe,EAAA1B,eAAAkC,IACA2I,GAAA,GAGAT,EAAA5T,KAAAoL,EAAAsJ,IAEA,KAAAJ,IACApJ,EAAA3B,gBACAqK,EAAAe,SA7yBAtW,EA6yBAF,EAAAwV,EA7yBAO,EA6yBAhN,EA7yBAiN,EA6yBAlN,EA3yBAmN,WAAA,IAAAnY,KAAAkY,EAAA,KAEA,yBADA1L,KAAAC,OAAA,IAAAzM,KAAAkY,EAAAD,EAAA7V,GAAA+V,GAAA,MAAAA,EAAArN,SAAA,MACA,UA2yBAxO,EAAAyH,KAAA+L,EAAA6H,EAAA1I,EAAAnB,MAAAmB,EAAA1B,cAAA6K,IACAT,KACAU,EAAA,EACAD,GAAA,GAGA,OA5tBA,SAAAnJ,EAAA3S,EAAAgU,GAEA,gGAAAA,EAAA,KA1EA,SAAArB,GAEA,IAAA/M,EAAAkN,KAIA,IAHAH,EAAA3B,gBACA8B,EAAArL,KAAA,aAEA7B,EAAA,EAAmBA,EAAA,EAAOA,IAC1BkN,EAAArL,KAAA,gCAAAiL,EAAAC,EAAA/M,GAAA,KAAA8M,EAAAC,EAAA/M,GAAA,mBAEA,qBAAA+M,EAAAnB,MAAAsB,EAAAa,UAAAb,GAAA1L,KAAA,oBAiEAiV,CAAA1J,IA7EA,UA6EA3S,EA7EAoH,KAAA,gBA6EA,WA0tBAkV,CAAA3J,EAAA3S,EAAAgU,IAGA2B,UAAA,WAEA,OAAAxW,KAAA0V,IAGAjU,KAAA,WAxkCA,IAAA+B,EAAA+K,EAjBA6O,EA2lCApd,KAAAwW,cACAxW,KAAA0V,IAAA,EACA1V,KAAA6Y,OA5kCArV,EA6kCAxD,KAAAwD,GA7kCA+K,EA6kCA,YA3kCA/K,EAAAgL,WAnBA4O,GAmBA,IAAA5Z,EAAAgL,UAAA,KAAA2L,QAAA,IAAA5L,EAAA,UAjBA8O,KAAAD,EAAAC,OAAAD,EAAAjD,QAAA,iBA6lCAna,KAAAiV,GAAA7D,QACApD,EAAAH,EAAA,QAAA7N,KAAAqX,UACArX,KAAAwa,kBAEA,mBAAAxa,KAAAiV,GAAA7B,QACApT,KAAAiV,GAAA7B,OAAArE,KAAA/O,QAKA2B,KAAA,WAEA,IAjmCA6B,EAAA+K,EAimCAnK,EAAApE,KAAA0V,IACA,IAAAtR,IACApE,KAAAiV,GAAA7D,OACAhD,EAAAP,EAAA,QAAA7N,KAAAqX,UAEArX,KAAAwD,GAAAyX,MAAAtR,SAAA,SACA3J,KAAAwD,GAAAyX,MAAAH,KAAA,OACA9a,KAAAwD,GAAAyX,MAAAF,IAAA,OAxmCAvX,EAymCAxD,KAAAwD,GAvmCAT,EAAAS,EAFA+K,EAymCA,eAtmCA/K,EAAAgL,UAAA,KAAAhL,EAAAgL,UAAAD,EAAA/K,EAAAgL,UAAA,IAAAD,GAumCAvO,KAAA0V,IAAA,OACA9V,IAAAwE,GAAA,mBAAApE,KAAAiV,GAAA5B,SACArT,KAAAiV,GAAA5B,QAAAtE,KAAA/O,QAQAsd,QAAA,WAEAtd,KAAA2B,OACAyM,EAAApO,KAAAwD,GAAA,YAAAxD,KAAAyV,cAAA,GACArH,EAAApO,KAAAwD,GAAA,WAAAxD,KAAAyV,cAAA,GACArH,EAAApO,KAAAwD,GAAA,SAAAxD,KAAAmW,WACA/H,EAAAP,EAAA,UAAA7N,KAAAuW,cACAvW,KAAAiV,GAAA/S,QACAkM,EAAApO,KAAAiV,GAAA/S,MAAA,SAAAlC,KAAA2W,gBACA3W,KAAAiV,GAAA7D,QACAhD,EAAApO,KAAAiV,GAAArQ,QAAA,QAAA5E,KAAAgX,eACA5I,EAAApO,KAAAiV,GAAArQ,QAAA,QAAA5E,KAAA+W,eACA3I,EAAApO,KAAAiV,GAAArQ,QAAA,OAAA5E,KAAAiX,gBAGAjX,KAAAwD,GAAAqS,YACA7V,KAAAwD,GAAAqS,WAAA0H,YAAAvd,KAAAwD,MAMAvB,EAlsCAmL,CAAAC,GATA","file":"commons~pages.admin.impersonation_tokens~pages.profiles.personal_access_tokens~pages.projects.settin~fd092238.b373706b.chunk.js","sourcesContent":["import $ from 'jquery';\nimport Pikaday from 'pikaday';\nimport dateFormat from 'dateformat';\nimport { __ } from '~/locale';\nimport axios from './lib/utils/axios_utils';\nimport { timeFor, parsePikadayDate, pikadayToString } from './lib/utils/datetime_utility';\nimport boardsStore from './boards/stores/boards_store';\n\nclass DueDateSelect {\n  constructor({ $dropdown, $loading } = {}) {\n    const $dropdownParent = $dropdown.closest('.dropdown');\n    const $block = $dropdown.closest('.block');\n    this.$loading = $loading;\n    this.$dropdown = $dropdown;\n    this.$dropdownParent = $dropdownParent;\n    this.$datePicker = $dropdownParent.find('.js-due-date-calendar');\n    this.$block = $block;\n    this.$sidebarCollapsedValue = $block.find('.sidebar-collapsed-icon');\n    this.$selectbox = $dropdown.closest('.selectbox');\n    this.$value = $block.find('.value');\n    this.$valueContent = $block.find('.value-content');\n    this.$sidebarValue = $('.js-due-date-sidebar-value', $block);\n    this.fieldName = $dropdown.data('fieldName');\n    this.abilityName = $dropdown.data('abilityName');\n    this.issueUpdateURL = $dropdown.data('issueUpdate');\n\n    this.rawSelectedDate = null;\n    this.displayedDate = null;\n    this.datePayload = null;\n\n    this.initGlDropdown();\n    this.initRemoveDueDate();\n    this.initDatePicker();\n  }\n\n  initGlDropdown() {\n    this.$dropdown.glDropdown({\n      opened: () => {\n        const calendar = this.$datePicker.data('pikaday');\n        calendar.show();\n      },\n      hidden: () => {\n        this.$selectbox.hide();\n        this.$value.css('display', '');\n      },\n    });\n  }\n\n  initDatePicker() {\n    const $dueDateInput = $(`input[name='${this.fieldName}']`);\n    const calendar = new Pikaday({\n      field: $dueDateInput.get(0),\n      theme: 'gitlab-theme',\n      format: 'yyyy-mm-dd',\n      parse: dateString => parsePikadayDate(dateString),\n      toString: date => pikadayToString(date),\n      onSelect: dateText => {\n        $dueDateInput.val(calendar.toString(dateText));\n\n        if (this.$dropdown.hasClass('js-issue-boards-due-date')) {\n          boardsStore.detail.issue.dueDate = $dueDateInput.val();\n          this.updateIssueBoardIssue();\n        } else {\n          this.saveDueDate(true);\n        }\n      },\n    });\n\n    calendar.setDate(parsePikadayDate($dueDateInput.val()));\n    this.$datePicker.append(calendar.el);\n    this.$datePicker.data('pikaday', calendar);\n  }\n\n  initRemoveDueDate() {\n    this.$block.on('click', '.js-remove-due-date', e => {\n      const calendar = this.$datePicker.data('pikaday');\n      e.preventDefault();\n\n      calendar.setDate(null);\n\n      if (this.$dropdown.hasClass('js-issue-boards-due-date')) {\n        boardsStore.detail.issue.dueDate = '';\n        this.updateIssueBoardIssue();\n      } else {\n        $(`input[name='${this.fieldName}']`).val('');\n        this.saveDueDate(false);\n      }\n    });\n  }\n\n  saveDueDate(isDropdown) {\n    this.parseSelectedDate();\n    this.prepSelectedDate();\n    this.submitSelectedDate(isDropdown);\n  }\n\n  parseSelectedDate() {\n    this.rawSelectedDate = $(`input[name='${this.fieldName}']`).val();\n\n    if (this.rawSelectedDate.length) {\n      // Construct Date object manually to avoid buggy dateString support within Date constructor\n      const dateArray = this.rawSelectedDate.split('-').map(v => parseInt(v, 10));\n      const dateObj = new Date(dateArray[0], dateArray[1] - 1, dateArray[2]);\n      this.displayedDate = dateFormat(dateObj, 'mmm d, yyyy');\n    } else {\n      this.displayedDate = 'No due date';\n    }\n  }\n\n  prepSelectedDate() {\n    const datePayload = {};\n    datePayload[this.abilityName] = {};\n    datePayload[this.abilityName].due_date = this.rawSelectedDate;\n    this.datePayload = datePayload;\n  }\n\n  updateIssueBoardIssue() {\n    this.$loading.fadeIn();\n    this.$dropdown.trigger('loading.gl.dropdown');\n    this.$selectbox.hide();\n    this.$value.css('display', '');\n    const fadeOutLoader = () => {\n      this.$loading.fadeOut();\n    };\n\n    boardsStore.detail.issue\n      .update(this.$dropdown.attr('data-issue-update'))\n      .then(fadeOutLoader)\n      .catch(fadeOutLoader);\n  }\n\n  submitSelectedDate(isDropdown) {\n    const selectedDateValue = this.datePayload[this.abilityName].due_date;\n    const hasDueDate = this.displayedDate !== 'No due date';\n    const displayedDateStyle = hasDueDate ? 'bold' : 'no-value';\n\n    this.$loading.removeClass('hidden').fadeIn();\n\n    if (isDropdown) {\n      this.$dropdown.trigger('loading.gl.dropdown');\n      this.$selectbox.hide();\n    }\n\n    this.$value.css('display', '');\n    this.$valueContent.html(`<span class='${displayedDateStyle}'>${this.displayedDate}</span>`);\n    this.$sidebarValue.html(this.displayedDate);\n\n    $('.js-remove-due-date-holder').toggleClass('hidden', selectedDateValue.length);\n\n    return axios.put(this.issueUpdateURL, this.datePayload).then(() => {\n      const tooltipText = hasDueDate\n        ? `${__('Due date')}<br />${selectedDateValue} (${timeFor(selectedDateValue)})`\n        : __('Due date');\n      if (isDropdown) {\n        this.$dropdown.trigger('loaded.gl.dropdown');\n        this.$dropdown.dropdown('toggle');\n      }\n      this.$sidebarCollapsedValue.attr('data-original-title', tooltipText);\n\n      return this.$loading.fadeOut();\n    });\n  }\n}\n\nexport default class DueDateSelectors {\n  constructor() {\n    this.initMilestoneDatePicker();\n    this.initIssuableSelect();\n  }\n  // eslint-disable-next-line class-methods-use-this\n  initMilestoneDatePicker() {\n    $('.datepicker').each(function initPikadayMilestone() {\n      const $datePicker = $(this);\n      const datePickerVal = $datePicker.val();\n\n      const calendar = new Pikaday({\n        field: $datePicker.get(0),\n        theme: 'gitlab-theme animate-picker',\n        format: 'yyyy-mm-dd',\n        container: $datePicker.parent().get(0),\n        parse: dateString => parsePikadayDate(dateString),\n        toString: date => pikadayToString(date),\n        onSelect(dateText) {\n          $datePicker.val(calendar.toString(dateText));\n        },\n      });\n\n      calendar.setDate(parsePikadayDate(datePickerVal));\n\n      $datePicker.data('pikaday', calendar);\n    });\n\n    $('.js-clear-due-date,.js-clear-start-date').on('click', e => {\n      e.preventDefault();\n      const calendar = $(e.target)\n        .siblings('.datepicker')\n        .data('pikaday');\n      calendar.setDate(null);\n    });\n  }\n  // eslint-disable-next-line class-methods-use-this\n  initIssuableSelect() {\n    const $loading = $('.js-issuable-update .due_date')\n      .find('.block-loading')\n      .hide();\n\n    $('.js-due-date-select').each((i, dropdown) => {\n      const $dropdown = $(dropdown);\n      // eslint-disable-next-line no-new\n      new DueDateSelect({\n        $dropdown,\n        $loading,\n      });\n    });\n  }\n}\n","/* eslint-disable no-shadow */\n/* global List */\n\nimport $ from 'jquery';\nimport _ from 'underscore';\nimport Vue from 'vue';\nimport Cookies from 'js-cookie';\nimport { getUrlParamsArray, parseBoolean } from '~/lib/utils/common_utils';\n\nconst boardsStore = {\n  disabled: false,\n  filter: {\n    path: '',\n  },\n  state: {},\n  detail: {\n    issue: {},\n  },\n  moving: {\n    issue: {},\n    list: {},\n  },\n  create() {\n    this.state.lists = [];\n    this.filter.path = getUrlParamsArray().join('&');\n    this.detail = {\n      issue: {},\n    };\n  },\n  addList(listObj, defaultAvatar) {\n    const list = new List(listObj, defaultAvatar);\n    this.state.lists.push(list);\n\n    return list;\n  },\n  new(listObj) {\n    const list = this.addList(listObj);\n    const backlogList = this.findList('type', 'backlog', 'backlog');\n\n    list\n      .save()\n      .then(() => {\n        // Remove any new issues from the backlog\n        // as they will be visible in the new list\n        list.issues.forEach(backlogList.removeIssue.bind(backlogList));\n        this.state.lists = _.sortBy(this.state.lists, 'position');\n      })\n      .catch(() => {\n        // https://gitlab.com/gitlab-org/gitlab-ce/issues/30821\n      });\n    this.removeBlankState();\n  },\n  updateNewListDropdown(listId) {\n    $(`.js-board-list-${listId}`).removeClass('is-active');\n  },\n  shouldAddBlankState() {\n    // Decide whether to add the blank state\n    return !this.state.lists.filter(list => list.type !== 'backlog' && list.type !== 'closed')[0];\n  },\n  addBlankState() {\n    if (!this.shouldAddBlankState() || this.welcomeIsHidden() || this.disabled) return;\n\n    this.addList({\n      id: 'blank',\n      list_type: 'blank',\n      title: 'Welcome to your Issue Board!',\n      position: 0,\n    });\n\n    this.state.lists = _.sortBy(this.state.lists, 'position');\n  },\n  removeBlankState() {\n    this.removeList('blank');\n\n    Cookies.set('issue_board_welcome_hidden', 'true', {\n      expires: 365 * 10,\n      path: '',\n    });\n  },\n  welcomeIsHidden() {\n    return parseBoolean(Cookies.get('issue_board_welcome_hidden'));\n  },\n  removeList(id, type = 'blank') {\n    const list = this.findList('id', id, type);\n\n    if (!list) return;\n\n    this.state.lists = this.state.lists.filter(list => list.id !== id);\n  },\n  moveList(listFrom, orderLists) {\n    orderLists.forEach((id, i) => {\n      const list = this.findList('id', parseInt(id, 10));\n\n      list.position = i;\n    });\n    listFrom.update();\n  },\n  moveIssueToList(listFrom, listTo, issue, newIndex) {\n    const issueTo = listTo.findIssue(issue.id);\n    const issueLists = issue.getLists();\n    const listLabels = issueLists.map(listIssue => listIssue.label);\n\n    if (!issueTo) {\n      // Check if target list assignee is already present in this issue\n      if (\n        listTo.type === 'assignee' &&\n        listFrom.type === 'assignee' &&\n        issue.findAssignee(listTo.assignee)\n      ) {\n        const targetIssue = listTo.findIssue(issue.id);\n        targetIssue.removeAssignee(listFrom.assignee);\n      } else if (listTo.type === 'milestone') {\n        const currentMilestone = issue.milestone;\n        const currentLists = this.state.lists\n          .filter(list => list.type === 'milestone' && list.id !== listTo.id)\n          .filter(list => list.issues.some(listIssue => issue.id === listIssue.id));\n\n        issue.removeMilestone(currentMilestone);\n        issue.addMilestone(listTo.milestone);\n        currentLists.forEach(currentList => currentList.removeIssue(issue));\n        listTo.addIssue(issue, listFrom, newIndex);\n      } else {\n        // Add to new lists issues if it doesn't already exist\n        listTo.addIssue(issue, listFrom, newIndex);\n      }\n    } else {\n      listTo.updateIssueLabel(issue, listFrom);\n      issueTo.removeLabel(listFrom.label);\n    }\n\n    if (listTo.type === 'closed' && listFrom.type !== 'backlog') {\n      issueLists.forEach(list => {\n        list.removeIssue(issue);\n      });\n      issue.removeLabels(listLabels);\n    } else if (listTo.type === 'backlog' && listFrom.type === 'assignee') {\n      issue.removeAssignee(listFrom.assignee);\n      listFrom.removeIssue(issue);\n    } else if (listTo.type === 'backlog' && listFrom.type === 'milestone') {\n      issue.removeMilestone(listFrom.milestone);\n      listFrom.removeIssue(issue);\n    } else if (this.shouldRemoveIssue(listFrom, listTo)) {\n      listFrom.removeIssue(issue);\n    }\n  },\n  shouldRemoveIssue(listFrom, listTo) {\n    return (\n      (listTo.type !== 'label' && listFrom.type === 'assignee') ||\n      (listTo.type !== 'assignee' && listFrom.type === 'label') ||\n      listFrom.type === 'backlog'\n    );\n  },\n  moveIssueInList(list, issue, oldIndex, newIndex, idArray) {\n    const beforeId = parseInt(idArray[newIndex - 1], 10) || null;\n    const afterId = parseInt(idArray[newIndex + 1], 10) || null;\n\n    list.moveIssue(issue, oldIndex, newIndex, beforeId, afterId);\n  },\n  findList(key, val, type = 'label') {\n    const filteredList = this.state.lists.filter(list => {\n      const byType = type\n        ? list.type === type || list.type === 'assignee' || list.type === 'milestone'\n        : true;\n\n      return list[key] === val && byType;\n    });\n    return filteredList[0];\n  },\n  findListByLabelId(id) {\n    return this.state.lists.find(list => list.type === 'label' && list.label.id === id);\n  },\n  updateFiltersUrl() {\n    window.history.pushState(null, null, `?${this.filter.path}`);\n  },\n};\n\n// hacks added in order to allow milestone_select to function properly\n// TODO: remove these\n\nexport function boardStoreIssueSet(...args) {\n  Vue.set(boardsStore.detail.issue, ...args);\n}\n\nexport function boardStoreIssueDelete(...args) {\n  Vue.delete(boardsStore.detail.issue, ...args);\n}\n\nexport default boardsStore;\n","/*!\n * Pikaday\n *\n * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday\n */\n\n(function (root, factory)\n{\n    'use strict';\n\n    var moment;\n    if (typeof exports === 'object') {\n        // CommonJS module\n        // Load moment.js as an optional dependency\n        try { moment = require('moment'); } catch (e) {}\n        module.exports = factory(moment);\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(function (req)\n        {\n            // Load moment.js as an optional dependency\n            var id = 'moment';\n            try { moment = req(id); } catch (e) {}\n            return factory(moment);\n        });\n    } else {\n        root.Pikaday = factory(root.moment);\n    }\n}(this, function (moment)\n{\n    'use strict';\n\n    /**\n     * feature detection and helper functions\n     */\n    var hasMoment = typeof moment === 'function',\n\n    hasEventListeners = !!window.addEventListener,\n\n    document = window.document,\n\n    sto = window.setTimeout,\n\n    addEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.addEventListener(e, callback, !!capture);\n        } else {\n            el.attachEvent('on' + e, callback);\n        }\n    },\n\n    removeEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.removeEventListener(e, callback, !!capture);\n        } else {\n            el.detachEvent('on' + e, callback);\n        }\n    },\n\n    trim = function(str)\n    {\n        return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g,'');\n    },\n\n    hasClass = function(el, cn)\n    {\n        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;\n    },\n\n    addClass = function(el, cn)\n    {\n        if (!hasClass(el, cn)) {\n            el.className = (el.className === '') ? cn : el.className + ' ' + cn;\n        }\n    },\n\n    removeClass = function(el, cn)\n    {\n        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));\n    },\n\n    isArray = function(obj)\n    {\n        return (/Array/).test(Object.prototype.toString.call(obj));\n    },\n\n    isDate = function(obj)\n    {\n        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    },\n\n    isWeekend = function(date)\n    {\n        var day = date.getDay();\n        return day === 0 || day === 6;\n    },\n\n    isLeapYear = function(year)\n    {\n        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\n        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n\n    getDaysInMonth = function(year, month)\n    {\n        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n\n    setToStartOfDay = function(date)\n    {\n        if (isDate(date)) date.setHours(0,0,0,0);\n    },\n\n    compareDates = function(a,b)\n    {\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n        return a.getTime() === b.getTime();\n    },\n\n    extend = function(to, from, overwrite)\n    {\n        var prop, hasProp;\n        for (prop in from) {\n            hasProp = to[prop] !== undefined;\n            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {\n                if (isDate(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = new Date(from[prop].getTime());\n                    }\n                }\n                else if (isArray(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = from[prop].slice(0);\n                    }\n                } else {\n                    to[prop] = extend({}, from[prop], overwrite);\n                }\n            } else if (overwrite || !hasProp) {\n                to[prop] = from[prop];\n            }\n        }\n        return to;\n    },\n\n    fireEvent = function(el, eventName, data)\n    {\n        var ev;\n\n        if (document.createEvent) {\n            ev = document.createEvent('HTMLEvents');\n            ev.initEvent(eventName, true, false);\n            ev = extend(ev, data);\n            el.dispatchEvent(ev);\n        } else if (document.createEventObject) {\n            ev = document.createEventObject();\n            ev = extend(ev, data);\n            el.fireEvent('on' + eventName, ev);\n        }\n    },\n\n    adjustCalendar = function(calendar) {\n        if (calendar.month < 0) {\n            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);\n            calendar.month += 12;\n        }\n        if (calendar.month > 11) {\n            calendar.year += Math.floor(Math.abs(calendar.month)/12);\n            calendar.month -= 12;\n        }\n        return calendar;\n    },\n\n    /**\n     * defaults and localisation\n     */\n    defaults = {\n\n        // bind the picker to a form field\n        field: null,\n\n        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)\n        bound: undefined,\n\n        // position of the datepicker, relative to the field (default to bottom & left)\n        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)\n        position: 'bottom left',\n\n        // automatically fit in the viewport even if it means repositioning from the position option\n        reposition: true,\n\n        // the default output format for `.toString()` and `field` value\n        format: 'YYYY-MM-DD',\n\n        // the toString function which gets passed a current date object and format\n        // and returns a string\n        toString: null,\n\n        // used to create date object from current input string\n        parse: null,\n\n        // the initial date to view when first opened\n        defaultDate: null,\n\n        // make the `defaultDate` the initial selected value\n        setDefaultDate: false,\n\n        // first day of week (0: Sunday, 1: Monday etc)\n        firstDay: 0,\n\n        // the default flag for moment's strict date parsing\n        formatStrict: false,\n\n        // the minimum/earliest date that can be selected\n        minDate: null,\n        // the maximum/latest date that can be selected\n        maxDate: null,\n\n        // number of years either side, or array of upper/lower range\n        yearRange: 10,\n\n        // show week numbers at head of row\n        showWeekNumber: false,\n\n        // Week picker mode\n        pickWholeWeek: false,\n\n        // used internally (don't config outside)\n        minYear: 0,\n        maxYear: 9999,\n        minMonth: undefined,\n        maxMonth: undefined,\n\n        startRange: null,\n        endRange: null,\n\n        isRTL: false,\n\n        // Additional text to append to the year in the calendar title\n        yearSuffix: '',\n\n        // Render the month after year in the calendar title\n        showMonthAfterYear: false,\n\n        // Render days of the calendar grid that fall in the next or previous month\n        showDaysInNextAndPreviousMonths: false,\n\n        // Allows user to select days that fall in the next or previous month\n        enableSelectionDaysInNextAndPreviousMonths: false,\n\n        // how many months are visible\n        numberOfMonths: 1,\n\n        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)\n        // only used for the first display or when a selected date is not visible\n        mainCalendar: 'left',\n\n        // Specify a DOM element to render the calendar in\n        container: undefined,\n\n        // Blur field when date is selected\n        blurFieldOnSelect : true,\n\n        // internationalization\n        i18n: {\n            previousMonth : 'Previous Month',\n            nextMonth     : 'Next Month',\n            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],\n            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\n            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']\n        },\n\n        // Theme Classname\n        theme: null,\n\n        // events array\n        events: [],\n\n        // callback function\n        onSelect: null,\n        onOpen: null,\n        onClose: null,\n        onDraw: null\n    },\n\n\n    /**\n     * templating functions to abstract HTML rendering\n     */\n    renderDayName = function(opts, day, abbr)\n    {\n        day += opts.firstDay;\n        while (day >= 7) {\n            day -= 7;\n        }\n        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];\n    },\n\n    renderDay = function(opts)\n    {\n        var arr = [];\n        var ariaSelected = 'false';\n        if (opts.isEmpty) {\n            if (opts.showDaysInNextAndPreviousMonths) {\n                arr.push('is-outside-current-month');\n\n                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {\n                    arr.push('is-selection-disabled');\n                }\n\n            } else {\n                return '<td class=\"is-empty\"></td>';\n            }\n        }\n        if (opts.isDisabled) {\n            arr.push('is-disabled');\n        }\n        if (opts.isToday) {\n            arr.push('is-today');\n        }\n        if (opts.isSelected) {\n            arr.push('is-selected');\n            ariaSelected = 'true';\n        }\n        if (opts.hasEvent) {\n            arr.push('has-event');\n        }\n        if (opts.isInRange) {\n            arr.push('is-inrange');\n        }\n        if (opts.isStartRange) {\n            arr.push('is-startrange');\n        }\n        if (opts.isEndRange) {\n            arr.push('is-endrange');\n        }\n        return '<td data-day=\"' + opts.day + '\" class=\"' + arr.join(' ') + '\" aria-selected=\"' + ariaSelected + '\">' +\n                 '<button class=\"pika-button pika-day\" type=\"button\" ' +\n                    'data-pika-year=\"' + opts.year + '\" data-pika-month=\"' + opts.month + '\" data-pika-day=\"' + opts.day + '\">' +\n                        opts.day +\n                 '</button>' +\n               '</td>';\n    },\n\n    renderWeek = function (d, m, y) {\n        // Lifted from http://javascript.about.com/library/blweekyear.htm, lightly modified.\n        var onejan = new Date(y, 0, 1),\n            weekNum = Math.ceil((((new Date(y, m, d) - onejan) / 86400000) + onejan.getDay()+1)/7);\n        return '<td class=\"pika-week\">' + weekNum + '</td>';\n    },\n\n    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)\n    {\n        return '<tr class=\"pika-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '\">' + (isRTL ? days.reverse() : days).join('') + '</tr>';\n    },\n\n    renderBody = function(rows)\n    {\n        return '<tbody>' + rows.join('') + '</tbody>';\n    },\n\n    renderHead = function(opts)\n    {\n        var i, arr = [];\n        if (opts.showWeekNumber) {\n            arr.push('<th></th>');\n        }\n        for (i = 0; i < 7; i++) {\n            arr.push('<th scope=\"col\"><abbr title=\"' + renderDayName(opts, i) + '\">' + renderDayName(opts, i, true) + '</abbr></th>');\n        }\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    },\n\n    renderTitle = function(instance, c, year, month, refYear, randId)\n    {\n        var i, j, arr,\n            opts = instance._o,\n            isMinYear = year === opts.minYear,\n            isMaxYear = year === opts.maxYear,\n            html = '<div id=\"' + randId + '\" class=\"pika-title\" role=\"heading\" aria-live=\"assertive\">',\n            monthHtml,\n            yearHtml,\n            prev = true,\n            next = true;\n\n        for (arr = [], i = 0; i < 12; i++) {\n            arr.push('<option value=\"' + (year === refYear ? i - c : 12 + i - c) + '\"' +\n                (i === month ? ' selected=\"selected\"': '') +\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? 'disabled=\"disabled\"' : '') + '>' +\n                opts.i18n.months[i] + '</option>');\n        }\n\n        monthHtml = '<div class=\"pika-label\">' + opts.i18n.months[month] + '<select class=\"pika-select pika-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (isArray(opts.yearRange)) {\n            i = opts.yearRange[0];\n            j = opts.yearRange[1] + 1;\n        } else {\n            i = year - opts.yearRange;\n            j = 1 + year + opts.yearRange;\n        }\n\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\n            if (i >= opts.minYear) {\n                arr.push('<option value=\"' + i + '\"' + (i === year ? ' selected=\"selected\"': '') + '>' + (i) + '</option>');\n            }\n        }\n        yearHtml = '<div class=\"pika-label\">' + year + opts.yearSuffix + '<select class=\"pika-select pika-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (opts.showMonthAfterYear) {\n            html += yearHtml + monthHtml;\n        } else {\n            html += monthHtml + yearHtml;\n        }\n\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n            prev = false;\n        }\n\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n            next = false;\n        }\n\n        if (c === 0) {\n            html += '<button class=\"pika-prev' + (prev ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.previousMonth + '</button>';\n        }\n        if (c === (instance._o.numberOfMonths - 1) ) {\n            html += '<button class=\"pika-next' + (next ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.nextMonth + '</button>';\n        }\n\n        return html += '</div>';\n    },\n\n    renderTable = function(opts, data, randId)\n    {\n        return '<table cellpadding=\"0\" cellspacing=\"0\" class=\"pika-table\" role=\"grid\" aria-labelledby=\"' + randId + '\">' + renderHead(opts) + renderBody(data) + '</table>';\n    },\n\n\n    /**\n     * Pikaday constructor\n     */\n    Pikaday = function(options)\n    {\n        var self = this,\n            opts = self.config(options);\n\n        self._onMouseDown = function(e)\n        {\n            if (!self._v) {\n                return;\n            }\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n\n            if (!hasClass(target, 'is-disabled')) {\n                if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {\n                    self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));\n                    if (opts.bound) {\n                        sto(function() {\n                            self.hide();\n                            if (opts.blurFieldOnSelect && opts.field) {\n                                opts.field.blur();\n                            }\n                        }, 100);\n                    }\n                }\n                else if (hasClass(target, 'pika-prev')) {\n                    self.prevMonth();\n                }\n                else if (hasClass(target, 'pika-next')) {\n                    self.nextMonth();\n                }\n            }\n            if (!hasClass(target, 'pika-select')) {\n                // if this is touch event prevent mouse events emulation\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                    return false;\n                }\n            } else {\n                self._c = true;\n            }\n        };\n\n        self._onChange = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n            if (hasClass(target, 'pika-select-month')) {\n                self.gotoMonth(target.value);\n            }\n            else if (hasClass(target, 'pika-select-year')) {\n                self.gotoYear(target.value);\n            }\n        };\n\n        self._onKeyChange = function(e)\n        {\n            e = e || window.event;\n\n            if (self.isVisible()) {\n\n                switch(e.keyCode){\n                    case 13:\n                    case 27:\n                        if (opts.field) {\n                            opts.field.blur();\n                        }\n                        break;\n                    case 37:\n                        e.preventDefault();\n                        self.adjustDate('subtract', 1);\n                        break;\n                    case 38:\n                        self.adjustDate('subtract', 7);\n                        break;\n                    case 39:\n                        self.adjustDate('add', 1);\n                        break;\n                    case 40:\n                        self.adjustDate('add', 7);\n                        break;\n                }\n            }\n        };\n\n        self._onInputChange = function(e)\n        {\n            var date;\n\n            if (e.firedBy === self) {\n                return;\n            }\n            if (opts.parse) {\n                date = opts.parse(opts.field.value, opts.format);\n            } else if (hasMoment) {\n                date = moment(opts.field.value, opts.format, opts.formatStrict);\n                date = (date && date.isValid()) ? date.toDate() : null;\n            }\n            else {\n                date = new Date(Date.parse(opts.field.value));\n            }\n            if (isDate(date)) {\n              self.setDate(date);\n            }\n            if (!self._v) {\n                self.show();\n            }\n        };\n\n        self._onInputFocus = function()\n        {\n            self.show();\n        };\n\n        self._onInputClick = function()\n        {\n            self.show();\n        };\n\n        self._onInputBlur = function()\n        {\n            // IE allows pika div to gain focus; catch blur the input field\n            var pEl = document.activeElement;\n            do {\n                if (hasClass(pEl, 'pika-single')) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n\n            if (!self._c) {\n                self._b = sto(function() {\n                    self.hide();\n                }, 50);\n            }\n            self._c = false;\n        };\n\n        self._onClick = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement,\n                pEl = target;\n            if (!target) {\n                return;\n            }\n            if (!hasEventListeners && hasClass(target, 'pika-select')) {\n                if (!target.onchange) {\n                    target.setAttribute('onchange', 'return;');\n                    addEvent(target, 'change', self._onChange);\n                }\n            }\n            do {\n                if (hasClass(pEl, 'pika-single') || pEl === opts.trigger) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {\n                self.hide();\n            }\n        };\n\n        self.el = document.createElement('div');\n        self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '');\n\n        addEvent(self.el, 'mousedown', self._onMouseDown, true);\n        addEvent(self.el, 'touchend', self._onMouseDown, true);\n        addEvent(self.el, 'change', self._onChange);\n        addEvent(document, 'keydown', self._onKeyChange);\n\n        if (opts.field) {\n            if (opts.container) {\n                opts.container.appendChild(self.el);\n            } else if (opts.bound) {\n                document.body.appendChild(self.el);\n            } else {\n                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);\n            }\n            addEvent(opts.field, 'change', self._onInputChange);\n\n            if (!opts.defaultDate) {\n                if (hasMoment && opts.field.value) {\n                    opts.defaultDate = moment(opts.field.value, opts.format).toDate();\n                } else {\n                    opts.defaultDate = new Date(Date.parse(opts.field.value));\n                }\n                opts.setDefaultDate = true;\n            }\n        }\n\n        var defDate = opts.defaultDate;\n\n        if (isDate(defDate)) {\n            if (opts.setDefaultDate) {\n                self.setDate(defDate, true);\n            } else {\n                self.gotoDate(defDate);\n            }\n        } else {\n            self.gotoDate(new Date());\n        }\n\n        if (opts.bound) {\n            this.hide();\n            self.el.className += ' is-bound';\n            addEvent(opts.trigger, 'click', self._onInputClick);\n            addEvent(opts.trigger, 'focus', self._onInputFocus);\n            addEvent(opts.trigger, 'blur', self._onInputBlur);\n        } else {\n            this.show();\n        }\n    };\n\n\n    /**\n     * public Pikaday API\n     */\n    Pikaday.prototype = {\n\n\n        /**\n         * configure functionality\n         */\n        config: function(options)\n        {\n            if (!this._o) {\n                this._o = extend({}, defaults, true);\n            }\n\n            var opts = extend(this._o, options, true);\n\n            opts.isRTL = !!opts.isRTL;\n\n            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;\n\n            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;\n\n            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);\n\n            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;\n\n            opts.disableWeekends = !!opts.disableWeekends;\n\n            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;\n\n            var nom = parseInt(opts.numberOfMonths, 10) || 1;\n            opts.numberOfMonths = nom > 4 ? 4 : nom;\n\n            if (!isDate(opts.minDate)) {\n                opts.minDate = false;\n            }\n            if (!isDate(opts.maxDate)) {\n                opts.maxDate = false;\n            }\n            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {\n                opts.maxDate = opts.minDate = false;\n            }\n            if (opts.minDate) {\n                this.setMinDate(opts.minDate);\n            }\n            if (opts.maxDate) {\n                this.setMaxDate(opts.maxDate);\n            }\n\n            if (isArray(opts.yearRange)) {\n                var fallback = new Date().getFullYear() - 10;\n                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;\n                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;\n            } else {\n                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;\n                if (opts.yearRange > 100) {\n                    opts.yearRange = 100;\n                }\n            }\n\n            return opts;\n        },\n\n        /**\n         * return a formatted string of the current selection (using Moment.js if available)\n         */\n        toString: function(format)\n        {\n            format = format || this._o.format;\n            if (!isDate(this._d)) {\n                return '';\n            }\n            if (this._o.toString) {\n              return this._o.toString(this._d, format);\n            }\n            if (hasMoment) {\n              return moment(this._d).format(format);\n            }\n            return this._d.toDateString();\n        },\n\n        /**\n         * return a Moment.js object of the current selection (if available)\n         */\n        getMoment: function()\n        {\n            return hasMoment ? moment(this._d) : null;\n        },\n\n        /**\n         * set the current selection from a Moment.js object (if available)\n         */\n        setMoment: function(date, preventOnSelect)\n        {\n            if (hasMoment && moment.isMoment(date)) {\n                this.setDate(date.toDate(), preventOnSelect);\n            }\n        },\n\n        /**\n         * return a Date object of the current selection\n         */\n        getDate: function()\n        {\n            return isDate(this._d) ? new Date(this._d.getTime()) : null;\n        },\n\n        /**\n         * set the current selection\n         */\n        setDate: function(date, preventOnSelect)\n        {\n            if (!date) {\n                this._d = null;\n\n                if (this._o.field) {\n                    this._o.field.value = '';\n                    fireEvent(this._o.field, 'change', { firedBy: this });\n                }\n\n                return this.draw();\n            }\n            if (typeof date === 'string') {\n                date = new Date(Date.parse(date));\n            }\n            if (!isDate(date)) {\n                return;\n            }\n\n            var min = this._o.minDate,\n                max = this._o.maxDate;\n\n            if (isDate(min) && date < min) {\n                date = min;\n            } else if (isDate(max) && date > max) {\n                date = max;\n            }\n\n            this._d = new Date(date.getTime());\n            setToStartOfDay(this._d);\n            this.gotoDate(this._d);\n\n            if (this._o.field) {\n                this._o.field.value = this.toString();\n                fireEvent(this._o.field, 'change', { firedBy: this });\n            }\n            if (!preventOnSelect && typeof this._o.onSelect === 'function') {\n                this._o.onSelect.call(this, this.getDate());\n            }\n        },\n\n        /**\n         * change view to a specific date\n         */\n        gotoDate: function(date)\n        {\n            var newCalendar = true;\n\n            if (!isDate(date)) {\n                return;\n            }\n\n            if (this.calendars) {\n                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),\n                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),\n                    visibleDate = date.getTime();\n                // get the end of the month\n                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);\n                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);\n                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);\n            }\n\n            if (newCalendar) {\n                this.calendars = [{\n                    month: date.getMonth(),\n                    year: date.getFullYear()\n                }];\n                if (this._o.mainCalendar === 'right') {\n                    this.calendars[0].month += 1 - this._o.numberOfMonths;\n                }\n            }\n\n            this.adjustCalendars();\n        },\n\n        adjustDate: function(sign, days) {\n\n            var day = this.getDate() || new Date();\n            var difference = parseInt(days)*24*60*60*1000;\n\n            var newDay;\n\n            if (sign === 'add') {\n                newDay = new Date(day.valueOf() + difference);\n            } else if (sign === 'subtract') {\n                newDay = new Date(day.valueOf() - difference);\n            }\n\n            this.setDate(newDay);\n        },\n\n        adjustCalendars: function() {\n            this.calendars[0] = adjustCalendar(this.calendars[0]);\n            for (var c = 1; c < this._o.numberOfMonths; c++) {\n                this.calendars[c] = adjustCalendar({\n                    month: this.calendars[0].month + c,\n                    year: this.calendars[0].year\n                });\n            }\n            this.draw();\n        },\n\n        gotoToday: function()\n        {\n            this.gotoDate(new Date());\n        },\n\n        /**\n         * change view to a specific month (zero-index, e.g. 0: January)\n         */\n        gotoMonth: function(month)\n        {\n            if (!isNaN(month)) {\n                this.calendars[0].month = parseInt(month, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        nextMonth: function()\n        {\n            this.calendars[0].month++;\n            this.adjustCalendars();\n        },\n\n        prevMonth: function()\n        {\n            this.calendars[0].month--;\n            this.adjustCalendars();\n        },\n\n        /**\n         * change view to a specific full year (e.g. \"2012\")\n         */\n        gotoYear: function(year)\n        {\n            if (!isNaN(year)) {\n                this.calendars[0].year = parseInt(year, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        /**\n         * change the minDate\n         */\n        setMinDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.minDate = value;\n                this._o.minYear  = value.getFullYear();\n                this._o.minMonth = value.getMonth();\n            } else {\n                this._o.minDate = defaults.minDate;\n                this._o.minYear  = defaults.minYear;\n                this._o.minMonth = defaults.minMonth;\n                this._o.startRange = defaults.startRange;\n            }\n\n            this.draw();\n        },\n\n        /**\n         * change the maxDate\n         */\n        setMaxDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.maxDate = value;\n                this._o.maxYear = value.getFullYear();\n                this._o.maxMonth = value.getMonth();\n            } else {\n                this._o.maxDate = defaults.maxDate;\n                this._o.maxYear = defaults.maxYear;\n                this._o.maxMonth = defaults.maxMonth;\n                this._o.endRange = defaults.endRange;\n            }\n\n            this.draw();\n        },\n\n        setStartRange: function(value)\n        {\n            this._o.startRange = value;\n        },\n\n        setEndRange: function(value)\n        {\n            this._o.endRange = value;\n        },\n\n        /**\n         * refresh the HTML\n         */\n        draw: function(force)\n        {\n            if (!this._v && !force) {\n                return;\n            }\n            var opts = this._o,\n                minYear = opts.minYear,\n                maxYear = opts.maxYear,\n                minMonth = opts.minMonth,\n                maxMonth = opts.maxMonth,\n                html = '',\n                randId;\n\n            if (this._y <= minYear) {\n                this._y = minYear;\n                if (!isNaN(minMonth) && this._m < minMonth) {\n                    this._m = minMonth;\n                }\n            }\n            if (this._y >= maxYear) {\n                this._y = maxYear;\n                if (!isNaN(maxMonth) && this._m > maxMonth) {\n                    this._m = maxMonth;\n                }\n            }\n\n            randId = 'pika-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);\n\n            for (var c = 0; c < opts.numberOfMonths; c++) {\n                html += '<div class=\"pika-lendar\">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';\n            }\n\n            this.el.innerHTML = html;\n\n            if (opts.bound) {\n                if(opts.field.type !== 'hidden') {\n                    sto(function() {\n                        opts.trigger.focus();\n                    }, 1);\n                }\n            }\n\n            if (typeof this._o.onDraw === 'function') {\n                this._o.onDraw(this);\n            }\n\n            if (opts.bound) {\n                // let the screen reader user know to use arrow keys\n                opts.field.setAttribute('aria-label', 'Use the arrow keys to pick a date');\n            }\n        },\n\n        adjustPosition: function()\n        {\n            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect;\n\n            if (this._o.container) return;\n\n            this.el.style.position = 'absolute';\n\n            field = this._o.trigger;\n            pEl = field;\n            width = this.el.offsetWidth;\n            height = this.el.offsetHeight;\n            viewportWidth = window.innerWidth || document.documentElement.clientWidth;\n            viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n\n            if (typeof field.getBoundingClientRect === 'function') {\n                clientRect = field.getBoundingClientRect();\n                left = clientRect.left + window.pageXOffset;\n                top = clientRect.bottom + window.pageYOffset;\n            } else {\n                left = pEl.offsetLeft;\n                top  = pEl.offsetTop + pEl.offsetHeight;\n                while((pEl = pEl.offsetParent)) {\n                    left += pEl.offsetLeft;\n                    top  += pEl.offsetTop;\n                }\n            }\n\n            // default position is bottom & left\n            if ((this._o.reposition && left + width > viewportWidth) ||\n                (\n                    this._o.position.indexOf('right') > -1 &&\n                    left - width + field.offsetWidth > 0\n                )\n            ) {\n                left = left - width + field.offsetWidth;\n            }\n            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||\n                (\n                    this._o.position.indexOf('top') > -1 &&\n                    top - height - field.offsetHeight > 0\n                )\n            ) {\n                top = top - height - field.offsetHeight;\n            }\n\n            this.el.style.left = left + 'px';\n            this.el.style.top = top + 'px';\n        },\n\n        /**\n         * render HTML for a particular month\n         */\n        render: function(year, month, randId)\n        {\n            var opts   = this._o,\n                now    = new Date(),\n                days   = getDaysInMonth(year, month),\n                before = new Date(year, month, 1).getDay(),\n                data   = [],\n                row    = [];\n            setToStartOfDay(now);\n            if (opts.firstDay > 0) {\n                before -= opts.firstDay;\n                if (before < 0) {\n                    before += 7;\n                }\n            }\n            var previousMonth = month === 0 ? 11 : month - 1,\n                nextMonth = month === 11 ? 0 : month + 1,\n                yearOfPreviousMonth = month === 0 ? year - 1 : year,\n                yearOfNextMonth = month === 11 ? year + 1 : year,\n                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);\n            var cells = days + before,\n                after = cells;\n            while(after > 7) {\n                after -= 7;\n            }\n            cells += 7 - after;\n            var isWeekSelected = false;\n            for (var i = 0, r = 0; i < cells; i++)\n            {\n                var day = new Date(year, month, 1 + (i - before)),\n                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,\n                    isToday = compareDates(day, now),\n                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,\n                    isEmpty = i < before || i >= (days + before),\n                    dayNumber = 1 + (i - before),\n                    monthNumber = month,\n                    yearNumber = year,\n                    isStartRange = opts.startRange && compareDates(opts.startRange, day),\n                    isEndRange = opts.endRange && compareDates(opts.endRange, day),\n                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,\n                    isDisabled = (opts.minDate && day < opts.minDate) ||\n                                 (opts.maxDate && day > opts.maxDate) ||\n                                 (opts.disableWeekends && isWeekend(day)) ||\n                                 (opts.disableDayFn && opts.disableDayFn(day));\n\n                if (isEmpty) {\n                    if (i < before) {\n                        dayNumber = daysInPreviousMonth + dayNumber;\n                        monthNumber = previousMonth;\n                        yearNumber = yearOfPreviousMonth;\n                    } else {\n                        dayNumber = dayNumber - days;\n                        monthNumber = nextMonth;\n                        yearNumber = yearOfNextMonth;\n                    }\n                }\n\n                var dayConfig = {\n                        day: dayNumber,\n                        month: monthNumber,\n                        year: yearNumber,\n                        hasEvent: hasEvent,\n                        isSelected: isSelected,\n                        isToday: isToday,\n                        isDisabled: isDisabled,\n                        isEmpty: isEmpty,\n                        isStartRange: isStartRange,\n                        isEndRange: isEndRange,\n                        isInRange: isInRange,\n                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,\n                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths\n                    };\n\n                if (opts.pickWholeWeek && isSelected) {\n                    isWeekSelected = true;\n                }\n\n                row.push(renderDay(dayConfig));\n\n                if (++r === 7) {\n                    if (opts.showWeekNumber) {\n                        row.unshift(renderWeek(i - before, month, year));\n                    }\n                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));\n                    row = [];\n                    r = 0;\n                    isWeekSelected = false;\n                }\n            }\n            return renderTable(opts, data, randId);\n        },\n\n        isVisible: function()\n        {\n            return this._v;\n        },\n\n        show: function()\n        {\n            if (!this.isVisible()) {\n                this._v = true;\n                this.draw();\n                removeClass(this.el, 'is-hidden');\n                if (this._o.bound) {\n                    addEvent(document, 'click', this._onClick);\n                    this.adjustPosition();\n                }\n                if (typeof this._o.onOpen === 'function') {\n                    this._o.onOpen.call(this);\n                }\n            }\n        },\n\n        hide: function()\n        {\n            var v = this._v;\n            if (v !== false) {\n                if (this._o.bound) {\n                    removeEvent(document, 'click', this._onClick);\n                }\n                this.el.style.position = 'static'; // reset\n                this.el.style.left = 'auto';\n                this.el.style.top = 'auto';\n                addClass(this.el, 'is-hidden');\n                this._v = false;\n                if (v !== undefined && typeof this._o.onClose === 'function') {\n                    this._o.onClose.call(this);\n                }\n            }\n        },\n\n        /**\n         * GAME OVER\n         */\n        destroy: function()\n        {\n            this.hide();\n            removeEvent(this.el, 'mousedown', this._onMouseDown, true);\n            removeEvent(this.el, 'touchend', this._onMouseDown, true);\n            removeEvent(this.el, 'change', this._onChange);\n            removeEvent(document, 'keydown', this._onKeyChange);\n            if (this._o.field) {\n                removeEvent(this._o.field, 'change', this._onInputChange);\n                if (this._o.bound) {\n                    removeEvent(this._o.trigger, 'click', this._onInputClick);\n                    removeEvent(this._o.trigger, 'focus', this._onInputFocus);\n                    removeEvent(this._o.trigger, 'blur', this._onInputBlur);\n                }\n            }\n            if (this.el.parentNode) {\n                this.el.parentNode.removeChild(this.el);\n            }\n        }\n\n    };\n\n    return Pikaday;\n\n}));\n"],"sourceRoot":""}