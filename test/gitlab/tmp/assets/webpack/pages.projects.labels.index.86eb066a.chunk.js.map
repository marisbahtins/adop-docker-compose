{"version":3,"sources":["webpack:///./vue_shared/components/gl_modal.vue?07a1","webpack:///vue_shared/components/gl_modal.vue","webpack:///./vue_shared/components/gl_modal.vue?ba69","webpack:///./vue_shared/components/gl_modal.vue","webpack:///./pages/projects/labels/event_hub.js","webpack:///./pages/projects/labels/components/promote_label_modal.vue?0fd1","webpack:///pages/projects/labels/components/promote_label_modal.vue","webpack:///./pages/projects/labels/components/promote_label_modal.vue","webpack:///./pages/projects/labels/components/promote_label_modal.vue?2fae","webpack:///./pages/projects/labels/index/index.js","webpack:///./behaviors/shortcuts/shortcuts_navigation.js","webpack:///./project_select_combo_button.js","webpack:///./project_select.js","webpack:///./pages/projects/project.js","webpack:///./pages/projects/index.js"],"names":["buttonVariants","sizeVariants","components_gl_modalvue_type_script_lang_js_","name","props","id","type","String","required","default","modalSize","validator","value","includes","headerTitleText","footerPrimaryButtonVariant","footerPrimaryButtonText","computed","modalSizeClass","this","concat","mounted","jquery_default","$el","on","opened","closed","beforeDestroy","off","methods","emitCancel","event","$emit","emitSubmit","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","tabindex","role","class","_t","_v","_s","aria-label","s__","data-dismiss","click","$event","aria-hidden","options","__file","__webpack_exports__","event_hub","Vue","components_promote_label_modalvue_type_script_lang_js_","components","GlModal","gl_modal","url","labelTitle","labelColor","labelTextColor","groupName","text","locale","title","label","underscore_default","a","escape","onSubmit","_this","axios_utils","post","params","format","then","response","labelUrl","successful","url_utility","data","catch","error","flash","footer-primary-button-text","footer-primary-button-variant","submit","slot","domProps","innerHTML","promote_label_modal","use","Translate","document","addEventListener","initLabels","onRequestFinished","_ref","button","querySelector","removeAttribute","onRequestStarted","setAttribute","eventHub","$once","onDeleteButtonClick","currentTarget","modalProps","dataset","promoteLabelButtons","querySelectorAll","forEach","promoteLabelModalComponent","promoteLabelModal","getElementById","el","PromoteLabelModal","$on","setModalProps","$off","render","createElement","ShortcutsNavigation","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","Mousetrap","bind","findAndFollowLink","enabledHelp","push","Shortcuts","ProjectSelectComboButton","select","projectSelectInput","$","newItemBtn","resourceType","resourceLabel","formattedText","deriveTextVariants","groupId","bindEvents","initLocalStorage","siblings","e","openDropdown","getProjectFromLocalStorage","preventDefault","selectProject","AccessorUtilities","isLocalStorageAccessSafe","localStorageKey","localStorageItemType","join","setBtnTextFromLocalStorage","select2","selectedProjectData","JSON","parse","val","projectMeta","setNewItemBtnAttributes","setProjectInLocalStorage","cachedProjectData","project","attr","defaultTextPrefix","presetTextSuffix","projectString","localStorage","getItem","stringify","setItem","split","slice","projectSelect","each","i","placeholder","simpleFilter","includeGroups","allProjects","orderBy","withIssuesEnabled","withMergeRequestsEnabled","withShared","undefined","includeProjectsInSubgroups","allowClear","minimumInputLength","query","finalCallback","projectsCallback","projects","results","callback","groupsCallback","groups","Api","term","groupProjects","with_issues_enabled","with_merge_requests_enabled","with_shared","include_subgroups","order_by","membership","web_url","name_with_namespace","initSelection","dropdownCssClass","__webpack_require__","d","Project","$cloneOptions","$projectCloneField","$cloneBtnLabel","mobileCloneField","selectedCloneOption","trim","length","addClass","$this","cloneType","removeClass","activeText","find","$label","closest","toggleClass","clipboardText","initRefSwitcher","parents","Cookies","set","remove","projectId","cookieKey","projectSelectDropdown","changeProject","window","location","refListItem","refLink","href","$dropdown","selected","glDropdown","axios","get","ref","search","__","selectable","filterable","filterRemote","filterByText","inputFieldName","fieldName","renderRow","li","cloneNode","header","className","textContent","link","appendChild","obj","toggleLabel","clicked","$form","$visit","shouldVisit","action","divider","indexOf","visitUrl","serialize","r","_projects_gke_cluster_dropdowns__WEBPACK_IMPORTED_MODULE_0__","_persistent_user_callout__WEBPACK_IMPORTED_MODULE_1__","_project__WEBPACK_IMPORTED_MODULE_2__","_behaviors_shortcuts_shortcuts_navigation__WEBPACK_IMPORTED_MODULE_3__","page","body","callout","PersistentUserCallout","initGkeDropdowns"],"mappings":"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","file":"pages.projects.labels.index.86eb066a.chunk.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":_vm.id,\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\",class:_vm.modalSizeClass,attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_vm._t(\"header\",[_c('h4',{staticClass:\"modal-title\"},[_vm._t(\"title\",[_vm._v(\" \"+_vm._s(_vm.headerTitleText)+\" \")])],2),_vm._v(\" \"),_c('button',{staticClass:\"close js-modal-close-action\",attrs:{\"aria-label\":_vm.s__('Modal|Close'),\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitCancel($event);}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])],2),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"btn js-modal-cancel-action qa-modal-cancel-button\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitCancel($event);}}},[_vm._v(\"\\n            \"+_vm._s(_vm.s__('Modal|Cancel'))+\"\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn js-modal-primary-action qa-modal-primary-button\",class:(\"btn-\" + _vm.footerPrimaryButtonVariant),attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitSubmit($event);}}},[_vm._v(\"\\n            \"+_vm._s(_vm.footerPrimaryButtonText)+\"\\n          \")])])],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport $ from 'jquery';\n\nconst buttonVariants = ['danger', 'primary', 'success', 'warning'];\nconst sizeVariants = ['sm', 'md', 'lg', 'xl'];\n\nexport default {\n  name: 'GlModal',\n  props: {\n    id: {\n      type: String,\n      required: false,\n      default: null,\n    },\n    modalSize: {\n      type: String,\n      required: false,\n      default: 'md',\n      validator: value => sizeVariants.includes(value),\n    },\n    headerTitleText: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    footerPrimaryButtonVariant: {\n      type: String,\n      required: false,\n      default: 'primary',\n      validator: value => buttonVariants.includes(value),\n    },\n    footerPrimaryButtonText: {\n      type: String,\n      required: false,\n      default: '',\n    },\n  },\n  computed: {\n    modalSizeClass() {\n      return this.modalSize === 'md' ? '' : `modal-${this.modalSize}`;\n    },\n  },\n  mounted() {\n    $(this.$el)\n      .on('shown.bs.modal', this.opened)\n      .on('hidden.bs.modal', this.closed);\n  },\n  beforeDestroy() {\n    $(this.$el)\n      .off('shown.bs.modal', this.opened)\n      .off('hidden.bs.modal', this.closed);\n  },\n  methods: {\n    emitCancel(event) {\n      this.$emit('cancel', event);\n    },\n    emitSubmit(event) {\n      this.$emit('submit', event);\n    },\n    opened() {\n      this.$emit('open');\n    },\n    closed() {\n      this.$emit('closed');\n    },\n  },\n};\n</script>\n\n<template>\n  <div :id=\"id\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\">\n    <div :class=\"modalSizeClass\" class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <slot name=\"header\">\n            <h4 class=\"modal-title\">\n              <slot name=\"title\"> {{ headerTitleText }} </slot>\n            </h4>\n            <button\n              :aria-label=\"s__('Modal|Close')\"\n              type=\"button\"\n              class=\"close js-modal-close-action\"\n              data-dismiss=\"modal\"\n              @click=\"emitCancel($event);\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </slot>\n        </div>\n\n        <div class=\"modal-body\"><slot></slot></div>\n\n        <div class=\"modal-footer\">\n          <slot name=\"footer\">\n            <button\n              type=\"button\"\n              class=\"btn js-modal-cancel-action qa-modal-cancel-button\"\n              data-dismiss=\"modal\"\n              @click=\"emitCancel($event);\"\n            >\n              {{ s__('Modal|Cancel') }}\n            </button>\n            <button\n              :class=\"`btn-${footerPrimaryButtonVariant}`\"\n              type=\"button\"\n              class=\"btn js-modal-primary-action qa-modal-primary-button\"\n              data-dismiss=\"modal\"\n              @click=\"emitSubmit($event);\"\n            >\n              {{ footerPrimaryButtonText }}\n            </button>\n          </slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gl_modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gl_modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./gl_modal.vue?vue&type=template&id=3bea753a&\"\nimport script from \"./gl_modal.vue?vue&type=script&lang=js&\"\nexport * from \"./gl_modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"gl_modal.vue\"\nexport default component.exports","import Vue from 'vue';\n\nexport default new Vue();\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./promote_label_modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./promote_label_modal.vue?vue&type=script&lang=js&\"","<script>\nimport _ from 'underscore';\nimport axios from '~/lib/utils/axios_utils';\nimport createFlash from '~/flash';\nimport GlModal from '~/vue_shared/components/gl_modal.vue';\nimport { s__, sprintf } from '~/locale';\nimport { visitUrl } from '~/lib/utils/url_utility';\nimport eventHub from '../event_hub';\n\nexport default {\n  components: {\n    GlModal,\n  },\n  props: {\n    url: {\n      type: String,\n      required: true,\n    },\n    labelTitle: {\n      type: String,\n      required: true,\n    },\n    labelColor: {\n      type: String,\n      required: true,\n    },\n    labelTextColor: {\n      type: String,\n      required: true,\n    },\n    groupName: {\n      type: String,\n      required: true,\n    },\n  },\n  computed: {\n    text() {\n      return sprintf(\n        s__(`Labels|Promoting %{labelTitle} will make it available for all projects inside %{groupName}.\n        Existing project labels with the same title will be merged. This action cannot be reversed.`),\n        {\n          labelTitle: this.labelTitle,\n          groupName: this.groupName,\n        },\n      );\n    },\n    title() {\n      const label = `<span\n          class=\"label color-label\"\n          style=\"background-color: ${this.labelColor}; color: ${this.labelTextColor};\"\n        >${_.escape(this.labelTitle)}</span>`;\n\n      return sprintf(\n        s__('Labels|<span>Promote label</span> %{labelTitle} <span>to Group Label?</span>'),\n        {\n          labelTitle: label,\n        },\n        false,\n      );\n    },\n  },\n  methods: {\n    onSubmit() {\n      eventHub.$emit('promoteLabelModal.requestStarted', this.url);\n      return axios\n        .post(this.url, { params: { format: 'json' } })\n        .then(response => {\n          eventHub.$emit('promoteLabelModal.requestFinished', {\n            labelUrl: this.url,\n            successful: true,\n          });\n          visitUrl(response.data.url);\n        })\n        .catch(error => {\n          eventHub.$emit('promoteLabelModal.requestFinished', {\n            labelUrl: this.url,\n            successful: false,\n          });\n          createFlash(error);\n        });\n    },\n  },\n};\n</script>\n<template>\n  <gl-modal\n    id=\"promote-label-modal\"\n    :footer-primary-button-text=\"s__('Labels|Promote Label')\"\n    footer-primary-button-variant=\"warning\"\n    @submit=\"onSubmit\"\n  >\n    <div slot=\"title\" class=\"modal-title-with-label\" v-html=\"title\">{{ title }}</div>\n\n    {{ text }}\n  </gl-modal>\n</template>\n","import { render, staticRenderFns } from \"./promote_label_modal.vue?vue&type=template&id=7688376d&\"\nimport script from \"./promote_label_modal.vue?vue&type=script&lang=js&\"\nexport * from \"./promote_label_modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"promote_label_modal.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('gl-modal',{attrs:{\"id\":\"promote-label-modal\",\"footer-primary-button-text\":_vm.s__('Labels|Promote Label'),\"footer-primary-button-variant\":\"warning\"},on:{\"submit\":_vm.onSubmit}},[_c('div',{staticClass:\"modal-title-with-label\",attrs:{\"slot\":\"title\"},domProps:{\"innerHTML\":_vm._s(_vm.title)},slot:\"title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\"\\n\\n  \"+_vm._s(_vm.text)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport Translate from '~/vue_shared/translate';\nimport initLabels from '~/init_labels';\nimport eventHub from '../event_hub';\nimport PromoteLabelModal from '../components/promote_label_modal.vue';\n\nVue.use(Translate);\n\nconst initLabelIndex = () => {\n  initLabels();\n\n  const onRequestFinished = ({ labelUrl, successful }) => {\n    const button = document.querySelector(\n      `.js-promote-project-label-button[data-url=\"${labelUrl}\"]`,\n    );\n\n    if (!successful) {\n      button.removeAttribute('disabled');\n    }\n  };\n\n  const onRequestStarted = labelUrl => {\n    const button = document.querySelector(\n      `.js-promote-project-label-button[data-url=\"${labelUrl}\"]`,\n    );\n    button.setAttribute('disabled', '');\n    eventHub.$once('promoteLabelModal.requestFinished', onRequestFinished);\n  };\n\n  const onDeleteButtonClick = event => {\n    const button = event.currentTarget;\n    const modalProps = {\n      labelTitle: button.dataset.labelTitle,\n      labelColor: button.dataset.labelColor,\n      labelTextColor: button.dataset.labelTextColor,\n      url: button.dataset.url,\n      groupName: button.dataset.groupName,\n    };\n    eventHub.$once('promoteLabelModal.requestStarted', onRequestStarted);\n    eventHub.$emit('promoteLabelModal.props', modalProps);\n  };\n\n  const promoteLabelButtons = document.querySelectorAll('.js-promote-project-label-button');\n  promoteLabelButtons.forEach(button => {\n    button.addEventListener('click', onDeleteButtonClick);\n  });\n\n  eventHub.$once('promoteLabelModal.mounted', () => {\n    promoteLabelButtons.forEach(button => {\n      button.removeAttribute('disabled');\n    });\n  });\n\n  const promoteLabelModal = document.getElementById('promote-label-modal');\n  let promoteLabelModalComponent;\n\n  if (promoteLabelModal) {\n    promoteLabelModalComponent = new Vue({\n      el: promoteLabelModal,\n      components: {\n        PromoteLabelModal,\n      },\n      data() {\n        return {\n          modalProps: {\n            labelTitle: '',\n            labelColor: '',\n            labelTextColor: '',\n            url: '',\n            groupName: '',\n          },\n        };\n      },\n      mounted() {\n        eventHub.$on('promoteLabelModal.props', this.setModalProps);\n        eventHub.$emit('promoteLabelModal.mounted');\n      },\n      beforeDestroy() {\n        eventHub.$off('promoteLabelModal.props', this.setModalProps);\n      },\n      methods: {\n        setModalProps(modalProps) {\n          this.modalProps = modalProps;\n        },\n      },\n      render(createElement) {\n        return createElement('promote-label-modal', {\n          props: this.modalProps,\n        });\n      },\n    });\n  }\n\n  return promoteLabelModalComponent;\n};\n\ndocument.addEventListener('DOMContentLoaded', initLabelIndex);\n","import Mousetrap from 'mousetrap';\nimport findAndFollowLink from '../../lib/utils/navigation_utility';\nimport Shortcuts from './shortcuts';\n\nexport default class ShortcutsNavigation extends Shortcuts {\n  constructor() {\n    super();\n\n    Mousetrap.bind('g p', () => findAndFollowLink('.shortcuts-project'));\n    Mousetrap.bind('g v', () => findAndFollowLink('.shortcuts-project-activity'));\n    Mousetrap.bind('g r', () => findAndFollowLink('.shortcuts-project-releases'));\n    Mousetrap.bind('g f', () => findAndFollowLink('.shortcuts-tree'));\n    Mousetrap.bind('g c', () => findAndFollowLink('.shortcuts-commits'));\n    Mousetrap.bind('g j', () => findAndFollowLink('.shortcuts-builds'));\n    Mousetrap.bind('g n', () => findAndFollowLink('.shortcuts-network'));\n    Mousetrap.bind('g d', () => findAndFollowLink('.shortcuts-repository-charts'));\n    Mousetrap.bind('g i', () => findAndFollowLink('.shortcuts-issues'));\n    Mousetrap.bind('g b', () => findAndFollowLink('.shortcuts-issue-boards'));\n    Mousetrap.bind('g m', () => findAndFollowLink('.shortcuts-merge_requests'));\n    Mousetrap.bind('g w', () => findAndFollowLink('.shortcuts-wiki'));\n    Mousetrap.bind('g s', () => findAndFollowLink('.shortcuts-snippets'));\n    Mousetrap.bind('g k', () => findAndFollowLink('.shortcuts-kubernetes'));\n    Mousetrap.bind('g e', () => findAndFollowLink('.shortcuts-environments'));\n    Mousetrap.bind('g l', () => findAndFollowLink('.shortcuts-metrics'));\n    Mousetrap.bind('i', () => findAndFollowLink('.shortcuts-new-issue'));\n\n    this.enabledHelp.push('.hidden-shortcut.project');\n  }\n}\n","import $ from 'jquery';\nimport AccessorUtilities from './lib/utils/accessor';\n\nexport default class ProjectSelectComboButton {\n  constructor(select) {\n    this.projectSelectInput = $(select);\n    this.newItemBtn = $('.new-project-item-link');\n    this.resourceType = this.newItemBtn.data('type');\n    this.resourceLabel = this.newItemBtn.data('label');\n    this.formattedText = this.deriveTextVariants();\n    this.groupId = this.projectSelectInput.data('groupId');\n    this.bindEvents();\n    this.initLocalStorage();\n  }\n\n  bindEvents() {\n    this.projectSelectInput\n      .siblings('.new-project-item-select-button')\n      .on('click', e => this.openDropdown(e));\n\n    this.newItemBtn.on('click', e => {\n      if (!this.getProjectFromLocalStorage()) {\n        e.preventDefault();\n        this.openDropdown(e);\n      }\n    });\n\n    this.projectSelectInput.on('change', () => this.selectProject());\n  }\n\n  initLocalStorage() {\n    const localStorageIsSafe = AccessorUtilities.isLocalStorageAccessSafe();\n\n    if (localStorageIsSafe) {\n      this.localStorageKey = [\n        'group',\n        this.groupId,\n        this.formattedText.localStorageItemType,\n        'recent-project',\n      ].join('-');\n      this.setBtnTextFromLocalStorage();\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  openDropdown(event) {\n    $(event.currentTarget)\n      .siblings('.project-item-select')\n      .select2('open');\n  }\n\n  selectProject() {\n    const selectedProjectData = JSON.parse(this.projectSelectInput.val());\n    const projectUrl = `${selectedProjectData.url}/${this.projectSelectInput.data('relativePath')}`;\n    const projectName = selectedProjectData.name;\n\n    const projectMeta = {\n      url: projectUrl,\n      name: projectName,\n    };\n\n    this.setNewItemBtnAttributes(projectMeta);\n    this.setProjectInLocalStorage(projectMeta);\n  }\n\n  setBtnTextFromLocalStorage() {\n    const cachedProjectData = this.getProjectFromLocalStorage();\n\n    this.setNewItemBtnAttributes(cachedProjectData);\n  }\n\n  setNewItemBtnAttributes(project) {\n    if (project) {\n      this.newItemBtn.attr('href', project.url);\n      this.newItemBtn.text(`${this.formattedText.defaultTextPrefix} in ${project.name}`);\n    } else {\n      this.newItemBtn.text(`Select project to create ${this.formattedText.presetTextSuffix}`);\n    }\n  }\n\n  getProjectFromLocalStorage() {\n    const projectString = localStorage.getItem(this.localStorageKey);\n\n    return JSON.parse(projectString);\n  }\n\n  setProjectInLocalStorage(projectMeta) {\n    const projectString = JSON.stringify(projectMeta);\n\n    localStorage.setItem(this.localStorageKey, projectString);\n  }\n\n  deriveTextVariants() {\n    const defaultTextPrefix = this.resourceLabel;\n\n    // the trailing slice call depluralizes each of these strings (e.g. new-issues -> new-issue)\n    const localStorageItemType = `new-${this.resourceType\n      .split('_')\n      .join('-')\n      .slice(0, -1)}`;\n    const presetTextSuffix = this.resourceType\n      .split('_')\n      .join(' ')\n      .slice(0, -1);\n\n    return {\n      localStorageItemType, // new-issue / new-merge-request\n      defaultTextPrefix, // New issue / New merge request\n      presetTextSuffix, // issue / merge request\n    };\n  }\n}\n","/* eslint-disable func-names, no-var, object-shorthand, one-var, no-else-return */\n\nimport $ from 'jquery';\nimport Api from './api';\nimport ProjectSelectComboButton from './project_select_combo_button';\n\nexport default function projectSelect() {\n  $('.ajax-project-select').each(function(i, select) {\n    var placeholder;\n    const simpleFilter = $(select).data('simpleFilter') || false;\n    this.groupId = $(select).data('groupId');\n    this.includeGroups = $(select).data('includeGroups');\n    this.allProjects = $(select).data('allProjects') || false;\n    this.orderBy = $(select).data('orderBy') || 'id';\n    this.withIssuesEnabled = $(select).data('withIssuesEnabled');\n    this.withMergeRequestsEnabled = $(select).data('withMergeRequestsEnabled');\n    this.withShared =\n      $(select).data('withShared') === undefined ? true : $(select).data('withShared');\n    this.includeProjectsInSubgroups = $(select).data('includeProjectsInSubgroups') || false;\n    this.allowClear = $(select).data('allowClear') || false;\n\n    placeholder = 'Search for project';\n    if (this.includeGroups) {\n      placeholder += ' or group';\n    }\n\n    $(select).select2({\n      placeholder: placeholder,\n      minimumInputLength: 0,\n      query: (function(_this) {\n        return function(query) {\n          var finalCallback, projectsCallback;\n          finalCallback = function(projects) {\n            var data;\n            data = {\n              results: projects,\n            };\n            return query.callback(data);\n          };\n          if (_this.includeGroups) {\n            projectsCallback = function(projects) {\n              var groupsCallback;\n              groupsCallback = function(groups) {\n                var data;\n                data = groups.concat(projects);\n                return finalCallback(data);\n              };\n              return Api.groups(query.term, {}, groupsCallback);\n            };\n          } else {\n            projectsCallback = finalCallback;\n          }\n          if (_this.groupId) {\n            return Api.groupProjects(\n              _this.groupId,\n              query.term,\n              {\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                with_shared: _this.withShared,\n                include_subgroups: _this.includeProjectsInSubgroups,\n              },\n              projectsCallback,\n            );\n          } else {\n            return Api.projects(\n              query.term,\n              {\n                order_by: _this.orderBy,\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                membership: !_this.allProjects,\n              },\n              projectsCallback,\n            );\n          }\n        };\n      })(this),\n      id: function(project) {\n        if (simpleFilter) return project.id;\n        return JSON.stringify({\n          name: project.name,\n          url: project.web_url,\n        });\n      },\n      text: function(project) {\n        return project.name_with_namespace || project.name;\n      },\n\n      initSelection: function(el, callback) {\n        return Api.project(el.val()).then(({ data }) => callback(data));\n      },\n\n      allowClear: this.allowClear,\n\n      dropdownCssClass: 'ajax-project-dropdown',\n    });\n    if (simpleFilter) return select;\n    return new ProjectSelectComboButton(select);\n  });\n}\n","/* eslint-disable func-names, no-var, no-return-assign, one-var, object-shorthand, vars-on-top */\n\nimport $ from 'jquery';\nimport Cookies from 'js-cookie';\nimport { __ } from '~/locale';\nimport { visitUrl } from '~/lib/utils/url_utility';\nimport axios from '~/lib/utils/axios_utils';\nimport flash from '~/flash';\nimport projectSelect from '../../project_select';\n\nexport default class Project {\n  constructor() {\n    const $cloneOptions = $('ul.clone-options-dropdown');\n    const $projectCloneField = $('#project_clone');\n    const $cloneBtnLabel = $('.js-git-clone-holder .js-clone-dropdown-label');\n    const mobileCloneField = document.querySelector(\n      '.js-mobile-git-clone .js-clone-dropdown-label',\n    );\n\n    const selectedCloneOption = $cloneBtnLabel.text().trim();\n    if (selectedCloneOption.length > 0) {\n      $(`a:contains('${selectedCloneOption}')`, $cloneOptions).addClass('is-active');\n    }\n\n    $('a', $cloneOptions).on('click', e => {\n      e.preventDefault();\n      const $this = $(e.currentTarget);\n      const url = $this.attr('href');\n      const cloneType = $this.data('cloneType');\n\n      $('.is-active', $cloneOptions).removeClass('is-active');\n      $(`a[data-clone-type=\"${cloneType}\"]`).each(function() {\n        const $el = $(this);\n        const activeText = $el.find('.dropdown-menu-inner-title').text();\n        const $container = $el.closest('.project-clone-holder');\n        const $label = $container.find('.js-clone-dropdown-label');\n\n        $el.toggleClass('is-active');\n        $label.text(activeText);\n      });\n\n      if (mobileCloneField) {\n        mobileCloneField.dataset.clipboardText = url;\n      } else {\n        $projectCloneField.val(url);\n      }\n      $('.js-git-empty .js-clone').text(url);\n    });\n    // Ref switcher\n    Project.initRefSwitcher();\n    $('.project-refs-select').on('change', function() {\n      return $(this)\n        .parents('form')\n        .submit();\n    });\n    $('.hide-no-ssh-message').on('click', function(e) {\n      Cookies.set('hide_no_ssh_message', 'false');\n      $(this)\n        .parents('.no-ssh-key-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-no-password-message').on('click', function(e) {\n      Cookies.set('hide_no_password_message', 'false');\n      $(this)\n        .parents('.no-password-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-auto-devops-implicitly-enabled-banner').on('click', function(e) {\n      const projectId = $(this).data('project-id');\n      const cookieKey = `hide_auto_devops_implicitly_enabled_banner_${projectId}`;\n      Cookies.set(cookieKey, 'false');\n      $(this)\n        .parents('.auto-devops-implicitly-enabled-banner')\n        .remove();\n      return e.preventDefault();\n    });\n    Project.projectSelectDropdown();\n  }\n\n  static projectSelectDropdown() {\n    projectSelect();\n    $('.project-item-select').on('click', e => Project.changeProject($(e.currentTarget).val()));\n  }\n\n  static changeProject(url) {\n    return (window.location = url);\n  }\n\n  static initRefSwitcher() {\n    var refListItem = document.createElement('li');\n    var refLink = document.createElement('a');\n\n    refLink.href = '#';\n\n    return $('.js-project-refs-dropdown').each(function() {\n      var $dropdown, selected;\n      $dropdown = $(this);\n      selected = $dropdown.data('selected');\n      return $dropdown.glDropdown({\n        data(term, callback) {\n          axios\n            .get($dropdown.data('refsUrl'), {\n              params: {\n                ref: $dropdown.data('ref'),\n                search: term,\n              },\n            })\n            .then(({ data }) => callback(data))\n            .catch(() => flash(__('An error occurred while getting projects')));\n        },\n        selectable: true,\n        filterable: true,\n        filterRemote: true,\n        filterByText: true,\n        inputFieldName: $dropdown.data('inputFieldName'),\n        fieldName: $dropdown.data('fieldName'),\n        renderRow: function(ref) {\n          var li = refListItem.cloneNode(false);\n\n          if (ref.header != null) {\n            li.className = 'dropdown-header';\n            li.textContent = ref.header;\n          } else {\n            var link = refLink.cloneNode(false);\n\n            if (ref === selected) {\n              link.className = 'is-active';\n            }\n\n            link.textContent = ref;\n            link.dataset.ref = ref;\n\n            li.appendChild(link);\n          }\n\n          return li;\n        },\n        id: function(obj, $el) {\n          return $el.attr('data-ref');\n        },\n        toggleLabel: function(obj, $el) {\n          return $el.text().trim();\n        },\n        clicked: function(options) {\n          const { e } = options;\n          e.preventDefault();\n          if ($('input[name=\"ref\"]').length) {\n            var $form = $dropdown.closest('form');\n\n            var $visit = $dropdown.data('visit');\n            var shouldVisit = $visit ? true : $visit;\n            var action = $form.attr('action');\n            var divider = action.indexOf('?') === -1 ? '?' : '&';\n            if (shouldVisit) {\n              visitUrl(`${action}${divider}${$form.serialize()}`);\n            }\n          }\n        },\n      });\n    });\n  }\n}\n","import initGkeDropdowns from '~/projects/gke_cluster_dropdowns';\nimport PersistentUserCallout from '../../persistent_user_callout';\nimport Project from './project';\nimport ShortcutsNavigation from '../../behaviors/shortcuts/shortcuts_navigation';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const { page } = document.body.dataset;\n  const newClusterViews = [\n    'projects:clusters:new',\n    'projects:clusters:create_gcp',\n    'projects:clusters:create_user',\n  ];\n\n  if (newClusterViews.indexOf(page) > -1) {\n    const callout = document.querySelector('.gcp-signup-offer');\n    if (callout) new PersistentUserCallout(callout); // eslint-disable-line no-new\n\n    initGkeDropdowns();\n  }\n\n  new Project(); // eslint-disable-line no-new\n  new ShortcutsNavigation(); // eslint-disable-line no-new\n});\n"],"sourceRoot":""}