{"version":3,"sources":["webpack:////home/git/gitlab/node_modules/mousetrap/plugins/pause/mousetrap-pause.js","webpack:///./due_date_select.js","webpack:///./pages/projects/milestones/edit/index.js","webpack:///./boards/stores/boards_store.js","webpack:///./behaviors/shortcuts/shortcuts_navigation.js","webpack:///./project_select_combo_button.js","webpack:///./project_select.js","webpack:///./shared/milestones/form.js","webpack:///./pages/projects/project.js","webpack:///./pages/projects/index.js","webpack:///./dropzone_input.js","webpack:///./gl_form.js","webpack:///./zen_mode.js","webpack:////home/git/gitlab/node_modules/pikaday/pikaday.js"],"names":["Mousetrap","self","_originalStopCallback","stopCallback","enabled","e","element","combo","pause","unpause","DueDateSelect","_ref","arguments","length","undefined","$dropdown","$loading","_classCallCheck","this","$dropdownParent","closest","$block","$datePicker","find","$sidebarCollapsedValue","$selectbox","$value","$valueContent","$sidebarValue","$","fieldName","data","abilityName","issueUpdateURL","rawSelectedDate","displayedDate","datePayload","initGlDropdown","initRemoveDueDate","initDatePicker","_this","glDropdown","opened","show","hidden","hide","css","_this2","$dueDateInput","concat","calendar","Pikaday","field","get","theme","format","parse","dateString","parsePikadayDate","toString","date","pikadayToString","onSelect","dateText","val","hasClass","boardsStore","detail","issue","dueDate","updateIssueBoardIssue","saveDueDate","setDate","append","el","_this3","on","preventDefault","isDropdown","parseSelectedDate","prepSelectedDate","submitSelectedDate","dateArray","split","map","v","parseInt","dateObj","Date","dateFormat","due_date","_this4","fadeIn","trigger","fadeOutLoader","fadeOut","update","attr","then","catch","_this5","selectedDateValue","hasDueDate","displayedDateStyle","removeClass","html","toggleClass","axios","put","tooltipText","__","timeFor","dropdown","DueDateSelectors","initMilestoneDatePicker","initIssuableSelect","each","datePickerVal","container","parent","target","siblings","i","__webpack_require__","r","__webpack_exports__","_shared_milestones_form__WEBPACK_IMPORTED_MODULE_0__","document","addEventListener","initForm","d","boardStoreIssueSet","boardStoreIssueDelete","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","n","underscore__WEBPACK_IMPORTED_MODULE_1__","underscore__WEBPACK_IMPORTED_MODULE_1___default","vue__WEBPACK_IMPORTED_MODULE_2__","js_cookie__WEBPACK_IMPORTED_MODULE_3__","js_cookie__WEBPACK_IMPORTED_MODULE_3___default","_lib_utils_common_utils__WEBPACK_IMPORTED_MODULE_4__","disabled","filter","path","state","moving","list","create","lists","getUrlParamsArray","join","addList","listObj","defaultAvatar","List","push","new","backlogList","findList","save","issues","forEach","removeIssue","bind","_","sortBy","removeBlankState","updateNewListDropdown","listId","shouldAddBlankState","type","addBlankState","welcomeIsHidden","id","list_type","title","position","removeList","Cookies","set","expires","parseBoolean","moveList","listFrom","orderLists","moveIssueToList","listTo","newIndex","issueTo","findIssue","issueLists","getLists","listLabels","listIssue","label","updateIssueLabel","removeLabel","findAssignee","assignee","removeAssignee","currentMilestone","milestone","currentLists","some","removeMilestone","addMilestone","currentList","addIssue","removeLabels","shouldRemoveIssue","moveIssueInList","oldIndex","idArray","beforeId","afterId","moveIssue","key","byType","findListByLabelId","updateFiltersUrl","window","history","pushState","_len","args","Array","_key","Vue","apply","_len2","_key2","delete","ShortcutsNavigation","_possibleConstructorReturn","_getPrototypeOf","call","findAndFollowLink","enabledHelp","Shortcuts","ProjectSelectComboButton","select","projectSelectInput","newItemBtn","resourceType","resourceLabel","formattedText","deriveTextVariants","groupId","bindEvents","initLocalStorage","openDropdown","getProjectFromLocalStorage","selectProject","AccessorUtilities","isLocalStorageAccessSafe","localStorageKey","localStorageItemType","setBtnTextFromLocalStorage","event","currentTarget","select2","selectedProjectData","JSON","projectMeta","url","name","setNewItemBtnAttributes","setProjectInLocalStorage","cachedProjectData","project","text","defaultTextPrefix","presetTextSuffix","projectString","localStorage","getItem","stringify","setItem","slice","projectSelect","placeholder","simpleFilter","includeGroups","allProjects","orderBy","withIssuesEnabled","withMergeRequestsEnabled","withShared","includeProjectsInSubgroups","allowClear","minimumInputLength","query","finalCallback","projectsCallback","projects","results","callback","groupsCallback","groups","Api","term","groupProjects","with_issues_enabled","with_merge_requests_enabled","with_shared","include_subgroups","order_by","membership","web_url","name_with_namespace","initSelection","dropdownCssClass","_zen_mode__WEBPACK_IMPORTED_MODULE_1__","_due_date_select__WEBPACK_IMPORTED_MODULE_2__","_gl_form__WEBPACK_IMPORTED_MODULE_3__","initGFM","ZenMode","GLForm","emojis","members","mergeRequests","epics","milestones","labels","snippets","Project","$cloneOptions","$projectCloneField","$cloneBtnLabel","mobileCloneField","querySelector","selectedCloneOption","trim","addClass","$this","cloneType","$el","activeText","$label","dataset","clipboardText","initRefSwitcher","parents","submit","remove","projectId","cookieKey","projectSelectDropdown","changeProject","location","refListItem","createElement","refLink","href","selected","params","ref","search","flash","selectable","filterable","filterRemote","filterByText","inputFieldName","renderRow","li","cloneNode","header","className","textContent","link","appendChild","obj","toggleLabel","clicked","options","$form","$visit","shouldVisit","action","divider","indexOf","visitUrl","serialize","_projects_gke_cluster_dropdowns__WEBPACK_IMPORTED_MODULE_0__","_persistent_user_callout__WEBPACK_IMPORTED_MODULE_1__","_project__WEBPACK_IMPORTED_MODULE_2__","_behaviors_shortcuts_shortcuts_navigation__WEBPACK_IMPORTED_MODULE_3__","page","body","callout","PersistentUserCallout","initGkeDropdowns","dropzoneInput","form","handlePaste","pasteText","addFileToForm","updateAttachingMessage","isImage","getFilename","uploadFile","$attachButton","$attachingFileMessage","$cancelButton","$retryLink","$uploadProgress","$uploadingErrorContainer","$uploadingErrorMessage","$uploadingProgressContainer","uploadsPath","uploads_path","maxFileSize","gon","max_file_size","formTextarea","wrap","$mdArea","setupMarkdownPreview","$formDropzone","dropzone","dictDefaultMessage","clickable","paramName","maxFilesize","uploadMultiple","headers","csrf","previewContainer","processing","alert","dragover","dragleave","drop","focus","success","response","processingFileCount","getQueuedFiles","getUploadingFiles","shouldPad","markdown","error","file","res","errorMessage","xhr","message","responseText","isString","totaluploadprogress","totalUploadProgress","files","Math","round","sending","removedfile","queuecomplete","child","children","stopPropagation","Dropzone","forElement","removeAllFiles","dropzoneInstance","failedFiles","failedFile","status","ERROR","accepted","addFile","pasteEvent","originalEvent","clipboardData","items","image","filename","getAsFile","item","textarea","caretStart","selectionStart","caretEnd","selectionEnd","textEnd","beforeSelection","substring","afterSelection","setSelectionRange","style","height","scrollHeight","dispatchEvent","Event","escape","value","getData","closeSpinner","formData","FormData","post","md","$child","index","replace","insertToTextArea","messageContainer","attachingMessage","filesCount","click","autoDiscover","enableGFM","Object","assign","GFMConfig","dataSources","gl","GfmAutoComplete","keys","destroy","setupForm","clearEventListeners","autoComplete","isNewForm","is","utils","disableButtonIfEmptyField","setup","autosize","addEventListeners","addMarkdownListeners","isAutosizeable","setupAutosize","off","setHeightData","destroyAutosize","setTimeout","outerHeight","removeMarkdownListeners","active_backdrop","active_textarea","enter","exit","keyCode","backdrop","removeAttr","scrollTo","$dropzone","enable","zen_area","offset","root","factory","moment","Error","code","module","exports","hasMoment","hasEventListeners","sto","addEvent","capture","attachEvent","removeEvent","removeEventListener","detachEvent","cn","isArray","test","prototype","isDate","isNaN","getTime","isWeekend","day","getDay","getDaysInMonth","year","month","isLeapYear","setToStartOfDay","setHours","compareDates","a","b","extend","to","from","overwrite","prop","hasProp","nodeName","fireEvent","eventName","ev","createEvent","initEvent","createEventObject","adjustCalendar","ceil","abs","floor","defaults","bound","reposition","defaultDate","setDefaultDate","firstDay","formatStrict","minDate","maxDate","yearRange","showWeekNumber","pickWholeWeek","minYear","maxYear","minMonth","maxMonth","startRange","endRange","isRTL","yearSuffix","showMonthAfterYear","showDaysInNextAndPreviousMonths","enableSelectionDaysInNextAndPreviousMonths","numberOfMonths","mainCalendar","blurFieldOnSelect","i18n","previousMonth","nextMonth","months","weekdays","weekdaysShort","events","onOpen","onClose","onDraw","renderDayName","opts","abbr","renderDay","arr","ariaSelected","isEmpty","isDisabled","isToday","isSelected","hasEvent","isInRange","isStartRange","isEndRange","days","isRowSelected","reverse","renderTitle","instance","c","refYear","randId","j","monthHtml","yearHtml","_o","isMinYear","isMaxYear","prev","next","config","_onMouseDown","_v","srcElement","parentNode","prevMonth","getAttribute","blur","_c","returnValue","_onChange","gotoMonth","gotoYear","_onKeyChange","isVisible","adjustDate","_onInputChange","firedBy","isValid","toDate","_onInputFocus","_onInputClick","_onInputBlur","pEl","activeElement","_b","_onClick","onchange","setAttribute","insertBefore","nextSibling","defDate","gotoDate","disableWeekends","disableDayFn","nom","setMinDate","setMaxDate","fallback","getFullYear","_d","toDateString","getMoment","setMoment","preventOnSelect","isMoment","getDate","draw","min","max","newCalendar","calendars","firstVisibleDate","lastVisibleDate","visibleDate","setMonth","getMonth","adjustCalendars","sign","newDay","difference","valueOf","gotoToday","setStartRange","setEndRange","force","_y","_m","random","substr","render","innerHTML","adjustPosition","width","viewportWidth","viewportHeight","scrollTop","left","top","clientRect","offsetWidth","offsetHeight","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","pageYOffset","getBoundingClientRect","pageXOffset","bottom","offsetLeft","offsetTop","offsetParent","now","before","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","after","m","y","onejan","isWeekSelected","dayNumber","monthNumber","yearNumber","dayConfig","unshift","renderHead","renderTable","str","removeChild"],"mappings":"4EAMAA,UAAA,SAAAA,GACA,IAAAC,EAAAD,EACAE,EAAAD,EAAAE,aACAC,GAAA,EAkBA,OAhBAH,EAAAE,aAAA,SAAAE,EAAAC,EAAAC,GACA,OAAAH,GAIAF,EAAAG,EAAAC,EAAAC,IAGAN,EAAAO,MAAA,WACAJ,GAAA,GAGAH,EAAAQ,QAAA,WACAL,GAAA,GAGAH,EArBA,CAsBCD,meCpBKU,aACJ,SAAAA,IAA0C,IAAAC,EAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,MAA5BG,EAA4BJ,EAA5BI,UAAWC,EAAiBL,EAAjBK,SAAiBC,EAAAC,KAAAR,GACxC,IAAMS,EAAkBJ,EAAUK,QAAQ,aACpCC,EAASN,EAAUK,QAAQ,UACjCF,KAAKF,SAAWA,EAChBE,KAAKH,UAAYA,EACjBG,KAAKC,gBAAkBA,EACvBD,KAAKI,YAAcH,EAAgBI,KAAK,yBACxCL,KAAKG,OAASA,EACdH,KAAKM,uBAAyBH,EAAOE,KAAK,2BAC1CL,KAAKO,WAAaV,EAAUK,QAAQ,cACpCF,KAAKQ,OAASL,EAAOE,KAAK,UAC1BL,KAAKS,cAAgBN,EAAOE,KAAK,kBACjCL,KAAKU,cAAgBC,IAAE,6BAA8BR,GACrDH,KAAKY,UAAYf,EAAUgB,KAAK,aAChCb,KAAKc,YAAcjB,EAAUgB,KAAK,eAClCb,KAAKe,eAAiBlB,EAAUgB,KAAK,eAErCb,KAAKgB,gBAAkB,KACvBhB,KAAKiB,cAAgB,KACrBjB,KAAKkB,YAAc,KAEnBlB,KAAKmB,iBACLnB,KAAKoB,oBACLpB,KAAKqB,oEAGU,IAAAC,EAAAtB,KACfA,KAAKH,UAAU0B,YACbC,OAAQ,WACWF,EAAKlB,YAAYS,KAAK,WAC9BY,QAEXC,OAAQ,WACNJ,EAAKf,WAAWoB,OAChBL,EAAKd,OAAOoB,IAAI,UAAW,gDAKhB,IAAAC,EAAA7B,KACT8B,EAAgBnB,IAAC,eAAAoB,OAAgB/B,KAAKY,UAArB,OACjBoB,EAAW,IAAIC,KACnBC,MAAOJ,EAAcK,IAAI,GACzBC,MAAO,eACPC,OAAQ,aACRC,MAAO,SAAAC,GAAU,OAAIC,YAAiBD,IACtCE,SAAU,SAAAC,GAAI,OAAIC,YAAgBD,IAClCE,SAAU,SAAAC,GACRf,EAAcgB,IAAId,EAASS,SAASI,IAEhChB,EAAKhC,UAAUkD,SAAS,6BAC1BC,IAAYC,OAAOC,MAAMC,QAAUrB,EAAcgB,MACjDjB,EAAKuB,yBAELvB,EAAKwB,aAAY,MAKvBrB,EAASsB,QAAQd,YAAiBV,EAAcgB,QAChD9C,KAAKI,YAAYmD,OAAOvB,EAASwB,IACjCxD,KAAKI,YAAYS,KAAK,UAAWmB,+CAGf,IAAAyB,EAAAzD,KAClBA,KAAKG,OAAOuD,GAAG,QAAS,sBAAuB,SAAAvE,GAC7C,IAAM6C,EAAWyB,EAAKrD,YAAYS,KAAK,WACvC1B,EAAEwE,iBAEF3B,EAASsB,QAAQ,MAEbG,EAAK5D,UAAUkD,SAAS,6BAC1BC,IAAYC,OAAOC,MAAMC,QAAU,GACnCM,EAAKL,0BAELzC,IAAC,eAAAoB,OAAgB0B,EAAK7C,UAArB,OAAoCkC,IAAI,IACzCW,EAAKJ,aAAY,0CAKXO,GACV5D,KAAK6D,oBACL7D,KAAK8D,mBACL9D,KAAK+D,mBAAmBH,+CAMxB,GAFA5D,KAAKgB,gBAAkBL,IAAC,eAAAoB,OAAgB/B,KAAKY,UAArB,OAAoCkC,MAExD9C,KAAKgB,gBAAgBrB,OAAQ,CAE/B,IAAMqE,EAAYhE,KAAKgB,gBAAgBiD,MAAM,KAAKC,IAAI,SAAAC,GAAC,OAAIC,SAASD,EAAG,MACjEE,EAAU,IAAIC,KAAKN,EAAU,GAAIA,EAAU,GAAK,EAAGA,EAAU,IACnEhE,KAAKiB,cAAgBsD,IAAWF,EAAS,oBAEzCrE,KAAKiB,cAAgB,yDAKvB,IAAMC,KACNA,EAAYlB,KAAKc,gBACjBI,EAAYlB,KAAKc,aAAa0D,SAAWxE,KAAKgB,gBAC9ChB,KAAKkB,YAAcA,kDAGG,IAAAuD,EAAAzE,KACtBA,KAAKF,SAAS4E,SACd1E,KAAKH,UAAU8E,QAAQ,uBACvB3E,KAAKO,WAAWoB,OAChB3B,KAAKQ,OAAOoB,IAAI,UAAW,IAC3B,IAAMgD,EAAgB,WACpBH,EAAK3E,SAAS+E,WAGhB7B,IAAYC,OAAOC,MAChB4B,OAAO9E,KAAKH,UAAUkF,KAAK,sBAC3BC,KAAKJ,GACLK,MAAML,8CAGQhB,GAAY,IAAAsB,EAAAlF,KACvBmF,EAAoBnF,KAAKkB,YAAYlB,KAAKc,aAAa0D,SACvDY,EAAoC,gBAAvBpF,KAAKiB,cAClBoE,EAAqBD,EAAa,OAAS,WAejD,OAbApF,KAAKF,SAASwF,YAAY,UAAUZ,SAEhCd,IACF5D,KAAKH,UAAU8E,QAAQ,uBACvB3E,KAAKO,WAAWoB,QAGlB3B,KAAKQ,OAAOoB,IAAI,UAAW,IAC3B5B,KAAKS,cAAc8E,KAAnB,gBAAAxD,OAAwCsD,EAAxC,MAAAtD,OAA+D/B,KAAKiB,cAApE,YACAjB,KAAKU,cAAc6E,KAAKvF,KAAKiB,eAE7BN,IAAE,8BAA8B6E,YAAY,SAAUL,EAAkBxF,QAEjE8F,IAAMC,IAAI1F,KAAKe,eAAgBf,KAAKkB,aAAa8D,KAAK,WAC3D,IAAMW,EAAcP,EAAU,GAAArD,OACvB6D,YAAG,YADoB,UAAA7D,OACAoD,EADA,MAAApD,OACsB8D,YAAQV,GAD9B,KAE1BS,YAAG,YAOP,OANIhC,IACFsB,EAAKrF,UAAU8E,QAAQ,sBACvBO,EAAKrF,UAAUiG,SAAS,WAE1BZ,EAAK5E,uBAAuByE,KAAK,sBAAuBY,GAEjDT,EAAKpF,SAAS+E,qBAKNkB,aACnB,SAAAA,IAAchG,EAAAC,KAAA+F,GACZ/F,KAAKgG,0BACLhG,KAAKiG,iFAILtF,IAAE,eAAeuF,KAAK,WACpB,IAAM9F,EAAcO,IAAEX,MAChBmG,EAAgB/F,EAAY0C,MAE5Bd,EAAW,IAAIC,KACnBC,MAAO9B,EAAY+B,IAAI,GACvBC,MAAO,8BACPC,OAAQ,aACR+D,UAAWhG,EAAYiG,SAASlE,IAAI,GACpCG,MAAO,SAAAC,GAAU,OAAIC,YAAiBD,IACtCE,SAAU,SAAAC,GAAI,OAAIC,YAAgBD,IAClCE,SAP2B,SAOlBC,GACPzC,EAAY0C,IAAId,EAASS,SAASI,OAItCb,EAASsB,QAAQd,YAAiB2D,IAElC/F,EAAYS,KAAK,UAAWmB,KAG9BrB,IAAE,2CAA2C+C,GAAG,QAAS,SAAAvE,GACvDA,EAAEwE,iBACehD,IAAExB,EAAEmH,QAClBC,SAAS,eACT1F,KAAK,WACCyC,QAAQ,qDAKnB,IAAMxD,EAAWa,IAAE,iCAChBN,KAAK,kBACLsB,OAEHhB,IAAE,uBAAuBuF,KAAK,SAACM,EAAGV,GAChC,IAAMjG,EAAYc,IAAEmF,GAEpB,IAAItG,GACFK,YACAC,+GCnNR2G,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,KAEAI,SAASC,iBAAiB,mBAAoB,kBAAMC,iDCFpDN,EAAAO,EAAAL,EAAA,sBAAAM,IAAAR,EAAAO,EAAAL,EAAA,sBAAAO,IAAA,IAAAC,EAAAV,EAAA,GAAAW,EAAAX,EAAAY,EAAAF,GAAAG,EAAAb,EAAA,GAAAc,EAAAd,EAAAY,EAAAC,GAAAE,EAAAf,EAAA,IAAAgB,EAAAhB,EAAA,IAAAiB,EAAAjB,EAAAY,EAAAI,GAAAE,EAAAlB,EAAA,IASMzD,GACJ4E,UAAU,EACVC,QACEC,KAAM,IAERC,SACA9E,QACEC,UAEF8E,QACE9E,SACA+E,SAEFC,OAbkB,WAchBlI,KAAK+H,MAAMI,SACXnI,KAAK6H,OAAOC,KAAOM,cAAoBC,KAAK,KAC5CrI,KAAKiD,QACHC,WAGJoF,QApBkB,SAoBVC,EAASC,GACf,IAAMP,EAAO,IAAIQ,KAAKF,EAASC,GAG/B,OAFAxI,KAAK+H,MAAMI,MAAMO,KAAKT,GAEfA,GAETU,IA1BkB,SA0BdJ,GAAS,IAAAjH,EAAAtB,KACLiI,EAAOjI,KAAKsI,QAAQC,GACpBK,EAAc5I,KAAK6I,SAAS,OAAQ,UAAW,WAErDZ,EACGa,OACA9D,KAAK,WAGJiD,EAAKc,OAAOC,QAAQJ,EAAYK,YAAYC,KAAKN,IACjDtH,EAAKyG,MAAMI,MAAQgB,IAAEC,OAAO9H,EAAKyG,MAAMI,MAAO,cAE/ClD,MAAM,cAGTjF,KAAKqJ,oBAEPC,sBA3CkB,SA2CIC,GACpB5I,IAAC,kBAAAoB,OAAmBwH,IAAUjE,YAAY,cAE5CkE,oBA9CkB,WAgDhB,OAAQxJ,KAAK+H,MAAMI,MAAMN,OAAO,SAAAI,GAAI,MAAkB,YAAdA,EAAKwB,MAAoC,WAAdxB,EAAKwB,OAAmB,IAE7FC,cAlDkB,YAmDX1J,KAAKwJ,uBAAyBxJ,KAAK2J,mBAAqB3J,KAAK4H,WAElE5H,KAAKsI,SACHsB,GAAI,QACJC,UAAW,QACXC,MAAO,+BACPC,SAAU,IAGZ/J,KAAK+H,MAAMI,MAAQgB,IAAEC,OAAOpJ,KAAK+H,MAAMI,MAAO,cAEhDkB,iBA9DkB,WA+DhBrJ,KAAKgK,WAAW,SAEhBC,IAAQC,IAAI,6BAA8B,QACxCC,QAAS,KACTrC,KAAM,MAGV6B,gBAtEkB,WAuEhB,OAAOS,YAAaH,IAAQ9H,IAAI,gCAElC6H,WAzEkB,SAyEPJ,GAAoB,IAAhBH,EAAgB/J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAT,QACPM,KAAK6I,SAAS,KAAMe,EAAIH,KAIrCzJ,KAAK+H,MAAMI,MAAQnI,KAAK+H,MAAMI,MAAMN,OAAO,SAAAI,GAAI,OAAIA,EAAK2B,KAAOA,MAEjES,SAhFkB,SAgFTC,EAAUC,GAAY,IAAA1I,EAAA7B,KAC7BuK,EAAWvB,QAAQ,SAACY,EAAIpD,GACT3E,EAAKgH,SAAS,KAAMzE,SAASwF,EAAI,KAEzCG,SAAWvD,IAElB8D,EAASxF,UAEX0F,gBAxFkB,SAwFFF,EAAUG,EAAQvH,EAAOwH,GACvC,IAAMC,EAAUF,EAAOG,UAAU1H,EAAM0G,IACjCiB,EAAa3H,EAAM4H,WACnBC,EAAaF,EAAW3G,IAAI,SAAA8G,GAAS,OAAIA,EAAUC,QAEzD,GAAKN,EAwBHF,EAAOS,iBAAiBhI,EAAOoH,GAC/BK,EAAQQ,YAAYb,EAASW,YAvB7B,GACkB,aAAhBR,EAAOhB,MACW,aAAlBa,EAASb,MACTvG,EAAMkI,aAAaX,EAAOY,UAENZ,EAAOG,UAAU1H,EAAM0G,IAC/B0B,eAAehB,EAASe,eAC/B,GAAoB,cAAhBZ,EAAOhB,KAAsB,CACtC,IAAM8B,EAAmBrI,EAAMsI,UACzBC,EAAezL,KAAK+H,MAAMI,MAC7BN,OAAO,SAAAI,GAAI,MAAkB,cAAdA,EAAKwB,MAAwBxB,EAAK2B,KAAOa,EAAOb,KAC/D/B,OAAO,SAAAI,GAAI,OAAIA,EAAKc,OAAO2C,KAAK,SAAAV,GAAS,OAAI9H,EAAM0G,KAAOoB,EAAUpB,OAEvE1G,EAAMyI,gBAAgBJ,GACtBrI,EAAM0I,aAAanB,EAAOe,WAC1BC,EAAazC,QAAQ,SAAA6C,GAAW,OAAIA,EAAY5C,YAAY/F,KAC5DuH,EAAOqB,SAAS5I,EAAOoH,EAAUI,QAGjCD,EAAOqB,SAAS5I,EAAOoH,EAAUI,GAOjB,WAAhBD,EAAOhB,MAAuC,YAAlBa,EAASb,MACvCoB,EAAW7B,QAAQ,SAAAf,GACjBA,EAAKgB,YAAY/F,KAEnBA,EAAM6I,aAAahB,IACM,YAAhBN,EAAOhB,MAAwC,aAAlBa,EAASb,MAC/CvG,EAAMoI,eAAehB,EAASe,UAC9Bf,EAASrB,YAAY/F,IACI,YAAhBuH,EAAOhB,MAAwC,cAAlBa,EAASb,MAC/CvG,EAAMyI,gBAAgBrB,EAASkB,WAC/BlB,EAASrB,YAAY/F,IACZlD,KAAKgM,kBAAkB1B,EAAUG,IAC1CH,EAASrB,YAAY/F,IAGzB8I,kBAxIkB,SAwIA1B,EAAUG,GAC1B,MACmB,UAAhBA,EAAOhB,MAAsC,aAAlBa,EAASb,MACpB,aAAhBgB,EAAOhB,MAAyC,UAAlBa,EAASb,MACtB,YAAlBa,EAASb,MAGbwC,gBA/IkB,SA+IFhE,EAAM/E,EAAOgJ,EAAUxB,EAAUyB,GAC/C,IAAMC,EAAWhI,SAAS+H,EAAQzB,EAAW,GAAI,KAAO,KAClD2B,EAAUjI,SAAS+H,EAAQzB,EAAW,GAAI,KAAO,KAEvDzC,EAAKqE,UAAUpJ,EAAOgJ,EAAUxB,EAAU0B,EAAUC,IAEtDxD,SArJkB,SAqJT0D,EAAKzJ,GAAqB,IAAhB2G,EAAgB/J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAT,QAQxB,OAPqBM,KAAK+H,MAAMI,MAAMN,OAAO,SAAAI,GAC3C,IAAMuE,GAAS/C,IACXxB,EAAKwB,OAASA,GAAsB,aAAdxB,EAAKwB,MAAqC,cAAdxB,EAAKwB,MAG3D,OAAOxB,EAAKsE,KAASzJ,GAAO0J,IAEV,IAEtBC,kBA/JkB,SA+JA7C,GAChB,OAAO5J,KAAK+H,MAAMI,MAAM9H,KAAK,SAAA4H,GAAI,MAAkB,UAAdA,EAAKwB,MAAoBxB,EAAKgD,MAAMrB,KAAOA,KAElF8C,iBAlKkB,WAmKhBC,OAAOC,QAAQC,UAAU,KAAM,KAA/B,IAAA9K,OAAyC/B,KAAK6H,OAAOC,SAOlD,SAASb,IAA4B,QAAA6F,EAAApN,UAAAC,OAANoN,EAAM,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAANF,EAAME,GAAAvN,UAAAuN,GAC1CC,UAAIhD,IAAJiD,MAAAD,WAAQlK,EAAYC,OAAOC,OAAxBnB,OAAkCgL,IAGhC,SAAS7F,IAA+B,QAAAkG,EAAA1N,UAAAC,OAANoN,EAAM,IAAAC,MAAAI,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANN,EAAMM,GAAA3N,UAAA2N,GAC7CH,UAAII,OAAJH,MAAAD,WAAWlK,EAAYC,OAAOC,OAA3BnB,OAAqCgL,IAG3B/J,+uBCvLMuK,cACnB,SAAAA,IAAc,IAAAjM,EAAA,mGAAAvB,CAAAC,KAAAuN,GACZjM,EAAAkM,EAAAxN,KAAAyN,EAAAF,GAAAG,KAAA1N,OAEAlB,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,wBAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,iCAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,iCAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,qBAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,wBAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,uBAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,wBAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,kCAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,uBAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,6BAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,+BAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,qBAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,yBAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,2BAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,6BAC9C7O,IAAUoK,KAAK,MAAO,kBAAMyE,YAAkB,wBAC9C7O,IAAUoK,KAAK,IAAK,kBAAMyE,YAAkB,0BAE5CrM,EAAKsM,YAAYlF,KAAK,4BArBVpH,8OADiCuM,4PCD5BC,aACnB,SAAAA,EAAYC,gGAAQhO,CAAAC,KAAA8N,GAClB9N,KAAKgO,mBAAqBrN,IAAEoN,GAC5B/N,KAAKiO,WAAatN,IAAE,0BACpBX,KAAKkO,aAAelO,KAAKiO,WAAWpN,KAAK,QACzCb,KAAKmO,cAAgBnO,KAAKiO,WAAWpN,KAAK,SAC1Cb,KAAKoO,cAAgBpO,KAAKqO,qBAC1BrO,KAAKsO,QAAUtO,KAAKgO,mBAAmBnN,KAAK,WAC5Cb,KAAKuO,aACLvO,KAAKwO,+EAGM,IAAAlN,EAAAtB,KACXA,KAAKgO,mBACFzH,SAAS,mCACT7C,GAAG,QAAS,SAAAvE,GAAC,OAAImC,EAAKmN,aAAatP,KAEtCa,KAAKiO,WAAWvK,GAAG,QAAS,SAAAvE,GACrBmC,EAAKoN,+BACRvP,EAAEwE,iBACFrC,EAAKmN,aAAatP,MAItBa,KAAKgO,mBAAmBtK,GAAG,SAAU,kBAAMpC,EAAKqN,6DAIrBC,IAAkBC,6BAG3C7O,KAAK8O,iBACH,QACA9O,KAAKsO,QACLtO,KAAKoO,cAAcW,qBACnB,kBACA1G,KAAK,KACPrI,KAAKgP,mEAKIC,GACXtO,IAAEsO,EAAMC,eACL3I,SAAS,wBACT4I,QAAQ,gDAIX,IAAMC,EAAsBC,KAAK/M,MAAMtC,KAAKgO,mBAAmBlL,OAIzDwM,GACJC,IAJc,GAAAxN,OAAMqN,EAAoBG,IAA1B,KAAAxN,OAAiC/B,KAAKgO,mBAAmBnN,KAAK,iBAK5E2O,KAJkBJ,EAAoBI,MAOxCxP,KAAKyP,wBAAwBH,GAC7BtP,KAAK0P,yBAAyBJ,wDAI9B,IAAMK,EAAoB3P,KAAK0O,6BAE/B1O,KAAKyP,wBAAwBE,mDAGPC,GAClBA,GACF5P,KAAKiO,WAAWlJ,KAAK,OAAQ6K,EAAQL,KACrCvP,KAAKiO,WAAW4B,KAAhB,GAAA9N,OAAwB/B,KAAKoO,cAAc0B,kBAA3C,QAAA/N,OAAmE6N,EAAQJ,QAE3ExP,KAAKiO,WAAW4B,KAAhB,4BAAA9N,OAAiD/B,KAAKoO,cAAc2B,wEAKtE,IAAMC,EAAgBC,aAAaC,QAAQlQ,KAAK8O,iBAEhD,OAAOO,KAAK/M,MAAM0N,oDAGKV,GACvB,IAAMU,EAAgBX,KAAKc,UAAUb,GAErCW,aAAaG,QAAQpQ,KAAK8O,gBAAiBkB,gDAI3C,IAAMF,EAAoB9P,KAAKmO,cAY/B,OACEY,qBAVwB,OAAAhN,OAAU/B,KAAKkO,aACtCjK,MAAM,KACNoE,KAAK,KACLgI,MAAM,GAAI,IAQXP,oBACAC,iBARuB/P,KAAKkO,aAC3BjK,MAAM,KACNoE,KAAK,KACLgI,MAAM,GAAI,yCCjGF,SAASC,IACtB3P,IAAE,wBAAwBuF,KAAK,SAASM,EAAGuH,GACzC,IAAIwC,EAqBejP,EApBbkP,EAAe7P,IAAEoN,GAAQlN,KAAK,kBAAmB,EAwFvD,OAvFAb,KAAKsO,QAAU3N,IAAEoN,GAAQlN,KAAK,WAC9Bb,KAAKyQ,cAAgB9P,IAAEoN,GAAQlN,KAAK,iBACpCb,KAAK0Q,YAAc/P,IAAEoN,GAAQlN,KAAK,iBAAkB,EACpDb,KAAK2Q,QAAUhQ,IAAEoN,GAAQlN,KAAK,YAAc,KAC5Cb,KAAK4Q,kBAAoBjQ,IAAEoN,GAAQlN,KAAK,qBACxCb,KAAK6Q,yBAA2BlQ,IAAEoN,GAAQlN,KAAK,4BAC/Cb,KAAK8Q,gBAC8BlR,IAAjCe,IAAEoN,GAAQlN,KAAK,eAAqCF,IAAEoN,GAAQlN,KAAK,cACrEb,KAAK+Q,2BAA6BpQ,IAAEoN,GAAQlN,KAAK,gCAAiC,EAClFb,KAAKgR,WAAarQ,IAAEoN,GAAQlN,KAAK,gBAAiB,EAElD0P,EAAc,qBACVvQ,KAAKyQ,gBACPF,GAAe,aAGjB5P,IAAEoN,GAAQoB,SACRoB,YAAaA,EACbU,mBAAoB,EACpBC,OAAiB5P,EAgDdtB,KA/CM,SAASkR,GACd,IAAIC,EAAeC,EAqBnB,OApBAD,EAAgB,SAASE,GACvB,IAAIxQ,EAIJ,OAHAA,GACEyQ,QAASD,GAEJH,EAAMK,SAAS1Q,IAGtBuQ,EADE9P,EAAMmP,cACW,SAASY,GAC1B,IAAIG,EAMJ,OALAA,EAAiB,SAASC,GACxB,IAAI5Q,EAEJ,OADAA,EAAO4Q,EAAO1P,OAAOsP,GACdF,EAActQ,IAEhB6Q,IAAID,OAAOP,EAAMS,QAAUH,IAGjBL,EAEjB7P,EAAMgN,QACDoD,IAAIE,cACTtQ,EAAMgN,QACN4C,EAAMS,MAEJE,oBAAqBvQ,EAAMsP,kBAC3BkB,4BAA6BxQ,EAAMuP,yBACnCkB,YAAazQ,EAAMwP,WACnBkB,kBAAmB1Q,EAAMyP,4BAE3BK,GAGKM,IAAIL,SACTH,EAAMS,MAEJM,SAAU3Q,EAAMqP,QAChBkB,oBAAqBvQ,EAAMsP,kBAC3BkB,4BAA6BxQ,EAAMuP,yBACnCqB,YAAa5Q,EAAMoP,aAErBU,KAKRxH,GAAI,SAASgG,GACX,OAAIY,EAAqBZ,EAAQhG,GAC1ByF,KAAKc,WACVX,KAAMI,EAAQJ,KACdD,IAAKK,EAAQuC,WAGjBtC,KAAM,SAASD,GACb,OAAOA,EAAQwC,qBAAuBxC,EAAQJ,MAGhD6C,cAAe,SAAS7O,EAAI+N,GAC1B,OAAOG,IAAI9B,QAAQpM,EAAGV,OAAOkC,KAAK,SAAAvF,GAAA,IAAGoB,EAAHpB,EAAGoB,KAAH,OAAc0Q,EAAS1Q,MAG3DmQ,WAAYhR,KAAKgR,WAEjBsB,iBAAkB,0BAEhB9B,EAAqBzC,EAClB,IAAID,EAAyBC,KAlGxCtH,EAAAO,EAAAL,EAAA,sBAAA2J,sCCAA,IAAAnJ,EAAAV,EAAA,GAAAW,EAAAX,EAAAY,EAAAF,GAAAoL,EAAA9L,EAAA,IAAA+L,EAAA/L,EAAA,KAAAgM,EAAAhM,EAAA,IAKeE,EAAA,aAAoB,IAAnB+L,IAAmBhT,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GACjC,IAAIiT,IACJ,IAAI5M,IAEJ,IAAI6M,IAAOjS,IAAE,oBACXkS,QAAQ,EACRC,QAASJ,EACT3J,OAAQ2J,EACRK,cAAeL,EACfM,MAAON,EACPO,WAAYP,EACZQ,OAAQR,EACRS,SAAUT,0TCPOU,aACnB,SAAAA,iGAAcrT,CAAAC,KAAAoT,GACZ,IAAMC,EAAgB1S,IAAE,6BAClB2S,EAAqB3S,IAAE,kBACvB4S,EAAiB5S,IAAE,iDACnB6S,EAAmB3M,SAAS4M,cAChC,iDAGIC,EAAsBH,EAAe1D,OAAO8D,OAC9CD,EAAoB/T,OAAS,GAC/BgB,IAAC,eAAAoB,OAAgB2R,EAAhB,MAAyCL,GAAeO,SAAS,aAGpEjT,IAAE,IAAK0S,GAAe3P,GAAG,QAAS,SAAAvE,GAChCA,EAAEwE,iBACF,IAAMkQ,EAAQlT,IAAExB,EAAE+P,eACZK,EAAMsE,EAAM9O,KAAK,QACjB+O,EAAYD,EAAMhT,KAAK,aAE7BF,IAAE,aAAc0S,GAAe/N,YAAY,aAC3C3E,IAAC,sBAAAoB,OAAuB+R,EAAvB,OAAsC5N,KAAK,WAC1C,IAAM6N,EAAMpT,IAAEX,MACRgU,EAAaD,EAAI1T,KAAK,8BAA8BwP,OAEpDoE,EADaF,EAAI7T,QAAQ,yBACLG,KAAK,4BAE/B0T,EAAIvO,YAAY,aAChByO,EAAOpE,KAAKmE,KAGVR,EACFA,EAAiBU,QAAQC,cAAgB5E,EAEzC+D,EAAmBxQ,IAAIyM,GAEzB5O,IAAE,2BAA2BkP,KAAKN,KAGpC6D,EAAQgB,kBACRzT,IAAE,wBAAwB+C,GAAG,SAAU,WACrC,OAAO/C,IAAEX,MACNqU,QAAQ,QACRC,WAEL3T,IAAE,wBAAwB+C,GAAG,QAAS,SAASvE,GAK7C,OAJA8K,IAAQC,IAAI,sBAAuB,SACnCvJ,IAAEX,MACCqU,QAAQ,uBACRE,SACIpV,EAAEwE,mBAEXhD,IAAE,6BAA6B+C,GAAG,QAAS,SAASvE,GAKlD,OAJA8K,IAAQC,IAAI,2BAA4B,SACxCvJ,IAAEX,MACCqU,QAAQ,wBACRE,SACIpV,EAAEwE,mBAEXhD,IAAE,+CAA+C+C,GAAG,QAAS,SAASvE,GACpE,IAAMqV,EAAY7T,IAAEX,MAAMa,KAAK,cACzB4T,EAAS,8CAAA1S,OAAiDyS,GAKhE,OAJAvK,IAAQC,IAAIuK,EAAW,SACvB9T,IAAEX,MACCqU,QAAQ,0CACRE,SACIpV,EAAEwE,mBAEXyP,EAAQsB,8FAIRpE,cACA3P,IAAE,wBAAwB+C,GAAG,QAAS,SAAAvE,GAAC,OAAIiU,EAAQuB,cAAchU,IAAExB,EAAE+P,eAAepM,+CAGjEyM,GACnB,OAAQ5C,OAAOiI,SAAWrF,4CAI1B,IAAIsF,EAAchO,SAASiO,cAAc,MACrCC,EAAUlO,SAASiO,cAAc,KAIrC,OAFAC,EAAQC,KAAO,IAERrU,IAAE,6BAA6BuF,KAAK,WACzC,IAAIrG,EAAWoV,EAGf,OAFApV,EAAYc,IAAEX,MACdiV,EAAWpV,EAAUgB,KAAK,YACnBhB,EAAU0B,YACfV,KAD0B,SACrB8Q,EAAMJ,GACT9L,IACGtD,IAAItC,EAAUgB,KAAK,YAClBqU,QACEC,IAAKtV,EAAUgB,KAAK,OACpBuU,OAAQzD,KAGX3M,KAAK,SAAAvF,GAAA,IAAGoB,EAAHpB,EAAGoB,KAAH,OAAc0Q,EAAS1Q,KAC5BoE,MAAM,kBAAMoQ,YAAMzP,YAAG,gDAE1B0P,YAAY,EACZC,YAAY,EACZC,cAAc,EACdC,cAAc,EACdC,eAAgB7V,EAAUgB,KAAK,kBAC/BD,UAAWf,EAAUgB,KAAK,aAC1B8U,UAAW,SAASR,GAClB,IAAIS,EAAKf,EAAYgB,WAAU,GAE/B,GAAkB,MAAdV,EAAIW,OACNF,EAAGG,UAAY,kBACfH,EAAGI,YAAcb,EAAIW,WAChB,CACL,IAAIG,EAAOlB,EAAQc,WAAU,GAEzBV,IAAQF,IACVgB,EAAKF,UAAY,aAGnBE,EAAKD,YAAcb,EACnBc,EAAK/B,QAAQiB,IAAMA,EAEnBS,EAAGM,YAAYD,GAGjB,OAAOL,GAEThM,GAAI,SAASuM,EAAKpC,GAChB,OAAOA,EAAIhP,KAAK,aAElBqR,YAAa,SAASD,EAAKpC,GACzB,OAAOA,EAAIlE,OAAO8D,QAEpB0C,QAAS,SAASC,GAGhB,GAFcA,EAANnX,EACNwE,iBACEhD,IAAE,qBAAqBhB,OAAQ,CACjC,IAAI4W,EAAQ1W,EAAUK,QAAQ,QAE1BsW,EAAS3W,EAAUgB,KAAK,SACxB4V,IAAcD,GAAgBA,EAC9BE,EAASH,EAAMxR,KAAK,UACpB4R,GAAmC,IAAzBD,EAAOE,QAAQ,KAAc,IAAM,IAC7CH,GACFI,YAAQ,GAAA9U,OAAI2U,GAAJ3U,OAAa4U,GAAb5U,OAAuBwU,EAAMO,kGC5JnDrQ,EAAAC,EAAAC,GAAA,IAAAoQ,EAAAtQ,EAAA,IAAAuQ,EAAAvQ,EAAA,IAAAwQ,EAAAxQ,EAAA,IAAAyQ,EAAAzQ,EAAA,IAKAI,SAASC,iBAAiB,mBAAoB,WAAM,IAC1CqQ,EAAStQ,SAASuQ,KAAKlD,QAAvBiD,KAOR,IALE,wBACA,+BACA,iCAGkBP,QAAQO,IAAS,EAAG,CACtC,IAAME,EAAUxQ,SAAS4M,cAAc,qBACnC4D,GAAS,IAAIC,IAAsBD,GAEvCE,cAGF,IAAInE,IACJ,IAAI7F,6ICCS,SAASiK,EAAcC,GACpC,IAaIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAjBEC,EAAgBR,EAAKpX,KAAK,uBAC1B6X,EAAwBT,EAAKpX,KAAK,2BAClC8X,EAAgBV,EAAKpX,KAAK,kCAC1B+X,EAAaX,EAAKpX,KAAK,yBACvBgY,EAAkBZ,EAAKpX,KAAK,uBAC5BiY,EAA2Bb,EAAKpX,KAAK,8BACrCkY,EAAyBd,EAAKpX,KAAK,4BACnCmY,EAA8Bf,EAAKpX,KAAK,iCACxCoY,EAAchB,EAAK5W,KAAK,iBAAmB8L,OAAO+L,cAAgB,KAClEC,EAAcC,IAAIC,eAAiB,GACnCC,EAAerB,EAAKpX,KAAK,iBAS/ByY,EAAaC,KAAK,oCAClBD,EAAapV,GAAG,QAAS,SAAAuL,GAAK,OAAIyI,EAAYzI,KAG9C,IAAM+J,EAAUF,EAAa5Y,QAAQ,YACrCuX,EAAKwB,uBACL,IAAMC,EAAgBzB,EAAKpX,KAAK,iBAKhC,GAJA6Y,EAAc7S,SAASuN,SAAS,wBAChCsF,EAAc3V,OA7BG,0CA8BjB2V,EAAc7Y,KAAK,uBAAuBkD,OA7BpB,sDA+BjBkV,EAEH,OADAS,EAActF,SAAS,uBAChB,KAGT,IAAMuF,EAAWD,EAAcC,UAC7B5J,IAAKkJ,EACLW,mBAAoB,GACpBC,WAAW,EACXC,UAAW,OACXC,YAAaZ,EACba,gBAAgB,EAChBC,QAASC,IAAKD,QACdE,kBAAkB,EAClBC,WAAY,kBAAMjZ,IAAE,uBAAuBkZ,MAAM,UACjDC,SAAU,WACRd,EAAQpF,SAAS,qBACjB6D,EAAKpX,KAAK,uBAAuBuB,IAAI,UAAW,KAElDmY,UAAW,WACTf,EAAQ1T,YAAY,qBACpBmS,EAAKpX,KAAK,uBAAuBuB,IAAI,UAAW,IAElDoY,KAAM,WACJhB,EAAQ1T,YAAY,qBACpBmS,EAAKpX,KAAK,uBAAuBuB,IAAI,UAAW,GAChDkX,EAAamB,SAEfC,QAvBsC,SAuB9BpE,EAAQqE,GACd,IAAMC,EAAsBpa,KAAKqa,iBAAiB1a,OAASK,KAAKsa,oBAAoB3a,OAC9E4a,EAAYH,GAAuB,EAEzCzC,EAAUwC,EAASlE,KAAKuE,SAAUD,GAE7BH,GAAqBnC,EAAc3S,YAAY,QACpDsS,EAAcuC,EAASlE,KAAK1G,MAE9BkL,MAAO,SAACC,GAA2D,IA9E9CC,EA8EPC,EAAqDlb,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtC,6BAA8Bmb,EAAQnb,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAO3Dkb,IArFaH,EAqFaC,GAAgBC,EAAIE,eApF5C5R,IAAE6R,SAASL,GACdA,EAGFA,EAAIG,QAkFPxC,EAAyBhT,YAAY,QACrCiT,EAAuBhT,KAAKuV,GAC5B7C,EAAcrE,SAAS,QACvBuE,EAAcvE,SAAS,SAEzBqH,oBA9CsC,SA8ClBC,GAClBrD,EAAuB7X,KAAKmb,MAAOjD,GACnCG,EAAgBxI,KAAhB,GAAA9N,OAAwBqZ,KAAKC,MAAMH,GAAnC,OAEFI,QAAS,WAIPrD,EAAcrE,SAAS,QACvB0E,EAAyB1E,SAAS,QAClC4E,EAA4BlT,YAAY,QACxC6S,EAAc7S,YAAY,SAE5BiW,YAAa,WACXtD,EAAc3S,YAAY,QAC1B6S,EAAcvE,SAAS,QACvB4E,EAA4B5E,SAAS,QACrC0E,EAAyB1E,SAAS,SAEpC4H,cAAe,WACb7a,IAAE,eAAe4T,SACjB5T,IAAE,kBAAkBgE,QAAQ,SAE5B6T,EAA4B5E,SAAS,QACrCuE,EAAcvE,SAAS,WAIrB6H,EAAQ9a,IAAEwY,EAAS,IAAIuC,SAAS,YAItCvD,EAAczU,GAAG,QAAS,SAAAvE,GACxBA,EAAEwE,iBACFxE,EAAEwc,kBACFC,IAASC,WAAW3C,EAAc/W,IAAI,IAAI2Z,gBAAe,KAO3D1D,EAAW1U,GAAG,QAAS,SAAAvE,GACrB,IAAM4c,EAAmBH,IAASC,WAChC1c,EAAEmH,OAAOpG,QAAQ,wBAAwBuT,cAAc,kBAEnDuI,EAAcD,EAAiBZ,MAErChc,EAAEwE,iBAIFoY,EAAiBD,gBAAe,GAEhCE,EAAY9X,IAAI,SAAA+X,GACd,IAAMvB,EAAOuB,EAOb,OALIvB,EAAKwB,SAAWN,IAASO,QAC3BzB,EAAKwB,YAAStc,EACd8a,EAAK0B,cAAWxc,GAGXmc,EAAiBM,QAAQ3B,OAIpChD,EAAc,SAAAzI,GACZ,IAAMqN,EAAarN,EAAMsN,cACzB,GAAID,EAAWE,eAAiBF,EAAWE,cAAcC,MAAO,CAC9D,IAAMC,EAAQ5E,EAAQwE,GACtB,GAAII,EAAO,CACTzN,EAAMtL,iBACN,IAAMgZ,EAAW5E,EAAYuE,IAAe,YACtCzM,EAAI,KAAA9N,OAAQ4a,EAAR,MAEV,OADAhF,EAAU9H,GACHmI,EAAW0E,EAAME,YAAaD,MAK3C7E,EAAU,SAAAjX,GAER,IADA,IAAI2F,EAAI,EACDA,EAAI3F,EAAK2b,cAAcC,MAAM9c,QAAQ,CAC1C,IAAMkd,EAAOhc,EAAK2b,cAAcC,MAAMjW,GACtC,IAAoC,IAAhCqW,EAAKpT,KAAKmN,QAAQ,SACpB,OAAOiG,EAETrW,GAAK,EAEP,OAAO,GAGTmR,EAAY,SAAC9H,EAAM0K,GACjB,IAAInM,EAAgByB,EAChB0K,IACFnM,GAAiB,QAEnB,IAAM0O,EAAWrB,EAAMtZ,IAAI,GACrB4a,EAAaD,EAASE,eACtBC,EAAWH,EAASI,aACpBC,EAAUxc,IAAE8a,GAAO3Y,MAAMnD,OACzByd,EAAkBzc,IAAE8a,GACvB3Y,MACAua,UAAU,EAAGN,GACVO,EAAiB3c,IAAE8a,GACtB3Y,MACAua,UAAUJ,EAAUE,GAKvB,OAJAxc,IAAE8a,GAAO3Y,IAAIsa,EAAkBhP,EAAgBkP,GAC/CR,EAASS,kBAAkBR,EAAa3O,EAAczO,OAAQsd,EAAW7O,EAAczO,QACvFmd,EAASU,MAAMC,OAAf,GAAA1b,OAA2B+a,EAASY,aAApC,MACA5E,EAAa3W,IAAI,GAAGwb,cAAc,IAAIC,MAAM,UACrC9E,EAAanU,QAAQ,UAG9BiT,EAAgB,SAAA9P,GACdnH,IAAE8W,GAAMlU,OAAR,8CAAAxB,OAA6DoH,IAAE0U,OAAO/V,GAAtE,QAGFiQ,EAAc,SAAA5Y,GACZ,IAAI2e,EAOJ,OANInR,OAAO6P,eAAiB7P,OAAO6P,cAAcuB,QAC/CD,EAAQnR,OAAO6P,cAAcuB,QAAQ,QAC5B5e,EAAEqd,eAAiBrd,EAAEqd,cAAcuB,UAC5CD,EAAQ3e,EAAEqd,cAAcuB,QAAQ,gBAElCD,EAAQA,EAAM7Z,MAAM,OACP,IAGf,IAEM+Z,EAAe,kBAAMxF,EAA4B5E,SAAS,SA8DhE,OA9CAoE,EAAa,SAAC6E,EAAMF,GAClB,IAAMsB,EAAW,IAAIC,SACrBD,EAAS1a,OAAO,OAAQsZ,EAAMF,GApBNnE,EAA4BlT,YAAY,QASlCmS,EAAKpX,KAAK,uBAAuBwZ,MAAM,SAgBrEpU,IACG0Y,KAAK1F,EAAawF,GAClBjZ,KAAK,SAAAvF,GAAc,IACZ2e,EADY3e,EAAXoB,KACSoV,KAAKuE,UAjBF,SAACmC,EAAUpN,GAClC,IAAM8O,EAAS1d,IAAE8a,GACjB4C,EAAOvb,IAAI,SAACwb,EAAOxb,GAAR,OAAgBA,EAAIyb,QAAJ,KAAAxc,OAAiB4a,EAAjB,MAA+BpN,KAE1D8O,EAAO1Z,QAAQ,UAeX6Z,CAAiB7B,EAAUyB,GAC3BJ,MAED/Y,MAAM,SAAA9F,GA7BO,IAAA2b,IA8BF3b,EAAEgb,SAAStZ,KAAKia,QA7B9BxC,EAAyBhT,YAAY,QACrCiT,EAAuBhT,KAAKuV,GA6BxBkD,OAINnG,EAAyB,SAACsD,EAAOsD,GAC/B,IAAIC,EACEC,EAAaxD,EAAMtT,OAAO,SAAA6S,GAAI,MAAoB,cAAhBA,EAAKwB,QAA0C,WAAhBxB,EAAKwB,SACzEvc,OAKD+e,EADEC,EAAa,EACC,aAAA5c,OAAgB4c,EAAhB,YAEG,qBAGrBF,EAAiB5O,KAAK6O,IAGxBjH,EAAKpX,KAAK,sBAAsBue,MAAM,SAAyBzf,GAC7DA,EAAEwE,iBACFhD,IAAEX,MACCE,QAAQ,aACRG,KAAK,iBACLue,QACH9F,EAAamB,UAGR2B,IAASC,WAAW3C,EAAc/W,IAAI,IApS/CyZ,IAASiD,cAAe,wNCDHjM,aACnB,SAAAA,EAAY6E,GAAsB,IAAAnW,EAAAtB,KAAhB8e,EAAgBpf,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,mGAAAK,CAAAC,KAAA4S,GAChC5S,KAAKyX,KAAOA,EACZzX,KAAK8c,SAAW9c,KAAKyX,KAAKpX,KAAK,yBAC/BL,KAAK8e,UAAYC,OAAOC,UAAWC,IAAqCH,GAExE,IAAMI,EAAeC,GAAGC,iBAAmBD,GAAGC,gBAAgBF,gBAC9DH,OAAOM,KAAKrf,KAAK8e,WAAW9V,QAAQ,SAAA6T,GACrB,WAATA,IACFvb,EAAKwd,UAAUjC,KAAUqC,EAAYrC,MAIzC7c,KAAKsf,UAELtf,KAAKuf,YACLvf,KAAKyX,KAAK5W,KAAK,SAAUb,+DAKzBA,KAAKwf,sBACDxf,KAAKyf,cACPzf,KAAKyf,aAAaH,UAEpBtf,KAAKyX,KAAK5W,KAAK,SAAU,0CAIzB,IAAM6e,EAAY1f,KAAKyX,KAAKkI,GAAG,mBAC/B3f,KAAKyX,KAAKnS,YAAY,oBAClBoa,IACF1f,KAAKyX,KAAKpX,KAAK,iBAAiBkU,SAChCvU,KAAKyX,KAAK7D,SAAS,YAEnBuL,GAAGS,MAAMC,0BACP7f,KAAKyX,KAAKpX,KAAK,iBACfL,KAAKyX,KAAKpX,KAAK,gDAEjBL,KAAKyf,aAAe,IAAIL,IAAgBD,GAAGC,iBAAmBD,GAAGC,gBAAgBF,aACjFlf,KAAKyf,aAAaK,MAAM9f,KAAKyX,KAAKpX,KAAK,iBAAkBL,KAAK8e,WAC9DtH,EAAcxX,KAAKyX,MACnBsI,IAAS/f,KAAK8c,WAGhB9c,KAAKggB,oBACLC,YAAqBjgB,KAAKyX,MAC1BzX,KAAKyX,KAAKhW,OACNzB,KAAKkgB,gBAAgBlgB,KAAKmgB,wDAGhB,IAAAte,EAAA7B,KACdA,KAAK8c,SAASsD,IAAI,oBAAoB1c,GAAG,mBAAoB1D,KAAKqgB,cAAcnX,KAAKlJ,OAErFA,KAAK8c,SAASsD,IAAI,oBAAoB1c,GAAG,mBAAoB1D,KAAKsgB,gBAAgBpX,KAAKlJ,OAEvFugB,WAAW,WACTR,IAASle,EAAKib,UACdjb,EAAKib,SAASlb,IAAI,SAAU,aAC3B,2CAIH5B,KAAK8c,SAASjc,KAAK,SAAUb,KAAK8c,SAAS0D,yDAI3C,IAAMA,EAAcxgB,KAAK8c,SAAS0D,cAE9BxgB,KAAK8c,SAASjc,KAAK,YAAc2f,IAErCT,IAAST,QAAQtf,KAAK8c,UAEtB9c,KAAK8c,SAASjc,KAAK,SAAU2f,GAC7BxgB,KAAK8c,SAAS0D,YAAYA,GAC1BxgB,KAAK8c,SAASlb,IAAI,aAAc+K,OAAO6T,4DAIvCxgB,KAAK8c,SAASsD,IAAI,SAClBpgB,KAAK8c,SAASsD,IAAI,QAClBK,YAAwBzgB,KAAKyX,kDAI7BzX,KAAK8c,SAASpZ,GAAG,QAAS,WACxB/C,IAAEX,MACCE,QAAQ,YACR0T,SAAS,gBAEd5T,KAAK8c,SAASpZ,GAAG,OAAQ,WACvB/C,IAAEX,MACCE,QAAQ,YACRoF,YAAY,iWCtFrBsW,IAASiD,cAAe,MAwBHlM,aACnB,SAAAA,IAaK,IAASrR,+FAbAvB,CAAAC,KAAA2S,GACZ3S,KAAK0gB,gBAAkB,KACvB1gB,KAAK2gB,gBAAkB,KACvBhgB,IAAEkG,UAAUnD,GAAG,QAAS,gBAAiB,SAASvE,GAEhD,OADAA,EAAEwE,iBACKhD,IAAExB,EAAE+P,eAAevK,QAAQ,oBAEpChE,IAAEkG,UAAUnD,GAAG,QAAS,gBAAiB,SAASvE,GAEhD,OADAA,EAAEwE,iBACKhD,IAAExB,EAAE+P,eAAevK,QAAQ,oBAEpChE,IAAEkG,UAAUnD,GACV,kBACUpC,EAQPtB,KAPM,SAASb,GACd,OAAOmC,EAAMsf,MACXjgB,IAAExB,EAAEmH,QACDpG,QAAQ,YACRG,KAAK,qBAKhBM,IAAEkG,UAAUnD,GACV,iBACC,SAASpC,GACR,OAAO,SAASnC,GACd,OAAOmC,EAAMuf,QAFhB,CAIE7gB,OAELW,IAAEkG,UAAUnD,GAAG,UAAW,SAASvE,GAEjC,GAAkB,KAAdA,EAAE2hB,QAEJ,OADA3hB,EAAEwE,iBACKhD,IAAEkG,UAAUlC,QAAQ,yEAK3Boc,GACJjiB,IAAUQ,QACVU,KAAK0gB,gBAAkB/f,IAAEogB,GACzB/gB,KAAK0gB,gBAAgB9M,SAAS,cAC9B5T,KAAK2gB,gBAAkB3gB,KAAK0gB,gBAAgBrgB,KAAK,YAEjDL,KAAK2gB,gBAAgBK,WAAW,SAChChhB,KAAK2gB,gBAAgB1G,uCAIrB,GAAIja,KAAK2gB,gBAAiB,CACxB7hB,IAAUS,UACVS,KAAK2gB,gBAAgBzgB,QAAQ,iBAAiBoF,YAAY,cAC1DtF,KAAKihB,SAASjhB,KAAK2gB,iBACnB3gB,KAAK2gB,gBAAkB,KACvB3gB,KAAK0gB,gBAAkB,KAEvB,IAAMQ,EAAYvgB,IAAE,iBAChBugB,IAAcA,EAAUne,SAAS,wBACnC6Y,IAASC,WAAW,iBAAiBsF,2CAKlCC,GACP,OAAOzgB,IAAEsgB,SAASG,EAAU,GAC1BC,QAAS;;;;;;CCnGf,SAAAC,EAAAC,GAEA,aAEA,IAAAC,EAIA,IAAaA,EAAU/a,GAAQ,eAAAtH,EAAA,IAAAsiB,MAAA,qCAAAtiB,EAAAuiB,KAAA,mBAAAviB,EAAA,IAAY,MAAAA,IAC3CwiB,EAAAC,QAaC,SAAAJ,GAOD,IAAAK,EAAA,mBAAAL,EAEAM,IAAAnV,OAAA7F,iBAEAD,EAAA8F,OAAA9F,SAEAkb,EAAApV,OAAA4T,WAEAyB,EAAA,SAAAxe,EAAArE,EAAAoS,EAAA0Q,GAEAH,EACAte,EAAAsD,iBAAA3H,EAAAoS,IAAA0Q,GAEAze,EAAA0e,YAAA,KAAA/iB,EAAAoS,IAIA4Q,EAAA,SAAA3e,EAAArE,EAAAoS,EAAA0Q,GAEAH,EACAte,EAAA4e,oBAAAjjB,EAAAoS,IAAA0Q,GAEAze,EAAA6e,YAAA,KAAAljB,EAAAoS,IASAxO,EAAA,SAAAS,EAAA8e,GAEA,gBAAA9e,EAAAuS,UAAA,KAAAa,QAAA,IAAA0L,EAAA,MAeAC,EAAA,SAAApM,GAEA,cAAAqM,KAAAzD,OAAA0D,UAAAhgB,SAAAiL,KAAAyI,KAGAuM,EAAA,SAAAvM,GAEA,aAAAqM,KAAAzD,OAAA0D,UAAAhgB,SAAAiL,KAAAyI,MAAAwM,MAAAxM,EAAAyM,YAGAC,EAAA,SAAAngB,GAEA,IAAAogB,EAAApgB,EAAAqgB,SACA,WAAAD,GAAA,IAAAA,GASAE,EAAA,SAAAC,EAAAC,GAEA,UARA,SAAAD,GAGA,OAAAA,EAAA,MAAAA,EAAA,QAAAA,EAAA,OAKAE,CAAAF,GAAA,qCAAAC,IAGAE,EAAA,SAAA1gB,GAEAggB,EAAAhgB,MAAA2gB,SAAA,UAGAC,EAAA,SAAAC,EAAAC,GAGA,OAAAD,EAAAX,YAAAY,EAAAZ,WAGAa,EAAA,SAAAC,EAAAC,EAAAC,GAEA,IAAAC,EAAAC,EACA,IAAAD,KAAAF,GACAG,OAAAlkB,IAAA8jB,EAAAG,KACA,iBAAAF,EAAAE,IAAA,OAAAF,EAAAE,SAAAjkB,IAAA+jB,EAAAE,GAAAE,SACArB,EAAAiB,EAAAE,IACAD,IACAF,EAAAG,GAAA,IAAAvf,KAAAqf,EAAAE,GAAAjB,YAGAL,EAAAoB,EAAAE,IACAD,IACAF,EAAAG,GAAAF,EAAAE,GAAAxT,MAAA,IAGAqT,EAAAG,GAAAJ,KAAwCE,EAAAE,GAAAD,IAE3BA,GAAAE,IACbJ,EAAAG,GAAAF,EAAAE,IAGA,OAAAH,GAGAM,EAAA,SAAAxgB,EAAAygB,EAAApjB,GAEA,IAAAqjB,EAEArd,EAAAsd,cACAD,EAAArd,EAAAsd,YAAA,eACAC,UAAAH,GAAA,MACAC,EAAAT,EAAAS,EAAArjB,GACA2C,EAAAma,cAAAuG,IACSrd,EAAAwd,oBACTH,EAAArd,EAAAwd,oBACAH,EAAAT,EAAAS,EAAArjB,GACA2C,EAAAwgB,UAAA,KAAAC,EAAAC,KAIAI,EAAA,SAAAtiB,GASA,OARAA,EAAAkhB,MAAA,IACAlhB,EAAAihB,MAAA7H,KAAAmJ,KAAAnJ,KAAAoJ,IAAAxiB,EAAAkhB,OAAA,IACAlhB,EAAAkhB,OAAA,IAEAlhB,EAAAkhB,MAAA,KACAlhB,EAAAihB,MAAA7H,KAAAqJ,MAAArJ,KAAAoJ,IAAAxiB,EAAAkhB,OAAA,IACAlhB,EAAAkhB,OAAA,IAEAlhB,GAMA0iB,GAGAxiB,MAAA,KAGAyiB,WAAA/kB,EAIAmK,SAAA,cAGA6a,YAAA,EAGAviB,OAAA,aAIAI,SAAA,KAGAH,MAAA,KAGAuiB,YAAA,KAGAC,gBAAA,EAGAC,SAAA,EAGAC,cAAA,EAGAC,QAAA,KAEAC,QAAA,KAGAC,UAAA,GAGAC,gBAAA,EAGAC,eAAA,EAGAC,QAAA,EACAC,QAAA,KACAC,cAAA5lB,EACA6lB,cAAA7lB,EAEA8lB,WAAA,KACAC,SAAA,KAEAC,OAAA,EAGAC,WAAA,GAGAC,oBAAA,EAGAC,iCAAA,EAGAC,4CAAA,EAGAC,eAAA,EAIAC,aAAA,OAGA9f,eAAAxG,EAGAumB,mBAAA,EAGAC,MACAC,cAAA,iBACAC,UAAA,aACAC,QAAA,+GACAC,UAAA,wEACAC,eAAA,4CAIArkB,MAAA,KAGAskB,UAGA9jB,SAAA,KACA+jB,OAAA,KACAC,QAAA,KACAC,OAAA,MAOAC,EAAA,SAAAC,EAAAjE,EAAAkE,GAGA,IADAlE,GAAAiE,EAAAhC,SACAjC,GAAA,GACAA,GAAA,EAEA,OAAAkE,EAAAD,EAAAX,KAAAK,cAAA3D,GAAAiE,EAAAX,KAAAI,SAAA1D,IAGAmE,EAAA,SAAAF,GAEA,IAAAG,KACAC,EAAA,QACA,GAAAJ,EAAAK,QAAA,CACA,IAAAL,EAAAhB,gCAQA,mCAPAmB,EAAAxe,KAAA,4BAEAqe,EAAAf,4CACAkB,EAAAxe,KAAA,yBA6BA,OAtBAqe,EAAAM,YACAH,EAAAxe,KAAA,eAEAqe,EAAAO,SACAJ,EAAAxe,KAAA,YAEAqe,EAAAQ,aACAL,EAAAxe,KAAA,eACAye,EAAA,QAEAJ,EAAAS,UACAN,EAAAxe,KAAA,aAEAqe,EAAAU,WACAP,EAAAxe,KAAA,cAEAqe,EAAAW,cACAR,EAAAxe,KAAA,iBAEAqe,EAAAY,YACAT,EAAAxe,KAAA,eAEA,iBAAAqe,EAAAjE,IAAA,YAAAoE,EAAA7e,KAAA,yBAAA8e,EAAA,wEAEAJ,EAAA9D,KAAA,sBAAA8D,EAAA7D,MAAA,oBAAA6D,EAAAjE,IAAA,KACAiE,EAAAjE,IACA,kBAWAnN,EAAA,SAAAiS,EAAAhC,EAAAP,EAAAwC,GAEA,6BAAAxC,EAAA,wBAAAwC,EAAA,yBAAAjC,EAAAgC,EAAAE,UAAAF,GAAAvf,KAAA,aAoBA0f,EAAA,SAAAC,EAAAC,EAAAhF,EAAAC,EAAAgF,EAAAC,GAEA,IAAA3hB,EAAA4hB,EAAAlB,EAKAmB,EACAC,EALAvB,EAAAiB,EAAAO,GACAC,EAAAvF,IAAA8D,EAAAzB,QACAmD,EAAAxF,IAAA8D,EAAAxB,QACAhgB,EAAA,YAAA4iB,EAAA,6DAGAO,GAAA,EACAC,GAAA,EAEA,IAAAzB,KAAA1gB,EAAA,EAA6BA,EAAA,GAAQA,IACrC0gB,EAAAxe,KAAA,mBAAAua,IAAAiF,EAAA1hB,EAAAyhB,EAAA,GAAAzhB,EAAAyhB,GAAA,KACAzhB,IAAA0c,EAAA,4BACAsF,GAAAhiB,EAAAugB,EAAAvB,UAAAiD,GAAAjiB,EAAAugB,EAAAtB,SAAA,8BACAsB,EAAAX,KAAAG,OAAA/f,GAAA,aAaA,IAVA6hB,EAAA,2BAAAtB,EAAAX,KAAAG,OAAArD,GAAA,+DAAAgE,EAAA7e,KAAA,sBAEAka,EAAAwE,EAAA5B,YACA3e,EAAAugB,EAAA5B,UAAA,GACAiD,EAAArB,EAAA5B,UAAA,OAEA3e,EAAAyc,EAAA8D,EAAA5B,UACAiD,EAAA,EAAAnF,EAAA8D,EAAA5B,WAGA+B,KAAsB1gB,EAAA4hB,GAAA5hB,GAAAugB,EAAAxB,QAA4B/e,IAClDA,GAAAugB,EAAAzB,SACA4B,EAAAxe,KAAA,kBAAAlC,EAAA,KAAAA,IAAAyc,EAAA,8CA0BA,OAvBAqF,EAAA,2BAAArF,EAAA8D,EAAAlB,WAAA,8DAAAqB,EAAA7e,KAAA,sBAEA0e,EAAAjB,mBACAvgB,GAAA+iB,EAAAD,EAEA9iB,GAAA8iB,EAAAC,EAGAE,IAAA,IAAAtF,GAAA6D,EAAAvB,UAAAtC,KACAwF,GAAA,GAGAD,IAAA,KAAAvF,GAAA6D,EAAAtB,UAAAvC,KACAyF,GAAA,GAGA,IAAAV,IACA1iB,GAAA,4BAAAmjB,EAAA,sCAAA3B,EAAAX,KAAAC,cAAA,aAEA4B,IAAAD,EAAAO,GAAAtC,eAAA,IACA1gB,GAAA,4BAAAojB,EAAA,sCAAA5B,EAAAX,KAAAE,UAAA,aAGA/gB,GAAA,UAYAtD,EAAA,SAAAqU,GAEA,IAAAvX,EAAAiB,KACA+mB,EAAAhoB,EAAA6pB,OAAAtS,GAEAvX,EAAA8pB,aAAA,SAAA1pB,GAEA,GAAAJ,EAAA+pB,GAAA,CAIA,IAAAxiB,GADAnH,KAAAwN,OAAAsC,OACA3I,QAAAnH,EAAA4pB,WACA,GAAAziB,EAuBA,GAnBAvD,EAAAuD,EAAA,kBACAvD,EAAAuD,EAAA,gBAAAvD,EAAAuD,EAAA,aAAAvD,EAAAuD,EAAA0iB,WAAA,eAWAjmB,EAAAuD,EAAA,aACAvH,EAAAkqB,YAEAlmB,EAAAuD,EAAA,cACAvH,EAAAunB,aAdAvnB,EAAAuE,QAAA,IAAAgB,KAAAgC,EAAA4iB,aAAA,kBAAA5iB,EAAA4iB,aAAA,mBAAA5iB,EAAA4iB,aAAA,mBACAnC,EAAApC,OACA5C,EAAA,WACAhjB,EAAA4C,OACAolB,EAAAZ,mBAAAY,EAAA7kB,OACA6kB,EAAA7kB,MAAAinB,QAEyB,OAUzBpmB,EAAAuD,EAAA,eASAvH,EAAAqqB,IAAA,MATA,CAEA,IAAAjqB,EAAAwE,eAIA,OADAxE,EAAAkqB,aAAA,GACA,EAHAlqB,EAAAwE,oBAUA5E,EAAAuqB,UAAA,SAAAnqB,GAGA,IAAAmH,GADAnH,KAAAwN,OAAAsC,OACA3I,QAAAnH,EAAA4pB,WACAziB,IAGAvD,EAAAuD,EAAA,qBACAvH,EAAAwqB,UAAAjjB,EAAAwX,OAEA/a,EAAAuD,EAAA,qBACAvH,EAAAyqB,SAAAljB,EAAAwX,SAIA/e,EAAA0qB,aAAA,SAAAtqB,GAIA,GAFAA,KAAAwN,OAAAsC,MAEAlQ,EAAA2qB,YAEA,OAAAvqB,EAAA2hB,SACA,QACA,QACAiG,EAAA7kB,OACA6kB,EAAA7kB,MAAAinB,OAEA,MACA,QACAhqB,EAAAwE,iBACA5E,EAAA4qB,WAAA,cACA,MACA,QACA5qB,EAAA4qB,WAAA,cACA,MACA,QACA5qB,EAAA4qB,WAAA,SACA,MACA,QACA5qB,EAAA4qB,WAAA,WAMA5qB,EAAA6qB,eAAA,SAAAzqB,GAEA,IAAAuD,EAEAvD,EAAA0qB,UAAA9qB,IAIA2D,EADAqkB,EAAAzkB,MACAykB,EAAAzkB,MAAAykB,EAAA7kB,MAAA4b,MAAAiJ,EAAA1kB,QACawf,GACbnf,EAAA8e,EAAAuF,EAAA7kB,MAAA4b,MAAAiJ,EAAA1kB,OAAA0kB,EAAA/B,gBACAtiB,EAAAonB,UAAApnB,EAAAqnB,SAAA,KAGA,IAAAzlB,UAAAhC,MAAAykB,EAAA7kB,MAAA4b,QAEA4E,EAAAhgB,IACA3D,EAAAuE,QAAAZ,GAEA3D,EAAA+pB,IACA/pB,EAAA0C,SAIA1C,EAAAirB,cAAA,WAEAjrB,EAAA0C,QAGA1C,EAAAkrB,cAAA,WAEAlrB,EAAA0C,QAGA1C,EAAAmrB,aAAA,WAGA,IAAAC,EAAAtjB,EAAAujB,cACA,GACA,GAAArnB,EAAAonB,EAAA,eACA,aAGAA,IAAAnB,YAEAjqB,EAAAqqB,KACArqB,EAAAsrB,GAAAtI,EAAA,WACAhjB,EAAA4C,QACiB,KAEjB5C,EAAAqqB,IAAA,GAGArqB,EAAAurB,SAAA,SAAAnrB,GAGA,IAAAmH,GADAnH,KAAAwN,OAAAsC,OACA3I,QAAAnH,EAAA4pB,WACAoB,EAAA7jB,EACA,GAAAA,EAAA,EAGAwb,GAAA/e,EAAAuD,EAAA,iBACAA,EAAAikB,WACAjkB,EAAAkkB,aAAA,sBACAxI,EAAA1b,EAAA,SAAAvH,EAAAuqB,aAGA,GACA,GAAAvmB,EAAAonB,EAAA,gBAAAA,IAAApD,EAAApiB,QACA,aAGAwlB,IAAAnB,YACAjqB,EAAA+pB,IAAAxiB,IAAAygB,EAAApiB,SAAAwlB,IAAApD,EAAApiB,SACA5F,EAAA4C,SAIA5C,EAAAyE,GAAAqD,EAAAiO,cAAA,OACA/V,EAAAyE,GAAAuS,UAAA,eAAAgR,EAAAnB,MAAA,eAAAmB,EAAA3kB,MAAA,IAAA2kB,EAAA3kB,MAAA,IAEA4f,EAAAjjB,EAAAyE,GAAA,YAAAzE,EAAA8pB,cAAA,GACA7G,EAAAjjB,EAAAyE,GAAA,WAAAzE,EAAA8pB,cAAA,GACA7G,EAAAjjB,EAAAyE,GAAA,SAAAzE,EAAAuqB,WACAtH,EAAAnb,EAAA,UAAA9H,EAAA0qB,cAEA1C,EAAA7kB,QACA6kB,EAAA3gB,UACA2gB,EAAA3gB,UAAA8P,YAAAnX,EAAAyE,IACaujB,EAAApC,MACb9d,EAAAuQ,KAAAlB,YAAAnX,EAAAyE,IAEAujB,EAAA7kB,MAAA8mB,WAAAyB,aAAA1rB,EAAAyE,GAAAujB,EAAA7kB,MAAAwoB,aAEA1I,EAAA+E,EAAA7kB,MAAA,SAAAnD,EAAA6qB,gBAEA7C,EAAAlC,cACAhD,GAAAkF,EAAA7kB,MAAA4b,MACAiJ,EAAAlC,YAAArD,EAAAuF,EAAA7kB,MAAA4b,MAAAiJ,EAAA1kB,QAAA0nB,SAEAhD,EAAAlC,YAAA,IAAAvgB,UAAAhC,MAAAykB,EAAA7kB,MAAA4b,QAEAiJ,EAAAjC,gBAAA,IAIA,IAAA6F,EAAA5D,EAAAlC,YAEAnC,EAAAiI,GACA5D,EAAAjC,eACA/lB,EAAAuE,QAAAqnB,GAAA,GAEA5rB,EAAA6rB,SAAAD,GAGA5rB,EAAA6rB,SAAA,IAAAtmB,MAGAyiB,EAAApC,OACA3kB,KAAA2B,OACA5C,EAAAyE,GAAAuS,WAAA,YACAiM,EAAA+E,EAAApiB,QAAA,QAAA5F,EAAAkrB,eACAjI,EAAA+E,EAAApiB,QAAA,QAAA5F,EAAAirB,eACAhI,EAAA+E,EAAApiB,QAAA,OAAA5F,EAAAmrB,eAEAlqB,KAAAyB,QA4jBA,OApjBAQ,EAAAwgB,WAMAmG,OAAA,SAAAtS,GAEAtW,KAAAuoB,KACAvoB,KAAAuoB,GAAA9E,KAAmCiB,GAAA,IAGnC,IAAAqC,EAAAtD,EAAAzjB,KAAAuoB,GAAAjS,GAAA,GAEAyQ,EAAAnB,QAAAmB,EAAAnB,MAEAmB,EAAA7kB,MAAA6kB,EAAA7kB,OAAA6kB,EAAA7kB,MAAA6hB,SAAAgD,EAAA7kB,MAAA,KAEA6kB,EAAA3kB,MAAA,iBAAA2kB,EAAA3kB,OAAA2kB,EAAA3kB,MAAA2kB,EAAA3kB,MAAA,KAEA2kB,EAAApC,cAAA/kB,IAAAmnB,EAAApC,MAAAoC,EAAA7kB,OAAA6kB,EAAApC,MAAAoC,EAAA7kB,OAEA6kB,EAAApiB,QAAAoiB,EAAApiB,SAAAoiB,EAAApiB,QAAAof,SAAAgD,EAAApiB,QAAAoiB,EAAA7kB,MAEA6kB,EAAA8D,kBAAA9D,EAAA8D,gBAEA9D,EAAA+D,aAAA,mBAAA/D,EAAA+D,aAAA/D,EAAA+D,aAAA,KAEA,IAAAC,EAAA3mB,SAAA2iB,EAAAd,eAAA,OAmBA,GAlBAc,EAAAd,eAAA8E,EAAA,IAAAA,EAEArI,EAAAqE,EAAA9B,WACA8B,EAAA9B,SAAA,GAEAvC,EAAAqE,EAAA7B,WACA6B,EAAA7B,SAAA,GAEA6B,EAAA9B,SAAA8B,EAAA7B,SAAA6B,EAAA7B,QAAA6B,EAAA9B,UACA8B,EAAA7B,QAAA6B,EAAA9B,SAAA,GAEA8B,EAAA9B,SACAjlB,KAAAgrB,WAAAjE,EAAA9B,SAEA8B,EAAA7B,SACAllB,KAAAirB,WAAAlE,EAAA7B,SAGA3C,EAAAwE,EAAA5B,WAAA,CACA,IAAA+F,GAAA,IAAA5mB,MAAA6mB,cAAA,GACApE,EAAA5B,UAAA,GAAA/gB,SAAA2iB,EAAA5B,UAAA,QAAA+F,EACAnE,EAAA5B,UAAA,GAAA/gB,SAAA2iB,EAAA5B,UAAA,QAAA+F,OAEAnE,EAAA5B,UAAA/J,KAAAoJ,IAAApgB,SAAA2iB,EAAA5B,UAAA,MAAAT,EAAAS,UACA4B,EAAA5B,UAAA,MACA4B,EAAA5B,UAAA,KAIA,OAAA4B,GAMAtkB,SAAA,SAAAJ,GAGA,OADAA,KAAArC,KAAAuoB,GAAAlmB,OACAqgB,EAAA1iB,KAAAorB,IAGAprB,KAAAuoB,GAAA9lB,SACAzC,KAAAuoB,GAAA9lB,SAAAzC,KAAAorB,GAAA/oB,GAEAwf,EACAL,EAAAxhB,KAAAorB,IAAA/oB,UAEArC,KAAAorB,GAAAC,eARA,IAcAC,UAAA,WAEA,OAAAzJ,EAAAL,EAAAxhB,KAAAorB,IAAA,MAMAG,UAAA,SAAA7oB,EAAA8oB,GAEA3J,GAAAL,EAAAiK,SAAA/oB,IACA1C,KAAAsD,QAAAZ,EAAAqnB,SAAAyB,IAOAE,QAAA,WAEA,OAAAhJ,EAAA1iB,KAAAorB,IAAA,IAAA9mB,KAAAtE,KAAAorB,GAAAxI,WAAA,MAMAtf,QAAA,SAAAZ,EAAA8oB,GAEA,IAAA9oB,EAQA,OAPA1C,KAAAorB,GAAA,KAEAprB,KAAAuoB,GAAArmB,QACAlC,KAAAuoB,GAAArmB,MAAA4b,MAAA,GACAkG,EAAAhkB,KAAAuoB,GAAArmB,MAAA,UAAwD2nB,QAAA7pB,QAGxDA,KAAA2rB,OAKA,GAHA,iBAAAjpB,IACAA,EAAA,IAAA4B,UAAAhC,MAAAI,KAEAggB,EAAAhgB,GAAA,CAIA,IAAAkpB,EAAA5rB,KAAAuoB,GAAAtD,QACA4G,EAAA7rB,KAAAuoB,GAAArD,QAEAxC,EAAAkJ,IAAAlpB,EAAAkpB,EACAlpB,EAAAkpB,EACalJ,EAAAmJ,IAAAnpB,EAAAmpB,IACbnpB,EAAAmpB,GAGA7rB,KAAAorB,GAAA,IAAA9mB,KAAA5B,EAAAkgB,WACAQ,EAAApjB,KAAAorB,IACAprB,KAAA4qB,SAAA5qB,KAAAorB,IAEAprB,KAAAuoB,GAAArmB,QACAlC,KAAAuoB,GAAArmB,MAAA4b,MAAA9d,KAAAyC,WACAuhB,EAAAhkB,KAAAuoB,GAAArmB,MAAA,UAAoD2nB,QAAA7pB,QAEpDwrB,GAAA,mBAAAxrB,KAAAuoB,GAAA3lB,UACA5C,KAAAuoB,GAAA3lB,SAAA8K,KAAA1N,UAAA0rB,aAOAd,SAAA,SAAAloB,GAEA,IAAAopB,GAAA,EAEA,GAAApJ,EAAAhgB,GAAA,CAIA,GAAA1C,KAAA+rB,UAAA,CACA,IAAAC,EAAA,IAAA1nB,KAAAtE,KAAA+rB,UAAA,GAAA9I,KAAAjjB,KAAA+rB,UAAA,GAAA7I,MAAA,GACA+I,EAAA,IAAA3nB,KAAAtE,KAAA+rB,UAAA/rB,KAAA+rB,UAAApsB,OAAA,GAAAsjB,KAAAjjB,KAAA+rB,UAAA/rB,KAAA+rB,UAAApsB,OAAA,GAAAujB,MAAA,GACAgJ,EAAAxpB,EAAAkgB,UAEAqJ,EAAAE,SAAAF,EAAAG,WAAA,GACAH,EAAA3oB,QAAA2oB,EAAAP,UAAA,GACAI,EAAAI,EAAAF,EAAApJ,WAAAqJ,EAAArJ,UAAAsJ,EAGAJ,IACA9rB,KAAA+rB,YACA7I,MAAAxgB,EAAA0pB,WACAnJ,KAAAvgB,EAAAyoB,gBAEA,UAAAnrB,KAAAuoB,GAAArC,eACAlmB,KAAA+rB,UAAA,GAAA7I,OAAA,EAAAljB,KAAAuoB,GAAAtC,iBAIAjmB,KAAAqsB,oBAGA1C,WAAA,SAAA2C,EAAA1E,GAEA,IAGA2E,EAHAzJ,EAAA9iB,KAAA0rB,WAAA,IAAApnB,KACAkoB,EAAA,GAAApoB,SAAAwjB,GAAA,UAIA,QAAA0E,EACAC,EAAA,IAAAjoB,KAAAwe,EAAA2J,UAAAD,GACa,aAAAF,IACbC,EAAA,IAAAjoB,KAAAwe,EAAA2J,UAAAD,IAGAxsB,KAAAsD,QAAAipB,IAGAF,gBAAA,WACArsB,KAAA+rB,UAAA,GAAAzH,EAAAtkB,KAAA+rB,UAAA,IACA,QAAA9D,EAAA,EAA2BA,EAAAjoB,KAAAuoB,GAAAtC,eAA4BgC,IACvDjoB,KAAA+rB,UAAA9D,GAAA3D,GACApB,MAAAljB,KAAA+rB,UAAA,GAAA7I,MAAA+E,EACAhF,KAAAjjB,KAAA+rB,UAAA,GAAA9I,OAGAjjB,KAAA2rB,QAGAe,UAAA,WAEA1sB,KAAA4qB,SAAA,IAAAtmB,OAMAilB,UAAA,SAAArG,GAEAP,MAAAO,KACAljB,KAAA+rB,UAAA,GAAA7I,MAAA9e,SAAA8e,EAAA,IACAljB,KAAAqsB,oBAIA/F,UAAA,WAEAtmB,KAAA+rB,UAAA,GAAA7I,QACAljB,KAAAqsB,mBAGApD,UAAA,WAEAjpB,KAAA+rB,UAAA,GAAA7I,QACAljB,KAAAqsB,mBAMA7C,SAAA,SAAAvG,GAEAN,MAAAM,KACAjjB,KAAA+rB,UAAA,GAAA9I,KAAA7e,SAAA6e,EAAA,IACAjjB,KAAAqsB,oBAOArB,WAAA,SAAAlN,GAEAA,aAAAxZ,MACA8e,EAAAtF,GACA9d,KAAAuoB,GAAAtD,QAAAnH,EACA9d,KAAAuoB,GAAAjD,QAAAxH,EAAAqN,cACAnrB,KAAAuoB,GAAA/C,SAAA1H,EAAAsO,aAEApsB,KAAAuoB,GAAAtD,QAAAP,EAAAO,QACAjlB,KAAAuoB,GAAAjD,QAAAZ,EAAAY,QACAtlB,KAAAuoB,GAAA/C,SAAAd,EAAAc,SACAxlB,KAAAuoB,GAAA7C,WAAAhB,EAAAgB,YAGA1lB,KAAA2rB,QAMAV,WAAA,SAAAnN,GAEAA,aAAAxZ,MACA8e,EAAAtF,GACA9d,KAAAuoB,GAAArD,QAAApH,EACA9d,KAAAuoB,GAAAhD,QAAAzH,EAAAqN,cACAnrB,KAAAuoB,GAAA9C,SAAA3H,EAAAsO,aAEApsB,KAAAuoB,GAAArD,QAAAR,EAAAQ,QACAllB,KAAAuoB,GAAAhD,QAAAb,EAAAa,QACAvlB,KAAAuoB,GAAA9C,SAAAf,EAAAe,SACAzlB,KAAAuoB,GAAA5C,SAAAjB,EAAAiB,UAGA3lB,KAAA2rB,QAGAgB,cAAA,SAAA7O,GAEA9d,KAAAuoB,GAAA7C,WAAA5H,GAGA8O,YAAA,SAAA9O,GAEA9d,KAAAuoB,GAAA5C,SAAA7H,GAMA6N,KAAA,SAAAkB,GAEA,GAAA7sB,KAAA8oB,IAAA+D,EAAA,CAGA,IAMA1E,EANApB,EAAA/mB,KAAAuoB,GACAjD,EAAAyB,EAAAzB,QACAC,EAAAwB,EAAAxB,QACAC,EAAAuB,EAAAvB,SACAC,EAAAsB,EAAAtB,SACAlgB,EAAA,GAGAvF,KAAA8sB,IAAAxH,IACAtlB,KAAA8sB,GAAAxH,GACA3C,MAAA6C,IAAAxlB,KAAA+sB,GAAAvH,IACAxlB,KAAA+sB,GAAAvH,IAGAxlB,KAAA8sB,IAAAvH,IACAvlB,KAAA8sB,GAAAvH,GACA5C,MAAA8C,IAAAzlB,KAAA+sB,GAAAtH,IACAzlB,KAAA+sB,GAAAtH,IAIA0C,EAAA,cAAA/M,KAAA4R,SAAAvqB,SAAA,IAAA8b,QAAA,eAAA0O,OAAA,KAEA,QAAAhF,EAAA,EAA2BA,EAAAlB,EAAAd,eAAyBgC,IACpD1iB,GAAA,4BAAAwiB,EAAA/nB,KAAAioB,EAAAjoB,KAAA+rB,UAAA9D,GAAAhF,KAAAjjB,KAAA+rB,UAAA9D,GAAA/E,MAAAljB,KAAA+rB,UAAA,GAAA9I,KAAAkF,GAAAnoB,KAAAktB,OAAAltB,KAAA+rB,UAAA9D,GAAAhF,KAAAjjB,KAAA+rB,UAAA9D,GAAA/E,MAAAiF,GAAA,SAGAnoB,KAAAwD,GAAA2pB,UAAA5nB,EAEAwhB,EAAApC,OACA,WAAAoC,EAAA7kB,MAAAuH,MACAsY,EAAA,WACAgF,EAAApiB,QAAAsV,SACqB,GAIrB,mBAAAja,KAAAuoB,GAAA1B,QACA7mB,KAAAuoB,GAAA1B,OAAA7mB,MAGA+mB,EAAApC,OAEAoC,EAAA7kB,MAAAsoB,aAAA,oDAIA4C,eAAA,WAEA,IAAAlrB,EAAAioB,EAAAkD,EAAA5P,EAAA6P,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAEA,IAAA3tB,KAAAuoB,GAAAniB,UAAA,CAYA,GAVApG,KAAAwD,GAAAga,MAAAzT,SAAA,WAGAogB,EADAjoB,EAAAlC,KAAAuoB,GAAA5jB,QAEA0oB,EAAArtB,KAAAwD,GAAAoqB,YACAnQ,EAAAzd,KAAAwD,GAAAqqB,aACAP,EAAA3gB,OAAAmhB,YAAAjnB,EAAAknB,gBAAAC,YACAT,EAAA5gB,OAAAshB,aAAApnB,EAAAknB,gBAAAG,aACAV,EAAA7gB,OAAAwhB,aAAAtnB,EAAAuQ,KAAAoW,WAAA3mB,EAAAknB,gBAAAP,UAEA,mBAAAtrB,EAAAksB,sBAEAX,GADAE,EAAAzrB,EAAAksB,yBACAX,KAAA9gB,OAAA0hB,YACAX,EAAAC,EAAAW,OAAA3hB,OAAAwhB,iBAIA,IAFAV,EAAAtD,EAAAoE,WACAb,EAAAvD,EAAAqE,UAAArE,EAAA0D,aACA1D,IAAAsE,cACAhB,GAAAtD,EAAAoE,WACAb,GAAAvD,EAAAqE,WAKAxuB,KAAAuoB,GAAA3D,YAAA6I,EAAAJ,EAAAC,GAEAttB,KAAAuoB,GAAAxe,SAAA6M,QAAA,aACA6W,EAAAJ,EAAAnrB,EAAA0rB,YAAA,KAGAH,IAAAJ,EAAAnrB,EAAA0rB,cAEA5tB,KAAAuoB,GAAA3D,YAAA8I,EAAAjQ,EAAA8P,EAAAC,GAEAxtB,KAAAuoB,GAAAxe,SAAA6M,QAAA,WACA8W,EAAAjQ,EAAAvb,EAAA2rB,aAAA,KAGAH,IAAAjQ,EAAAvb,EAAA2rB,cAGA7tB,KAAAwD,GAAAga,MAAAiQ,OAAA,KACAztB,KAAAwD,GAAAga,MAAAkQ,MAAA,OAMAR,OAAA,SAAAjK,EAAAC,EAAAiF,GAEA,IAAApB,EAAA/mB,KAAAuoB,GACAmG,EAAA,IAAApqB,KACAsjB,EAAA5E,EAAAC,EAAAC,GACAyL,EAAA,IAAArqB,KAAA2e,EAAAC,EAAA,GAAAH,SACAliB,KACA+tB,KACAxL,EAAAsL,GACA3H,EAAAhC,SAAA,IACA4J,GAAA5H,EAAAhC,UACA,IACA4J,GAAA,GAUA,IAPA,IAAAtI,EAAA,IAAAnD,EAAA,GAAAA,EAAA,EACAoD,EAAA,KAAApD,EAAA,EAAAA,EAAA,EACA2L,EAAA,IAAA3L,EAAAD,EAAA,EAAAA,EACA6L,EAAA,KAAA5L,EAAAD,EAAA,EAAAA,EACA8L,EAAA/L,EAAA6L,EAAAxI,GACA2I,EAAApH,EAAA+G,EACAM,EAAAD,EACAC,EAAA,GACAA,GAAA,EAEAD,GAAA,EAAAC,EAEA,IADA,IAtvBAjoB,EAAAkoB,EAAAC,EAEAC,EAovBAC,GAAA,EACA7oB,EAAA,EAAAE,EAAA,EAAkCF,EAAAwoB,EAAWxoB,IAC7C,CACA,IAAAsc,EAAA,IAAAxe,KAAA2e,EAAAC,EAAA1c,EAAAmoB,EAAA,GACApH,IAAA7E,EAAA1iB,KAAAorB,KAAA9H,EAAAR,EAAA9iB,KAAAorB,IACA9D,EAAAhE,EAAAR,EAAA4L,GACAlH,GAAA,IAAAT,EAAAL,OAAA9P,QAAAkM,EAAAuI,gBACAjE,EAAA5gB,EAAAmoB,GAAAnoB,GAAAohB,EAAA+G,EACAW,EAAA9oB,EAAAmoB,EAAA,EACAY,EAAArM,EACAsM,EAAAvM,EACAyE,EAAAX,EAAArB,YAAApC,EAAAyD,EAAArB,WAAA5C,GACA6E,EAAAZ,EAAApB,UAAArC,EAAAyD,EAAApB,SAAA7C,GACA2E,EAAAV,EAAArB,YAAAqB,EAAApB,UAAAoB,EAAArB,WAAA5C,KAAAiE,EAAApB,SACA0B,EAAAN,EAAA9B,SAAAnC,EAAAiE,EAAA9B,SACA8B,EAAA7B,SAAApC,EAAAiE,EAAA7B,SACA6B,EAAA8D,iBAAAhI,EAAAC,IACAiE,EAAA+D,cAAA/D,EAAA+D,aAAAhI,GAEAsE,IACA5gB,EAAAmoB,GACAW,EAAAP,EAAAO,EACAC,EAAAlJ,EACAmJ,EAAAX,IAEAS,GAAA1H,EACA2H,EAAAjJ,EACAkJ,EAAAV,IAIA,IAAAW,GACA3M,IAAAwM,EACApM,MAAAqM,EACAtM,KAAAuM,EACAhI,WACAD,aACAD,UACAD,aACAD,UACAM,eACAC,aACAF,YACA1B,gCAAAgB,EAAAhB,gCACAC,2CAAAe,EAAAf,4CAGAe,EAAA1B,eAAAkC,IACA8H,GAAA,GAGAT,EAAAlmB,KAAAue,EAAAwI,IAEA,KAAA/oB,IACAqgB,EAAA3B,gBACAwJ,EAAAc,SA7yBA1oB,EA6yBAR,EAAAmoB,EA7yBAO,EA6yBAhM,EA7yBAiM,EA6yBAlM,EA3yBAmM,WAAA,IAAA9qB,KAAA6qB,EAAA,KAEA,yBADA/T,KAAAmJ,OAAA,IAAAjgB,KAAA6qB,EAAAD,EAAAloB,GAAAooB,GAAA,MAAAA,EAAArM,SAAA,MACA,UA2yBAliB,EAAA6H,KAAAiN,EAAAiZ,EAAA7H,EAAAnB,MAAAmB,EAAA1B,cAAAgK,IACAT,KACAloB,EAAA,EACA2oB,GAAA,GAGA,OA5tBA,SAAAtI,EAAAlmB,EAAAsnB,GAEA,gGAAAA,EAAA,KA1EA,SAAApB,GAEA,IAAAvgB,EAAA0gB,KAIA,IAHAH,EAAA3B,gBACA8B,EAAAxe,KAAA,aAEAlC,EAAA,EAAmBA,EAAA,EAAOA,IAC1B0gB,EAAAxe,KAAA,gCAAAoe,EAAAC,EAAAvgB,GAAA,KAAAsgB,EAAAC,EAAAvgB,GAAA,mBAEA,qBAAAugB,EAAAnB,MAAAsB,EAAAY,UAAAZ,GAAA7e,KAAA,oBAiEAsnB,CAAA5I,IA7EA,UA6EAlmB,EA7EAwH,KAAA,gBA6EA,WA0tBAunB,CAAA7I,EAAAlmB,EAAAsnB,IAGAuB,UAAA,WAEA,OAAA1pB,KAAA8oB,IAGArnB,KAAA,WAxkCA,IAAA+B,EAAA8e,EAjBAuN,EA2lCA7vB,KAAA0pB,cACA1pB,KAAA8oB,IAAA,EACA9oB,KAAA2rB,OA5kCAnoB,EA6kCAxD,KAAAwD,GA7kCA8e,EA6kCA,YA3kCA9e,EAAAuS,WAnBA8Z,GAmBA,IAAArsB,EAAAuS,UAAA,KAAAwI,QAAA,IAAA+D,EAAA,UAjBA3O,KAAAkc,EAAAlc,OAAAkc,EAAAtR,QAAA,iBA6lCAve,KAAAuoB,GAAA5D,QACA3C,EAAAnb,EAAA,QAAA7G,KAAAsqB,UACAtqB,KAAAotB,kBAEA,mBAAAptB,KAAAuoB,GAAA5B,QACA3mB,KAAAuoB,GAAA5B,OAAAjZ,KAAA1N,QAKA2B,KAAA,WAEA,IAjmCA6B,EAAA8e,EAimCAne,EAAAnE,KAAA8oB,IACA,IAAA3kB,IACAnE,KAAAuoB,GAAA5D,OACAxC,EAAAtb,EAAA,QAAA7G,KAAAsqB,UAEAtqB,KAAAwD,GAAAga,MAAAzT,SAAA,SACA/J,KAAAwD,GAAAga,MAAAiQ,KAAA,OACAztB,KAAAwD,GAAAga,MAAAkQ,IAAA,OAxmCAlqB,EAymCAxD,KAAAwD,GAvmCAT,EAAAS,EAFA8e,EAymCA,eAtmCA9e,EAAAuS,UAAA,KAAAvS,EAAAuS,UAAAuM,EAAA9e,EAAAuS,UAAA,IAAAuM,GAumCAtiB,KAAA8oB,IAAA,OACAlpB,IAAAuE,GAAA,mBAAAnE,KAAAuoB,GAAA3B,SACA5mB,KAAAuoB,GAAA3B,QAAAlZ,KAAA1N,QAQAsf,QAAA,WAEAtf,KAAA2B,OACAwgB,EAAAniB,KAAAwD,GAAA,YAAAxD,KAAA6oB,cAAA,GACA1G,EAAAniB,KAAAwD,GAAA,WAAAxD,KAAA6oB,cAAA,GACA1G,EAAAniB,KAAAwD,GAAA,SAAAxD,KAAAspB,WACAnH,EAAAtb,EAAA,UAAA7G,KAAAypB,cACAzpB,KAAAuoB,GAAArmB,QACAigB,EAAAniB,KAAAuoB,GAAArmB,MAAA,SAAAlC,KAAA4pB,gBACA5pB,KAAAuoB,GAAA5D,QACAxC,EAAAniB,KAAAuoB,GAAA5jB,QAAA,QAAA3E,KAAAiqB,eACA9H,EAAAniB,KAAAuoB,GAAA5jB,QAAA,QAAA3E,KAAAgqB,eACA7H,EAAAniB,KAAAuoB,GAAA5jB,QAAA,OAAA3E,KAAAkqB,gBAGAlqB,KAAAwD,GAAAwlB,YACAhpB,KAAAwD,GAAAwlB,WAAA8G,YAAA9vB,KAAAwD,MAMAvB,EAlsCAsf,CAAAC,GATA","file":"pages.projects.milestones.edit.3ff87dbe.chunk.js","sourcesContent":["/**\n * adds a pause and unpause method to Mousetrap\n * this allows you to enable or disable keyboard shortcuts\n * without having to reset Mousetrap and rebind everything\n */\n/* global Mousetrap:true */\nMousetrap = (function(Mousetrap) {\n    var self = Mousetrap,\n        _originalStopCallback = self.stopCallback,\n        enabled = true;\n\n    self.stopCallback = function(e, element, combo) {\n        if (!enabled) {\n            return true;\n        }\n\n        return _originalStopCallback(e, element, combo);\n    };\n\n    self.pause = function() {\n        enabled = false;\n    };\n\n    self.unpause = function() {\n        enabled = true;\n    };\n\n    return self;\n}) (Mousetrap);\n","import $ from 'jquery';\nimport Pikaday from 'pikaday';\nimport dateFormat from 'dateformat';\nimport { __ } from '~/locale';\nimport axios from './lib/utils/axios_utils';\nimport { timeFor, parsePikadayDate, pikadayToString } from './lib/utils/datetime_utility';\nimport boardsStore from './boards/stores/boards_store';\n\nclass DueDateSelect {\n  constructor({ $dropdown, $loading } = {}) {\n    const $dropdownParent = $dropdown.closest('.dropdown');\n    const $block = $dropdown.closest('.block');\n    this.$loading = $loading;\n    this.$dropdown = $dropdown;\n    this.$dropdownParent = $dropdownParent;\n    this.$datePicker = $dropdownParent.find('.js-due-date-calendar');\n    this.$block = $block;\n    this.$sidebarCollapsedValue = $block.find('.sidebar-collapsed-icon');\n    this.$selectbox = $dropdown.closest('.selectbox');\n    this.$value = $block.find('.value');\n    this.$valueContent = $block.find('.value-content');\n    this.$sidebarValue = $('.js-due-date-sidebar-value', $block);\n    this.fieldName = $dropdown.data('fieldName');\n    this.abilityName = $dropdown.data('abilityName');\n    this.issueUpdateURL = $dropdown.data('issueUpdate');\n\n    this.rawSelectedDate = null;\n    this.displayedDate = null;\n    this.datePayload = null;\n\n    this.initGlDropdown();\n    this.initRemoveDueDate();\n    this.initDatePicker();\n  }\n\n  initGlDropdown() {\n    this.$dropdown.glDropdown({\n      opened: () => {\n        const calendar = this.$datePicker.data('pikaday');\n        calendar.show();\n      },\n      hidden: () => {\n        this.$selectbox.hide();\n        this.$value.css('display', '');\n      },\n    });\n  }\n\n  initDatePicker() {\n    const $dueDateInput = $(`input[name='${this.fieldName}']`);\n    const calendar = new Pikaday({\n      field: $dueDateInput.get(0),\n      theme: 'gitlab-theme',\n      format: 'yyyy-mm-dd',\n      parse: dateString => parsePikadayDate(dateString),\n      toString: date => pikadayToString(date),\n      onSelect: dateText => {\n        $dueDateInput.val(calendar.toString(dateText));\n\n        if (this.$dropdown.hasClass('js-issue-boards-due-date')) {\n          boardsStore.detail.issue.dueDate = $dueDateInput.val();\n          this.updateIssueBoardIssue();\n        } else {\n          this.saveDueDate(true);\n        }\n      },\n    });\n\n    calendar.setDate(parsePikadayDate($dueDateInput.val()));\n    this.$datePicker.append(calendar.el);\n    this.$datePicker.data('pikaday', calendar);\n  }\n\n  initRemoveDueDate() {\n    this.$block.on('click', '.js-remove-due-date', e => {\n      const calendar = this.$datePicker.data('pikaday');\n      e.preventDefault();\n\n      calendar.setDate(null);\n\n      if (this.$dropdown.hasClass('js-issue-boards-due-date')) {\n        boardsStore.detail.issue.dueDate = '';\n        this.updateIssueBoardIssue();\n      } else {\n        $(`input[name='${this.fieldName}']`).val('');\n        this.saveDueDate(false);\n      }\n    });\n  }\n\n  saveDueDate(isDropdown) {\n    this.parseSelectedDate();\n    this.prepSelectedDate();\n    this.submitSelectedDate(isDropdown);\n  }\n\n  parseSelectedDate() {\n    this.rawSelectedDate = $(`input[name='${this.fieldName}']`).val();\n\n    if (this.rawSelectedDate.length) {\n      // Construct Date object manually to avoid buggy dateString support within Date constructor\n      const dateArray = this.rawSelectedDate.split('-').map(v => parseInt(v, 10));\n      const dateObj = new Date(dateArray[0], dateArray[1] - 1, dateArray[2]);\n      this.displayedDate = dateFormat(dateObj, 'mmm d, yyyy');\n    } else {\n      this.displayedDate = 'No due date';\n    }\n  }\n\n  prepSelectedDate() {\n    const datePayload = {};\n    datePayload[this.abilityName] = {};\n    datePayload[this.abilityName].due_date = this.rawSelectedDate;\n    this.datePayload = datePayload;\n  }\n\n  updateIssueBoardIssue() {\n    this.$loading.fadeIn();\n    this.$dropdown.trigger('loading.gl.dropdown');\n    this.$selectbox.hide();\n    this.$value.css('display', '');\n    const fadeOutLoader = () => {\n      this.$loading.fadeOut();\n    };\n\n    boardsStore.detail.issue\n      .update(this.$dropdown.attr('data-issue-update'))\n      .then(fadeOutLoader)\n      .catch(fadeOutLoader);\n  }\n\n  submitSelectedDate(isDropdown) {\n    const selectedDateValue = this.datePayload[this.abilityName].due_date;\n    const hasDueDate = this.displayedDate !== 'No due date';\n    const displayedDateStyle = hasDueDate ? 'bold' : 'no-value';\n\n    this.$loading.removeClass('hidden').fadeIn();\n\n    if (isDropdown) {\n      this.$dropdown.trigger('loading.gl.dropdown');\n      this.$selectbox.hide();\n    }\n\n    this.$value.css('display', '');\n    this.$valueContent.html(`<span class='${displayedDateStyle}'>${this.displayedDate}</span>`);\n    this.$sidebarValue.html(this.displayedDate);\n\n    $('.js-remove-due-date-holder').toggleClass('hidden', selectedDateValue.length);\n\n    return axios.put(this.issueUpdateURL, this.datePayload).then(() => {\n      const tooltipText = hasDueDate\n        ? `${__('Due date')}<br />${selectedDateValue} (${timeFor(selectedDateValue)})`\n        : __('Due date');\n      if (isDropdown) {\n        this.$dropdown.trigger('loaded.gl.dropdown');\n        this.$dropdown.dropdown('toggle');\n      }\n      this.$sidebarCollapsedValue.attr('data-original-title', tooltipText);\n\n      return this.$loading.fadeOut();\n    });\n  }\n}\n\nexport default class DueDateSelectors {\n  constructor() {\n    this.initMilestoneDatePicker();\n    this.initIssuableSelect();\n  }\n  // eslint-disable-next-line class-methods-use-this\n  initMilestoneDatePicker() {\n    $('.datepicker').each(function initPikadayMilestone() {\n      const $datePicker = $(this);\n      const datePickerVal = $datePicker.val();\n\n      const calendar = new Pikaday({\n        field: $datePicker.get(0),\n        theme: 'gitlab-theme animate-picker',\n        format: 'yyyy-mm-dd',\n        container: $datePicker.parent().get(0),\n        parse: dateString => parsePikadayDate(dateString),\n        toString: date => pikadayToString(date),\n        onSelect(dateText) {\n          $datePicker.val(calendar.toString(dateText));\n        },\n      });\n\n      calendar.setDate(parsePikadayDate(datePickerVal));\n\n      $datePicker.data('pikaday', calendar);\n    });\n\n    $('.js-clear-due-date,.js-clear-start-date').on('click', e => {\n      e.preventDefault();\n      const calendar = $(e.target)\n        .siblings('.datepicker')\n        .data('pikaday');\n      calendar.setDate(null);\n    });\n  }\n  // eslint-disable-next-line class-methods-use-this\n  initIssuableSelect() {\n    const $loading = $('.js-issuable-update .due_date')\n      .find('.block-loading')\n      .hide();\n\n    $('.js-due-date-select').each((i, dropdown) => {\n      const $dropdown = $(dropdown);\n      // eslint-disable-next-line no-new\n      new DueDateSelect({\n        $dropdown,\n        $loading,\n      });\n    });\n  }\n}\n","import initForm from '../../../../shared/milestones/form';\n\ndocument.addEventListener('DOMContentLoaded', () => initForm());\n","/* eslint-disable no-shadow */\n/* global List */\n\nimport $ from 'jquery';\nimport _ from 'underscore';\nimport Vue from 'vue';\nimport Cookies from 'js-cookie';\nimport { getUrlParamsArray, parseBoolean } from '~/lib/utils/common_utils';\n\nconst boardsStore = {\n  disabled: false,\n  filter: {\n    path: '',\n  },\n  state: {},\n  detail: {\n    issue: {},\n  },\n  moving: {\n    issue: {},\n    list: {},\n  },\n  create() {\n    this.state.lists = [];\n    this.filter.path = getUrlParamsArray().join('&');\n    this.detail = {\n      issue: {},\n    };\n  },\n  addList(listObj, defaultAvatar) {\n    const list = new List(listObj, defaultAvatar);\n    this.state.lists.push(list);\n\n    return list;\n  },\n  new(listObj) {\n    const list = this.addList(listObj);\n    const backlogList = this.findList('type', 'backlog', 'backlog');\n\n    list\n      .save()\n      .then(() => {\n        // Remove any new issues from the backlog\n        // as they will be visible in the new list\n        list.issues.forEach(backlogList.removeIssue.bind(backlogList));\n        this.state.lists = _.sortBy(this.state.lists, 'position');\n      })\n      .catch(() => {\n        // https://gitlab.com/gitlab-org/gitlab-ce/issues/30821\n      });\n    this.removeBlankState();\n  },\n  updateNewListDropdown(listId) {\n    $(`.js-board-list-${listId}`).removeClass('is-active');\n  },\n  shouldAddBlankState() {\n    // Decide whether to add the blank state\n    return !this.state.lists.filter(list => list.type !== 'backlog' && list.type !== 'closed')[0];\n  },\n  addBlankState() {\n    if (!this.shouldAddBlankState() || this.welcomeIsHidden() || this.disabled) return;\n\n    this.addList({\n      id: 'blank',\n      list_type: 'blank',\n      title: 'Welcome to your Issue Board!',\n      position: 0,\n    });\n\n    this.state.lists = _.sortBy(this.state.lists, 'position');\n  },\n  removeBlankState() {\n    this.removeList('blank');\n\n    Cookies.set('issue_board_welcome_hidden', 'true', {\n      expires: 365 * 10,\n      path: '',\n    });\n  },\n  welcomeIsHidden() {\n    return parseBoolean(Cookies.get('issue_board_welcome_hidden'));\n  },\n  removeList(id, type = 'blank') {\n    const list = this.findList('id', id, type);\n\n    if (!list) return;\n\n    this.state.lists = this.state.lists.filter(list => list.id !== id);\n  },\n  moveList(listFrom, orderLists) {\n    orderLists.forEach((id, i) => {\n      const list = this.findList('id', parseInt(id, 10));\n\n      list.position = i;\n    });\n    listFrom.update();\n  },\n  moveIssueToList(listFrom, listTo, issue, newIndex) {\n    const issueTo = listTo.findIssue(issue.id);\n    const issueLists = issue.getLists();\n    const listLabels = issueLists.map(listIssue => listIssue.label);\n\n    if (!issueTo) {\n      // Check if target list assignee is already present in this issue\n      if (\n        listTo.type === 'assignee' &&\n        listFrom.type === 'assignee' &&\n        issue.findAssignee(listTo.assignee)\n      ) {\n        const targetIssue = listTo.findIssue(issue.id);\n        targetIssue.removeAssignee(listFrom.assignee);\n      } else if (listTo.type === 'milestone') {\n        const currentMilestone = issue.milestone;\n        const currentLists = this.state.lists\n          .filter(list => list.type === 'milestone' && list.id !== listTo.id)\n          .filter(list => list.issues.some(listIssue => issue.id === listIssue.id));\n\n        issue.removeMilestone(currentMilestone);\n        issue.addMilestone(listTo.milestone);\n        currentLists.forEach(currentList => currentList.removeIssue(issue));\n        listTo.addIssue(issue, listFrom, newIndex);\n      } else {\n        // Add to new lists issues if it doesn't already exist\n        listTo.addIssue(issue, listFrom, newIndex);\n      }\n    } else {\n      listTo.updateIssueLabel(issue, listFrom);\n      issueTo.removeLabel(listFrom.label);\n    }\n\n    if (listTo.type === 'closed' && listFrom.type !== 'backlog') {\n      issueLists.forEach(list => {\n        list.removeIssue(issue);\n      });\n      issue.removeLabels(listLabels);\n    } else if (listTo.type === 'backlog' && listFrom.type === 'assignee') {\n      issue.removeAssignee(listFrom.assignee);\n      listFrom.removeIssue(issue);\n    } else if (listTo.type === 'backlog' && listFrom.type === 'milestone') {\n      issue.removeMilestone(listFrom.milestone);\n      listFrom.removeIssue(issue);\n    } else if (this.shouldRemoveIssue(listFrom, listTo)) {\n      listFrom.removeIssue(issue);\n    }\n  },\n  shouldRemoveIssue(listFrom, listTo) {\n    return (\n      (listTo.type !== 'label' && listFrom.type === 'assignee') ||\n      (listTo.type !== 'assignee' && listFrom.type === 'label') ||\n      listFrom.type === 'backlog'\n    );\n  },\n  moveIssueInList(list, issue, oldIndex, newIndex, idArray) {\n    const beforeId = parseInt(idArray[newIndex - 1], 10) || null;\n    const afterId = parseInt(idArray[newIndex + 1], 10) || null;\n\n    list.moveIssue(issue, oldIndex, newIndex, beforeId, afterId);\n  },\n  findList(key, val, type = 'label') {\n    const filteredList = this.state.lists.filter(list => {\n      const byType = type\n        ? list.type === type || list.type === 'assignee' || list.type === 'milestone'\n        : true;\n\n      return list[key] === val && byType;\n    });\n    return filteredList[0];\n  },\n  findListByLabelId(id) {\n    return this.state.lists.find(list => list.type === 'label' && list.label.id === id);\n  },\n  updateFiltersUrl() {\n    window.history.pushState(null, null, `?${this.filter.path}`);\n  },\n};\n\n// hacks added in order to allow milestone_select to function properly\n// TODO: remove these\n\nexport function boardStoreIssueSet(...args) {\n  Vue.set(boardsStore.detail.issue, ...args);\n}\n\nexport function boardStoreIssueDelete(...args) {\n  Vue.delete(boardsStore.detail.issue, ...args);\n}\n\nexport default boardsStore;\n","import Mousetrap from 'mousetrap';\nimport findAndFollowLink from '../../lib/utils/navigation_utility';\nimport Shortcuts from './shortcuts';\n\nexport default class ShortcutsNavigation extends Shortcuts {\n  constructor() {\n    super();\n\n    Mousetrap.bind('g p', () => findAndFollowLink('.shortcuts-project'));\n    Mousetrap.bind('g v', () => findAndFollowLink('.shortcuts-project-activity'));\n    Mousetrap.bind('g r', () => findAndFollowLink('.shortcuts-project-releases'));\n    Mousetrap.bind('g f', () => findAndFollowLink('.shortcuts-tree'));\n    Mousetrap.bind('g c', () => findAndFollowLink('.shortcuts-commits'));\n    Mousetrap.bind('g j', () => findAndFollowLink('.shortcuts-builds'));\n    Mousetrap.bind('g n', () => findAndFollowLink('.shortcuts-network'));\n    Mousetrap.bind('g d', () => findAndFollowLink('.shortcuts-repository-charts'));\n    Mousetrap.bind('g i', () => findAndFollowLink('.shortcuts-issues'));\n    Mousetrap.bind('g b', () => findAndFollowLink('.shortcuts-issue-boards'));\n    Mousetrap.bind('g m', () => findAndFollowLink('.shortcuts-merge_requests'));\n    Mousetrap.bind('g w', () => findAndFollowLink('.shortcuts-wiki'));\n    Mousetrap.bind('g s', () => findAndFollowLink('.shortcuts-snippets'));\n    Mousetrap.bind('g k', () => findAndFollowLink('.shortcuts-kubernetes'));\n    Mousetrap.bind('g e', () => findAndFollowLink('.shortcuts-environments'));\n    Mousetrap.bind('g l', () => findAndFollowLink('.shortcuts-metrics'));\n    Mousetrap.bind('i', () => findAndFollowLink('.shortcuts-new-issue'));\n\n    this.enabledHelp.push('.hidden-shortcut.project');\n  }\n}\n","import $ from 'jquery';\nimport AccessorUtilities from './lib/utils/accessor';\n\nexport default class ProjectSelectComboButton {\n  constructor(select) {\n    this.projectSelectInput = $(select);\n    this.newItemBtn = $('.new-project-item-link');\n    this.resourceType = this.newItemBtn.data('type');\n    this.resourceLabel = this.newItemBtn.data('label');\n    this.formattedText = this.deriveTextVariants();\n    this.groupId = this.projectSelectInput.data('groupId');\n    this.bindEvents();\n    this.initLocalStorage();\n  }\n\n  bindEvents() {\n    this.projectSelectInput\n      .siblings('.new-project-item-select-button')\n      .on('click', e => this.openDropdown(e));\n\n    this.newItemBtn.on('click', e => {\n      if (!this.getProjectFromLocalStorage()) {\n        e.preventDefault();\n        this.openDropdown(e);\n      }\n    });\n\n    this.projectSelectInput.on('change', () => this.selectProject());\n  }\n\n  initLocalStorage() {\n    const localStorageIsSafe = AccessorUtilities.isLocalStorageAccessSafe();\n\n    if (localStorageIsSafe) {\n      this.localStorageKey = [\n        'group',\n        this.groupId,\n        this.formattedText.localStorageItemType,\n        'recent-project',\n      ].join('-');\n      this.setBtnTextFromLocalStorage();\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  openDropdown(event) {\n    $(event.currentTarget)\n      .siblings('.project-item-select')\n      .select2('open');\n  }\n\n  selectProject() {\n    const selectedProjectData = JSON.parse(this.projectSelectInput.val());\n    const projectUrl = `${selectedProjectData.url}/${this.projectSelectInput.data('relativePath')}`;\n    const projectName = selectedProjectData.name;\n\n    const projectMeta = {\n      url: projectUrl,\n      name: projectName,\n    };\n\n    this.setNewItemBtnAttributes(projectMeta);\n    this.setProjectInLocalStorage(projectMeta);\n  }\n\n  setBtnTextFromLocalStorage() {\n    const cachedProjectData = this.getProjectFromLocalStorage();\n\n    this.setNewItemBtnAttributes(cachedProjectData);\n  }\n\n  setNewItemBtnAttributes(project) {\n    if (project) {\n      this.newItemBtn.attr('href', project.url);\n      this.newItemBtn.text(`${this.formattedText.defaultTextPrefix} in ${project.name}`);\n    } else {\n      this.newItemBtn.text(`Select project to create ${this.formattedText.presetTextSuffix}`);\n    }\n  }\n\n  getProjectFromLocalStorage() {\n    const projectString = localStorage.getItem(this.localStorageKey);\n\n    return JSON.parse(projectString);\n  }\n\n  setProjectInLocalStorage(projectMeta) {\n    const projectString = JSON.stringify(projectMeta);\n\n    localStorage.setItem(this.localStorageKey, projectString);\n  }\n\n  deriveTextVariants() {\n    const defaultTextPrefix = this.resourceLabel;\n\n    // the trailing slice call depluralizes each of these strings (e.g. new-issues -> new-issue)\n    const localStorageItemType = `new-${this.resourceType\n      .split('_')\n      .join('-')\n      .slice(0, -1)}`;\n    const presetTextSuffix = this.resourceType\n      .split('_')\n      .join(' ')\n      .slice(0, -1);\n\n    return {\n      localStorageItemType, // new-issue / new-merge-request\n      defaultTextPrefix, // New issue / New merge request\n      presetTextSuffix, // issue / merge request\n    };\n  }\n}\n","/* eslint-disable func-names, no-var, object-shorthand, one-var, no-else-return */\n\nimport $ from 'jquery';\nimport Api from './api';\nimport ProjectSelectComboButton from './project_select_combo_button';\n\nexport default function projectSelect() {\n  $('.ajax-project-select').each(function(i, select) {\n    var placeholder;\n    const simpleFilter = $(select).data('simpleFilter') || false;\n    this.groupId = $(select).data('groupId');\n    this.includeGroups = $(select).data('includeGroups');\n    this.allProjects = $(select).data('allProjects') || false;\n    this.orderBy = $(select).data('orderBy') || 'id';\n    this.withIssuesEnabled = $(select).data('withIssuesEnabled');\n    this.withMergeRequestsEnabled = $(select).data('withMergeRequestsEnabled');\n    this.withShared =\n      $(select).data('withShared') === undefined ? true : $(select).data('withShared');\n    this.includeProjectsInSubgroups = $(select).data('includeProjectsInSubgroups') || false;\n    this.allowClear = $(select).data('allowClear') || false;\n\n    placeholder = 'Search for project';\n    if (this.includeGroups) {\n      placeholder += ' or group';\n    }\n\n    $(select).select2({\n      placeholder: placeholder,\n      minimumInputLength: 0,\n      query: (function(_this) {\n        return function(query) {\n          var finalCallback, projectsCallback;\n          finalCallback = function(projects) {\n            var data;\n            data = {\n              results: projects,\n            };\n            return query.callback(data);\n          };\n          if (_this.includeGroups) {\n            projectsCallback = function(projects) {\n              var groupsCallback;\n              groupsCallback = function(groups) {\n                var data;\n                data = groups.concat(projects);\n                return finalCallback(data);\n              };\n              return Api.groups(query.term, {}, groupsCallback);\n            };\n          } else {\n            projectsCallback = finalCallback;\n          }\n          if (_this.groupId) {\n            return Api.groupProjects(\n              _this.groupId,\n              query.term,\n              {\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                with_shared: _this.withShared,\n                include_subgroups: _this.includeProjectsInSubgroups,\n              },\n              projectsCallback,\n            );\n          } else {\n            return Api.projects(\n              query.term,\n              {\n                order_by: _this.orderBy,\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                membership: !_this.allProjects,\n              },\n              projectsCallback,\n            );\n          }\n        };\n      })(this),\n      id: function(project) {\n        if (simpleFilter) return project.id;\n        return JSON.stringify({\n          name: project.name,\n          url: project.web_url,\n        });\n      },\n      text: function(project) {\n        return project.name_with_namespace || project.name;\n      },\n\n      initSelection: function(el, callback) {\n        return Api.project(el.val()).then(({ data }) => callback(data));\n      },\n\n      allowClear: this.allowClear,\n\n      dropdownCssClass: 'ajax-project-dropdown',\n    });\n    if (simpleFilter) return select;\n    return new ProjectSelectComboButton(select);\n  });\n}\n","import $ from 'jquery';\nimport ZenMode from '../../zen_mode';\nimport DueDateSelectors from '../../due_date_select';\nimport GLForm from '../../gl_form';\n\nexport default (initGFM = true) => {\n  new ZenMode(); // eslint-disable-line no-new\n  new DueDateSelectors(); // eslint-disable-line no-new\n  // eslint-disable-next-line no-new\n  new GLForm($('.milestone-form'), {\n    emojis: true,\n    members: initGFM,\n    issues: initGFM,\n    mergeRequests: initGFM,\n    epics: initGFM,\n    milestones: initGFM,\n    labels: initGFM,\n    snippets: initGFM,\n  });\n};\n","/* eslint-disable func-names, no-var, no-return-assign, one-var, object-shorthand, vars-on-top */\n\nimport $ from 'jquery';\nimport Cookies from 'js-cookie';\nimport { __ } from '~/locale';\nimport { visitUrl } from '~/lib/utils/url_utility';\nimport axios from '~/lib/utils/axios_utils';\nimport flash from '~/flash';\nimport projectSelect from '../../project_select';\n\nexport default class Project {\n  constructor() {\n    const $cloneOptions = $('ul.clone-options-dropdown');\n    const $projectCloneField = $('#project_clone');\n    const $cloneBtnLabel = $('.js-git-clone-holder .js-clone-dropdown-label');\n    const mobileCloneField = document.querySelector(\n      '.js-mobile-git-clone .js-clone-dropdown-label',\n    );\n\n    const selectedCloneOption = $cloneBtnLabel.text().trim();\n    if (selectedCloneOption.length > 0) {\n      $(`a:contains('${selectedCloneOption}')`, $cloneOptions).addClass('is-active');\n    }\n\n    $('a', $cloneOptions).on('click', e => {\n      e.preventDefault();\n      const $this = $(e.currentTarget);\n      const url = $this.attr('href');\n      const cloneType = $this.data('cloneType');\n\n      $('.is-active', $cloneOptions).removeClass('is-active');\n      $(`a[data-clone-type=\"${cloneType}\"]`).each(function() {\n        const $el = $(this);\n        const activeText = $el.find('.dropdown-menu-inner-title').text();\n        const $container = $el.closest('.project-clone-holder');\n        const $label = $container.find('.js-clone-dropdown-label');\n\n        $el.toggleClass('is-active');\n        $label.text(activeText);\n      });\n\n      if (mobileCloneField) {\n        mobileCloneField.dataset.clipboardText = url;\n      } else {\n        $projectCloneField.val(url);\n      }\n      $('.js-git-empty .js-clone').text(url);\n    });\n    // Ref switcher\n    Project.initRefSwitcher();\n    $('.project-refs-select').on('change', function() {\n      return $(this)\n        .parents('form')\n        .submit();\n    });\n    $('.hide-no-ssh-message').on('click', function(e) {\n      Cookies.set('hide_no_ssh_message', 'false');\n      $(this)\n        .parents('.no-ssh-key-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-no-password-message').on('click', function(e) {\n      Cookies.set('hide_no_password_message', 'false');\n      $(this)\n        .parents('.no-password-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-auto-devops-implicitly-enabled-banner').on('click', function(e) {\n      const projectId = $(this).data('project-id');\n      const cookieKey = `hide_auto_devops_implicitly_enabled_banner_${projectId}`;\n      Cookies.set(cookieKey, 'false');\n      $(this)\n        .parents('.auto-devops-implicitly-enabled-banner')\n        .remove();\n      return e.preventDefault();\n    });\n    Project.projectSelectDropdown();\n  }\n\n  static projectSelectDropdown() {\n    projectSelect();\n    $('.project-item-select').on('click', e => Project.changeProject($(e.currentTarget).val()));\n  }\n\n  static changeProject(url) {\n    return (window.location = url);\n  }\n\n  static initRefSwitcher() {\n    var refListItem = document.createElement('li');\n    var refLink = document.createElement('a');\n\n    refLink.href = '#';\n\n    return $('.js-project-refs-dropdown').each(function() {\n      var $dropdown, selected;\n      $dropdown = $(this);\n      selected = $dropdown.data('selected');\n      return $dropdown.glDropdown({\n        data(term, callback) {\n          axios\n            .get($dropdown.data('refsUrl'), {\n              params: {\n                ref: $dropdown.data('ref'),\n                search: term,\n              },\n            })\n            .then(({ data }) => callback(data))\n            .catch(() => flash(__('An error occurred while getting projects')));\n        },\n        selectable: true,\n        filterable: true,\n        filterRemote: true,\n        filterByText: true,\n        inputFieldName: $dropdown.data('inputFieldName'),\n        fieldName: $dropdown.data('fieldName'),\n        renderRow: function(ref) {\n          var li = refListItem.cloneNode(false);\n\n          if (ref.header != null) {\n            li.className = 'dropdown-header';\n            li.textContent = ref.header;\n          } else {\n            var link = refLink.cloneNode(false);\n\n            if (ref === selected) {\n              link.className = 'is-active';\n            }\n\n            link.textContent = ref;\n            link.dataset.ref = ref;\n\n            li.appendChild(link);\n          }\n\n          return li;\n        },\n        id: function(obj, $el) {\n          return $el.attr('data-ref');\n        },\n        toggleLabel: function(obj, $el) {\n          return $el.text().trim();\n        },\n        clicked: function(options) {\n          const { e } = options;\n          e.preventDefault();\n          if ($('input[name=\"ref\"]').length) {\n            var $form = $dropdown.closest('form');\n\n            var $visit = $dropdown.data('visit');\n            var shouldVisit = $visit ? true : $visit;\n            var action = $form.attr('action');\n            var divider = action.indexOf('?') === -1 ? '?' : '&';\n            if (shouldVisit) {\n              visitUrl(`${action}${divider}${$form.serialize()}`);\n            }\n          }\n        },\n      });\n    });\n  }\n}\n","import initGkeDropdowns from '~/projects/gke_cluster_dropdowns';\nimport PersistentUserCallout from '../../persistent_user_callout';\nimport Project from './project';\nimport ShortcutsNavigation from '../../behaviors/shortcuts/shortcuts_navigation';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const { page } = document.body.dataset;\n  const newClusterViews = [\n    'projects:clusters:new',\n    'projects:clusters:create_gcp',\n    'projects:clusters:create_user',\n  ];\n\n  if (newClusterViews.indexOf(page) > -1) {\n    const callout = document.querySelector('.gcp-signup-offer');\n    if (callout) new PersistentUserCallout(callout); // eslint-disable-line no-new\n\n    initGkeDropdowns();\n  }\n\n  new Project(); // eslint-disable-line no-new\n  new ShortcutsNavigation(); // eslint-disable-line no-new\n});\n","import $ from 'jquery';\nimport Dropzone from 'dropzone';\nimport _ from 'underscore';\nimport './behaviors/preview_markdown';\nimport csrf from './lib/utils/csrf';\nimport axios from './lib/utils/axios_utils';\n\nDropzone.autoDiscover = false;\n\n/**\n * Return the error message string from the given response.\n *\n * @param {String|Object} res\n */\nfunction getErrorMessage(res) {\n  if (!res || _.isString(res)) {\n    return res;\n  }\n\n  return res.message;\n}\n\nexport default function dropzoneInput(form) {\n  const divHover = '<div class=\"div-dropzone-hover\"></div>';\n  const iconPaperclip = '<i class=\"fa fa-paperclip div-dropzone-icon\"></i>';\n  const $attachButton = form.find('.button-attach-file');\n  const $attachingFileMessage = form.find('.attaching-file-message');\n  const $cancelButton = form.find('.button-cancel-uploading-files');\n  const $retryLink = form.find('.retry-uploading-link');\n  const $uploadProgress = form.find('.uploading-progress');\n  const $uploadingErrorContainer = form.find('.uploading-error-container');\n  const $uploadingErrorMessage = form.find('.uploading-error-message');\n  const $uploadingProgressContainer = form.find('.uploading-progress-container');\n  const uploadsPath = form.data('uploads-path') || window.uploads_path || null;\n  const maxFileSize = gon.max_file_size || 10;\n  const formTextarea = form.find('.js-gfm-input');\n  let handlePaste;\n  let pasteText;\n  let addFileToForm;\n  let updateAttachingMessage;\n  let isImage;\n  let getFilename;\n  let uploadFile;\n\n  formTextarea.wrap('<div class=\"div-dropzone\"></div>');\n  formTextarea.on('paste', event => handlePaste(event));\n\n  // Add dropzone area to the form.\n  const $mdArea = formTextarea.closest('.md-area');\n  form.setupMarkdownPreview();\n  const $formDropzone = form.find('.div-dropzone');\n  $formDropzone.parent().addClass('div-dropzone-wrapper');\n  $formDropzone.append(divHover);\n  $formDropzone.find('.div-dropzone-hover').append(iconPaperclip);\n\n  if (!uploadsPath) {\n    $formDropzone.addClass('js-invalid-dropzone');\n    return null;\n  }\n\n  const dropzone = $formDropzone.dropzone({\n    url: uploadsPath,\n    dictDefaultMessage: '',\n    clickable: true,\n    paramName: 'file',\n    maxFilesize: maxFileSize,\n    uploadMultiple: false,\n    headers: csrf.headers,\n    previewContainer: false,\n    processing: () => $('.div-dropzone-alert').alert('close'),\n    dragover: () => {\n      $mdArea.addClass('is-dropzone-hover');\n      form.find('.div-dropzone-hover').css('opacity', 0.7);\n    },\n    dragleave: () => {\n      $mdArea.removeClass('is-dropzone-hover');\n      form.find('.div-dropzone-hover').css('opacity', 0);\n    },\n    drop: () => {\n      $mdArea.removeClass('is-dropzone-hover');\n      form.find('.div-dropzone-hover').css('opacity', 0);\n      formTextarea.focus();\n    },\n    success(header, response) {\n      const processingFileCount = this.getQueuedFiles().length + this.getUploadingFiles().length;\n      const shouldPad = processingFileCount >= 1;\n\n      pasteText(response.link.markdown, shouldPad);\n      // Show 'Attach a file' link only when all files have been uploaded.\n      if (!processingFileCount) $attachButton.removeClass('hide');\n      addFileToForm(response.link.url);\n    },\n    error: (file, errorMessage = 'Attaching the file failed.', xhr) => {\n      // If 'error' event is fired by dropzone, the second parameter is error message.\n      // If the 'errorMessage' parameter is empty, the default error message is set.\n      // If the 'error' event is fired by backend (xhr) error response, the third parameter is\n      // xhr object (xhr.responseText is error message).\n      // On error we hide the 'Attach' and 'Cancel' buttons\n      // and show an error.\n      const message = getErrorMessage(errorMessage || xhr.responseText);\n\n      $uploadingErrorContainer.removeClass('hide');\n      $uploadingErrorMessage.html(message);\n      $attachButton.addClass('hide');\n      $cancelButton.addClass('hide');\n    },\n    totaluploadprogress(totalUploadProgress) {\n      updateAttachingMessage(this.files, $attachingFileMessage);\n      $uploadProgress.text(`${Math.round(totalUploadProgress)}%`);\n    },\n    sending: () => {\n      // DOM elements already exist.\n      // Instead of dynamically generating them,\n      // we just either hide or show them.\n      $attachButton.addClass('hide');\n      $uploadingErrorContainer.addClass('hide');\n      $uploadingProgressContainer.removeClass('hide');\n      $cancelButton.removeClass('hide');\n    },\n    removedfile: () => {\n      $attachButton.removeClass('hide');\n      $cancelButton.addClass('hide');\n      $uploadingProgressContainer.addClass('hide');\n      $uploadingErrorContainer.addClass('hide');\n    },\n    queuecomplete: () => {\n      $('.dz-preview').remove();\n      $('.markdown-area').trigger('input');\n\n      $uploadingProgressContainer.addClass('hide');\n      $cancelButton.addClass('hide');\n    },\n  });\n\n  const child = $(dropzone[0]).children('textarea');\n\n  // removeAllFiles(true) stops uploading files (if any)\n  // and remove them from dropzone files queue.\n  $cancelButton.on('click', e => {\n    e.preventDefault();\n    e.stopPropagation();\n    Dropzone.forElement($formDropzone.get(0)).removeAllFiles(true);\n  });\n\n  // If 'error' event is fired, we store a failed files,\n  // clear dropzone files queue, change status of failed files to undefined,\n  // and add that files to the dropzone files queue again.\n  // addFile() adds file to dropzone files queue and upload it.\n  $retryLink.on('click', e => {\n    const dropzoneInstance = Dropzone.forElement(\n      e.target.closest('.js-main-target-form').querySelector('.div-dropzone'),\n    );\n    const failedFiles = dropzoneInstance.files;\n\n    e.preventDefault();\n\n    // 'true' parameter of removeAllFiles() cancels\n    // uploading of files that are being uploaded at the moment.\n    dropzoneInstance.removeAllFiles(true);\n\n    failedFiles.map(failedFile => {\n      const file = failedFile;\n\n      if (file.status === Dropzone.ERROR) {\n        file.status = undefined;\n        file.accepted = undefined;\n      }\n\n      return dropzoneInstance.addFile(file);\n    });\n  });\n  // eslint-disable-next-line consistent-return\n  handlePaste = event => {\n    const pasteEvent = event.originalEvent;\n    if (pasteEvent.clipboardData && pasteEvent.clipboardData.items) {\n      const image = isImage(pasteEvent);\n      if (image) {\n        event.preventDefault();\n        const filename = getFilename(pasteEvent) || 'image.png';\n        const text = `{{${filename}}}`;\n        pasteText(text);\n        return uploadFile(image.getAsFile(), filename);\n      }\n    }\n  };\n\n  isImage = data => {\n    let i = 0;\n    while (i < data.clipboardData.items.length) {\n      const item = data.clipboardData.items[i];\n      if (item.type.indexOf('image') !== -1) {\n        return item;\n      }\n      i += 1;\n    }\n    return false;\n  };\n\n  pasteText = (text, shouldPad) => {\n    let formattedText = text;\n    if (shouldPad) {\n      formattedText += '\\n\\n';\n    }\n    const textarea = child.get(0);\n    const caretStart = textarea.selectionStart;\n    const caretEnd = textarea.selectionEnd;\n    const textEnd = $(child).val().length;\n    const beforeSelection = $(child)\n      .val()\n      .substring(0, caretStart);\n    const afterSelection = $(child)\n      .val()\n      .substring(caretEnd, textEnd);\n    $(child).val(beforeSelection + formattedText + afterSelection);\n    textarea.setSelectionRange(caretStart + formattedText.length, caretEnd + formattedText.length);\n    textarea.style.height = `${textarea.scrollHeight}px`;\n    formTextarea.get(0).dispatchEvent(new Event('input'));\n    return formTextarea.trigger('input');\n  };\n\n  addFileToForm = path => {\n    $(form).append(`<input type=\"hidden\" name=\"files[]\" value=\"${_.escape(path)}\">`);\n  };\n\n  getFilename = e => {\n    let value;\n    if (window.clipboardData && window.clipboardData.getData) {\n      value = window.clipboardData.getData('Text');\n    } else if (e.clipboardData && e.clipboardData.getData) {\n      value = e.clipboardData.getData('text/plain');\n    }\n    value = value.split('\\r');\n    return value[0];\n  };\n\n  const showSpinner = () => $uploadingProgressContainer.removeClass('hide');\n\n  const closeSpinner = () => $uploadingProgressContainer.addClass('hide');\n\n  const showError = message => {\n    $uploadingErrorContainer.removeClass('hide');\n    $uploadingErrorMessage.html(message);\n  };\n\n  const closeAlertMessage = () => form.find('.div-dropzone-alert').alert('close');\n\n  const insertToTextArea = (filename, url) => {\n    const $child = $(child);\n    $child.val((index, val) => val.replace(`{{${filename}}}`, url));\n\n    $child.trigger('change');\n  };\n\n  uploadFile = (item, filename) => {\n    const formData = new FormData();\n    formData.append('file', item, filename);\n\n    showSpinner();\n    closeAlertMessage();\n\n    axios\n      .post(uploadsPath, formData)\n      .then(({ data }) => {\n        const md = data.link.markdown;\n\n        insertToTextArea(filename, md);\n        closeSpinner();\n      })\n      .catch(e => {\n        showError(e.response.data.message);\n        closeSpinner();\n      });\n  };\n\n  updateAttachingMessage = (files, messageContainer) => {\n    let attachingMessage;\n    const filesCount = files.filter(file => file.status === 'uploading' || file.status === 'queued')\n      .length;\n\n    // Dinamycally change uploading files text depending on files number in\n    // dropzone files queue.\n    if (filesCount > 1) {\n      attachingMessage = `Attaching ${filesCount} files -`;\n    } else {\n      attachingMessage = 'Attaching a file -';\n    }\n\n    messageContainer.text(attachingMessage);\n  };\n\n  form.find('.markdown-selector').click(function onMarkdownClick(e) {\n    e.preventDefault();\n    $(this)\n      .closest('.gfm-form')\n      .find('.div-dropzone')\n      .click();\n    formTextarea.focus();\n  });\n\n  return Dropzone.forElement($formDropzone.get(0));\n}\n","import $ from 'jquery';\nimport autosize from 'autosize';\nimport GfmAutoComplete, * as GFMConfig from './gfm_auto_complete';\nimport dropzoneInput from './dropzone_input';\nimport { addMarkdownListeners, removeMarkdownListeners } from './lib/utils/text_markdown';\n\nexport default class GLForm {\n  constructor(form, enableGFM = {}) {\n    this.form = form;\n    this.textarea = this.form.find('textarea.js-gfm-input');\n    this.enableGFM = Object.assign({}, GFMConfig.defaultAutocompleteConfig, enableGFM);\n    // Disable autocomplete for keywords which do not have dataSources available\n    const dataSources = (gl.GfmAutoComplete && gl.GfmAutoComplete.dataSources) || {};\n    Object.keys(this.enableGFM).forEach(item => {\n      if (item !== 'emojis') {\n        this.enableGFM[item] = !!dataSources[item];\n      }\n    });\n    // Before we start, we should clean up any previous data for this form\n    this.destroy();\n    // Set up the form\n    this.setupForm();\n    this.form.data('glForm', this);\n  }\n\n  destroy() {\n    // Clean form listeners\n    this.clearEventListeners();\n    if (this.autoComplete) {\n      this.autoComplete.destroy();\n    }\n    this.form.data('glForm', null);\n  }\n\n  setupForm() {\n    const isNewForm = this.form.is(':not(.gfm-form)');\n    this.form.removeClass('js-new-note-form');\n    if (isNewForm) {\n      this.form.find('.div-dropzone').remove();\n      this.form.addClass('gfm-form');\n      // remove notify commit author checkbox for non-commit notes\n      gl.utils.disableButtonIfEmptyField(\n        this.form.find('.js-note-text'),\n        this.form.find('.js-comment-button, .js-note-new-discussion'),\n      );\n      this.autoComplete = new GfmAutoComplete(gl.GfmAutoComplete && gl.GfmAutoComplete.dataSources);\n      this.autoComplete.setup(this.form.find('.js-gfm-input'), this.enableGFM);\n      dropzoneInput(this.form);\n      autosize(this.textarea);\n    }\n    // form and textarea event listeners\n    this.addEventListeners();\n    addMarkdownListeners(this.form);\n    this.form.show();\n    if (this.isAutosizeable) this.setupAutosize();\n  }\n\n  setupAutosize() {\n    this.textarea.off('autosize:resized').on('autosize:resized', this.setHeightData.bind(this));\n\n    this.textarea.off('mouseup.autosize').on('mouseup.autosize', this.destroyAutosize.bind(this));\n\n    setTimeout(() => {\n      autosize(this.textarea);\n      this.textarea.css('resize', 'vertical');\n    }, 0);\n  }\n\n  setHeightData() {\n    this.textarea.data('height', this.textarea.outerHeight());\n  }\n\n  destroyAutosize() {\n    const outerHeight = this.textarea.outerHeight();\n\n    if (this.textarea.data('height') === outerHeight) return;\n\n    autosize.destroy(this.textarea);\n\n    this.textarea.data('height', outerHeight);\n    this.textarea.outerHeight(outerHeight);\n    this.textarea.css('max-height', window.outerHeight);\n  }\n\n  clearEventListeners() {\n    this.textarea.off('focus');\n    this.textarea.off('blur');\n    removeMarkdownListeners(this.form);\n  }\n\n  addEventListeners() {\n    this.textarea.on('focus', function focusTextArea() {\n      $(this)\n        .closest('.md-area')\n        .addClass('is-focused');\n    });\n    this.textarea.on('blur', function blurTextArea() {\n      $(this)\n        .closest('.md-area')\n        .removeClass('is-focused');\n    });\n  }\n}\n","/* eslint-disable func-names, prefer-arrow-callback, no-unused-vars, consistent-return, camelcase, class-methods-use-this */\n\n// Zen Mode (full screen) textarea\n//\n/*= provides zen_mode:enter */\n/*= provides zen_mode:leave */\n\nimport $ from 'jquery';\nimport 'vendor/jquery.scrollTo';\nimport Dropzone from 'dropzone';\nimport Mousetrap from 'mousetrap';\nimport 'mousetrap/plugins/pause/mousetrap-pause';\n\nDropzone.autoDiscover = false;\n\n//\n// ### Events\n//\n// `zen_mode:enter`\n//\n// Fired when the \"Edit in fullscreen\" link is clicked.\n//\n// **Synchronicity** Sync\n// **Bubbles** Yes\n// **Cancelable** No\n// **Target** a.js-zen-enter\n//\n// `zen_mode:leave`\n//\n// Fired when the \"Leave Fullscreen\" link is clicked.\n//\n// **Synchronicity** Sync\n// **Bubbles** Yes\n// **Cancelable** No\n// **Target** a.js-zen-leave\n//\n\nexport default class ZenMode {\n  constructor() {\n    this.active_backdrop = null;\n    this.active_textarea = null;\n    $(document).on('click', '.js-zen-enter', function(e) {\n      e.preventDefault();\n      return $(e.currentTarget).trigger('zen_mode:enter');\n    });\n    $(document).on('click', '.js-zen-leave', function(e) {\n      e.preventDefault();\n      return $(e.currentTarget).trigger('zen_mode:leave');\n    });\n    $(document).on(\n      'zen_mode:enter',\n      (function(_this) {\n        return function(e) {\n          return _this.enter(\n            $(e.target)\n              .closest('.md-area')\n              .find('.zen-backdrop'),\n          );\n        };\n      })(this),\n    );\n    $(document).on(\n      'zen_mode:leave',\n      (function(_this) {\n        return function(e) {\n          return _this.exit();\n        };\n      })(this),\n    );\n    $(document).on('keydown', function(e) {\n      // Esc\n      if (e.keyCode === 27) {\n        e.preventDefault();\n        return $(document).trigger('zen_mode:leave');\n      }\n    });\n  }\n\n  enter(backdrop) {\n    Mousetrap.pause();\n    this.active_backdrop = $(backdrop);\n    this.active_backdrop.addClass('fullscreen');\n    this.active_textarea = this.active_backdrop.find('textarea');\n    // Prevent a user-resized textarea from persisting to fullscreen\n    this.active_textarea.removeAttr('style');\n    this.active_textarea.focus();\n  }\n\n  exit() {\n    if (this.active_textarea) {\n      Mousetrap.unpause();\n      this.active_textarea.closest('.zen-backdrop').removeClass('fullscreen');\n      this.scrollTo(this.active_textarea);\n      this.active_textarea = null;\n      this.active_backdrop = null;\n\n      const $dropzone = $('.div-dropzone');\n      if ($dropzone && !$dropzone.hasClass('js-invalid-dropzone')) {\n        Dropzone.forElement('.div-dropzone').enable();\n      }\n    }\n  }\n\n  scrollTo(zen_area) {\n    return $.scrollTo(zen_area, 0, {\n      offset: -150,\n    });\n  }\n}\n","/*!\n * Pikaday\n *\n * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday\n */\n\n(function (root, factory)\n{\n    'use strict';\n\n    var moment;\n    if (typeof exports === 'object') {\n        // CommonJS module\n        // Load moment.js as an optional dependency\n        try { moment = require('moment'); } catch (e) {}\n        module.exports = factory(moment);\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(function (req)\n        {\n            // Load moment.js as an optional dependency\n            var id = 'moment';\n            try { moment = req(id); } catch (e) {}\n            return factory(moment);\n        });\n    } else {\n        root.Pikaday = factory(root.moment);\n    }\n}(this, function (moment)\n{\n    'use strict';\n\n    /**\n     * feature detection and helper functions\n     */\n    var hasMoment = typeof moment === 'function',\n\n    hasEventListeners = !!window.addEventListener,\n\n    document = window.document,\n\n    sto = window.setTimeout,\n\n    addEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.addEventListener(e, callback, !!capture);\n        } else {\n            el.attachEvent('on' + e, callback);\n        }\n    },\n\n    removeEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.removeEventListener(e, callback, !!capture);\n        } else {\n            el.detachEvent('on' + e, callback);\n        }\n    },\n\n    trim = function(str)\n    {\n        return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g,'');\n    },\n\n    hasClass = function(el, cn)\n    {\n        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;\n    },\n\n    addClass = function(el, cn)\n    {\n        if (!hasClass(el, cn)) {\n            el.className = (el.className === '') ? cn : el.className + ' ' + cn;\n        }\n    },\n\n    removeClass = function(el, cn)\n    {\n        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));\n    },\n\n    isArray = function(obj)\n    {\n        return (/Array/).test(Object.prototype.toString.call(obj));\n    },\n\n    isDate = function(obj)\n    {\n        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    },\n\n    isWeekend = function(date)\n    {\n        var day = date.getDay();\n        return day === 0 || day === 6;\n    },\n\n    isLeapYear = function(year)\n    {\n        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\n        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n\n    getDaysInMonth = function(year, month)\n    {\n        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n\n    setToStartOfDay = function(date)\n    {\n        if (isDate(date)) date.setHours(0,0,0,0);\n    },\n\n    compareDates = function(a,b)\n    {\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n        return a.getTime() === b.getTime();\n    },\n\n    extend = function(to, from, overwrite)\n    {\n        var prop, hasProp;\n        for (prop in from) {\n            hasProp = to[prop] !== undefined;\n            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {\n                if (isDate(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = new Date(from[prop].getTime());\n                    }\n                }\n                else if (isArray(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = from[prop].slice(0);\n                    }\n                } else {\n                    to[prop] = extend({}, from[prop], overwrite);\n                }\n            } else if (overwrite || !hasProp) {\n                to[prop] = from[prop];\n            }\n        }\n        return to;\n    },\n\n    fireEvent = function(el, eventName, data)\n    {\n        var ev;\n\n        if (document.createEvent) {\n            ev = document.createEvent('HTMLEvents');\n            ev.initEvent(eventName, true, false);\n            ev = extend(ev, data);\n            el.dispatchEvent(ev);\n        } else if (document.createEventObject) {\n            ev = document.createEventObject();\n            ev = extend(ev, data);\n            el.fireEvent('on' + eventName, ev);\n        }\n    },\n\n    adjustCalendar = function(calendar) {\n        if (calendar.month < 0) {\n            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);\n            calendar.month += 12;\n        }\n        if (calendar.month > 11) {\n            calendar.year += Math.floor(Math.abs(calendar.month)/12);\n            calendar.month -= 12;\n        }\n        return calendar;\n    },\n\n    /**\n     * defaults and localisation\n     */\n    defaults = {\n\n        // bind the picker to a form field\n        field: null,\n\n        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)\n        bound: undefined,\n\n        // position of the datepicker, relative to the field (default to bottom & left)\n        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)\n        position: 'bottom left',\n\n        // automatically fit in the viewport even if it means repositioning from the position option\n        reposition: true,\n\n        // the default output format for `.toString()` and `field` value\n        format: 'YYYY-MM-DD',\n\n        // the toString function which gets passed a current date object and format\n        // and returns a string\n        toString: null,\n\n        // used to create date object from current input string\n        parse: null,\n\n        // the initial date to view when first opened\n        defaultDate: null,\n\n        // make the `defaultDate` the initial selected value\n        setDefaultDate: false,\n\n        // first day of week (0: Sunday, 1: Monday etc)\n        firstDay: 0,\n\n        // the default flag for moment's strict date parsing\n        formatStrict: false,\n\n        // the minimum/earliest date that can be selected\n        minDate: null,\n        // the maximum/latest date that can be selected\n        maxDate: null,\n\n        // number of years either side, or array of upper/lower range\n        yearRange: 10,\n\n        // show week numbers at head of row\n        showWeekNumber: false,\n\n        // Week picker mode\n        pickWholeWeek: false,\n\n        // used internally (don't config outside)\n        minYear: 0,\n        maxYear: 9999,\n        minMonth: undefined,\n        maxMonth: undefined,\n\n        startRange: null,\n        endRange: null,\n\n        isRTL: false,\n\n        // Additional text to append to the year in the calendar title\n        yearSuffix: '',\n\n        // Render the month after year in the calendar title\n        showMonthAfterYear: false,\n\n        // Render days of the calendar grid that fall in the next or previous month\n        showDaysInNextAndPreviousMonths: false,\n\n        // Allows user to select days that fall in the next or previous month\n        enableSelectionDaysInNextAndPreviousMonths: false,\n\n        // how many months are visible\n        numberOfMonths: 1,\n\n        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)\n        // only used for the first display or when a selected date is not visible\n        mainCalendar: 'left',\n\n        // Specify a DOM element to render the calendar in\n        container: undefined,\n\n        // Blur field when date is selected\n        blurFieldOnSelect : true,\n\n        // internationalization\n        i18n: {\n            previousMonth : 'Previous Month',\n            nextMonth     : 'Next Month',\n            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],\n            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\n            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']\n        },\n\n        // Theme Classname\n        theme: null,\n\n        // events array\n        events: [],\n\n        // callback function\n        onSelect: null,\n        onOpen: null,\n        onClose: null,\n        onDraw: null\n    },\n\n\n    /**\n     * templating functions to abstract HTML rendering\n     */\n    renderDayName = function(opts, day, abbr)\n    {\n        day += opts.firstDay;\n        while (day >= 7) {\n            day -= 7;\n        }\n        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];\n    },\n\n    renderDay = function(opts)\n    {\n        var arr = [];\n        var ariaSelected = 'false';\n        if (opts.isEmpty) {\n            if (opts.showDaysInNextAndPreviousMonths) {\n                arr.push('is-outside-current-month');\n\n                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {\n                    arr.push('is-selection-disabled');\n                }\n\n            } else {\n                return '<td class=\"is-empty\"></td>';\n            }\n        }\n        if (opts.isDisabled) {\n            arr.push('is-disabled');\n        }\n        if (opts.isToday) {\n            arr.push('is-today');\n        }\n        if (opts.isSelected) {\n            arr.push('is-selected');\n            ariaSelected = 'true';\n        }\n        if (opts.hasEvent) {\n            arr.push('has-event');\n        }\n        if (opts.isInRange) {\n            arr.push('is-inrange');\n        }\n        if (opts.isStartRange) {\n            arr.push('is-startrange');\n        }\n        if (opts.isEndRange) {\n            arr.push('is-endrange');\n        }\n        return '<td data-day=\"' + opts.day + '\" class=\"' + arr.join(' ') + '\" aria-selected=\"' + ariaSelected + '\">' +\n                 '<button class=\"pika-button pika-day\" type=\"button\" ' +\n                    'data-pika-year=\"' + opts.year + '\" data-pika-month=\"' + opts.month + '\" data-pika-day=\"' + opts.day + '\">' +\n                        opts.day +\n                 '</button>' +\n               '</td>';\n    },\n\n    renderWeek = function (d, m, y) {\n        // Lifted from http://javascript.about.com/library/blweekyear.htm, lightly modified.\n        var onejan = new Date(y, 0, 1),\n            weekNum = Math.ceil((((new Date(y, m, d) - onejan) / 86400000) + onejan.getDay()+1)/7);\n        return '<td class=\"pika-week\">' + weekNum + '</td>';\n    },\n\n    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)\n    {\n        return '<tr class=\"pika-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '\">' + (isRTL ? days.reverse() : days).join('') + '</tr>';\n    },\n\n    renderBody = function(rows)\n    {\n        return '<tbody>' + rows.join('') + '</tbody>';\n    },\n\n    renderHead = function(opts)\n    {\n        var i, arr = [];\n        if (opts.showWeekNumber) {\n            arr.push('<th></th>');\n        }\n        for (i = 0; i < 7; i++) {\n            arr.push('<th scope=\"col\"><abbr title=\"' + renderDayName(opts, i) + '\">' + renderDayName(opts, i, true) + '</abbr></th>');\n        }\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    },\n\n    renderTitle = function(instance, c, year, month, refYear, randId)\n    {\n        var i, j, arr,\n            opts = instance._o,\n            isMinYear = year === opts.minYear,\n            isMaxYear = year === opts.maxYear,\n            html = '<div id=\"' + randId + '\" class=\"pika-title\" role=\"heading\" aria-live=\"assertive\">',\n            monthHtml,\n            yearHtml,\n            prev = true,\n            next = true;\n\n        for (arr = [], i = 0; i < 12; i++) {\n            arr.push('<option value=\"' + (year === refYear ? i - c : 12 + i - c) + '\"' +\n                (i === month ? ' selected=\"selected\"': '') +\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? 'disabled=\"disabled\"' : '') + '>' +\n                opts.i18n.months[i] + '</option>');\n        }\n\n        monthHtml = '<div class=\"pika-label\">' + opts.i18n.months[month] + '<select class=\"pika-select pika-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (isArray(opts.yearRange)) {\n            i = opts.yearRange[0];\n            j = opts.yearRange[1] + 1;\n        } else {\n            i = year - opts.yearRange;\n            j = 1 + year + opts.yearRange;\n        }\n\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\n            if (i >= opts.minYear) {\n                arr.push('<option value=\"' + i + '\"' + (i === year ? ' selected=\"selected\"': '') + '>' + (i) + '</option>');\n            }\n        }\n        yearHtml = '<div class=\"pika-label\">' + year + opts.yearSuffix + '<select class=\"pika-select pika-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (opts.showMonthAfterYear) {\n            html += yearHtml + monthHtml;\n        } else {\n            html += monthHtml + yearHtml;\n        }\n\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n            prev = false;\n        }\n\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n            next = false;\n        }\n\n        if (c === 0) {\n            html += '<button class=\"pika-prev' + (prev ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.previousMonth + '</button>';\n        }\n        if (c === (instance._o.numberOfMonths - 1) ) {\n            html += '<button class=\"pika-next' + (next ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.nextMonth + '</button>';\n        }\n\n        return html += '</div>';\n    },\n\n    renderTable = function(opts, data, randId)\n    {\n        return '<table cellpadding=\"0\" cellspacing=\"0\" class=\"pika-table\" role=\"grid\" aria-labelledby=\"' + randId + '\">' + renderHead(opts) + renderBody(data) + '</table>';\n    },\n\n\n    /**\n     * Pikaday constructor\n     */\n    Pikaday = function(options)\n    {\n        var self = this,\n            opts = self.config(options);\n\n        self._onMouseDown = function(e)\n        {\n            if (!self._v) {\n                return;\n            }\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n\n            if (!hasClass(target, 'is-disabled')) {\n                if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {\n                    self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));\n                    if (opts.bound) {\n                        sto(function() {\n                            self.hide();\n                            if (opts.blurFieldOnSelect && opts.field) {\n                                opts.field.blur();\n                            }\n                        }, 100);\n                    }\n                }\n                else if (hasClass(target, 'pika-prev')) {\n                    self.prevMonth();\n                }\n                else if (hasClass(target, 'pika-next')) {\n                    self.nextMonth();\n                }\n            }\n            if (!hasClass(target, 'pika-select')) {\n                // if this is touch event prevent mouse events emulation\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                    return false;\n                }\n            } else {\n                self._c = true;\n            }\n        };\n\n        self._onChange = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n            if (hasClass(target, 'pika-select-month')) {\n                self.gotoMonth(target.value);\n            }\n            else if (hasClass(target, 'pika-select-year')) {\n                self.gotoYear(target.value);\n            }\n        };\n\n        self._onKeyChange = function(e)\n        {\n            e = e || window.event;\n\n            if (self.isVisible()) {\n\n                switch(e.keyCode){\n                    case 13:\n                    case 27:\n                        if (opts.field) {\n                            opts.field.blur();\n                        }\n                        break;\n                    case 37:\n                        e.preventDefault();\n                        self.adjustDate('subtract', 1);\n                        break;\n                    case 38:\n                        self.adjustDate('subtract', 7);\n                        break;\n                    case 39:\n                        self.adjustDate('add', 1);\n                        break;\n                    case 40:\n                        self.adjustDate('add', 7);\n                        break;\n                }\n            }\n        };\n\n        self._onInputChange = function(e)\n        {\n            var date;\n\n            if (e.firedBy === self) {\n                return;\n            }\n            if (opts.parse) {\n                date = opts.parse(opts.field.value, opts.format);\n            } else if (hasMoment) {\n                date = moment(opts.field.value, opts.format, opts.formatStrict);\n                date = (date && date.isValid()) ? date.toDate() : null;\n            }\n            else {\n                date = new Date(Date.parse(opts.field.value));\n            }\n            if (isDate(date)) {\n              self.setDate(date);\n            }\n            if (!self._v) {\n                self.show();\n            }\n        };\n\n        self._onInputFocus = function()\n        {\n            self.show();\n        };\n\n        self._onInputClick = function()\n        {\n            self.show();\n        };\n\n        self._onInputBlur = function()\n        {\n            // IE allows pika div to gain focus; catch blur the input field\n            var pEl = document.activeElement;\n            do {\n                if (hasClass(pEl, 'pika-single')) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n\n            if (!self._c) {\n                self._b = sto(function() {\n                    self.hide();\n                }, 50);\n            }\n            self._c = false;\n        };\n\n        self._onClick = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement,\n                pEl = target;\n            if (!target) {\n                return;\n            }\n            if (!hasEventListeners && hasClass(target, 'pika-select')) {\n                if (!target.onchange) {\n                    target.setAttribute('onchange', 'return;');\n                    addEvent(target, 'change', self._onChange);\n                }\n            }\n            do {\n                if (hasClass(pEl, 'pika-single') || pEl === opts.trigger) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {\n                self.hide();\n            }\n        };\n\n        self.el = document.createElement('div');\n        self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '');\n\n        addEvent(self.el, 'mousedown', self._onMouseDown, true);\n        addEvent(self.el, 'touchend', self._onMouseDown, true);\n        addEvent(self.el, 'change', self._onChange);\n        addEvent(document, 'keydown', self._onKeyChange);\n\n        if (opts.field) {\n            if (opts.container) {\n                opts.container.appendChild(self.el);\n            } else if (opts.bound) {\n                document.body.appendChild(self.el);\n            } else {\n                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);\n            }\n            addEvent(opts.field, 'change', self._onInputChange);\n\n            if (!opts.defaultDate) {\n                if (hasMoment && opts.field.value) {\n                    opts.defaultDate = moment(opts.field.value, opts.format).toDate();\n                } else {\n                    opts.defaultDate = new Date(Date.parse(opts.field.value));\n                }\n                opts.setDefaultDate = true;\n            }\n        }\n\n        var defDate = opts.defaultDate;\n\n        if (isDate(defDate)) {\n            if (opts.setDefaultDate) {\n                self.setDate(defDate, true);\n            } else {\n                self.gotoDate(defDate);\n            }\n        } else {\n            self.gotoDate(new Date());\n        }\n\n        if (opts.bound) {\n            this.hide();\n            self.el.className += ' is-bound';\n            addEvent(opts.trigger, 'click', self._onInputClick);\n            addEvent(opts.trigger, 'focus', self._onInputFocus);\n            addEvent(opts.trigger, 'blur', self._onInputBlur);\n        } else {\n            this.show();\n        }\n    };\n\n\n    /**\n     * public Pikaday API\n     */\n    Pikaday.prototype = {\n\n\n        /**\n         * configure functionality\n         */\n        config: function(options)\n        {\n            if (!this._o) {\n                this._o = extend({}, defaults, true);\n            }\n\n            var opts = extend(this._o, options, true);\n\n            opts.isRTL = !!opts.isRTL;\n\n            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;\n\n            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;\n\n            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);\n\n            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;\n\n            opts.disableWeekends = !!opts.disableWeekends;\n\n            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;\n\n            var nom = parseInt(opts.numberOfMonths, 10) || 1;\n            opts.numberOfMonths = nom > 4 ? 4 : nom;\n\n            if (!isDate(opts.minDate)) {\n                opts.minDate = false;\n            }\n            if (!isDate(opts.maxDate)) {\n                opts.maxDate = false;\n            }\n            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {\n                opts.maxDate = opts.minDate = false;\n            }\n            if (opts.minDate) {\n                this.setMinDate(opts.minDate);\n            }\n            if (opts.maxDate) {\n                this.setMaxDate(opts.maxDate);\n            }\n\n            if (isArray(opts.yearRange)) {\n                var fallback = new Date().getFullYear() - 10;\n                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;\n                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;\n            } else {\n                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;\n                if (opts.yearRange > 100) {\n                    opts.yearRange = 100;\n                }\n            }\n\n            return opts;\n        },\n\n        /**\n         * return a formatted string of the current selection (using Moment.js if available)\n         */\n        toString: function(format)\n        {\n            format = format || this._o.format;\n            if (!isDate(this._d)) {\n                return '';\n            }\n            if (this._o.toString) {\n              return this._o.toString(this._d, format);\n            }\n            if (hasMoment) {\n              return moment(this._d).format(format);\n            }\n            return this._d.toDateString();\n        },\n\n        /**\n         * return a Moment.js object of the current selection (if available)\n         */\n        getMoment: function()\n        {\n            return hasMoment ? moment(this._d) : null;\n        },\n\n        /**\n         * set the current selection from a Moment.js object (if available)\n         */\n        setMoment: function(date, preventOnSelect)\n        {\n            if (hasMoment && moment.isMoment(date)) {\n                this.setDate(date.toDate(), preventOnSelect);\n            }\n        },\n\n        /**\n         * return a Date object of the current selection\n         */\n        getDate: function()\n        {\n            return isDate(this._d) ? new Date(this._d.getTime()) : null;\n        },\n\n        /**\n         * set the current selection\n         */\n        setDate: function(date, preventOnSelect)\n        {\n            if (!date) {\n                this._d = null;\n\n                if (this._o.field) {\n                    this._o.field.value = '';\n                    fireEvent(this._o.field, 'change', { firedBy: this });\n                }\n\n                return this.draw();\n            }\n            if (typeof date === 'string') {\n                date = new Date(Date.parse(date));\n            }\n            if (!isDate(date)) {\n                return;\n            }\n\n            var min = this._o.minDate,\n                max = this._o.maxDate;\n\n            if (isDate(min) && date < min) {\n                date = min;\n            } else if (isDate(max) && date > max) {\n                date = max;\n            }\n\n            this._d = new Date(date.getTime());\n            setToStartOfDay(this._d);\n            this.gotoDate(this._d);\n\n            if (this._o.field) {\n                this._o.field.value = this.toString();\n                fireEvent(this._o.field, 'change', { firedBy: this });\n            }\n            if (!preventOnSelect && typeof this._o.onSelect === 'function') {\n                this._o.onSelect.call(this, this.getDate());\n            }\n        },\n\n        /**\n         * change view to a specific date\n         */\n        gotoDate: function(date)\n        {\n            var newCalendar = true;\n\n            if (!isDate(date)) {\n                return;\n            }\n\n            if (this.calendars) {\n                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),\n                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),\n                    visibleDate = date.getTime();\n                // get the end of the month\n                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);\n                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);\n                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);\n            }\n\n            if (newCalendar) {\n                this.calendars = [{\n                    month: date.getMonth(),\n                    year: date.getFullYear()\n                }];\n                if (this._o.mainCalendar === 'right') {\n                    this.calendars[0].month += 1 - this._o.numberOfMonths;\n                }\n            }\n\n            this.adjustCalendars();\n        },\n\n        adjustDate: function(sign, days) {\n\n            var day = this.getDate() || new Date();\n            var difference = parseInt(days)*24*60*60*1000;\n\n            var newDay;\n\n            if (sign === 'add') {\n                newDay = new Date(day.valueOf() + difference);\n            } else if (sign === 'subtract') {\n                newDay = new Date(day.valueOf() - difference);\n            }\n\n            this.setDate(newDay);\n        },\n\n        adjustCalendars: function() {\n            this.calendars[0] = adjustCalendar(this.calendars[0]);\n            for (var c = 1; c < this._o.numberOfMonths; c++) {\n                this.calendars[c] = adjustCalendar({\n                    month: this.calendars[0].month + c,\n                    year: this.calendars[0].year\n                });\n            }\n            this.draw();\n        },\n\n        gotoToday: function()\n        {\n            this.gotoDate(new Date());\n        },\n\n        /**\n         * change view to a specific month (zero-index, e.g. 0: January)\n         */\n        gotoMonth: function(month)\n        {\n            if (!isNaN(month)) {\n                this.calendars[0].month = parseInt(month, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        nextMonth: function()\n        {\n            this.calendars[0].month++;\n            this.adjustCalendars();\n        },\n\n        prevMonth: function()\n        {\n            this.calendars[0].month--;\n            this.adjustCalendars();\n        },\n\n        /**\n         * change view to a specific full year (e.g. \"2012\")\n         */\n        gotoYear: function(year)\n        {\n            if (!isNaN(year)) {\n                this.calendars[0].year = parseInt(year, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        /**\n         * change the minDate\n         */\n        setMinDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.minDate = value;\n                this._o.minYear  = value.getFullYear();\n                this._o.minMonth = value.getMonth();\n            } else {\n                this._o.minDate = defaults.minDate;\n                this._o.minYear  = defaults.minYear;\n                this._o.minMonth = defaults.minMonth;\n                this._o.startRange = defaults.startRange;\n            }\n\n            this.draw();\n        },\n\n        /**\n         * change the maxDate\n         */\n        setMaxDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.maxDate = value;\n                this._o.maxYear = value.getFullYear();\n                this._o.maxMonth = value.getMonth();\n            } else {\n                this._o.maxDate = defaults.maxDate;\n                this._o.maxYear = defaults.maxYear;\n                this._o.maxMonth = defaults.maxMonth;\n                this._o.endRange = defaults.endRange;\n            }\n\n            this.draw();\n        },\n\n        setStartRange: function(value)\n        {\n            this._o.startRange = value;\n        },\n\n        setEndRange: function(value)\n        {\n            this._o.endRange = value;\n        },\n\n        /**\n         * refresh the HTML\n         */\n        draw: function(force)\n        {\n            if (!this._v && !force) {\n                return;\n            }\n            var opts = this._o,\n                minYear = opts.minYear,\n                maxYear = opts.maxYear,\n                minMonth = opts.minMonth,\n                maxMonth = opts.maxMonth,\n                html = '',\n                randId;\n\n            if (this._y <= minYear) {\n                this._y = minYear;\n                if (!isNaN(minMonth) && this._m < minMonth) {\n                    this._m = minMonth;\n                }\n            }\n            if (this._y >= maxYear) {\n                this._y = maxYear;\n                if (!isNaN(maxMonth) && this._m > maxMonth) {\n                    this._m = maxMonth;\n                }\n            }\n\n            randId = 'pika-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);\n\n            for (var c = 0; c < opts.numberOfMonths; c++) {\n                html += '<div class=\"pika-lendar\">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';\n            }\n\n            this.el.innerHTML = html;\n\n            if (opts.bound) {\n                if(opts.field.type !== 'hidden') {\n                    sto(function() {\n                        opts.trigger.focus();\n                    }, 1);\n                }\n            }\n\n            if (typeof this._o.onDraw === 'function') {\n                this._o.onDraw(this);\n            }\n\n            if (opts.bound) {\n                // let the screen reader user know to use arrow keys\n                opts.field.setAttribute('aria-label', 'Use the arrow keys to pick a date');\n            }\n        },\n\n        adjustPosition: function()\n        {\n            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect;\n\n            if (this._o.container) return;\n\n            this.el.style.position = 'absolute';\n\n            field = this._o.trigger;\n            pEl = field;\n            width = this.el.offsetWidth;\n            height = this.el.offsetHeight;\n            viewportWidth = window.innerWidth || document.documentElement.clientWidth;\n            viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n\n            if (typeof field.getBoundingClientRect === 'function') {\n                clientRect = field.getBoundingClientRect();\n                left = clientRect.left + window.pageXOffset;\n                top = clientRect.bottom + window.pageYOffset;\n            } else {\n                left = pEl.offsetLeft;\n                top  = pEl.offsetTop + pEl.offsetHeight;\n                while((pEl = pEl.offsetParent)) {\n                    left += pEl.offsetLeft;\n                    top  += pEl.offsetTop;\n                }\n            }\n\n            // default position is bottom & left\n            if ((this._o.reposition && left + width > viewportWidth) ||\n                (\n                    this._o.position.indexOf('right') > -1 &&\n                    left - width + field.offsetWidth > 0\n                )\n            ) {\n                left = left - width + field.offsetWidth;\n            }\n            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||\n                (\n                    this._o.position.indexOf('top') > -1 &&\n                    top - height - field.offsetHeight > 0\n                )\n            ) {\n                top = top - height - field.offsetHeight;\n            }\n\n            this.el.style.left = left + 'px';\n            this.el.style.top = top + 'px';\n        },\n\n        /**\n         * render HTML for a particular month\n         */\n        render: function(year, month, randId)\n        {\n            var opts   = this._o,\n                now    = new Date(),\n                days   = getDaysInMonth(year, month),\n                before = new Date(year, month, 1).getDay(),\n                data   = [],\n                row    = [];\n            setToStartOfDay(now);\n            if (opts.firstDay > 0) {\n                before -= opts.firstDay;\n                if (before < 0) {\n                    before += 7;\n                }\n            }\n            var previousMonth = month === 0 ? 11 : month - 1,\n                nextMonth = month === 11 ? 0 : month + 1,\n                yearOfPreviousMonth = month === 0 ? year - 1 : year,\n                yearOfNextMonth = month === 11 ? year + 1 : year,\n                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);\n            var cells = days + before,\n                after = cells;\n            while(after > 7) {\n                after -= 7;\n            }\n            cells += 7 - after;\n            var isWeekSelected = false;\n            for (var i = 0, r = 0; i < cells; i++)\n            {\n                var day = new Date(year, month, 1 + (i - before)),\n                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,\n                    isToday = compareDates(day, now),\n                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,\n                    isEmpty = i < before || i >= (days + before),\n                    dayNumber = 1 + (i - before),\n                    monthNumber = month,\n                    yearNumber = year,\n                    isStartRange = opts.startRange && compareDates(opts.startRange, day),\n                    isEndRange = opts.endRange && compareDates(opts.endRange, day),\n                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,\n                    isDisabled = (opts.minDate && day < opts.minDate) ||\n                                 (opts.maxDate && day > opts.maxDate) ||\n                                 (opts.disableWeekends && isWeekend(day)) ||\n                                 (opts.disableDayFn && opts.disableDayFn(day));\n\n                if (isEmpty) {\n                    if (i < before) {\n                        dayNumber = daysInPreviousMonth + dayNumber;\n                        monthNumber = previousMonth;\n                        yearNumber = yearOfPreviousMonth;\n                    } else {\n                        dayNumber = dayNumber - days;\n                        monthNumber = nextMonth;\n                        yearNumber = yearOfNextMonth;\n                    }\n                }\n\n                var dayConfig = {\n                        day: dayNumber,\n                        month: monthNumber,\n                        year: yearNumber,\n                        hasEvent: hasEvent,\n                        isSelected: isSelected,\n                        isToday: isToday,\n                        isDisabled: isDisabled,\n                        isEmpty: isEmpty,\n                        isStartRange: isStartRange,\n                        isEndRange: isEndRange,\n                        isInRange: isInRange,\n                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,\n                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths\n                    };\n\n                if (opts.pickWholeWeek && isSelected) {\n                    isWeekSelected = true;\n                }\n\n                row.push(renderDay(dayConfig));\n\n                if (++r === 7) {\n                    if (opts.showWeekNumber) {\n                        row.unshift(renderWeek(i - before, month, year));\n                    }\n                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));\n                    row = [];\n                    r = 0;\n                    isWeekSelected = false;\n                }\n            }\n            return renderTable(opts, data, randId);\n        },\n\n        isVisible: function()\n        {\n            return this._v;\n        },\n\n        show: function()\n        {\n            if (!this.isVisible()) {\n                this._v = true;\n                this.draw();\n                removeClass(this.el, 'is-hidden');\n                if (this._o.bound) {\n                    addEvent(document, 'click', this._onClick);\n                    this.adjustPosition();\n                }\n                if (typeof this._o.onOpen === 'function') {\n                    this._o.onOpen.call(this);\n                }\n            }\n        },\n\n        hide: function()\n        {\n            var v = this._v;\n            if (v !== false) {\n                if (this._o.bound) {\n                    removeEvent(document, 'click', this._onClick);\n                }\n                this.el.style.position = 'static'; // reset\n                this.el.style.left = 'auto';\n                this.el.style.top = 'auto';\n                addClass(this.el, 'is-hidden');\n                this._v = false;\n                if (v !== undefined && typeof this._o.onClose === 'function') {\n                    this._o.onClose.call(this);\n                }\n            }\n        },\n\n        /**\n         * GAME OVER\n         */\n        destroy: function()\n        {\n            this.hide();\n            removeEvent(this.el, 'mousedown', this._onMouseDown, true);\n            removeEvent(this.el, 'touchend', this._onMouseDown, true);\n            removeEvent(this.el, 'change', this._onChange);\n            removeEvent(document, 'keydown', this._onKeyChange);\n            if (this._o.field) {\n                removeEvent(this._o.field, 'change', this._onInputChange);\n                if (this._o.bound) {\n                    removeEvent(this._o.trigger, 'click', this._onInputClick);\n                    removeEvent(this._o.trigger, 'focus', this._onInputFocus);\n                    removeEvent(this._o.trigger, 'blur', this._onInputBlur);\n                }\n            }\n            if (this.el.parentNode) {\n                this.el.parentNode.removeChild(this.el);\n            }\n        }\n\n    };\n\n    return Pikaday;\n\n}));\n"],"sourceRoot":""}