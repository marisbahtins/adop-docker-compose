{"version":3,"sources":["webpack:///./pages/projects/pipeline_schedules/edit/index.js","webpack:///./pages/projects/pipeline_schedules/shared/components/interval_pattern_input.vue?8983","webpack:///pages/projects/pipeline_schedules/shared/components/interval_pattern_input.vue","webpack:///./pages/projects/pipeline_schedules/shared/components/interval_pattern_input.vue","webpack:///./pages/projects/pipeline_schedules/shared/components/interval_pattern_input.vue?9e1d","webpack:///./pages/projects/pipeline_schedules/shared/components/timezone_dropdown.js","webpack:///./pages/projects/pipeline_schedules/shared/components/target_branch_dropdown.js","webpack:///./pages/projects/pipeline_schedules/shared/init_form.js"],"names":["__webpack_require__","r","__webpack_exports__","_shared_init_form__WEBPACK_IMPORTED_MODULE_0__","document","addEventListener","initForm","components_interval_pattern_inputvue_type_script_lang_js_","props","initialCronInterval","type","String","required","default","data","inputNameAttribute","cronInterval","this","cronIntervalPresets","everyDay","everyWeek","everyMonth","cronSyntaxUrl","customInputEnabled","computed","intervalIsPreset","underscore_default","a","contains","isEditable","watch","$nextTick","gl","pipelineScheduleFieldErrors","updateFormValidityState","created","enableCustomInput","methods","toggleCustomInput","shouldEnable","concat","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","name","domProps","value","checked","on","click","$event","_v","for","_s","s__","href","target","__","directives","rawName","expression","_q","change","placeholder","disabled","input","composing","options","__file","interval_pattern_input","TimezoneDropdown","_classCallCheck","$dropdown","$","$dropdownToggle","find","$input","timezoneData","initDefaultTimezone","initDropdown","_this","glDropdown","filterable","selectable","toggleLabel","item","search","fields","clicked","cfg","updateInputValue","text","formatTimezone","setDropdownToggle","offset","prefix","Math","abs","formatUtcOffset","val","initialValue","selectedObj","_ref","e","preventDefault","identifier","TargetBranchDropdown","target_branch_dropdown_classCallCheck","initDefaultBranch","formatBranchesList","map","defaultBranch","Vue","use","Translate","intervalPatternMount","getElementById","dataset","initialInterval","el","components","intervalPatternInput","render","createElement","formElement","timezoneDropdown","targetBranchDropdown","GlFieldErrors","setupNativeFormVariableList","container","formField"],"mappings":"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","file":"pages.projects.pipeline_schedules.edit.e06e23af.chunk.js","sourcesContent":["import initForm from '../shared/init_form';\n\ndocument.addEventListener('DOMContentLoaded', initForm);\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interval_pattern_input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interval_pattern_input.vue?vue&type=script&lang=js&\"","<script>\nimport _ from 'underscore';\n\nexport default {\n  props: {\n    initialCronInterval: {\n      type: String,\n      required: false,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      inputNameAttribute: 'schedule[cron]',\n      cronInterval: this.initialCronInterval,\n      cronIntervalPresets: {\n        everyDay: '0 4 * * *',\n        everyWeek: '0 4 * * 0',\n        everyMonth: '0 4 1 * *',\n      },\n      cronSyntaxUrl: 'https://en.wikipedia.org/wiki/Cron',\n      customInputEnabled: false,\n    };\n  },\n  computed: {\n    intervalIsPreset() {\n      return _.contains(this.cronIntervalPresets, this.cronInterval);\n    },\n    // The text input is editable when there's a custom interval, or when it's\n    // a preset interval and the user clicks the 'custom' radio button\n    isEditable() {\n      return !!(this.customInputEnabled || !this.intervalIsPreset);\n    },\n  },\n  watch: {\n    cronInterval() {\n      // updates field validation state when model changes, as\n      // glFieldError only updates on input.\n      this.$nextTick(() => {\n        gl.pipelineScheduleFieldErrors.updateFormValidityState();\n      });\n    },\n  },\n  created() {\n    if (this.intervalIsPreset) {\n      this.enableCustomInput = false;\n    }\n  },\n  methods: {\n    toggleCustomInput(shouldEnable) {\n      this.customInputEnabled = shouldEnable;\n\n      if (shouldEnable) {\n        // We need to change the value so other radios don't remain selected\n        // because the model (cronInterval) hasn't changed. The server trims it.\n        this.cronInterval = `${this.cronInterval} `;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"interval-pattern-form-group\">\n    <div class=\"cron-preset-radio-input\">\n      <input\n        id=\"custom\"\n        :name=\"inputNameAttribute\"\n        :value=\"cronInterval\"\n        :checked=\"isEditable\"\n        class=\"label-bold\"\n        type=\"radio\"\n        @click=\"toggleCustomInput(true);\"\n      />\n\n      <label for=\"custom\"> {{ s__('PipelineSheduleIntervalPattern|Custom') }} </label>\n\n      <span class=\"cron-syntax-link-wrap\">\n        (<a :href=\"cronSyntaxUrl\" target=\"_blank\"> {{ __('Cron syntax') }} </a>)\n      </span>\n    </div>\n\n    <div class=\"cron-preset-radio-input\">\n      <input\n        id=\"every-day\"\n        v-model=\"cronInterval\"\n        :name=\"inputNameAttribute\"\n        :value=\"cronIntervalPresets.everyDay\"\n        class=\"label-bold\"\n        type=\"radio\"\n        @click=\"toggleCustomInput(false);\"\n      />\n\n      <label class=\"label-bold\" for=\"every-day\"> {{ __('Every day (at 4:00am)') }} </label>\n    </div>\n\n    <div class=\"cron-preset-radio-input\">\n      <input\n        id=\"every-week\"\n        v-model=\"cronInterval\"\n        :name=\"inputNameAttribute\"\n        :value=\"cronIntervalPresets.everyWeek\"\n        class=\"label-bold\"\n        type=\"radio\"\n        @click=\"toggleCustomInput(false);\"\n      />\n\n      <label class=\"label-bold\" for=\"every-week\">\n        {{ __('Every week (Sundays at 4:00am)') }}\n      </label>\n    </div>\n\n    <div class=\"cron-preset-radio-input\">\n      <input\n        id=\"every-month\"\n        v-model=\"cronInterval\"\n        :name=\"inputNameAttribute\"\n        :value=\"cronIntervalPresets.everyMonth\"\n        class=\"label-bold\"\n        type=\"radio\"\n        @click=\"toggleCustomInput(false);\"\n      />\n\n      <label class=\"label-bold\" for=\"every-month\">\n        {{ __('Every month (on the 1st at 4:00am)') }}\n      </label>\n    </div>\n\n    <div class=\"cron-interval-input-wrapper\">\n      <input\n        id=\"schedule_cron\"\n        v-model=\"cronInterval\"\n        :placeholder=\"__('Define a custom pattern with cron syntax')\"\n        :name=\"inputNameAttribute\"\n        :disabled=\"!isEditable\"\n        class=\"form-control inline cron-interval-input\"\n        type=\"text\"\n        required=\"true\"\n      />\n    </div>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./interval_pattern_input.vue?vue&type=template&id=e4485f00&\"\nimport script from \"./interval_pattern_input.vue?vue&type=script&lang=js&\"\nexport * from \"./interval_pattern_input.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"interval_pattern_input.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"interval-pattern-form-group\"},[_c('div',{staticClass:\"cron-preset-radio-input\"},[_c('input',{staticClass:\"label-bold\",attrs:{\"id\":\"custom\",\"name\":_vm.inputNameAttribute,\"type\":\"radio\"},domProps:{\"value\":_vm.cronInterval,\"checked\":_vm.isEditable},on:{\"click\":function($event){_vm.toggleCustomInput(true);}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"custom\"}},[_vm._v(\" \"+_vm._s(_vm.s__('PipelineSheduleIntervalPattern|Custom'))+\" \")]),_vm._v(\" \"),_c('span',{staticClass:\"cron-syntax-link-wrap\"},[_vm._v(\"\\n      (\"),_c('a',{attrs:{\"href\":_vm.cronSyntaxUrl,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.__('Cron syntax'))+\" \")]),_vm._v(\")\\n    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"cron-preset-radio-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cronInterval),expression:\"cronInterval\"}],staticClass:\"label-bold\",attrs:{\"id\":\"every-day\",\"name\":_vm.inputNameAttribute,\"type\":\"radio\"},domProps:{\"value\":_vm.cronIntervalPresets.everyDay,\"checked\":_vm._q(_vm.cronInterval,_vm.cronIntervalPresets.everyDay)},on:{\"click\":function($event){_vm.toggleCustomInput(false);},\"change\":function($event){_vm.cronInterval=_vm.cronIntervalPresets.everyDay}}}),_vm._v(\" \"),_c('label',{staticClass:\"label-bold\",attrs:{\"for\":\"every-day\"}},[_vm._v(\" \"+_vm._s(_vm.__('Every day (at 4:00am)'))+\" \")])]),_vm._v(\" \"),_c('div',{staticClass:\"cron-preset-radio-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cronInterval),expression:\"cronInterval\"}],staticClass:\"label-bold\",attrs:{\"id\":\"every-week\",\"name\":_vm.inputNameAttribute,\"type\":\"radio\"},domProps:{\"value\":_vm.cronIntervalPresets.everyWeek,\"checked\":_vm._q(_vm.cronInterval,_vm.cronIntervalPresets.everyWeek)},on:{\"click\":function($event){_vm.toggleCustomInput(false);},\"change\":function($event){_vm.cronInterval=_vm.cronIntervalPresets.everyWeek}}}),_vm._v(\" \"),_c('label',{staticClass:\"label-bold\",attrs:{\"for\":\"every-week\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.__('Every week (Sundays at 4:00am)'))+\"\\n    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"cron-preset-radio-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cronInterval),expression:\"cronInterval\"}],staticClass:\"label-bold\",attrs:{\"id\":\"every-month\",\"name\":_vm.inputNameAttribute,\"type\":\"radio\"},domProps:{\"value\":_vm.cronIntervalPresets.everyMonth,\"checked\":_vm._q(_vm.cronInterval,_vm.cronIntervalPresets.everyMonth)},on:{\"click\":function($event){_vm.toggleCustomInput(false);},\"change\":function($event){_vm.cronInterval=_vm.cronIntervalPresets.everyMonth}}}),_vm._v(\" \"),_c('label',{staticClass:\"label-bold\",attrs:{\"for\":\"every-month\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.__('Every month (on the 1st at 4:00am)'))+\"\\n    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"cron-interval-input-wrapper\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cronInterval),expression:\"cronInterval\"}],staticClass:\"form-control inline cron-interval-input\",attrs:{\"id\":\"schedule_cron\",\"placeholder\":_vm.__('Define a custom pattern with cron syntax'),\"name\":_vm.inputNameAttribute,\"disabled\":!_vm.isEditable,\"type\":\"text\",\"required\":\"true\"},domProps:{\"value\":(_vm.cronInterval)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.cronInterval=$event.target.value}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable class-methods-use-this */\n\nimport $ from 'jquery';\n\nconst defaultTimezone = 'UTC';\n\nexport default class TimezoneDropdown {\n  constructor() {\n    this.$dropdown = $('.js-timezone-dropdown');\n    this.$dropdownToggle = this.$dropdown.find('.dropdown-toggle-text');\n    this.$input = $('#schedule_cron_timezone');\n    this.timezoneData = this.$dropdown.data('data');\n    this.initDefaultTimezone();\n    this.initDropdown();\n  }\n\n  initDropdown() {\n    this.$dropdown.glDropdown({\n      data: this.timezoneData,\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: cfg => this.updateInputValue(cfg),\n      text: item => this.formatTimezone(item),\n    });\n\n    this.setDropdownToggle();\n  }\n\n  formatUtcOffset(offset) {\n    let prefix = '';\n\n    if (offset > 0) {\n      prefix = '+';\n    } else if (offset < 0) {\n      prefix = '-';\n    }\n\n    return `${prefix} ${Math.abs(offset / 3600)}`;\n  }\n\n  formatTimezone(item) {\n    return `[UTC ${this.formatUtcOffset(item.offset)}] ${item.name}`;\n  }\n\n  initDefaultTimezone() {\n    const initialValue = this.$input.val();\n\n    if (!initialValue) {\n      this.$input.val(defaultTimezone);\n    }\n  }\n\n  setDropdownToggle() {\n    const initialValue = this.$input.val();\n\n    this.$dropdownToggle.text(initialValue);\n  }\n\n  updateInputValue({ selectedObj, e }) {\n    e.preventDefault();\n    this.$input.val(selectedObj.identifier);\n    gl.pipelineScheduleFieldErrors.updateFormValidityState();\n  }\n}\n","import $ from 'jquery';\n\nexport default class TargetBranchDropdown {\n  constructor() {\n    this.$dropdown = $('.js-target-branch-dropdown');\n    this.$dropdownToggle = this.$dropdown.find('.dropdown-toggle-text');\n    this.$input = $('#schedule_ref');\n    this.initDefaultBranch();\n    this.initDropdown();\n  }\n\n  initDropdown() {\n    this.$dropdown.glDropdown({\n      data: this.formatBranchesList(),\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: cfg => this.updateInputValue(cfg),\n      text: item => item.name,\n    });\n\n    this.setDropdownToggle();\n  }\n\n  formatBranchesList() {\n    return this.$dropdown.data('data').map(val => ({ name: val }));\n  }\n\n  setDropdownToggle() {\n    const initialValue = this.$input.val();\n\n    this.$dropdownToggle.text(initialValue);\n  }\n\n  initDefaultBranch() {\n    const initialValue = this.$input.val();\n    const defaultBranch = this.$dropdown.data('defaultBranch');\n\n    if (!initialValue) {\n      this.$input.val(defaultBranch);\n    }\n  }\n\n  updateInputValue({ selectedObj, e }) {\n    e.preventDefault();\n\n    this.$input.val(selectedObj.name);\n    gl.pipelineScheduleFieldErrors.updateFormValidityState();\n  }\n}\n","import $ from 'jquery';\nimport Vue from 'vue';\nimport Translate from '../../../../vue_shared/translate';\nimport GlFieldErrors from '../../../../gl_field_errors';\nimport intervalPatternInput from './components/interval_pattern_input.vue';\nimport TimezoneDropdown from './components/timezone_dropdown';\nimport TargetBranchDropdown from './components/target_branch_dropdown';\nimport setupNativeFormVariableList from '../../../../ci_variable_list/native_form_variable_list';\n\nVue.use(Translate);\n\nfunction initIntervalPatternInput() {\n  const intervalPatternMount = document.getElementById('interval-pattern-input');\n  const initialCronInterval = intervalPatternMount\n    ? intervalPatternMount.dataset.initialInterval\n    : '';\n\n  return new Vue({\n    el: intervalPatternMount,\n    components: {\n      intervalPatternInput,\n    },\n    render(createElement) {\n      return createElement('interval-pattern-input', {\n        props: {\n          initialCronInterval,\n        },\n      });\n    },\n  });\n}\n\nexport default () => {\n  /* Most of the form is written in haml, but for fields with more complex behaviors,\n   * you should mount individual Vue components here. If at some point components need\n   * to share state, it may make sense to refactor the whole form to Vue */\n\n  initIntervalPatternInput();\n\n  // Initialize non-Vue JS components in the form\n\n  const formElement = document.getElementById('new-pipeline-schedule-form');\n\n  gl.timezoneDropdown = new TimezoneDropdown();\n  gl.targetBranchDropdown = new TargetBranchDropdown();\n  gl.pipelineScheduleFieldErrors = new GlFieldErrors(formElement);\n\n  setupNativeFormVariableList({\n    container: $('.js-ci-variable-list-section'),\n    formField: 'schedule',\n  });\n};\n"],"sourceRoot":""}