{"version":3,"sources":["webpack:///./vue_shared/components/gl_modal.vue?07a1","webpack:///vue_shared/components/gl_modal.vue","webpack:///./vue_shared/components/gl_modal.vue?ba69","webpack:///./vue_shared/components/gl_modal.vue","webpack:///vue_shared/components/deprecated_modal.vue","webpack:///./vue_shared/components/deprecated_modal.vue?95dd","webpack:///./vue_shared/components/deprecated_modal.vue","webpack:///./vue_shared/components/deprecated_modal.vue?74b0","webpack:///./pages/milestones/shared/components/delete_milestone_modal.vue?28a7","webpack:///pages/milestones/shared/components/delete_milestone_modal.vue","webpack:///./pages/milestones/shared/components/delete_milestone_modal.vue","webpack:///./pages/milestones/shared/components/delete_milestone_modal.vue?1c62","webpack:///./pages/milestones/shared/delete_milestone_modal_init.js","webpack:///./pages/milestones/shared/components/promote_milestone_modal.vue?2e97","webpack:///pages/milestones/shared/components/promote_milestone_modal.vue","webpack:///./pages/milestones/shared/components/promote_milestone_modal.vue","webpack:///./pages/milestones/shared/components/promote_milestone_modal.vue?9e16","webpack:///./pages/milestones/shared/promote_milestone_modal_init.js","webpack:///./pages/milestones/shared/index.js","webpack:///./pages/milestones/shared/event_hub.js"],"names":["buttonVariants","sizeVariants","components_gl_modalvue_type_script_lang_js_","name","props","id","type","String","required","default","modalSize","validator","value","includes","headerTitleText","footerPrimaryButtonVariant","footerPrimaryButtonText","computed","modalSizeClass","this","concat","mounted","jquery_default","$el","on","opened","closed","beforeDestroy","off","methods","emitCancel","event","$emit","emitSubmit","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","tabindex","role","class","_t","_v","_s","aria-label","s__","data-dismiss","click","$event","aria-hidden","options","__file","__webpack_exports__","components_deprecated_modalvue_type_script_lang_js_","title","text","hideFooter","Boolean","kind","modalDialogClass","closeKind","closeButtonLabel","primaryButtonLabel","secondaryButtonLabel","submitDisabled","btnKindClass","_defineProperty","btnCancelKindClass","_e","disabled","components_delete_milestone_modalvue_type_script_lang_js_","components","DeprecatedModal","deprecated_modal","issueCount","Number","mergeRequestCount","milestoneId","milestoneTitle","milestoneUrl","locale","issuesWithCount","mergeRequestsWithCount","onSubmit","_this","event_hub","axios_utils","delete","then","response","successful","url_utility","request","responseURL","catch","error","status","flash","primary-button-label","submit","scopedSlots","_u","key","fn","domProps","innerHTML","delete_milestone_modal","Vue","use","Translate","onRequestFinished","_ref","button","document","querySelector","removeAttribute","classList","add","onRequestStarted","setAttribute","remove","eventHub","$once","onDeleteButtonClick","currentTarget","modalProps","parseInt","dataset","milestoneIssueCount","milestoneMergeRequestCount","deleteMilestoneButtons","querySelectorAll","forEach","addEventListener","el","deleteMilestoneModal","data","$on","setModalProps","$off","render","createElement","components_promote_milestone_modalvue_type_script_lang_js_","GlModal","gl_modal","url","groupName","post","params","format","footer-primary-button-text","footer-primary-button-variant","slot","promote_milestone_modal","initDeleteMilestoneModal","promoteMilestoneButtons","promoteMilestoneComponent","promoteMilestoneModal","getElementById","PromoteMilestoneModal","initPromoteMilestoneModal","vue__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__"],"mappings":"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","file":"pages.milestones.shared.afa35da3.chunk.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":_vm.id,\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\",class:_vm.modalSizeClass,attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_vm._t(\"header\",[_c('h4',{staticClass:\"modal-title\"},[_vm._t(\"title\",[_vm._v(\" \"+_vm._s(_vm.headerTitleText)+\" \")])],2),_vm._v(\" \"),_c('button',{staticClass:\"close js-modal-close-action\",attrs:{\"aria-label\":_vm.s__('Modal|Close'),\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitCancel($event);}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])],2),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"btn js-modal-cancel-action qa-modal-cancel-button\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitCancel($event);}}},[_vm._v(\"\\n            \"+_vm._s(_vm.s__('Modal|Cancel'))+\"\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn js-modal-primary-action qa-modal-primary-button\",class:(\"btn-\" + _vm.footerPrimaryButtonVariant),attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitSubmit($event);}}},[_vm._v(\"\\n            \"+_vm._s(_vm.footerPrimaryButtonText)+\"\\n          \")])])],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport $ from 'jquery';\n\nconst buttonVariants = ['danger', 'primary', 'success', 'warning'];\nconst sizeVariants = ['sm', 'md', 'lg', 'xl'];\n\nexport default {\n  name: 'GlModal',\n  props: {\n    id: {\n      type: String,\n      required: false,\n      default: null,\n    },\n    modalSize: {\n      type: String,\n      required: false,\n      default: 'md',\n      validator: value => sizeVariants.includes(value),\n    },\n    headerTitleText: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    footerPrimaryButtonVariant: {\n      type: String,\n      required: false,\n      default: 'primary',\n      validator: value => buttonVariants.includes(value),\n    },\n    footerPrimaryButtonText: {\n      type: String,\n      required: false,\n      default: '',\n    },\n  },\n  computed: {\n    modalSizeClass() {\n      return this.modalSize === 'md' ? '' : `modal-${this.modalSize}`;\n    },\n  },\n  mounted() {\n    $(this.$el)\n      .on('shown.bs.modal', this.opened)\n      .on('hidden.bs.modal', this.closed);\n  },\n  beforeDestroy() {\n    $(this.$el)\n      .off('shown.bs.modal', this.opened)\n      .off('hidden.bs.modal', this.closed);\n  },\n  methods: {\n    emitCancel(event) {\n      this.$emit('cancel', event);\n    },\n    emitSubmit(event) {\n      this.$emit('submit', event);\n    },\n    opened() {\n      this.$emit('open');\n    },\n    closed() {\n      this.$emit('closed');\n    },\n  },\n};\n</script>\n\n<template>\n  <div :id=\"id\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\">\n    <div :class=\"modalSizeClass\" class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <slot name=\"header\">\n            <h4 class=\"modal-title\">\n              <slot name=\"title\"> {{ headerTitleText }} </slot>\n            </h4>\n            <button\n              :aria-label=\"s__('Modal|Close')\"\n              type=\"button\"\n              class=\"close js-modal-close-action\"\n              data-dismiss=\"modal\"\n              @click=\"emitCancel($event);\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </slot>\n        </div>\n\n        <div class=\"modal-body\"><slot></slot></div>\n\n        <div class=\"modal-footer\">\n          <slot name=\"footer\">\n            <button\n              type=\"button\"\n              class=\"btn js-modal-cancel-action qa-modal-cancel-button\"\n              data-dismiss=\"modal\"\n              @click=\"emitCancel($event);\"\n            >\n              {{ s__('Modal|Cancel') }}\n            </button>\n            <button\n              :class=\"`btn-${footerPrimaryButtonVariant}`\"\n              type=\"button\"\n              class=\"btn js-modal-primary-action qa-modal-primary-button\"\n              data-dismiss=\"modal\"\n              @click=\"emitSubmit($event);\"\n            >\n              {{ footerPrimaryButtonText }}\n            </button>\n          </slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gl_modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gl_modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./gl_modal.vue?vue&type=template&id=3bea753a&\"\nimport script from \"./gl_modal.vue?vue&type=script&lang=js&\"\nexport * from \"./gl_modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"gl_modal.vue\"\nexport default component.exports","<script>\n/* eslint-disable vue/require-default-prop */\nexport default {\n  name: 'DeprecatedModal', // use GlModal instead\n\n  props: {\n    id: {\n      type: String,\n      required: false,\n    },\n    title: {\n      type: String,\n      required: false,\n    },\n    text: {\n      type: String,\n      required: false,\n    },\n    hideFooter: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    kind: {\n      type: String,\n      required: false,\n      default: 'primary',\n    },\n    modalDialogClass: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    closeKind: {\n      type: String,\n      required: false,\n      default: 'default',\n    },\n    closeButtonLabel: {\n      type: String,\n      required: false,\n      default: 'Cancel',\n    },\n    primaryButtonLabel: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    secondaryButtonLabel: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    submitDisabled: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n  },\n\n  computed: {\n    btnKindClass() {\n      return {\n        [`btn-${this.kind}`]: true,\n      };\n    },\n    btnCancelKindClass() {\n      return {\n        [`btn-${this.closeKind}`]: true,\n      };\n    },\n  },\n\n  methods: {\n    emitCancel(event) {\n      this.$emit('cancel', event);\n    },\n    emitSubmit(event) {\n      this.$emit('submit', event);\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"modal-open\">\n    <div :id=\"id\" :class=\"id ? '' : 'd-block'\" class=\"modal\" role=\"dialog\" tabindex=\"-1\">\n      <div :class=\"modalDialogClass\" class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <slot name=\"header\">\n              <h4 class=\"modal-title float-left\">{{ title }}</h4>\n              <button\n                type=\"button\"\n                class=\"close float-right\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n                @click=\"emitCancel($event);\"\n              >\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </slot>\n          </div>\n          <div class=\"modal-body\">\n            <slot :text=\"text\" name=\"body\">\n              <p>{{ text }}</p>\n            </slot>\n          </div>\n          <div v-if=\"!hideFooter\" class=\"modal-footer\">\n            <button\n              :class=\"btnCancelKindClass\"\n              type=\"button\"\n              class=\"btn\"\n              data-dismiss=\"modal\"\n              @click=\"emitCancel($event);\"\n            >\n              {{ closeButtonLabel }}\n            </button>\n\n            <slot v-if=\"secondaryButtonLabel\" name=\"secondary-button\">\n              <button v-if=\"secondaryButtonLabel\" type=\"button\" class=\"btn\" data-dismiss=\"modal\">\n                {{ secondaryButtonLabel }}\n              </button>\n            </slot>\n\n            <button\n              v-if=\"primaryButtonLabel\"\n              :disabled=\"submitDisabled\"\n              :class=\"btnKindClass\"\n              type=\"button\"\n              class=\"btn js-primary-button\"\n              data-dismiss=\"modal\"\n              @click=\"emitSubmit($event);\"\n            >\n              {{ primaryButtonLabel }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"!id\" class=\"modal-backdrop fade show\"></div>\n  </div>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deprecated_modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deprecated_modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deprecated_modal.vue?vue&type=template&id=77ed7938&\"\nimport script from \"./deprecated_modal.vue?vue&type=script&lang=js&\"\nexport * from \"./deprecated_modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"deprecated_modal.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-open\"},[_c('div',{staticClass:\"modal\",class:_vm.id ? '' : 'd-block',attrs:{\"id\":_vm.id,\"role\":\"dialog\",\"tabindex\":\"-1\"}},[_c('div',{staticClass:\"modal-dialog\",class:_vm.modalDialogClass,attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_vm._t(\"header\",[_c('h4',{staticClass:\"modal-title float-left\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('button',{staticClass:\"close float-right\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},on:{\"click\":function($event){_vm.emitCancel($event);}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])],2),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_vm._t(\"body\",[_c('p',[_vm._v(_vm._s(_vm.text))])],{text:_vm.text})],2),_vm._v(\" \"),(!_vm.hideFooter)?_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn\",class:_vm.btnCancelKindClass,attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitCancel($event);}}},[_vm._v(\"\\n            \"+_vm._s(_vm.closeButtonLabel)+\"\\n          \")]),_vm._v(\" \"),(_vm.secondaryButtonLabel)?_vm._t(\"secondary-button\",[(_vm.secondaryButtonLabel)?_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.secondaryButtonLabel)+\"\\n            \")]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.primaryButtonLabel)?_c('button',{staticClass:\"btn js-primary-button\",class:_vm.btnKindClass,attrs:{\"disabled\":_vm.submitDisabled,\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitSubmit($event);}}},[_vm._v(\"\\n            \"+_vm._s(_vm.primaryButtonLabel)+\"\\n          \")]):_vm._e()],2):_vm._e()])])]),_vm._v(\" \"),(!_vm.id)?_c('div',{staticClass:\"modal-backdrop fade show\"}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delete_milestone_modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delete_milestone_modal.vue?vue&type=script&lang=js&\"","<script>\nimport axios from '~/lib/utils/axios_utils';\n\nimport Flash from '~/flash';\nimport DeprecatedModal from '~/vue_shared/components/deprecated_modal.vue';\nimport { n__, s__, sprintf } from '~/locale';\nimport { redirectTo } from '~/lib/utils/url_utility';\nimport eventHub from '../event_hub';\n\nexport default {\n  components: {\n    DeprecatedModal,\n  },\n  props: {\n    issueCount: {\n      type: Number,\n      required: true,\n    },\n    mergeRequestCount: {\n      type: Number,\n      required: true,\n    },\n    milestoneId: {\n      type: Number,\n      required: true,\n    },\n    milestoneTitle: {\n      type: String,\n      required: true,\n    },\n    milestoneUrl: {\n      type: String,\n      required: true,\n    },\n  },\n  computed: {\n    text() {\n      const milestoneTitle = sprintf('<strong>%{milestoneTitle}</strong>', {\n        milestoneTitle: this.milestoneTitle,\n      });\n\n      if (this.issueCount === 0 && this.mergeRequestCount === 0) {\n        return sprintf(\n          s__(`Milestones|\nYou’re about to permanently delete the milestone %{milestoneTitle}.\nThis milestone is not currently used in any issues or merge requests.`),\n          {\n            milestoneTitle,\n          },\n          false,\n        );\n      }\n\n      return sprintf(\n        s__(`Milestones|\nYou’re about to permanently delete the milestone %{milestoneTitle} and remove it from %{issuesWithCount} and %{mergeRequestsWithCount}.\nOnce deleted, it cannot be undone or recovered.`),\n        {\n          milestoneTitle,\n          issuesWithCount: n__('%d issue', '%d issues', this.issueCount),\n          mergeRequestsWithCount: n__(\n            '%d merge request',\n            '%d merge requests',\n            this.mergeRequestCount,\n          ),\n        },\n        false,\n      );\n    },\n    title() {\n      return sprintf(s__('Milestones|Delete milestone %{milestoneTitle}?'), {\n        milestoneTitle: this.milestoneTitle,\n      });\n    },\n  },\n  methods: {\n    onSubmit() {\n      eventHub.$emit('deleteMilestoneModal.requestStarted', this.milestoneUrl);\n\n      return axios\n        .delete(this.milestoneUrl)\n        .then(response => {\n          eventHub.$emit('deleteMilestoneModal.requestFinished', {\n            milestoneUrl: this.milestoneUrl,\n            successful: true,\n          });\n\n          // follow the rediect to milestones overview page\n          redirectTo(response.request.responseURL);\n        })\n        .catch(error => {\n          eventHub.$emit('deleteMilestoneModal.requestFinished', {\n            milestoneUrl: this.milestoneUrl,\n            successful: false,\n          });\n\n          if (error.response && error.response.status === 404) {\n            Flash(\n              sprintf(s__('Milestones|Milestone %{milestoneTitle} was not found'), {\n                milestoneTitle: this.milestoneTitle,\n              }),\n            );\n          } else {\n            Flash(\n              sprintf(s__('Milestones|Failed to delete milestone %{milestoneTitle}'), {\n                milestoneTitle: this.milestoneTitle,\n              }),\n            );\n          }\n          throw error;\n        });\n    },\n  },\n};\n</script>\n\n<template>\n  <deprecated-modal\n    id=\"delete-milestone-modal\"\n    :title=\"title\"\n    :text=\"text\"\n    :primary-button-label=\"s__('Milestones|Delete milestone')\"\n    kind=\"danger\"\n    @submit=\"onSubmit\"\n  >\n    <template slot=\"body\" slot-scope=\"props\">\n      <p v-html=\"props.text\"></p>\n    </template>\n  </deprecated-modal>\n</template>\n","import { render, staticRenderFns } from \"./delete_milestone_modal.vue?vue&type=template&id=68176018&\"\nimport script from \"./delete_milestone_modal.vue?vue&type=script&lang=js&\"\nexport * from \"./delete_milestone_modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"delete_milestone_modal.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('deprecated-modal',{attrs:{\"id\":\"delete-milestone-modal\",\"title\":_vm.title,\"text\":_vm.text,\"primary-button-label\":_vm.s__('Milestones|Delete milestone'),\"kind\":\"danger\"},on:{\"submit\":_vm.onSubmit},scopedSlots:_vm._u([{key:\"body\",fn:function(props){return [_c('p',{domProps:{\"innerHTML\":_vm._s(props.text)}})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport Translate from '~/vue_shared/translate';\nimport deleteMilestoneModal from './components/delete_milestone_modal.vue';\nimport eventHub from './event_hub';\n\nexport default () => {\n  Vue.use(Translate);\n\n  const onRequestFinished = ({ milestoneUrl, successful }) => {\n    const button = document.querySelector(\n      `.js-delete-milestone-button[data-milestone-url=\"${milestoneUrl}\"]`,\n    );\n\n    if (!successful) {\n      button.removeAttribute('disabled');\n    }\n\n    button.querySelector('.js-loading-icon').classList.add('hidden');\n  };\n\n  const onRequestStarted = milestoneUrl => {\n    const button = document.querySelector(\n      `.js-delete-milestone-button[data-milestone-url=\"${milestoneUrl}\"]`,\n    );\n    button.setAttribute('disabled', '');\n    button.querySelector('.js-loading-icon').classList.remove('hidden');\n    eventHub.$once('deleteMilestoneModal.requestFinished', onRequestFinished);\n  };\n\n  const onDeleteButtonClick = event => {\n    const button = event.currentTarget;\n    const modalProps = {\n      milestoneId: parseInt(button.dataset.milestoneId, 10),\n      milestoneTitle: button.dataset.milestoneTitle,\n      milestoneUrl: button.dataset.milestoneUrl,\n      issueCount: parseInt(button.dataset.milestoneIssueCount, 10),\n      mergeRequestCount: parseInt(button.dataset.milestoneMergeRequestCount, 10),\n    };\n    eventHub.$once('deleteMilestoneModal.requestStarted', onRequestStarted);\n    eventHub.$emit('deleteMilestoneModal.props', modalProps);\n  };\n\n  const deleteMilestoneButtons = document.querySelectorAll('.js-delete-milestone-button');\n  deleteMilestoneButtons.forEach(button => {\n    button.addEventListener('click', onDeleteButtonClick);\n  });\n\n  eventHub.$once('deleteMilestoneModal.mounted', () => {\n    deleteMilestoneButtons.forEach(button => {\n      button.removeAttribute('disabled');\n    });\n  });\n\n  return new Vue({\n    el: '#delete-milestone-modal',\n    components: {\n      deleteMilestoneModal,\n    },\n    data() {\n      return {\n        modalProps: {\n          milestoneId: -1,\n          milestoneTitle: '',\n          milestoneUrl: '',\n          issueCount: -1,\n          mergeRequestCount: -1,\n        },\n      };\n    },\n    mounted() {\n      eventHub.$on('deleteMilestoneModal.props', this.setModalProps);\n      eventHub.$emit('deleteMilestoneModal.mounted');\n    },\n    beforeDestroy() {\n      eventHub.$off('deleteMilestoneModal.props', this.setModalProps);\n    },\n    methods: {\n      setModalProps(modalProps) {\n        this.modalProps = modalProps;\n      },\n    },\n    render(createElement) {\n      return createElement(deleteMilestoneModal, {\n        props: this.modalProps,\n      });\n    },\n  });\n};\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./promote_milestone_modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./promote_milestone_modal.vue?vue&type=script&lang=js&\"","<script>\nimport axios from '~/lib/utils/axios_utils';\nimport createFlash from '~/flash';\nimport GlModal from '~/vue_shared/components/gl_modal.vue';\nimport { s__, sprintf } from '~/locale';\nimport { visitUrl } from '~/lib/utils/url_utility';\nimport eventHub from '../event_hub';\n\nexport default {\n  components: {\n    GlModal,\n  },\n  props: {\n    milestoneTitle: {\n      type: String,\n      required: true,\n    },\n    url: {\n      type: String,\n      required: true,\n    },\n    groupName: {\n      type: String,\n      required: true,\n    },\n  },\n  computed: {\n    title() {\n      return sprintf(s__('Milestones|Promote %{milestoneTitle} to group milestone?'), {\n        milestoneTitle: this.milestoneTitle,\n      });\n    },\n    text() {\n      return sprintf(\n        s__(`Milestones|Promoting %{milestoneTitle} will make it available for all projects inside %{groupName}.\n        Existing project milestones with the same title will be merged.\n        This action cannot be reversed.`),\n        { milestoneTitle: this.milestoneTitle, groupName: this.groupName },\n      );\n    },\n  },\n  methods: {\n    onSubmit() {\n      eventHub.$emit('promoteMilestoneModal.requestStarted', this.url);\n      return axios\n        .post(this.url, { params: { format: 'json' } })\n        .then(response => {\n          eventHub.$emit('promoteMilestoneModal.requestFinished', {\n            milestoneUrl: this.url,\n            successful: true,\n          });\n          visitUrl(response.data.url);\n        })\n        .catch(error => {\n          eventHub.$emit('promoteMilestoneModal.requestFinished', {\n            milestoneUrl: this.url,\n            successful: false,\n          });\n          createFlash(error);\n        });\n    },\n  },\n};\n</script>\n<template>\n  <gl-modal\n    id=\"promote-milestone-modal\"\n    :footer-primary-button-text=\"s__('Milestones|Promote Milestone')\"\n    footer-primary-button-variant=\"warning\"\n    @submit=\"onSubmit\"\n  >\n    <template slot=\"title\">\n      {{ title }}\n    </template>\n    {{ text }}\n  </gl-modal>\n</template>\n","import { render, staticRenderFns } from \"./promote_milestone_modal.vue?vue&type=template&id=4d660f1d&\"\nimport script from \"./promote_milestone_modal.vue?vue&type=script&lang=js&\"\nexport * from \"./promote_milestone_modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"promote_milestone_modal.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('gl-modal',{attrs:{\"id\":\"promote-milestone-modal\",\"footer-primary-button-text\":_vm.s__('Milestones|Promote Milestone'),\"footer-primary-button-variant\":\"warning\"},on:{\"submit\":_vm.onSubmit}},[_c('template',{slot:\"title\"},[_vm._v(\"\\n    \"+_vm._s(_vm.title)+\"\\n  \")]),_vm._v(\"\\n  \"+_vm._s(_vm.text)+\"\\n\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport Translate from '~/vue_shared/translate';\nimport PromoteMilestoneModal from './components/promote_milestone_modal.vue';\nimport eventHub from './event_hub';\n\nVue.use(Translate);\n\nexport default () => {\n  const onRequestFinished = ({ milestoneUrl, successful }) => {\n    const button = document.querySelector(\n      `.js-promote-project-milestone-button[data-url=\"${milestoneUrl}\"]`,\n    );\n\n    if (!successful) {\n      button.removeAttribute('disabled');\n    }\n  };\n\n  const onRequestStarted = milestoneUrl => {\n    const button = document.querySelector(\n      `.js-promote-project-milestone-button[data-url=\"${milestoneUrl}\"]`,\n    );\n    button.setAttribute('disabled', '');\n    eventHub.$once('promoteMilestoneModal.requestFinished', onRequestFinished);\n  };\n\n  const onDeleteButtonClick = event => {\n    const button = event.currentTarget;\n    const modalProps = {\n      milestoneTitle: button.dataset.milestoneTitle,\n      url: button.dataset.url,\n      groupName: button.dataset.groupName,\n    };\n    eventHub.$once('promoteMilestoneModal.requestStarted', onRequestStarted);\n    eventHub.$emit('promoteMilestoneModal.props', modalProps);\n  };\n\n  const promoteMilestoneButtons = document.querySelectorAll('.js-promote-project-milestone-button');\n  promoteMilestoneButtons.forEach(button => {\n    button.addEventListener('click', onDeleteButtonClick);\n  });\n\n  eventHub.$once('promoteMilestoneModal.mounted', () => {\n    promoteMilestoneButtons.forEach(button => {\n      button.removeAttribute('disabled');\n    });\n  });\n\n  const promoteMilestoneModal = document.getElementById('promote-milestone-modal');\n  let promoteMilestoneComponent;\n\n  if (promoteMilestoneModal) {\n    promoteMilestoneComponent = new Vue({\n      el: promoteMilestoneModal,\n      components: {\n        PromoteMilestoneModal,\n      },\n      data() {\n        return {\n          modalProps: {\n            milestoneTitle: '',\n            groupName: '',\n            url: '',\n          },\n        };\n      },\n      mounted() {\n        eventHub.$on('promoteMilestoneModal.props', this.setModalProps);\n        eventHub.$emit('promoteMilestoneModal.mounted');\n      },\n      beforeDestroy() {\n        eventHub.$off('promoteMilestoneModal.props', this.setModalProps);\n      },\n      methods: {\n        setModalProps(modalProps) {\n          this.modalProps = modalProps;\n        },\n      },\n      render(createElement) {\n        return createElement('promote-milestone-modal', {\n          props: this.modalProps,\n        });\n      },\n    });\n  }\n\n  return promoteMilestoneComponent;\n};\n","import initDeleteMilestoneModal from './delete_milestone_modal_init';\nimport initPromoteMilestoneModal from './promote_milestone_modal_init';\n\nexport default () => {\n  initDeleteMilestoneModal();\n  initPromoteMilestoneModal();\n};\n","import Vue from 'vue';\n\nexport default new Vue();\n"],"sourceRoot":""}