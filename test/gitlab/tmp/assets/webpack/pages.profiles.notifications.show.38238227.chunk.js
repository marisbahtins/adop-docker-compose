(this.webpackJsonp=this.webpackJsonp||[]).push([[87],{1198:function(n,t,e){e(42),e(354),n.exports=e(1199)},1199:function(n,t,e){"use strict";e.r(t);var i=e(289),o=e(288);document.addEventListener("DOMContentLoaded",function(){new i.a,Object(o.a)()})},288:function(n,t,e){"use strict";e.d(t,"a",function(){return s});var i=e(0),o=e.n(i),a=e(7);function s(){o()(document).on("click",".update-notification",function(n){if(n.preventDefault(),!o()(this).is(".is-active")||"custom"!==o()(this).data("notificationLevel")){var t=o()(this).data("notificationLevel"),e=o()(this).parents(".notification-form:first");e.find(".js-notification-loading").toggleClass("fa-bell fa-spin fa-spinner"),e.hasClass("no-label")&&(e.find(".js-notification-loading").toggleClass("hidden"),e.find(".js-notifications-icon").toggleClass("hidden")),e.find("#notification_setting_level").val(t),e.submit()}}),o()(document).on("ajax:success",".notification-form",function(n,t){t.saved?o()(n.currentTarget).closest(".js-notification-dropdown").replaceWith(t.html):Object(a.a)("Failed to save new settings","alert")})}},289:function(n,t,e){"use strict";e.d(t,"a",function(){return f});var i=e(0),o=e.n(i),a=e(1),s=e(6),c=e(7);function r(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var f=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.initEventListeners()}var t,e,i;return t=n,(e=[{key:"initEventListeners",value:function(){o()(document).on("change",".js-custom-notification-event",this.toggleCheckbox)}},{key:"toggleCheckbox",value:function(n){var t=o()(n.currentTarget),e=t.closest(".form-check");this.saveEvent(t,e)}},{key:"showCheckboxLoadingSpinner",value:function(n){n.addClass("is-loading").find(".custom-notification-event-loading").removeClass("fa-check").addClass("fa-spin fa-spinner").removeClass("is-done")}},{key:"saveEvent",value:function(n,t){var e=t.parents("form:first");this.showCheckboxLoadingSpinner(t),s.a[e.attr("method")](e.attr("action"),e.serialize()).then(function(e){var i=e.data;n.enable(),i.saved&&(t.find(".custom-notification-event-loading").toggleClass("fa-spin fa-spinner fa-check is-done"),setTimeout(function(){t.removeClass("is-loading").find(".custom-notification-event-loading").toggleClass("fa-spin fa-spinner fa-check is-done")},2e3))}).catch(function(){return Object(c.a)(Object(a.a)("There was an error saving your notification settings."))})}}])&&r(t.prototype,e),i&&r(t,i),n}()}},[[1198,1,0,5]]]);
//# sourceMappingURL=pages.profiles.notifications.show.38238227.chunk.js.map