(this.webpackJsonp=this.webpackJsonp||[]).push([[159],{1353:function(t,e,n){n(42),n(44),t.exports=n(1402)},1402:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"fetchRepos",function(){return _}),n.d(r,"fetchList",function(){return y}),n.d(r,"deleteRepo",function(){return j}),n.d(r,"deleteRegistry",function(){return O}),n.d(r,"setMainEndpoint",function(){return w}),n.d(r,"toggleLoading",function(){return S}),n.d(r,"default",function(){return I});var o={};n.r(o),n.d(o,"isLoading",function(){return T}),n.d(o,"repos",function(){return P}),n.d(o,"default",function(){return E});var i,a=n(11),s=n(18),c=n(10),u=n(6),l=n(7),p=n(1);function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f,h="FETCH_REGISTRY",g="FETCH_REPOS",b="DELETE_REPO",m="DELETE_REGISTRY",v=(d(i={},h,Object(p.a)("Something went wrong while fetching the registry list.")),d(i,g,Object(p.a)("Something went wrong while fetching the projects.")),d(i,b,Object(p.a)("Something went wrong on our end.")),d(i,m,Object(p.a)("Something went wrong on our end.")),i),_=function(t){var e=t.commit,n=t.state;return e("TOGGLE_MAIN_LOADING"),u.a.get(n.endpoint).then(function(t){var n=t.data;e("TOGGLE_MAIN_LOADING"),e("SET_REPOS_LIST",n)}).catch(function(){e("TOGGLE_MAIN_LOADING"),Object(l.a)(v[g])})},y=function(t,e){var n=t.commit,r=e.repo,o=e.page;return n("TOGGLE_REGISTRY_LIST_LOADING",r),u.a.get(r.tagsPath,{params:{page:o}}).then(function(t){var e=t.headers,o=t.data;n("TOGGLE_REGISTRY_LIST_LOADING",r),n("SET_REGISTRY_LIST",{repo:r,resp:o,headers:e})}).catch(function(){n("TOGGLE_REGISTRY_LIST_LOADING",r),Object(l.a)(v[h])})},j=function(t,e){t.commit;return u.a.delete(e.destroyPath)},O=function(t,e){t.commit;return u.a.delete(e.destroyPath)},w=function(t,e){return(0,t.commit)("SET_MAIN_ENDPOINT",e)},S=function(t){return(0,t.commit)("TOGGLE_MAIN_LOADING")},I=function(){},T=function(t){return t.isLoading},P=function(t){return t.repos},E=function(){},L=n(13);function R(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=(R(f={},"SET_MAIN_ENDPOINT",function(t,e){Object.assign(t,{endpoint:e})}),R(f,"SET_REPOS_LIST",function(t,e){Object.assign(t,{repos:e.map(function(t){return{canDelete:!!t.destroy_path,destroyPath:t.destroy_path,id:t.id,isLoading:!1,list:[],location:t.location,name:t.path,tagsPath:t.tags_path}})})}),R(f,"TOGGLE_MAIN_LOADING",function(t){Object.assign(t,{isLoading:!t.isLoading})}),R(f,"SET_REGISTRY_LIST",function(t,e){var n=e.repo,r=e.resp,o=e.headers,i=t.repos.find(function(t){return t.id===n.id}),a=Object(L.y)(o),s=Object(L.B)(a);i.pagination=s,i.list=r.map(function(t){return{tag:t.name,revision:t.revision,shortRevision:t.short_revision,size:t.total_size,layers:t.layers,location:t.location,createdAt:t.created_at,destroyPath:t.destroy_path,canDelete:!!t.destroy_path}})}),R(f,"TOGGLE_REGISTRY_LIST_LOADING",function(t,e){var n=t.repos.find(function(t){return t.id===e.id});n.isLoading=!n.isLoading}),f);a.default.use(s.a);var C=new s.a.Store({state:{isLoading:!1,endpoint:"",repos:[]},actions:r,getters:o,mutations:x}),k=n(174),N=n(15),G=n(195),D=n(84),A=n(148);function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q={components:{ClipboardButton:k.a,TablePagination:G.a,GlButton:c.b,Icon:N.a},directives:{GlTooltip:c.n},mixins:[D.a],props:{repo:{type:Object,required:!0}},computed:{shouldRenderPagination:function(){return this.repo.pagination.total>this.repo.pagination.perPage}},methods:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){B(t,e,n[e])})}return t}({},Object(s.b)(["fetchList","deleteRegistry"]),{layers:function(t){return t.layers?Object(p.d)("%d layer","%d layers",t.layers):""},formatSize:function(t){return Object(A.c)(t)},handleDeleteRegistry:function(t){var e=this;this.deleteRegistry(t).then(function(){return e.fetchList({repo:e.repo})}).catch(function(){return e.showError(m)})},onPageChange:function(t){var e=this;this.fetchList({repo:this.repo,page:t}).catch(function(){return e.showError(h)})},showError:function(t){Object(l.a)(v[t])}})},M=n(3),F=Object(M.a)(q,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"table tags"},[n("thead",[n("tr",[n("th",[t._v(t._s(t.s__("ContainerRegistry|Tag")))]),t._v(" "),n("th",[t._v(t._s(t.s__("ContainerRegistry|Tag ID")))]),t._v(" "),n("th",[t._v(t._s(t.s__("ContainerRegistry|Size")))]),t._v(" "),n("th",[t._v(t._s(t.s__("ContainerRegistry|Created")))]),t._v(" "),n("th")])]),t._v(" "),n("tbody",t._l(t.repo.list,function(e){return n("tr",{key:e.tag},[n("td",[t._v("\n          "+t._s(e.tag)+"\n          "),e.location?n("clipboard-button",{attrs:{title:e.location,text:e.location,"css-class":"btn-default btn-transparent btn-clipboard"}}):t._e()],1),t._v(" "),n("td",[n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],attrs:{title:e.revision}},[t._v(t._s(e.shortRevision))])]),t._v(" "),n("td",[t._v("\n          "+t._s(t.formatSize(e.size))+"\n          "),e.size&&e.layers?[t._v("·")]:t._e(),t._v("\n          "+t._s(t.layers(e))+"\n        ")],2),t._v(" "),n("td",[n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],attrs:{title:t.tooltipTitle(e.createdAt)}},[t._v(t._s(t.timeFormated(e.createdAt)))])]),t._v(" "),n("td",{staticClass:"content"},[e.canDelete?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-delete-registry d-none d-sm-block float-right",attrs:{title:t.s__("ContainerRegistry|Remove tag"),"aria-label":t.s__("ContainerRegistry|Remove tag"),variant:"danger"},on:{click:function(n){t.handleDeleteRegistry(e)}}},[n("icon",{attrs:{name:"remove"}})],1):t._e()],1)])}),0)]),t._v(" "),t.shouldRenderPagination?n("table-pagination",{attrs:{change:t.onPageChange,"page-info":t.repo.pagination}}):t._e()],1)},[],!1,null,null,null);F.options.__file="table_registry.vue";var z=F.exports;function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J={name:"CollapsibeContainerRegisty",components:{ClipboardButton:k.a,TableRegistry:z,GlLoadingIcon:c.e,GlButton:c.b,Icon:N.a},directives:{GlTooltip:c.n},props:{repo:{type:Object,required:!0}},data:function(){return{isOpen:!1}},computed:{iconName:function(){return this.isOpen?"angle-up":"angle-right"}},methods:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Y(t,e,n[e])})}return t}({},Object(s.b)(["fetchRepos","fetchList","deleteRepo"]),{toggleRepo:function(){this.isOpen=!this.isOpen,this.isOpen&&this.fetchList({repo:this.repo})},handleDeleteRepository:function(){var t=this;this.deleteRepo(this.repo).then(function(){Object(l.a)(Object(p.a)("This container registry has been scheduled for deletion."),"notice"),t.fetchRepos()}).catch(function(){return t.showError(b)})},showError:function(t){Object(l.a)(v[t])}})},$=Object(M.a)(J,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-image"},[n("div",{staticClass:"container-image-head"},[n("gl-button",{staticClass:"js-toggle-repo btn-link align-baseline",on:{click:t.toggleRepo}},[n("icon",{attrs:{name:t.iconName}}),t._v(" "+t._s(t.repo.name)+"\n    ")],1),t._v(" "),t.repo.location?n("clipboard-button",{attrs:{text:t.repo.location,title:t.repo.location,"css-class":"btn-default btn-transparent btn-clipboard"}}):t._e(),t._v(" "),n("div",{staticClass:"controls d-none d-sm-block float-right"},[t.repo.canDelete?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-remove-repo",attrs:{title:t.s__("ContainerRegistry|Remove repository"),"aria-label":t.s__("ContainerRegistry|Remove repository"),variant:"danger"},on:{click:t.handleDeleteRepository}},[n("icon",{attrs:{name:"remove"}})],1):t._e()],1)],1),t._v(" "),t.repo.isLoading?n("gl-loading-icon",{staticClass:"append-bottom-20",attrs:{size:2}}):!t.repo.isLoading&&t.isOpen?n("div",{staticClass:"container-image-tags"},[t.repo.list.length?n("table-registry",{attrs:{repo:t.repo}}):n("div",{staticClass:"nothing-here-block"},[t._v("\n      "+t._s(t.s__("ContainerRegistry|No tags in Container Registry for this container image."))+"\n    ")])],1):t._e()],1)},[],!1,null,null,null);function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){H(t,e,n[e])})}return t}function H(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}$.options.__file="collapsible_container.vue";var V={name:"RegistryListApp",components:{CollapsibleContainer:$.exports,GlLoadingIcon:c.e},props:{endpoint:{type:String,required:!0}},store:C,computed:K({},Object(s.c)(["isLoading","repos"])),created:function(){this.setMainEndpoint(this.endpoint)},mounted:function(){this.fetchRepos()},methods:K({},Object(s.b)(["setMainEndpoint","fetchRepos"]))},U=Object(M.a)(V,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?n("gl-loading-icon",{attrs:{size:3}}):!t.isLoading&&t.repos.length?t._l(t.repos,function(t){return n("collapsible-container",{key:t.id,attrs:{repo:t}})}):t.isLoading||t.repos.length?t._e():n("p",[t._v("\n      "+t._s(t.__("No container images stored for this project.\nAdd one by following the instructions above."))+"\n    ")])],2)},[],!1,null,null,null);U.options.__file="app.vue";var Q=U.exports,W=n(78);a.default.use(W.a);document.addEventListener("DOMContentLoaded",function(){return new a.default({el:"#js-vue-registry-images",components:{registryApp:Q},data:function(){return{endpoint:document.querySelector(this.$options.el).dataset.endpoint}},render:function(t){return t("registry-app",{props:{endpoint:this.endpoint}})}})})},148:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a}),n.d(e,"c",function(){return s});var r=n(50);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){var e=0,n="";if(!Number.isNaN(Number(t))){switch(o(t.toString().split("."),1)[0].length){case 1:e=3;break;case 2:e=2;break;case 3:e=1;break;default:e=4}n=Number(t).toFixed(e)}return n}function a(t){return t/(r.a*r.a)}function s(t){return t<r.a?"".concat(t," bytes"):t<r.a*r.a?"".concat((e=t,e/r.a).toFixed(2)," KiB"):t<r.a*r.a*r.a?"".concat(a(t).toFixed(2)," MiB"):"".concat(function(t){return t/(r.a*r.a*r.a)}(t).toFixed(2)," GiB");var e}},174:function(t,e,n){"use strict";var r=n(10),o=n(15),i={name:"ClipboardButton",directives:{GlTooltip:r.n},components:{GlButton:r.b,Icon:o.a},props:{text:{type:String,required:!0},gfm:{type:String,required:!1,default:null},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:[String,Boolean],required:!1,default:!1},cssClass:{type:String,required:!1,default:"btn-default"}},computed:{clipboardText:function(){return null!==this.gfm?JSON.stringify({text:this.text,gfm:this.gfm}):this.text}}},a=n(3),s=Object(a.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:this.tooltipPlacement,container:this.tooltipContainer},expression:"{ placement: tooltipPlacement, container: tooltipContainer }"}],class:this.cssClass,attrs:{title:this.title,"data-clipboard-text":this.clipboardText}},[e("icon",{attrs:{name:"duplicate"}})],1)},[],!1,null,null,null);s.options.__file="clipboard_button.vue";e.a=s.exports},195:function(t,e,n){"use strict";var r=n(1),o=Object(r.e)("Pagination|Prev"),i=Object(r.e)("Pagination|Next"),a=Object(r.e)("Pagination|« First"),s=Object(r.e)("Pagination|Last »"),c={props:{change:{type:Function,required:!0},pageInfo:{type:Object,required:!0}},computed:{prev:function(){return this.pageInfo.previousPage},next:function(){return this.pageInfo.nextPage},getItems:function(){var t=this.pageInfo.totalPages,e=this.pageInfo.page,n=[];e>1&&n.push({title:a,first:!0}),e>1?n.push({title:o,prev:!0}):n.push({title:o,disabled:!0,prev:!0}),e>6&&n.push({title:"...",separator:!0});for(var r=Math.max(e-4,1),c=Math.min(e+4,t),u=r;u<=c;u+=1){var l=u===e;n.push({title:u,active:l,page:!0})}return t-e>4&&n.push({title:"...",separator:!0,page:!0}),e===t?n.push({title:i,disabled:!0,next:!0}):t-e>=1&&n.push({title:i,next:!0}),t-e>=1&&n.push({title:s,last:!0}),n},showPagination:function(){return this.pageInfo.totalPages>1}},methods:{changePage:function(t,e){if(!e){var n=this.pageInfo,r=n.totalPages,c=n.nextPage,u=n.previousPage;switch(t){case"...":break;case s:this.change(r);break;case i:this.change(c);break;case o:this.change(u);break;case a:this.change(1);break;default:this.change(+t)}}},hideOnSmallScreen:function(t){return!(t.first||t.last||t.next||t.prev||t.active)}}},u=n(3),l=Object(u.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPagination?n("div",{staticClass:"gl-pagination prepend-top-default"},[n("ul",{staticClass:"pagination justify-content-center"},t._l(t.getItems,function(e,r){return n("li",{key:r,staticClass:"page-item",class:{page:e.page,"js-previous-button":e.prev,"js-next-button":e.next,"js-last-button":e.last,"js-first-button":e.first,"d-none d-md-block":t.hideOnSmallScreen(e),separator:e.separator,active:e.active,disabled:e.disabled||e.separator}},[n("a",{staticClass:"page-link",on:{click:function(n){n.preventDefault(),t.changePage(e.title,e.disabled)}}},[t._v("\n        "+t._s(e.title)+"\n      ")])])}),0)]):t._e()},[],!1,null,null,null);l.options.__file="table_pagination.vue";e.a=l.exports},27:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(2),o=n.n(r),i=n(4),a=n(43);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=c(this,u(e).call(this)),o.a.bind("g p",function(){return Object(i.a)(".shortcuts-project")}),o.a.bind("g v",function(){return Object(i.a)(".shortcuts-project-activity")}),o.a.bind("g r",function(){return Object(i.a)(".shortcuts-project-releases")}),o.a.bind("g f",function(){return Object(i.a)(".shortcuts-tree")}),o.a.bind("g c",function(){return Object(i.a)(".shortcuts-commits")}),o.a.bind("g j",function(){return Object(i.a)(".shortcuts-builds")}),o.a.bind("g n",function(){return Object(i.a)(".shortcuts-network")}),o.a.bind("g d",function(){return Object(i.a)(".shortcuts-repository-charts")}),o.a.bind("g i",function(){return Object(i.a)(".shortcuts-issues")}),o.a.bind("g b",function(){return Object(i.a)(".shortcuts-issue-boards")}),o.a.bind("g m",function(){return Object(i.a)(".shortcuts-merge_requests")}),o.a.bind("g w",function(){return Object(i.a)(".shortcuts-wiki")}),o.a.bind("g s",function(){return Object(i.a)(".shortcuts-snippets")}),o.a.bind("g k",function(){return Object(i.a)(".shortcuts-kubernetes")}),o.a.bind("g e",function(){return Object(i.a)(".shortcuts-environments")}),o.a.bind("g l",function(){return Object(i.a)(".shortcuts-metrics")}),o.a.bind("i",function(){return Object(i.a)(".shortcuts-new-issue")}),t.enabledHelp.push(".hidden-shortcut.project"),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,a["a"]),e}()},28:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(12),a=n(31);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.projectSelectInput=o()(e),this.newItemBtn=o()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var e,n,r;return e=t,(n=[{key:"bindEvents",value:function(){var t=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",function(e){return t.openDropdown(e)}),this.newItemBtn.on("click",function(e){t.getProjectFromLocalStorage()||(e.preventDefault(),t.openDropdown(e))}),this.projectSelectInput.on("change",function(){return t.selectProject()})}},{key:"initLocalStorage",value:function(){a.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(t){o()(t.currentTarget).siblings(".project-item-select").select2("open")}},{key:"selectProject",value:function(){var t=JSON.parse(this.projectSelectInput.val()),e={url:"".concat(t.url,"/").concat(this.projectSelectInput.data("relativePath")),name:t.name};this.setNewItemBtnAttributes(e),this.setProjectInLocalStorage(e)}},{key:"setBtnTextFromLocalStorage",value:function(){var t=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(t)}},{key:"setNewItemBtnAttributes",value:function(t){t?(this.newItemBtn.attr("href",t.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(t.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var t=localStorage.getItem(this.localStorageKey);return JSON.parse(t)}},{key:"setProjectInLocalStorage",value:function(t){var e=JSON.stringify(t);localStorage.setItem(this.localStorageKey,e)}},{key:"deriveTextVariants",value:function(){var t=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:t,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&s(e.prototype,n),r&&s(e,r),t}();function u(){o()(".ajax-project-select").each(function(t,e){var n,r,a=o()(e).data("simpleFilter")||!1;return this.groupId=o()(e).data("groupId"),this.includeGroups=o()(e).data("includeGroups"),this.allProjects=o()(e).data("allProjects")||!1,this.orderBy=o()(e).data("orderBy")||"id",this.withIssuesEnabled=o()(e).data("withIssuesEnabled"),this.withMergeRequestsEnabled=o()(e).data("withMergeRequestsEnabled"),this.withShared=void 0===o()(e).data("withShared")||o()(e).data("withShared"),this.includeProjectsInSubgroups=o()(e).data("includeProjectsInSubgroups")||!1,this.allowClear=o()(e).data("allowClear")||!1,n="Search for project",this.includeGroups&&(n+=" or group"),o()(e).select2({placeholder:n,minimumInputLength:0,query:(r=this,function(t){var e,n;return e=function(e){var n;return n={results:e},t.callback(n)},n=r.includeGroups?function(n){var r;return r=function(t){var r;return r=t.concat(n),e(r)},i.a.groups(t.term,{},r)}:e,r.groupId?i.a.groupProjects(r.groupId,t.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},n):i.a.projects(t.term,{order_by:r.orderBy,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,membership:!r.allProjects},n)}),id:function(t){return a?t.id:JSON.stringify({name:t.name,url:t.web_url})},text:function(t){return t.name_with_namespace||t.name},initSelection:function(t,e){return i.a.project(t.val()).then(function(t){var n=t.data;return e(n)})},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),a?e:new c(e)})}n.d(e,"a",function(){return u})},29:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(0),o=n.n(r),i=n(14),a=n.n(i),s=n(1),c=n(19),u=n(6),l=n(7),p=n(28);function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=o()("ul.clone-options-dropdown"),n=o()("#project_clone"),r=o()(".js-git-clone-holder .js-clone-dropdown-label"),i=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),s=r.text().trim();s.length>0&&o()("a:contains('".concat(s,"')"),e).addClass("is-active"),o()("a",e).on("click",function(t){t.preventDefault();var r=o()(t.currentTarget),a=r.attr("href"),s=r.data("cloneType");o()(".is-active",e).removeClass("is-active"),o()('a[data-clone-type="'.concat(s,'"]')).each(function(){var t=o()(this),e=t.find(".dropdown-menu-inner-title").text(),n=t.closest(".project-clone-holder").find(".js-clone-dropdown-label");t.toggleClass("is-active"),n.text(e)}),i?i.dataset.clipboardText=a:n.val(a),o()(".js-git-empty .js-clone").text(a)}),t.initRefSwitcher(),o()(".project-refs-select").on("change",function(){return o()(this).parents("form").submit()}),o()(".hide-no-ssh-message").on("click",function(t){return a.a.set("hide_no_ssh_message","false"),o()(this).parents(".no-ssh-key-message").remove(),t.preventDefault()}),o()(".hide-no-password-message").on("click",function(t){return a.a.set("hide_no_password_message","false"),o()(this).parents(".no-password-message").remove(),t.preventDefault()}),o()(".hide-auto-devops-implicitly-enabled-banner").on("click",function(t){var e=o()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(e);return a.a.set(n,"false"),o()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),t.preventDefault()}),t.projectSelectDropdown()}var e,n,r;return e=t,r=[{key:"projectSelectDropdown",value:function(){Object(p.a)(),o()(".project-item-select").on("click",function(e){return t.changeProject(o()(e.currentTarget).val())})}},{key:"changeProject",value:function(t){return window.location=t}},{key:"initRefSwitcher",value:function(){var t=document.createElement("li"),e=document.createElement("a");return e.href="#",o()(".js-project-refs-dropdown").each(function(){var n,r;return n=o()(this),r=n.data("selected"),n.glDropdown({data:function(t,e){u.a.get(n.data("refsUrl"),{params:{ref:n.data("ref"),search:t}}).then(function(t){var n=t.data;return e(n)}).catch(function(){return Object(l.a)(Object(s.a)("An error occurred while getting projects"))})},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:n.data("inputFieldName"),fieldName:n.data("fieldName"),renderRow:function(n){var o=t.cloneNode(!1);if(null!=n.header)o.className="dropdown-header",o.textContent=n.header;else{var i=e.cloneNode(!1);n===r&&(i.className="is-active"),i.textContent=n,i.dataset.ref=n,o.appendChild(i)}return o},id:function(t,e){return e.attr("data-ref")},toggleLabel:function(t,e){return e.text().trim()},clicked:function(t){if(t.e.preventDefault(),o()('input[name="ref"]').length){var e=n.closest("form"),r=n.data("visit"),i=!!r||r,a=e.attr("action"),s=-1===a.indexOf("?")?"?":"&";i&&Object(c.g)("".concat(a).concat(s).concat(e.serialize()))}}})})}}],(n=null)&&d(e.prototype,n),r&&d(e,r),t}()},44:function(t,e,n){"use strict";n.r(e);var r=n(38),o=n(36),i=n(29),a=n(27);document.addEventListener("DOMContentLoaded",function(){var t=document.body.dataset.page;if(["projects:clusters:new","projects:clusters:create_gcp","projects:clusters:create_user"].indexOf(t)>-1){var e=document.querySelector(".gcp-signup-offer");e&&new o.a(e),Object(r.a)()}new i.a,new a.a})},50:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r=1024,o="hidden"},84:function(t,e,n){"use strict";var r=n(20);e.a={methods:{timeFormated:function(t){return Object(r.h)().format(t)},tooltipTitle:function(t){return Object(r.d)(t)}}}}},[[1353,1,0,2]]]);
//# sourceMappingURL=pages.projects.registry.repositories.b8dc28fd.chunk.js.map