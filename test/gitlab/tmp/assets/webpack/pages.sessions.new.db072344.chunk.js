(this.webpackJsonp=this.webpackJsonp||[]).push([[178],{1385:function(e,t,a){a(42),a(695),e.exports=a(1424)},1424:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(5),s=a.n(r),l=a(6),o=a(7),c=a(1);function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var v=1e3,h=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inputElement=i()("#new_user_username"),this.inputDomElement=this.inputElement.get(0),this.state={available:!1,valid:!1,pending:!1,empty:!0};var a=s.a.debounce(function(e){t.validateUsername(e)},v);this.inputElement.on("keyup.username_check",function(){var e=t.inputElement.val();if(t.state.valid=t.inputDomElement.validity.valid,t.state.empty=!e.length,t.state.valid)return a(e);t.renderState()}),this.inputElement.on("invalid",this.interceptInvalid.bind(this))}var t,a,n;return t=e,(a=[{key:"renderState",value:function(){return this.clearFieldValidationState(),this.state.valid&&this.state.available?this.setSuccessState():this.state.empty?this.clearFieldValidationState():this.state.pending?this.setPendingState():this.state.valid?this.state.available?void 0:this.setUnavailableState():this.setInvalidState()}},{key:"interceptInvalid",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"validateUsername",value:function(e){var t=this;this.state.valid&&(this.state.pending=!0,this.state.available=!1,this.renderState(),l.a.get("".concat(gon.relative_url_root,"/users/").concat(e,"/exists")).then(function(e){var a=e.data;return t.setAvailabilityState(a.exists)}).catch(function(){return Object(o.a)(Object(c.a)("An error occurred while validating username"))}))}},{key:"setAvailabilityState",value:function(e){this.state.available=!e,this.state.pending=!1,this.renderState()}},{key:"clearFieldValidationState",value:function(){this.inputElement.siblings("p").hide(),this.inputElement.removeClass("gl-field-error-outline").removeClass("gl-field-success-outline")}},{key:"setUnavailableState",value:function(){var e=this.inputElement.siblings(".username .validation-error");this.inputElement.addClass("gl-field-error-outline").removeClass("gl-field-success-outline"),e.show()}},{key:"setSuccessState",value:function(){var e=this.inputElement.siblings(".username .validation-success");this.inputElement.addClass("gl-field-success-outline").removeClass("gl-field-error-outline"),e.show()}},{key:"setPendingState",value:function(){var e=i()(".username .validation-pending");this.state.pending?e.show():e.hide()}},{key:"setInvalidState",value:function(){var e=i()(".username .gl-field-error");this.inputElement.addClass("gl-field-error-outline").removeClass("gl-field-success-outline"),e.show()}}])&&u(t.prototype,a),n&&u(t,n),e}(),d=a(31);function f(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.currentTabKey,n=void 0===a?"current_signin_tab":a,i=t.tabSelector,r=void 0===i?"ul.new-session-tabs":i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentTabKey=n,this.tabSelector=r,this.isLocalStorageAvailable=d.a.isLocalStorageAccessSafe(),window.location.hash&&this.saveData(window.location.hash),this.bootstrap()}var t,a,n;return t=e,(a=[{key:"bootstrap",value:function(){var e=this,t=document.querySelectorAll(this.tabSelector);t.length>0&&t[0].addEventListener("click",function(t){if(t.target&&"A"===t.target.nodeName){var a=t.target.getAttribute("href");e.saveData(a)}}),this.showTab()}},{key:"showTab",value:function(){var e=this.readData();if(e){var t=document.querySelector("".concat(this.tabSelector,' a[href="').concat(e,'"]'));if(t)t.click();else{var a=document.querySelector("".concat(this.tabSelector," a"));a&&a.click()}}}},{key:"saveData",value:function(e){if(this.isLocalStorageAvailable)return window.localStorage.setItem(this.currentTabKey,e)}},{key:"readData",value:function(){return this.isLocalStorageAvailable?window.localStorage.getItem(this.currentTabKey):null}}])&&f(t.prototype,a),n&&f(t,n),e}();function b(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.container||"",this.loginLinkSelector=".oauth-login"}var t,a,n;return t=e,(a=[{key:"bindEvents",value:function(){i()("#remember_me",this.container).on("click",this.toggleRememberMe)}},{key:"toggleRememberMe",value:function(e){var t=i()(e.target).is(":checked");i()(".oauth-login",this.container).each(function(e,a){var n=i()(a).attr("href");t?i()(a).attr("href","".concat(n,"?remember_me=1")):i()(a).attr("href",n.replace("?remember_me=1",""))})}}])&&b(t.prototype,a),n&&b(t,n),e}();document.addEventListener("DOMContentLoaded",function(){new h,new m,new g({container:i()(".omniauth-container")}).bindEvents()})},695:function(e,t,a){"use strict";a.r(t);var n=a(373);document.addEventListener("DOMContentLoaded",n.a)}},[[1385,1,0,11]]]);
//# sourceMappingURL=pages.sessions.new.db072344.chunk.js.map