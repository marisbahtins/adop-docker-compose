(this.webpackJsonp=this.webpackJsonp||[]).push([[118],{1281:function(t,e,n){n(42),n(44),t.exports=n(1409)},1409:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"startPolling",function(){return b}),n.d(r,"default",function(){return g});var a=n(11),o=n(13),i=n(18),s=n(6),c={getErrorList:function(t){var e=t.endpoint;return s.a.get(e)}},l="SET_ERRORS",u="SET_EXTERNAL_URL",d="SET_LOADING",f=n(7),p=n(96),h=n(1);function b(t,e){var n=t.commit;new p.a({resource:c,method:"getErrorList",data:{endpoint:e},successCallback:function(t){var e=t.data;e&&(n(l,e.errors),n(u,e.external_url),n(d,!1))},errorCallback:function(){n(d,!1),Object(f.a)(Object(h.a)("Failed to load errors from Sentry"))}}).makeRequest()}var m,g=function(){};function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=(v(m={},l,function(t,e){t.errors=Object(o.f)(e,{deep:!0})}),v(m,u,function(t,e){t.externalUrl=e}),v(m,d,function(t,e){t.loading=e}),m);a.default.use(i.a);var j=new i.a.Store({state:{errors:[],externalUrl:"",loading:!0},actions:r,mutations:y}),_=n(10),w=n(15),O=n(93);function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){k(t,e,n[e])})}return t}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S={fields:[{key:"error",label:Object(h.a)("Open errors")},{key:"events",label:Object(h.a)("Events")},{key:"users",label:Object(h.a)("Users")},{key:"lastSeen",label:Object(h.a)("Last seen")}],components:{GlEmptyState:_.c,GlButton:_.b,GlLink:_.d,GlLoadingIcon:_.e,GlTable:_.l,Icon:w.a,TimeAgo:O.a},props:{indexPath:{type:String,required:!0},enableErrorTrackingLink:{type:String,required:!0},errorTrackingEnabled:{type:Boolean,required:!0},illustrationPath:{type:String,required:!0}},computed:T({},Object(i.d)(["errors","externalUrl","loading"])),created:function(){this.errorTrackingEnabled&&this.startPolling(this.indexPath)},methods:T({},Object(i.b)(["startPolling"]))},E=n(3),x=Object(E.a)(S,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.errorTrackingEnabled?n("div",[t.loading?n("div",{staticClass:"py-3"},[n("gl-loading-icon",{attrs:{size:3}})],1):n("div",[n("div",{staticClass:"d-flex justify-content-end"},[n("gl-button",{staticClass:"my-3 ml-auto",attrs:{variant:"primary",href:t.externalUrl,target:"_blank"}},[t._v("View in Sentry "),n("icon",{attrs:{name:"external-link"}})],1)],1),t._v(" "),n("gl-table",{attrs:{items:t.errors,fields:t.$options.fields,"show-empty":!0,"empty-text":t.__("No errors to display")},scopedSlots:t._u([{key:"HEAD_events",fn:function(e){return[n("div",{staticClass:"text-right"},[t._v(t._s(e.label))])]}},{key:"HEAD_users",fn:function(e){return[n("div",{staticClass:"text-right"},[t._v(t._s(e.label))])]}},{key:"error",fn:function(e){return[n("div",{staticClass:"d-flex flex-column"},[n("div",{staticClass:"d-flex"},[n("gl-link",{staticClass:"d-flex text-dark",attrs:{href:e.item.externalUrl,target:"_blank"}},[n("strong",[t._v(t._s(e.item.title.trim()))]),t._v(" "),n("icon",{staticClass:"ml-1",attrs:{name:"external-link"}})],1),t._v(" "),n("span",{staticClass:"text-secondary ml-2"},[t._v(t._s(e.item.culprit))])],1),t._v("\n            "+t._s(e.item.message||t.__("No details available"))+"\n          ")])]}},{key:"events",fn:function(e){return[n("div",{staticClass:"text-right"},[t._v(t._s(e.item.count))])]}},{key:"users",fn:function(e){return[n("div",{staticClass:"text-right"},[t._v(t._s(e.item.userCount))])]}},{key:"lastSeen",fn:function(e){return[n("div",{staticClass:"d-flex align-items-center"},[n("icon",{attrs:{name:"calendar","css-classes":"text-secondary mr-1"}}),t._v(" "),n("time-ago",{staticClass:"text-secondary",attrs:{time:e.item.lastSeen}})],1)]}}])})],1)]):n("div",[n("gl-empty-state",{attrs:{title:t.__("Get started with error tracking"),description:t.__("Monitor your errors by integrating with Sentry"),"primary-button-text":t.__("Enable error tracking"),"primary-button-link":t.enableErrorTrackingLink,"svg-path":t.illustrationPath}})],1)])},[],!1,null,null,null);x.options.__file="error_tracking_list.vue";var I=x.exports;document.addEventListener("DOMContentLoaded",function(){gon.features.errorTracking&&new a.default({el:"#js-error_tracking",components:{ErrorTrackingList:I},store:j,render:function(t){var e=document.querySelector(this.$options.el),n=e.dataset,r=n.indexPath,a=n.enableErrorTrackingLink,i=n.illustrationPath,s=e.dataset.errorTrackingEnabled;return t("error-tracking-list",{props:{indexPath:r,enableErrorTrackingLink:a,errorTrackingEnabled:s=Object(o.A)(s),illustrationPath:i}})}})})},27:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(2),a=n.n(r),o=n(4),i=n(43);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=c(this,l(e).call(this)),a.a.bind("g p",function(){return Object(o.a)(".shortcuts-project")}),a.a.bind("g v",function(){return Object(o.a)(".shortcuts-project-activity")}),a.a.bind("g r",function(){return Object(o.a)(".shortcuts-project-releases")}),a.a.bind("g f",function(){return Object(o.a)(".shortcuts-tree")}),a.a.bind("g c",function(){return Object(o.a)(".shortcuts-commits")}),a.a.bind("g j",function(){return Object(o.a)(".shortcuts-builds")}),a.a.bind("g n",function(){return Object(o.a)(".shortcuts-network")}),a.a.bind("g d",function(){return Object(o.a)(".shortcuts-repository-charts")}),a.a.bind("g i",function(){return Object(o.a)(".shortcuts-issues")}),a.a.bind("g b",function(){return Object(o.a)(".shortcuts-issue-boards")}),a.a.bind("g m",function(){return Object(o.a)(".shortcuts-merge_requests")}),a.a.bind("g w",function(){return Object(o.a)(".shortcuts-wiki")}),a.a.bind("g s",function(){return Object(o.a)(".shortcuts-snippets")}),a.a.bind("g k",function(){return Object(o.a)(".shortcuts-kubernetes")}),a.a.bind("g e",function(){return Object(o.a)(".shortcuts-environments")}),a.a.bind("g l",function(){return Object(o.a)(".shortcuts-metrics")}),a.a.bind("i",function(){return Object(o.a)(".shortcuts-new-issue")}),t.enabledHelp.push(".hidden-shortcut.project"),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,i["a"]),e}()},28:function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(12),i=n(31);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.projectSelectInput=a()(e),this.newItemBtn=a()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var e,n,r;return e=t,(n=[{key:"bindEvents",value:function(){var t=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",function(e){return t.openDropdown(e)}),this.newItemBtn.on("click",function(e){t.getProjectFromLocalStorage()||(e.preventDefault(),t.openDropdown(e))}),this.projectSelectInput.on("change",function(){return t.selectProject()})}},{key:"initLocalStorage",value:function(){i.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(t){a()(t.currentTarget).siblings(".project-item-select").select2("open")}},{key:"selectProject",value:function(){var t=JSON.parse(this.projectSelectInput.val()),e={url:"".concat(t.url,"/").concat(this.projectSelectInput.data("relativePath")),name:t.name};this.setNewItemBtnAttributes(e),this.setProjectInLocalStorage(e)}},{key:"setBtnTextFromLocalStorage",value:function(){var t=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(t)}},{key:"setNewItemBtnAttributes",value:function(t){t?(this.newItemBtn.attr("href",t.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(t.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var t=localStorage.getItem(this.localStorageKey);return JSON.parse(t)}},{key:"setProjectInLocalStorage",value:function(t){var e=JSON.stringify(t);localStorage.setItem(this.localStorageKey,e)}},{key:"deriveTextVariants",value:function(){var t=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:t,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&s(e.prototype,n),r&&s(e,r),t}();function l(){a()(".ajax-project-select").each(function(t,e){var n,r,i=a()(e).data("simpleFilter")||!1;return this.groupId=a()(e).data("groupId"),this.includeGroups=a()(e).data("includeGroups"),this.allProjects=a()(e).data("allProjects")||!1,this.orderBy=a()(e).data("orderBy")||"id",this.withIssuesEnabled=a()(e).data("withIssuesEnabled"),this.withMergeRequestsEnabled=a()(e).data("withMergeRequestsEnabled"),this.withShared=void 0===a()(e).data("withShared")||a()(e).data("withShared"),this.includeProjectsInSubgroups=a()(e).data("includeProjectsInSubgroups")||!1,this.allowClear=a()(e).data("allowClear")||!1,n="Search for project",this.includeGroups&&(n+=" or group"),a()(e).select2({placeholder:n,minimumInputLength:0,query:(r=this,function(t){var e,n;return e=function(e){var n;return n={results:e},t.callback(n)},n=r.includeGroups?function(n){var r;return r=function(t){var r;return r=t.concat(n),e(r)},o.a.groups(t.term,{},r)}:e,r.groupId?o.a.groupProjects(r.groupId,t.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},n):o.a.projects(t.term,{order_by:r.orderBy,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,membership:!r.allProjects},n)}),id:function(t){return i?t.id:JSON.stringify({name:t.name,url:t.web_url})},text:function(t){return t.name_with_namespace||t.name},initSelection:function(t,e){return o.a.project(t.val()).then(function(t){var n=t.data;return e(n)})},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),i?e:new c(e)})}n.d(e,"a",function(){return l})},29:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(0),a=n.n(r),o=n(14),i=n.n(o),s=n(1),c=n(19),l=n(6),u=n(7),d=n(28);function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=a()("ul.clone-options-dropdown"),n=a()("#project_clone"),r=a()(".js-git-clone-holder .js-clone-dropdown-label"),o=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),s=r.text().trim();s.length>0&&a()("a:contains('".concat(s,"')"),e).addClass("is-active"),a()("a",e).on("click",function(t){t.preventDefault();var r=a()(t.currentTarget),i=r.attr("href"),s=r.data("cloneType");a()(".is-active",e).removeClass("is-active"),a()('a[data-clone-type="'.concat(s,'"]')).each(function(){var t=a()(this),e=t.find(".dropdown-menu-inner-title").text(),n=t.closest(".project-clone-holder").find(".js-clone-dropdown-label");t.toggleClass("is-active"),n.text(e)}),o?o.dataset.clipboardText=i:n.val(i),a()(".js-git-empty .js-clone").text(i)}),t.initRefSwitcher(),a()(".project-refs-select").on("change",function(){return a()(this).parents("form").submit()}),a()(".hide-no-ssh-message").on("click",function(t){return i.a.set("hide_no_ssh_message","false"),a()(this).parents(".no-ssh-key-message").remove(),t.preventDefault()}),a()(".hide-no-password-message").on("click",function(t){return i.a.set("hide_no_password_message","false"),a()(this).parents(".no-password-message").remove(),t.preventDefault()}),a()(".hide-auto-devops-implicitly-enabled-banner").on("click",function(t){var e=a()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(e);return i.a.set(n,"false"),a()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),t.preventDefault()}),t.projectSelectDropdown()}var e,n,r;return e=t,r=[{key:"projectSelectDropdown",value:function(){Object(d.a)(),a()(".project-item-select").on("click",function(e){return t.changeProject(a()(e.currentTarget).val())})}},{key:"changeProject",value:function(t){return window.location=t}},{key:"initRefSwitcher",value:function(){var t=document.createElement("li"),e=document.createElement("a");return e.href="#",a()(".js-project-refs-dropdown").each(function(){var n,r;return n=a()(this),r=n.data("selected"),n.glDropdown({data:function(t,e){l.a.get(n.data("refsUrl"),{params:{ref:n.data("ref"),search:t}}).then(function(t){var n=t.data;return e(n)}).catch(function(){return Object(u.a)(Object(s.a)("An error occurred while getting projects"))})},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:n.data("inputFieldName"),fieldName:n.data("fieldName"),renderRow:function(n){var a=t.cloneNode(!1);if(null!=n.header)a.className="dropdown-header",a.textContent=n.header;else{var o=e.cloneNode(!1);n===r&&(o.className="is-active"),o.textContent=n,o.dataset.ref=n,a.appendChild(o)}return a},id:function(t,e){return e.attr("data-ref")},toggleLabel:function(t,e){return e.text().trim()},clicked:function(t){if(t.e.preventDefault(),a()('input[name="ref"]').length){var e=n.closest("form"),r=n.data("visit"),o=!!r||r,i=e.attr("action"),s=-1===i.indexOf("?")?"?":"&";o&&Object(c.g)("".concat(i).concat(s).concat(e.serialize()))}}})})}}],(n=null)&&f(e.prototype,n),r&&f(e,r),t}()},44:function(t,e,n){"use strict";n.r(e);var r=n(38),a=n(36),o=n(29),i=n(27);document.addEventListener("DOMContentLoaded",function(){var t=document.body.dataset.page;if(["projects:clusters:new","projects:clusters:create_gcp","projects:clusters:create_user"].indexOf(t)>-1){var e=document.querySelector(".gcp-signup-offer");e&&new a.a(e),Object(r.a)()}new o.a,new i.a})},83:function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r={ABORTED:0,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,BAD_REQUEST:400,FORBIDDEN:403,NOT_FOUND:404,UNPROCESSABLE_ENTITY:422},a=[r.OK,r.CREATED,r.ACCEPTED,r.NON_AUTHORITATIVE_INFORMATION,r.NO_CONTENT,r.RESET_CONTENT,r.PARTIAL_CONTENT,r.MULTI_STATUS,r.ALREADY_REPORTED,r.IM_USED];e.a=r},84:function(t,e,n){"use strict";var r=n(20);e.a={methods:{timeFormated:function(t){return Object(r.h)().format(t)},tooltipTitle:function(t){return Object(r.d)(t)}}}},93:function(t,e,n){"use strict";var r=n(10),a=n(84),o=(n(20),{directives:{GlTooltip:r.n},mixins:[a.a],props:{time:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""}}}),i=n(3),s=Object(i.a)(o,function(){var t=this.$createElement;return(this._self._c||t)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:this.tooltipPlacement},expression:"{ placement: tooltipPlacement }"}],class:this.cssClass,attrs:{title:this.tooltipTitle(this.time)},domProps:{textContent:this._s(this.timeFormated(this.time))}})},[],!1,null,null,null);s.options.__file="time_ago_tooltip.vue";e.a=s.exports},96:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(83),a=n(13);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.options.data=e.data||{},this.options.notificationCallback=e.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}var e,n,i;return e=t,(n=[{key:"checkConditions",value:function(t){var e=this,n=Object(a.y)(t.headers),o=parseInt(n[this.intervalHeader],10);o>0&&-1!==r.b.indexOf(t.status)&&this.canPoll&&(this.timeoutID=setTimeout(function(){e.makeRequest()},o)),this.options.successCallback(t)}},{key:"makeRequest",value:function(){var t=this,e=this.options,n=e.resource,a=e.method,o=e.data,i=e.errorCallback,s=e.notificationCallback;return s(!0),n[a](o).then(function(e){t.checkConditions(e),s(!1)}).catch(function(t){s(!1),t.status!==r.a.ABORTED&&i(t)})}},{key:"stop",value:function(){this.canPoll=!1,clearTimeout(this.timeoutID)}},{key:"restart",value:function(t){t&&t.data&&(this.options.data=t.data),this.canPoll=!0,this.makeRequest()}}])&&o(e.prototype,n),i&&o(e,i),t}()}},[[1281,1,0,2]]]);
//# sourceMappingURL=pages.projects.error_tracking.dd2d2ec2.chunk.js.map