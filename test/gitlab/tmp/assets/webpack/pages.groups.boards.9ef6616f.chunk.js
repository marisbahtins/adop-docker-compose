(this.webpackJsonp=this.webpackJsonp||[]).push([[53,10],{1009:function(e,t,s){s(42),s(110),e.exports=s(1010)},1010:function(e,t,s){"use strict";s.r(t);var i=s(105),n=s(27),a=s(498);document.addEventListener("DOMContentLoaded",function(){new i.a,new n.a,Object(a.a)()})},110:function(e,t,s){"use strict";s.r(t);var i=s(36),n=s(38);document.addEventListener("DOMContentLoaded",function(){var e,t=document.body.dataset.page;["groups:clusters:new","groups:clusters:create_gcp","groups:clusters:create_user"].indexOf(t)>-1&&((e=document.querySelector(".gcp-signup-offer"))&&new i.a(e),Object(n.a)())})},115:function(e,t,s){"use strict";s.d(t,"a",function(){return l});var i=s(0),n=s.n(i),a=s(12),o=s(51);function r(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(t,s,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=t,this.namespacePath=s,this.projectPath=i,this.$dropdownBack=n()(".dropdown-menu-back",this.$el.closest(".dropdown")),this.$cancelButton=n()(".js-cancel-label-btn",this.$el),this.$newLabelField=n()("#new_label_name",this.$el),this.$newColorField=n()("#new_label_color",this.$el),this.$colorPreview=n()(".js-dropdown-label-color-preview",this.$el),this.$newLabelError=n()(".js-label-error",this.$el),this.$newLabelCreateButton=n()(".js-new-label-btn",this.$el),this.$colorSuggestions=n()(".suggest-colors-dropdown a",this.$el),this.$newLabelError.hide(),this.$newLabelCreateButton.disable(),this.cleanBinding(),this.addBinding()}var t,s,i;return t=e,(s=[{key:"cleanBinding",value:function(){this.$colorSuggestions.off("click"),this.$newLabelField.off("keyup change"),this.$newColorField.off("keyup change"),this.$dropdownBack.off("click"),this.$cancelButton.off("click"),this.$newLabelCreateButton.off("click")}},{key:"addBinding",value:function(){var e=this;this.$colorSuggestions.on("click",function(t){var s=n()(this);e.addColorValue(t,s)}),this.$newLabelField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$newColorField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$dropdownBack.on("click",this.resetForm.bind(this)),this.$cancelButton.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.resetForm(),e.$dropdownBack.trigger("click")}),this.$newLabelCreateButton.on("click",this.saveLabel.bind(this))}},{key:"addColorValue",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.$newColorField.val(t.data("color")).trigger("change"),this.$colorPreview.css("background-color",t.data("color")).parent().addClass("is-active")}},{key:"enableLabelCreateButton",value:function(){""!==this.$newLabelField.val()&&""!==this.$newColorField.val()?(this.$newLabelError.hide(),this.$newLabelCreateButton.enable()):this.$newLabelCreateButton.disable()}},{key:"resetForm",value:function(){this.$newLabelField.val("").trigger("change"),this.$newColorField.val("").trigger("change"),this.$colorPreview.css("background-color","").parent().removeClass("is-active")}},{key:"saveLabel",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),a.a.newLabel(this.namespacePath,this.projectPath,{title:this.$newLabelField.val(),color:this.$newColorField.val()},function(e){var s;(t.$newLabelCreateButton.enable(),e.message)?(s="string"==typeof e.message?e.message:Object.keys(e.message).map(function(t){return"".concat(Object(o.h)(t)," ").concat(e.message[t].join(", "))}).join("<br/>"),t.$newLabelError.html(s).show()):(t.$dropdownBack.trigger("click"),n()(document).trigger("created.label",e))})}}])&&r(t.prototype,s),i&&r(t,i),e}()},123:function(e,t,s){"use strict";s.d(t,"a",function(){return g});var i=s(0),n=s.n(i),a=s(5),o=s.n(a),r=s(1),l=s(6),c=s(80),u=s(115),d=s(7),h=s(48),p=s(21);function f(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var g=function(){function e(t){var s,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s=this,i=n()(t),t||(i=n()(".js-label-select")),i.each(function(t,i){var c,f,g,b,v,m,y,w,_,k,S,C,D,I,j,E,T,L,O,x,P,A;A=(f=n()(i)).closest(".labels-filter"),f.find(".dropdown-toggle-text"),C=f.data("namespacePath"),D=f.data("projectPath"),k=f.data("issueUpdate"),null==(j=f.data("selected"))||f.hasClass("js-multiselect")||(j=j.split(",")),T=f.data("showNo"),E=f.data("showAny"),P=f.data("showMenuAbove"),_=f.data("defaultLabel")||Object(r.a)("Label"),w=f.data("abilityName"),c=(v=f.closest(".selectbox")).closest(".block"),g=f.closest("form, .js-issuable-update"),m=c.find(".sidebar-collapsed-icon span"),L=c.find(".js-sidebar-labels-tooltip"),y=c.find(".value"),b=c.find(".block-loading").fadeOut(),x=f.data("fieldName"),f.is(".js-issuable-form-dropdown, .js-filter-bulk-update, .js-label-sidebar-dropdown"),O=v.find('input[name="'+f.data("fieldName")+'"]').map(function(){return this.value}).get();var $=a.handleClick;L.tooltip(),f.closest(".dropdown").find(".dropdown-new-label").length&&new u.a(f.closest(".dropdown").find(".dropdown-new-label"),C,D),I=function(){var t,s;s=f.closest(".selectbox").find("input[name='"+x+"']").map(function(){return this.value}).get(),o.a.isEqual(O,s)||(O=s,(t={})[w]={},t[w].label_ids=s,s.length||(t[w].label_ids=[""]),b.removeClass("hidden").fadeIn(),f.trigger("loading.gl.dropdown"),l.a.put(k,t).then(function(t){var s,i,a,o,l=t.data;b.fadeOut(),f.trigger("loaded.gl.dropdown"),v.hide(),l.issueUpdateURL=k,s=0,l.labels.length&&k?(i=e.getLabelTemplate({labels:l.labels,issueUpdateURL:k}),s=l.labels.length):i='<span class="no-value">None</span>',y.removeAttr("style").html(i),m.text(s),l.labels.length?((o=l.labels.map(function(e){return e.title})).length>5&&(o=o.slice(0,5)).push("and "+(l.labels.length-5)+" more"),a=o.join(", ")):a=Object(r.a)("Labels"),L.attr("title",a).tooltip("_fixTitle"),n()(".has-tooltip",y).tooltip({container:"body"})}).catch(function(){return Object(d.a)(Object(r.a)("Error saving label update."))}))},f.glDropdown({showMenuAbove:P,data:function(e,t){S=f.attr("data-labels"),l.a.get(S).then(function(e){var s=e.data;if(f.hasClass("js-extra-options")){var i=[];T&&i.unshift({id:0,title:"No Label"}),E&&i.unshift({isAny:!0,title:"Any Label"}),i.length&&(i.push("divider"),s=i.concat(s))}t(s),P&&f.data("glDropdown").positionMenuAbove()}).catch(function(){return Object(d.a)(Object(r.a)("Error fetching labels."))})},renderRow:function(e,t){var s,i,a,r,l,c,u,d,h,p;return i=n()("<li>"),s=n()('<a href="#">'),c=[],l=e.id<=0||null==e.id,f.hasClass("js-filter-bulk-update")?(r=f.data("indeterminate")||[],d=f.data("marked")||[],-1!==r.indexOf(e.id)&&c.push("is-indeterminate"),-1!==d.indexOf(e.id)&&(-1!==(u=c.indexOf("is-indeterminate"))&&c.splice(u,1),c.push("is-active"))):(this.id(e)&&(h=f.data("fieldName"),p=this.id(e).toString().replace(/'/g,"\\'"),g.find("input[type='hidden'][name='"+h+"'][value='"+p+"']").length&&c.push("is-active")),f.hasClass("js-multiselect")&&l&&c.push("dropdown-clear-active")),a=e.color?"<span class='dropdown-label-box' style='background: "+e.color+"'></span>":"",e.id&&(c.push("label-item"),s.attr("data-label-id",e.id)),s.addClass(c.join(" ")).html("".concat(a," ").concat(o.a.escape(e.title))),i.html(s).prop("outerHTML")},search:{fields:["title"]},selectable:!0,filterable:!0,selected:f.data("selected")||[],toggleLabel:function(e,t){var s=f.parent(),i=s.find(".dropdown-input-field"),n=null!==t&&t.hasClass("is-active"),a=e?e.title:null,o=this.selected;if(i.length&&i.val().length&&s.find(".dropdown-input-clear").trigger("click"),e&&0===e.id)return this.selected=[],"No Label";if(n)this.selected.push(a);else if(!n&&a){var l=this.selected.indexOf(a);this.selected.splice(l,1)}return 1===o.length?o:o.length?Object(r.f)(Object(r.a)("%{firstLabel} +%{labelCount} more"),{firstLabel:o[0],labelCount:o.length-1}):_},fieldName:f.data("fieldName"),id:function(e){return e.id<=0?e.title:f.hasClass("js-issuable-form-dropdown")?e.id:f.hasClass("js-filter-submit")&&null==e.isAny?e.title:e.id},hidden:function(){var e,t,s;e="projects:issues:index"===(s=n()("body").attr("data-page")),t="projects:merge_requests:index"===s,v.hide(),y.removeAttr("style"),f.hasClass("js-issuable-form-dropdown")||n()("html").hasClass("issue-boards-page")||f.hasClass("js-multiselect")&&(f.hasClass("js-filter-submit")&&(e||t)?(f.closest("form").find("input:hidden[name='"+f.data("fieldName")+"']"),Issuable.filterResults(f.closest("form"))):f.hasClass("js-filter-submit")?f.closest("form").submit():f.hasClass("js-filter-bulk-update")||I())},multiSelect:f.hasClass("js-multiselect"),vue:f.hasClass("js-issue-board-sidebar"),clicked:function(e){var t,i,a,o,r=e.$el,l=e.e,c=e.isMarking,u=e.selectedObj,d=function(){b.fadeOut()};if(t="projects:issues:index"===(a=n()("body").attr("data-page")),i="projects:merge_requests:index"===a,f.parent().find(".is-active:not(.dropdown-clear-active)").length&&f.parent().find(".dropdown-clear-active").removeClass("is-active"),!f.hasClass("js-issuable-form-dropdown")){if(f.hasClass("js-filter-bulk-update"))return s.enableBulkLabelDropdown(),void s.setDropdownData(f,c,u.id);if(f.closest(".add-issues-modal").length&&(o=h.a.store.filter),o)return u.isAny?o.label_name=[]:r.hasClass("is-active")&&o.label_name.push(u.title),void l.preventDefault();if(f.hasClass("js-filter-submit")&&(t||i)){if(!f.hasClass("js-multiselect"))return j=u.title,Issuable.filterResults(f.closest("form"))}else{if(f.hasClass("js-filter-submit"))return f.closest("form").submit();if(f.hasClass("js-issue-board-sidebar")){if(r.hasClass("is-active"))p.c.detail.issue.labels.push(new ListLabel({id:u.id,title:u.title,color:u.color,textColor:"#fff"}));else{var g=p.c.detail.issue.labels;g=g.filter(function(e){return e.id!==u.id}),p.c.detail.issue.labels=g}b.fadeIn(),p.c.detail.issue.update(f.attr("data-issue-update")).then(d).catch(d)}else if($)l.preventDefault(),$(u);else if(!f.hasClass("js-multiselect"))return I()}}},opened:function(e){if(f.hasClass("js-issue-board-sidebar")){var t=f.attr("data-selected");this.selected=t?t.split(","):[],f.data("glDropdown").updateLabel()}},preserveContext:!0}),s.setOriginalDropdownData(A,f)}),this.bindEvents()}var t,s,i;return t=e,i=[{key:"getLabelTemplate",value:function(e){return o.a.template(["<% _.each(labels, function(label){ %>",'<a href="<%- issueUpdateURL.slice(0, issueUpdateURL.lastIndexOf("/")) %>?label_name[]=<%- encodeURIComponent(label.title) %>">','<span class="badge label has-tooltip color-label" title="<%- label.description %>" style="background-color: <%- label.color %>; color: <%- label.text_color %>;">',"<%- label.title %>","</span>","</a>","<% }); %>"].join(""))(e)}}],(s=[{key:"bindEvents",value:function(){return n()("body").on("change",".selected-issuable",this.onSelectCheckboxIssue)}},{key:"onSelectCheckboxIssue",value:function(){if(!n()(".selected-issuable:checked").length)return n()(".issues-bulk-update .labels-filter .dropdown-toggle-text").text("Label")}},{key:"enableBulkLabelDropdown",value:function(){c.a.willUpdateLabels=!0}},{key:"setDropdownData",value:function(e,t,s){var i,n,a,o;n=e.data("marked")||[],a=e.data("unmarked")||[],o=e.data("indeterminate")||[],t?(n.push(s),(i=o.indexOf(s))>-1&&o.splice(i,1),(i=a.indexOf(s))>-1&&a.splice(i,1)):((i=n.indexOf(s))>-1&&n.splice(i,1),c.a.getOriginalIndeterminateIds().indexOf(s)>-1&&a.push(s),c.a.getOriginalCommonIds().indexOf(s)>-1&&a.push(s)),e.data("marked",n),e.data("unmarked",a),e.data("indeterminate",o)}},{key:"setOriginalDropdownData",value:function(e,t){var s=[];e.find('[name="label_name[]"]').map(function(){return s.push(this.value)}),t.data("marked",s)}}])&&f(t.prototype,s),i&&f(t,i),e}()},124:function(e,t,s){"use strict";s.d(t,"a",function(){return p});var i=s(0),n=s.n(i),a=s(5),o=s.n(a),r=s(1),l=(s(260),s(6)),c=s(20),u=s(48),d=s(21);function h(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var p=function(){function e(t,s){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==t&&(this.currentProject="string"==typeof t?JSON.parse(t):t),e.init(s,i)}var t,s,i;return t=e,i=[{key:"init",value:function(e,t){var s=n()(e);e||(s=n()(".js-milestone-select")),s.each(function(e,s){var i,a,h,p,f=n()(s),g=(f.data("projectId"),f.data("milestones")),b=f.data("issueUpdate"),v=f.data("showNo"),m=f.data("showAny"),y=f.data("showMenuAbove"),w=f.data("showUpcoming"),_=f.data("showStarted"),k=f.data("useId"),S=f.data("defaultLabel"),C=f.data("defaultNo"),D=(f.data("issuableId"),f.data("abilityName")),I=f.closest(".selectbox"),j=I.closest(".block"),E=j.find(".sidebar-collapsed-icon"),T=j.find(".value"),L=j.find(".block-loading").fadeOut();return p=m?"":null,p=v&&C?"No Milestone":p,h=f.data("selected")||p,b&&(a=o.a.template('<a href="<%- web_url %>" class="bold has-tooltip" data-container="body" title="<%- remaining %>"><%- title %></a>'),i='<span class="no-value">None</span>'),f.glDropdown({showMenuAbove:y,data:function(e,t){return l.a.get(g).then(function(e){var s=e.data,i=[];m&&i.push({id:null,name:null,title:"Any Milestone"}),v&&i.push({id:-1,name:"No Milestone",title:"No Milestone"}),w&&i.push({id:-2,name:"#upcoming",title:"Upcoming"}),_&&i.push({id:-3,name:"#started",title:"Started"}),i.length&&i.push("divider"),t(i.concat(s)),y&&f.data("glDropdown").positionMenuAbove(),n()('[data-milestone-id="'.concat(o.a.escape(h),'"] > a')).addClass("is-active")})},renderRow:function(e){return'\n          <li data-milestone-id="'.concat(o.a.escape(e.name),"\">\n            <a href='#' class='dropdown-menu-milestone-link'>\n              ").concat(o.a.escape(e.title),"\n            </a>\n          </li>\n        ")},filterable:!0,search:{fields:["title"]},selectable:!0,toggleLabel:function(e,t,s){return e&&"id"in e&&n()(t).hasClass("is-active")?e.title:S},defaultLabel:S,fieldName:f.data("fieldName"),text:function(e){return o.a.escape(e.title)},id:function(e){return k||f.is(".js-issuable-form-dropdown")?e.id:e.name},hidden:function(){return I.hide(),T.css("display","")},opened:function(e){var s=n()(e.currentTarget);(f.hasClass("js-issue-board-sidebar")||t.handleClick)&&(h=f[0].dataset.selected||p),n()("a.is-active",s).removeClass("is-active"),n()('[data-milestone-id="'.concat(o.a.escape(h),'"] > a'),s).addClass("is-active")},vue:f.hasClass("js-issue-board-sidebar"),clicked:function(e){e.$el;var s,o,g=e.e,v=e.selectedObj;if(v){if(t.handleClick)return g.preventDefault(),void t.handleClick(v);var m=n()("body").attr("data-page"),y="projects:issues:index"===m,w=m==m&&"projects:merge_requests:index"===m,_=v.name!==h;if(h=_?v.name:p,f.hasClass("js-filter-bulk-update")||f.hasClass("js-issuable-form-dropdown"))g.preventDefault();else if(f.closest(".add-issues-modal").length&&(o=u.a.store.filter),o)o[f.data("fieldName")]=v.name,g.preventDefault();else{if(f.hasClass("js-filter-submit")&&(y||w))return Issuable.filterResults(f.closest("form"));if(f.hasClass("js-filter-submit"))return f.closest("form").submit();if(!f.hasClass("js-issue-board-sidebar"))return v=I.find('input[type="hidden"]').val(),(s={})[D]={},s[D].milestone_id=null!=v?v:null,L.removeClass("hidden").fadeIn(),f.trigger("loading.gl.dropdown"),l.a.put(b,s).then(function(e){var t=e.data;return f.trigger("loaded.gl.dropdown"),L.fadeOut(),I.hide(),T.css("display",""),null!=t.milestone?(t.milestone.remaining=Object(c.n)(t.milestone.due_date),t.milestone.name=t.milestone.title,T.html(a(t.milestone)),E.attr("data-original-title","".concat(t.milestone.name,"<br />").concat(t.milestone.remaining)).find("span").text(t.milestone.title)):(T.html(i),E.attr("data-original-title",Object(r.a)("Milestone")).find("span").text(Object(r.a)("None")))}).catch(function(){L.fadeOut()});-1!==v.id&&_?Object(d.b)("milestone",new ListMilestone({id:v.id,title:v.name})):Object(d.a)("milestone"),f.trigger("loading.gl.dropdown"),L.removeClass("hidden").fadeIn(),d.c.detail.issue.update(f.attr("data-issue-update")).then(function(){f.trigger("loaded.gl.dropdown"),L.fadeOut()}).catch(function(){L.fadeOut()})}}}})})}}],(s=null)&&h(t.prototype,s),i&&h(t,i),e}();window.MilestoneSelect=p},126:function(e,t,s){"use strict";s.d(t,"a",function(){return v});var i=s(0),n=s.n(i),a=s(88),o=s.n(a),r=s(116),l=s.n(r),c=s(1),u=s(6),d=s(20),h=s(21);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,s){return t&&f(e.prototype,t),s&&f(e,s),e}var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.$dropdown,i=t.$loading;p(this,e);var a=s.closest(".dropdown"),o=s.closest(".block");this.$loading=i,this.$dropdown=s,this.$dropdownParent=a,this.$datePicker=a.find(".js-due-date-calendar"),this.$block=o,this.$sidebarCollapsedValue=o.find(".sidebar-collapsed-icon"),this.$selectbox=s.closest(".selectbox"),this.$value=o.find(".value"),this.$valueContent=o.find(".value-content"),this.$sidebarValue=n()(".js-due-date-sidebar-value",o),this.fieldName=s.data("fieldName"),this.abilityName=s.data("abilityName"),this.issueUpdateURL=s.data("issueUpdate"),this.rawSelectedDate=null,this.displayedDate=null,this.datePayload=null,this.initGlDropdown(),this.initRemoveDueDate(),this.initDatePicker()}return g(e,[{key:"initGlDropdown",value:function(){var e=this;this.$dropdown.glDropdown({opened:function(){e.$datePicker.data("pikaday").show()},hidden:function(){e.$selectbox.hide(),e.$value.css("display","")}})}},{key:"initDatePicker",value:function(){var e=this,t=n()("input[name='".concat(this.fieldName,"']")),s=new o.a({field:t.get(0),theme:"gitlab-theme",format:"yyyy-mm-dd",parse:function(e){return Object(d.j)(e)},toString:function(e){return Object(d.l)(e)},onSelect:function(i){t.val(s.toString(i)),e.$dropdown.hasClass("js-issue-boards-due-date")?(h.c.detail.issue.dueDate=t.val(),e.updateIssueBoardIssue()):e.saveDueDate(!0)}});s.setDate(Object(d.j)(t.val())),this.$datePicker.append(s.el),this.$datePicker.data("pikaday",s)}},{key:"initRemoveDueDate",value:function(){var e=this;this.$block.on("click",".js-remove-due-date",function(t){var s=e.$datePicker.data("pikaday");t.preventDefault(),s.setDate(null),e.$dropdown.hasClass("js-issue-boards-due-date")?(h.c.detail.issue.dueDate="",e.updateIssueBoardIssue()):(n()("input[name='".concat(e.fieldName,"']")).val(""),e.saveDueDate(!1))})}},{key:"saveDueDate",value:function(e){this.parseSelectedDate(),this.prepSelectedDate(),this.submitSelectedDate(e)}},{key:"parseSelectedDate",value:function(){if(this.rawSelectedDate=n()("input[name='".concat(this.fieldName,"']")).val(),this.rawSelectedDate.length){var e=this.rawSelectedDate.split("-").map(function(e){return parseInt(e,10)}),t=new Date(e[0],e[1]-1,e[2]);this.displayedDate=l()(t,"mmm d, yyyy")}else this.displayedDate="No due date"}},{key:"prepSelectedDate",value:function(){var e={};e[this.abilityName]={},e[this.abilityName].due_date=this.rawSelectedDate,this.datePayload=e}},{key:"updateIssueBoardIssue",value:function(){var e=this;this.$loading.fadeIn(),this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide(),this.$value.css("display","");var t=function(){e.$loading.fadeOut()};h.c.detail.issue.update(this.$dropdown.attr("data-issue-update")).then(t).catch(t)}},{key:"submitSelectedDate",value:function(e){var t=this,s=this.datePayload[this.abilityName].due_date,i="No due date"!==this.displayedDate,a=i?"bold":"no-value";return this.$loading.removeClass("hidden").fadeIn(),e&&(this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide()),this.$value.css("display",""),this.$valueContent.html("<span class='".concat(a,"'>").concat(this.displayedDate,"</span>")),this.$sidebarValue.html(this.displayedDate),n()(".js-remove-due-date-holder").toggleClass("hidden",s.length),u.a.put(this.issueUpdateURL,this.datePayload).then(function(){var n=i?"".concat(Object(c.a)("Due date"),"<br />").concat(s," (").concat(Object(d.n)(s),")"):Object(c.a)("Due date");return e&&(t.$dropdown.trigger("loaded.gl.dropdown"),t.$dropdown.dropdown("toggle")),t.$sidebarCollapsedValue.attr("data-original-title",n),t.$loading.fadeOut()})}}]),e}(),v=function(){function e(){p(this,e),this.initMilestoneDatePicker(),this.initIssuableSelect()}return g(e,[{key:"initMilestoneDatePicker",value:function(){n()(".datepicker").each(function(){var e=n()(this),t=e.val(),s=new o.a({field:e.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",container:e.parent().get(0),parse:function(e){return Object(d.j)(e)},toString:function(e){return Object(d.l)(e)},onSelect:function(t){e.val(s.toString(t))}});s.setDate(Object(d.j)(t)),e.data("pikaday",s)}),n()(".js-clear-due-date,.js-clear-start-date").on("click",function(e){e.preventDefault(),n()(e.target).siblings(".datepicker").data("pikaday").setDate(null)})}},{key:"initIssuableSelect",value:function(){var e=n()(".js-issuable-update .due_date").find(".block-loading").hide();n()(".js-due-date-select").each(function(t,s){var i=n()(s);new b({$dropdown:i,$loading:e})})}}]),e}()},144:function(e,t,s){"use strict";var i=s(232),n=[{key:"author",type:"string",param:"username",symbol:"@",icon:"pencil",tag:"@author"},{key:"assignee",type:"string",param:"username",symbol:"@",icon:"user",tag:"@assignee"},{key:"milestone",type:"string",param:"title",symbol:"%",icon:"clock",tag:"%milestone"},{key:"label",type:"array",param:"name[]",symbol:"~",icon:"labels",tag:"~label"}];gon.current_user_id&&n.push({key:"my-reaction",type:"string",param:"emoji",symbol:"",icon:"thumb-up",tag:"emoji"});var a=new i.a(n,[{key:"label",type:"string",param:"name",symbol:"~"}],[{url:"assignee_id=None",tokenKey:"assignee",value:"none"},{url:"assignee_id=Any",tokenKey:"assignee",value:"any"},{url:"milestone_title=None",tokenKey:"milestone",value:"none"},{url:"milestone_title=Any",tokenKey:"milestone",value:"any"},{url:"milestone_title=%23upcoming",tokenKey:"milestone",value:"upcoming"},{url:"milestone_title=%23started",tokenKey:"milestone",value:"started"},{url:"label_name[]=None",tokenKey:"label",value:"none"},{url:"label_name[]=Any",tokenKey:"any",value:"any"},{url:"my_reaction_emoji=None",tokenKey:"my-reaction",value:"none"},{url:"my_reaction_emoji=Any",tokenKey:"my-reaction",value:"any"}]);t.a=a},159:function(e,t,s){"use strict";var i=s(0),n=s.n(i),a=s(5),o=s.n(a),r=s(14),l=s.n(r),c=s(7),u=s(6),d=s(1);function h(e){this.toggleTodo=this.toggleTodo.bind(this),this.sidebar=n()("aside"),this.removeListeners(),this.addEventListeners()}h.initialize=function(e){this.instance||(this.instance=new h(e))},h.prototype.removeListeners=function(){this.sidebar.off("click",".sidebar-collapsed-icon"),this.sidebar.off("hidden.gl.dropdown"),n()(".dropdown").off("loading.gl.dropdown"),n()(".dropdown").off("loaded.gl.dropdown"),n()(document).off("click",".js-sidebar-toggle")},h.prototype.addEventListeners=function(){var e=n()(document);return this.sidebar.on("click",".sidebar-collapsed-icon",this,this.sidebarCollapseClicked),this.sidebar.on("hidden.gl.dropdown",this,this.onSidebarDropdownHidden),n()(".dropdown").on("loading.gl.dropdown",this.sidebarDropdownLoading),n()(".dropdown").on("loaded.gl.dropdown",this.sidebarDropdownLoaded),e.on("click",".js-sidebar-toggle",this.sidebarToggleClicked),n()(document).off("click",".js-issuable-todo").on("click",".js-issuable-todo",this.toggleTodo)},h.prototype.sidebarToggleClicked=function(e,t){var s,i,a,o;e.preventDefault(),o=(a=(i=n()(this)).find("i").hasClass("fa-angle-double-right"))?Object(d.a)("Expand sidebar"):Object(d.a)("Collapse sidebar"),s=n()(".js-sidebar-toggle i"),a?(s.removeClass("fa-angle-double-right").addClass("fa-angle-double-left"),n()("aside.right-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed"),n()(".layout-page").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed")):(s.removeClass("fa-angle-double-left").addClass("fa-angle-double-right"),n()("aside.right-sidebar").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),n()(".layout-page").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded")),i.attr("data-original-title",o),t||l.a.set("collapsed_gutter",n()(".right-sidebar").hasClass("right-sidebar-collapsed"))},h.prototype.toggleTodo=function(e){var t,s,i,a=this;t=n()(e.currentTarget),s=t.data("deletePath")?"delete":"post",i=t.data("deletePath")?""+t.data("deletePath"):""+t.data("createPath"),t.tooltip("hide"),n()(".js-issuable-todo").disable().addClass("is-loading"),u.a[s](i,{issuable_id:t.data("issuableId"),issuable_type:t.data("issuableType")}).then(function(e){var t=e.data;a.todoUpdateDone(t)}).catch(function(){return Object(c.a)("There was an error ".concat("post"===s?"adding a":"deleting the"," todo."))})},h.prototype.todoUpdateDone=function(e){var t=e.delete_path?e.delete_path:null,s=t?"mark":"todo",i=n()(".js-issuable-todo");n()(document).trigger("todo:toggle",e.count),i.each(function(e,i){var a=n()(i),o=a.find(".js-issuable-todo-inner");a.removeClass("is-loading").enable().attr("aria-label",a.data("".concat(s,"Text"))).attr("title",a.data("".concat(s,"Text"))).data("deletePath",t),a.hasClass("has-tooltip")&&a.tooltip("_fixTitle"),void 0!==a.data("isCollapsed")?o.html(a.data("".concat(s,"Icon"))):o.text(a.data("".concat(s,"Text")))})},h.prototype.sidebarDropdownLoading=function(e){var t,s,i,a;return a=(s=n()(this).closest(".block").find(".sidebar-collapsed-icon")).find("img"),i=s.find("i"),t=n()('<i class="fa fa-spinner fa-spin"></i>'),a.length?(a.before(t),a.hide()):i.length?(i.before(t),i.hide()):void 0},h.prototype.sidebarDropdownLoaded=function(e){var t,s,i;return i=(t=n()(this).closest(".block").find(".sidebar-collapsed-icon")).find("img"),t.find("i.fa-spin").remove(),s=t.find("i"),i.length?i.show():s.show()},h.prototype.sidebarCollapseClicked=function(e){var t,s;if(!n()(e.currentTarget).hasClass("dont-change-state"))return s=e.data,e.preventDefault(),t=n()(this).closest(".block"),s.openDropdown(t)},h.prototype.openDropdown=function(e){var t;t=o.a.isString(e)?this.getBlock(e):e,this.isOpen()||(this.setCollapseAfterUpdate(t),this.toggleSidebar("open")),setTimeout(function(){t.find(".js-sidebar-dropdown-toggle").trigger("click")})},h.prototype.setCollapseAfterUpdate=function(e){return e.addClass("collapse-after-update"),n()(".layout-page").addClass("with-overlay")},h.prototype.onSidebarDropdownHidden=function(e){var t,s;return s=e.data,e.preventDefault(),t=n()(e.target).closest(".block"),s.sidebarDropdownHidden(t)},h.prototype.sidebarDropdownHidden=function(e){if(e.hasClass("collapse-after-update"))return e.removeClass("collapse-after-update"),n()(".layout-page").removeClass("with-overlay"),this.toggleSidebar("hide")},h.prototype.triggerOpenSidebar=function(){return this.sidebar.find(".js-sidebar-toggle").trigger("click")},h.prototype.toggleSidebar=function(e){if(null==e&&(e="toggle"),"toggle"===e&&this.triggerOpenSidebar(),"open"===e&&(this.isOpen()||this.triggerOpenSidebar()),"hide"===e&&this.isOpen())return this.triggerOpenSidebar()},h.prototype.isOpen=function(){return this.sidebar.is(".right-sidebar-expanded")},h.prototype.getBlock=function(e){return this.sidebar.find(".block."+e)},t.a=h},164:function(e,t,s){"use strict";var i=s(10),n=s(1),a=s(15),o=Object(n.e)("ToggleButton|Toggle Status: ON"),r=Object(n.e)("ToggleButton|Toggle Status: OFF"),l={components:{icon:a.a,GlLoadingIcon:i.e},model:{prop:"value",event:"change"},props:{name:{type:String,required:!1,default:null},value:{type:Boolean,required:!1,default:null},disabledInput:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1}},computed:{toggleIcon:function(){return this.value?"status_success_borderless":"status_failed_borderless"},ariaLabel:function(){return this.value?o:r}},methods:{toggleFeature:function(){this.disabledInput||this.$emit("change",!this.value)}}},c=s(3),u=Object(c.a)(l,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"toggle-wrapper"},[e.name?s("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.value}}):e._e(),e._v(" "),s("button",{staticClass:"project-feature-toggle",class:{"is-checked":e.value,"is-disabled":e.disabledInput,"is-loading":e.isLoading},attrs:{"aria-label":e.ariaLabel,type:"button"},on:{click:e.toggleFeature}},[s("gl-loading-icon",{staticClass:"loading-icon"}),e._v(" "),s("span",{staticClass:"toggle-icon"},[s("icon",{attrs:{name:e.toggleIcon,"css-classes":"toggle-icon-svg"}})],1)],1)])},[],!1,null,null,null);u.options.__file="toggle_button.vue";t.a=u.exports},21:function(e,t,s){"use strict";s.d(t,"b",function(){return h}),s.d(t,"a",function(){return p});var i=s(0),n=s.n(i),a=s(5),o=s.n(a),r=s(11),l=s(14),c=s.n(l),u=s(13),d={disabled:!1,filter:{path:""},state:{},detail:{issue:{}},moving:{issue:{},list:{}},create:function(){this.state.lists=[],this.filter.path=Object(u.l)().join("&"),this.detail={issue:{}}},addList:function(e,t){var s=new List(e,t);return this.state.lists.push(s),s},new:function(e){var t=this,s=this.addList(e),i=this.findList("type","backlog","backlog");s.save().then(function(){s.issues.forEach(i.removeIssue.bind(i)),t.state.lists=o.a.sortBy(t.state.lists,"position")}).catch(function(){}),this.removeBlankState()},updateNewListDropdown:function(e){n()(".js-board-list-".concat(e)).removeClass("is-active")},shouldAddBlankState:function(){return!this.state.lists.filter(function(e){return"backlog"!==e.type&&"closed"!==e.type})[0]},addBlankState:function(){!this.shouldAddBlankState()||this.welcomeIsHidden()||this.disabled||(this.addList({id:"blank",list_type:"blank",title:"Welcome to your Issue Board!",position:0}),this.state.lists=o.a.sortBy(this.state.lists,"position"))},removeBlankState:function(){this.removeList("blank"),c.a.set("issue_board_welcome_hidden","true",{expires:3650,path:""})},welcomeIsHidden:function(){return Object(u.A)(c.a.get("issue_board_welcome_hidden"))},removeList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank";this.findList("id",e,t)&&(this.state.lists=this.state.lists.filter(function(t){return t.id!==e}))},moveList:function(e,t){var s=this;t.forEach(function(e,t){s.findList("id",parseInt(e,10)).position=t}),e.update()},moveIssueToList:function(e,t,s,i){var n=t.findIssue(s.id),a=s.getLists(),o=a.map(function(e){return e.label});if(n)t.updateIssueLabel(s,e),n.removeLabel(e.label);else if("assignee"===t.type&&"assignee"===e.type&&s.findAssignee(t.assignee))t.findIssue(s.id).removeAssignee(e.assignee);else if("milestone"===t.type){var r=s.milestone,l=this.state.lists.filter(function(e){return"milestone"===e.type&&e.id!==t.id}).filter(function(e){return e.issues.some(function(e){return s.id===e.id})});s.removeMilestone(r),s.addMilestone(t.milestone),l.forEach(function(e){return e.removeIssue(s)}),t.addIssue(s,e,i)}else t.addIssue(s,e,i);"closed"===t.type&&"backlog"!==e.type?(a.forEach(function(e){e.removeIssue(s)}),s.removeLabels(o)):"backlog"===t.type&&"assignee"===e.type?(s.removeAssignee(e.assignee),e.removeIssue(s)):"backlog"===t.type&&"milestone"===e.type?(s.removeMilestone(e.milestone),e.removeIssue(s)):this.shouldRemoveIssue(e,t)&&e.removeIssue(s)},shouldRemoveIssue:function(e,t){return"label"!==t.type&&"assignee"===e.type||"assignee"!==t.type&&"label"===e.type||"backlog"===e.type},moveIssueInList:function(e,t,s,i,n){var a=parseInt(n[i-1],10)||null,o=parseInt(n[i+1],10)||null;e.moveIssue(t,s,i,a,o)},findList:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";return this.state.lists.filter(function(i){var n=!s||(i.type===s||"assignee"===i.type||"milestone"===i.type);return i[e]===t&&n})[0]},findListByLabelId:function(e){return this.state.lists.find(function(t){return"label"===t.type&&t.label.id===e})},updateFiltersUrl:function(){window.history.pushState(null,null,"?".concat(this.filter.path))}};function h(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];r.default.set.apply(r.default,[d.detail.issue].concat(t))}function p(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];r.default.delete.apply(r.default,[d.detail.issue].concat(t))}t.c=d},217:function(e,t,s){"use strict";var i=s(5),n=s.n(i),a=s(13),o=s(144),r=s(19),l=s(7),c=s(120),u=s(11),d=new u.default,h=s(165),p={name:"RecentSearchesDropdownContent",props:{items:{type:Array,required:!0},isLocalStorageAvailable:{type:Boolean,required:!1,default:!0},allowedKeys:{type:Array,required:!0}},computed:{processedItems:function(){var e=this;return this.items.map(function(t){var s=h.a.processTokens(t,e.allowedKeys),i=s.tokens,n=s.searchToken;return{text:t,tokens:i.map(function(e){return{prefix:"".concat(e.key,":"),suffix:"".concat(e.symbol).concat(e.value)}}),searchToken:n}})},hasItems:function(){return this.items.length>0}},methods:{onItemActivated:function(e){d.$emit("recentSearchesItemSelected",e)},onRequestClearRecentSearches:function(e){e.stopPropagation(),d.$emit("requestClearRecentSearches")}}},f=s(3),g=Object(f.a)(p,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isLocalStorageAvailable?e.hasItems?s("ul",[e._l(e.processedItems,function(t,i){return s("li",{key:"processed-items-"+i},[s("button",{staticClass:"filtered-search-history-dropdown-item",attrs:{type:"button"},on:{click:function(s){e.onItemActivated(t.text)}}},[s("span",e._l(t.tokens,function(t,i){return s("span",{key:"dropdown-token-"+i,staticClass:"filtered-search-history-dropdown-token"},[s("span",{staticClass:"name"},[e._v(e._s(t.prefix))]),e._v(" "),s("span",{staticClass:"value"},[e._v(e._s(t.suffix))])])}),0),e._v(" "),s("span",{staticClass:"filtered-search-history-dropdown-search-token"},[e._v("\n          "+e._s(t.searchToken)+"\n        ")])])])}),e._v(" "),s("li",{staticClass:"divider"}),e._v(" "),s("li",[s("button",{staticClass:"filtered-search-history-clear-button",attrs:{type:"button"},on:{click:function(t){e.onRequestClearRecentSearches(t)}}},[e._v("\n        Clear recent searches\n      ")])])],2):s("div",{staticClass:"dropdown-info-note"},[e._v("You don't have any recent searches")]):s("div",{staticClass:"dropdown-info-note"},[e._v("\n    This feature requires local storage to be enabled\n  ")])])},[],!1,null,null,null);g.options.__file="recent_searches_dropdown_content.vue";var b=g.exports;function v(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=function(){function e(t,s,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.service=s,this.wrapperElement=i}var t,s,i;return t=e,(s=[{key:"init",value:function(){this.bindEvents(),this.render()}},{key:"bindEvents",value:function(){this.onRequestClearRecentSearchesWrapper=this.onRequestClearRecentSearches.bind(this),d.$on("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}},{key:"unbindEvents",value:function(){d.$off("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}},{key:"render",value:function(){var e=this.store.state;this.vm=new u.default({el:this.wrapperElement,components:{RecentSearchesDropdownContent:b},data:function(){return e},template:'\n        <recent-searches-dropdown-content\n          :items="recentSearches"\n          :is-local-storage-available="isLocalStorageAvailable"\n          :allowed-keys="allowedKeys"\n          />\n      '})}},{key:"onRequestClearRecentSearches",value:function(){var e=this.store.setRecentSearches([]);this.service.save(e)}},{key:"destroy",value:function(){this.unbindEvents(),this.vm&&this.vm.$destroy()}}])&&v(t.prototype,s),i&&v(t,i),e}();function y(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=Object.assign({isLocalStorageAvailable:!0,recentSearches:[],allowedKeys:s},t)}var t,s,i;return t=e,(s=[{key:"addRecentSearch",value:function(e){return this.setRecentSearches([e].concat(this.state.recentSearches)),this.state.recentSearches}},{key:"setRecentSearches",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.trim()});return this.state.recentSearches=n.a.uniq(e).slice(0,5),this.state.recentSearches}}])&&y(t.prototype,s),i&&y(t,i),e}();var _=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="RecentSearchesServiceError",this.message=t||"Recent Searches Service is unavailable"};_.prototype=Error.prototype;var k=_,S=s(31);function C(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"issuable-recent-searches";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.localStorageKey=t}var t,s,i;return t=e,i=[{key:"isAvailable",value:function(){return S.a.isLocalStorageAccessSafe()}}],(s=[{key:"fetch",value:function(){if(!e.isAvailable()){var t=new k;return Promise.reject(t)}var s=window.localStorage.getItem(this.localStorageKey),i=[];if(s&&s.length>0)try{i=JSON.parse(s)}catch(e){return Promise.reject(e)}return Promise.resolve(i)}},{key:"save",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.isAvailable()&&window.localStorage.setItem(this.localStorageKey,JSON.stringify(t))}}])&&C(t.prototype,s),i&&C(t,i),e}(),I=s(176),j=s(278),E=s(64),T=s(95);function L(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}s.d(t,"a",function(){return O});var O=function(){function e(t){var s=t.page,i=t.isGroup,n=void 0!==i&&i,a=t.isGroupAncestor,r=void 0===a||a,l=t.isGroupDecendent,u=void 0!==l&&l,d=t.filteredSearchTokenKeys,h=void 0===d?o.a:d,p=t.stateFiltersSelector,f=void 0===p?".issues-state-filters":p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isGroup=n,this.isGroupAncestor=r,this.isGroupDecendent=u,this.states=["opened","closed","merged","all"],this.page=s,this.container=c.a.container,this.filteredSearchInput=this.container.querySelector(".filtered-search"),this.filteredSearchInputForm=this.filteredSearchInput.form,this.clearSearchButton=this.container.querySelector(".clear-search"),this.tokensContainer=this.container.querySelector(".tokens-container"),this.filteredSearchTokenKeys=h,this.stateFiltersSelector=f,this.recentsStorageKeyNames={issues:"issue-recent-searches",merge_requests:"merge-request-recent-searches"},this.recentSearchesStore=new w({isLocalStorageAvailable:D.isAvailable(),allowedKeys:this.filteredSearchTokenKeys.getKeys()}),this.searchHistoryDropdownElement=document.querySelector(".js-filtered-search-history-dropdown");var g=this.searchHistoryDropdownElement?this.searchHistoryDropdownElement.dataset.fullPath:"project",b="".concat(g,"-").concat(this.recentsStorageKeyNames[this.page]);this.recentSearchesService=new D(b)}var t,s,i;return t=e,(s=[{key:"setup",value:function(){var e=this;this.fetchingRecentSearchesPromise=this.recentSearchesService.fetch().catch(function(e){if("RecentSearchesServiceError"!==e.name)return new l.a("An error occurred while parsing recent searches"),[]}).then(function(t){if(t){var s=e.recentSearchesStore.setRecentSearches(e.recentSearchesStore.state.recentSearches.concat(t));e.recentSearchesService.save(s)}}),this.filteredSearchInput&&(this.tokenizer=h.a,this.dropdownManager=new j.a({baseEndpoint:this.filteredSearchInput.getAttribute("data-base-endpoint")||"",tokenizer:this.tokenizer,page:this.page,isGroup:this.isGroup,isGroupAncestor:this.isGroupAncestor,isGroupDecendent:this.isGroupDecendent,filteredSearchTokenKeys:this.filteredSearchTokenKeys}),this.recentSearchesRoot=new m(this.recentSearchesStore,this.recentSearchesService,this.searchHistoryDropdownElement),this.recentSearchesRoot.init(),this.bindEvents(),this.loadSearchParamsFromURL(),this.dropdownManager.setDropdown(),this.cleanupWrapper=this.cleanup.bind(this),document.addEventListener("beforeunload",this.cleanupWrapper))}},{key:"cleanup",value:function(){this.unbindEvents(),document.removeEventListener("beforeunload",this.cleanupWrapper),this.recentSearchesRoot&&this.recentSearchesRoot.destroy()}},{key:"bindStateEvents",value:function(){var e=this;this.stateFilters=document.querySelector(".container-fluid ".concat(this.stateFiltersSelector)),this.stateFilters&&(this.searchStateWrapper=this.searchState.bind(this),this.applyToStateFilters(function(t){t.addEventListener("click",e.searchStateWrapper)}))}},{key:"unbindStateEvents",value:function(){var e=this;this.stateFilters&&this.applyToStateFilters(function(t){t.removeEventListener("click",e.searchStateWrapper)})}},{key:"applyToStateFilters",value:function(e){var t=this;this.stateFilters.querySelectorAll("a[data-state]").forEach(function(s){t.states.indexOf(s.dataset.state)>-1&&e(s)})}},{key:"bindEvents",value:function(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.setDropdownWrapper=this.dropdownManager.setDropdown.bind(this.dropdownManager),this.toggleClearSearchButtonWrapper=this.toggleClearSearchButton.bind(this),this.handleInputPlaceholderWrapper=this.handleInputPlaceholder.bind(this),this.handleInputVisualTokenWrapper=this.handleInputVisualToken.bind(this),this.checkForEnterWrapper=this.checkForEnter.bind(this),this.onClearSearchWrapper=this.onClearSearch.bind(this),this.checkForBackspaceWrapper=this.checkForBackspace.call(this),this.removeSelectedTokenKeydownWrapper=this.removeSelectedTokenKeydown.bind(this),this.unselectEditTokensWrapper=this.unselectEditTokens.bind(this),this.editTokenWrapper=this.editToken.bind(this),this.tokenChange=this.tokenChange.bind(this),this.addInputContainerFocusWrapper=this.addInputContainerFocus.bind(this),this.removeInputContainerFocusWrapper=this.removeInputContainerFocus.bind(this),this.onrecentSearchesItemSelectedWrapper=this.onrecentSearchesItemSelected.bind(this),this.removeTokenWrapper=this.removeToken.bind(this),this.filteredSearchInputForm.addEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.addEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.addEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.addEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.addEventListener("input",this.handleInputVisualTokenWrapper),this.filteredSearchInput.addEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.addEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.addEventListener("click",this.tokenChange),this.filteredSearchInput.addEventListener("keyup",this.tokenChange),this.filteredSearchInput.addEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.addEventListener("click",this.removeTokenWrapper),this.tokensContainer.addEventListener("click",this.editTokenWrapper),this.clearSearchButton.addEventListener("click",this.onClearSearchWrapper),document.addEventListener("click",this.unselectEditTokensWrapper),document.addEventListener("click",this.removeInputContainerFocusWrapper),document.addEventListener("keydown",this.removeSelectedTokenKeydownWrapper),d.$on("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.bindStateEvents()}},{key:"unbindEvents",value:function(){this.filteredSearchInputForm.removeEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.removeEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.removeEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.removeEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.removeEventListener("input",this.handleInputVisualTokenWrapper),this.filteredSearchInput.removeEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.removeEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.removeEventListener("click",this.tokenChange),this.filteredSearchInput.removeEventListener("keyup",this.tokenChange),this.filteredSearchInput.removeEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.removeEventListener("click",this.removeTokenWrapper),this.tokensContainer.removeEventListener("click",this.editTokenWrapper),this.clearSearchButton.removeEventListener("click",this.onClearSearchWrapper),document.removeEventListener("click",this.unselectEditTokensWrapper),document.removeEventListener("click",this.removeInputContainerFocusWrapper),document.removeEventListener("keydown",this.removeSelectedTokenKeydownWrapper),d.$off("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.unbindStateEvents()}},{key:"checkForBackspace",value:function(){var e=this,t=0;return function(s){if(8===s.keyCode||46===s.keyCode){var i=E.a.getLastVisualTokenBeforeInput().lastVisualToken,n=T.a.getVisualTokenValues(i),a=n.tokenName,o=n.tokenValue,r=a&&e.canEdit&&e.canEdit(a,o);""===e.filteredSearchInput.value&&i&&r&&2===(t+=1)&&(t=0,e.filteredSearchInput.value=E.a.getLastTokenPartial(),E.a.removeLastTokenPartial()),e.dropdownManager.updateCurrentDropdownOffset()}else t=0}}},{key:"checkForEnter",value:function(e){if(38===e.keyCode||40===e.keyCode){var t=this.filteredSearchInput.selectionStart;e.preventDefault(),this.filteredSearchInput.setSelectionRange(t,t)}if(13===e.keyCode){var s=this.dropdownManager.mapping[this.dropdownManager.currentDropdown].element.querySelectorAll(".droplab-item-active");e.preventDefault(),s.length||(this.isHandledAsync?(e.stopImmediatePropagation(),this.filteredSearchInput.blur(),this.dropdownManager.resetDropdowns()):this.dropdownManager.destroyDroplab(),this.search())}}},{key:"addInputContainerFocus",value:function(){Object(I.a)(this.filteredSearchInput.closest(".filtered-search-box"),"focus")}},{key:"removeInputContainerFocus",value:function(e){var t=this.filteredSearchInput.closest(".filtered-search-box"),s=t&&t.contains(e.target),i=null!==e.target.closest(".filter-dropdown"),n=null!==e.target.closest("ul[data-dropdown]");s||i||n||!t||t.classList.remove("focus")}},{key:"removeToken",value:function(e){if(e.target.closest(".remove-token")){e.preventDefault(),e.stopImmediatePropagation();var t=e.target.closest(".selectable");E.a.selectToken(t,!0),this.removeSelectedToken()}}},{key:"unselectEditTokens",value:function(e){var t=this.container.querySelector(".filtered-search-box"),s=t&&t.contains(e.target),i=null!==e.target.closest(".filter-dropdown"),n=e.target.classList.contains("tokens-container");(!s&&!i||n)&&(E.a.moveInputToTheRight(),this.dropdownManager.resetDropdowns())}},{key:"editToken",value:function(e){var t=e.target.closest(".js-visual-token"),s=t&&t.querySelector(".name").textContent.trim(),i=this.canEdit&&this.canEdit(s);t&&i&&(e.preventDefault(),e.stopPropagation(),E.a.editToken(t),this.tokenChange())}},{key:"toggleClearSearchButton",value:function(){var e=T.a.getSearchQuery(),t=this.clearSearchButton.classList.contains("hidden");0!==e.length||t?e.length&&t&&this.clearSearchButton.classList.remove("hidden"):this.clearSearchButton.classList.add("hidden")}},{key:"handleInputPlaceholder",value:function(){var e=T.a.getSearchQuery(),t=this.filteredSearchInput.placeholder;0===e.length&&"Search or filter results..."!==t?this.filteredSearchInput.placeholder="Search or filter results...":e.length>0&&""!==t&&(this.filteredSearchInput.placeholder="")}},{key:"removeSelectedTokenKeydown",value:function(e){8!==e.keyCode&&46!==e.keyCode||this.removeSelectedToken()}},{key:"removeSelectedToken",value:function(){E.a.removeSelectedToken(),this.handleInputPlaceholder(),this.toggleClearSearchButton(),this.dropdownManager.updateCurrentDropdownOffset()}},{key:"onClearSearch",value:function(e){e.preventDefault(),this.clearSearch()}},{key:"clearSearch",value:function(){var e=this;this.filteredSearchInput.value="";var t=[];[].forEach.call(this.tokensContainer.children,function(s){var i=s.classList.contains("js-visual-token");if(i){var n=T.a.getVisualTokenValues(s),a=n.tokenName,o=n.tokenValue;i=e.canEdit&&e.canEdit(a,o)}i&&t.push(s)}),t.forEach(function(e){e.parentElement.removeChild(e)}),this.clearSearchButton.classList.add("hidden"),this.handleInputPlaceholder(),this.dropdownManager.resetDropdowns(),this.isHandledAsync&&this.search()}},{key:"handleInputVisualToken",value:function(){var e=this,t=this.filteredSearchInput,s=this.tokenizer.processTokens(t.value,this.filteredSearchTokenKeys.getKeys()),i=s.tokens,a=s.searchToken;if(E.a.getLastVisualTokenBeforeInput().isLastVisualTokenValid){i.forEach(function(s){t.value=t.value.replace("".concat(s.key,":").concat(s.symbol).concat(s.value),""),E.a.addFilterVisualToken(s.key,"".concat(s.symbol).concat(s.value),{uppercaseTokenName:e.filteredSearchTokenKeys.shouldUppercaseTokenName(s.key),capitalizeTokenValue:e.filteredSearchTokenKeys.shouldCapitalizeTokenValue(s.key)})});var o=a.split(":");if(o.length>1){var r=o[0].split(" "),l=n.a.last(r);if(r.length>1){r.pop();var c=r.join(" ");t.value=t.value.replace(c,""),E.a.addSearchVisualToken(c)}E.a.addFilterVisualToken(l,null,{uppercaseTokenName:this.filteredSearchTokenKeys.shouldUppercaseTokenName(l),capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(l)}),t.value=t.value.replace("".concat(l,":"),"")}}else{if(a.match(/([~%@]{0,1}".+")|([~%@]{0,1}'.+')|^((?![~%@]')(?![~%@]")(?!')(?!")).*/g)&&" "===t.value[t.value.length-1]){var u=E.a.getLastTokenPartial();E.a.addFilterVisualToken(a,null,{capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(u)}),t.value=t.value.replace(a,"").trim()}}}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),this.search()}},{key:"saveCurrentSearchQuery",value:function(){var e=this;this.fetchingRecentSearchesPromise.then(function(){var t=T.a.getSearchQuery();if(t.length>0){var s=e.recentSearchesStore.addRecentSearch(t);e.recentSearchesService.save(s)}}).catch(function(){})}},{key:"getAllParams",value:function(e){return this.modifyUrlParams?this.modifyUrlParams(e):e}},{key:"loadSearchParamsFromURL",value:function(){var e=this,t=Object(a.l)(),s=this.getAllParams(t),i=this.getUsernameParams(),n=!1;s.forEach(function(t){var s=t.split("="),a=decodeURIComponent(s[0]),o=s[1],r=e.filteredSearchTokenKeys.searchByConditionUrl(t);if(r){n=!0;var l=e.canEdit&&e.canEdit(r.tokenKey);E.a.addFilterVisualToken(r.tokenKey,r.value,{canEdit:l})}else{var c=o?decodeURIComponent(o.replace(/\+/g," ")):o,u=e.filteredSearchTokenKeys.searchByKeyParam(a);if(u){var d=a.lastIndexOf("_"),h=-1!==d?a.slice(0,d):a;h=h.replace("_","-");var p=u.symbol,f="";-1!==c.indexOf(" ")&&(f=-1===c.indexOf('"')?'"':"'"),n=!0;var g=e.canEdit&&e.canEdit(h,c),b=u.uppercaseTokenName,v=u.capitalizeTokenValue;E.a.addFilterVisualToken(h,"".concat(p).concat(f).concat(c).concat(f),{canEdit:g,uppercaseTokenName:b,capitalizeTokenValue:v})}else if(u||"assignee_id"!==a)if(u||"author_id"!==a)u||"search"!==a||(n=!0,e.filteredSearchInput.value=c);else{var m=parseInt(o,10);if(i[m]){n=!0;var y=e.canEdit&&e.canEdit("author");E.a.addFilterVisualToken("author","@".concat(i[m]),{canEdit:y})}}else{var w=parseInt(o,10);if(i[w]){n=!0;var _=e.canEdit&&e.canEdit("assignee");E.a.addFilterVisualToken("assignee","@".concat(i[w]),{canEdit:_})}}}}),this.saveCurrentSearchQuery(),n&&(this.clearSearchButton.classList.remove("hidden"),this.handleInputPlaceholder())}},{key:"searchState",value:function(e){e.preventDefault();var t=e.currentTarget;t.blur();var s=t.dataset&&t.dataset.state;s&&this.search(s)}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=[],i=T.a.getSearchQuery();this.saveCurrentSearchQuery();var n=this.filteredSearchTokenKeys.getKeys(),o=this.tokenizer.processTokens(i,n),l=o.tokens,c=o.searchToken,u=t||Object(a.i)("state")||"opened";if(s.push("state=".concat(u)),l.forEach(function(t){var i=e.filteredSearchTokenKeys.searchByConditionKeyValue(t.key,t.value.toLowerCase()),n=e.filteredSearchTokenKeys.searchByKey(t.key)||{},a=n.param,o=t.key.replace("-","_"),r=a?"".concat(o,"_").concat(a):o,l="";if(i)l=i.url;else{var c=t.value;n.lowercaseValueOnSubmit&&(c=c.toLowerCase()),("'"===c[0]&&"'"===c[c.length-1]||'"'===c[0]&&'"'===c[c.length-1])&&(c=c.slice(1,c.length-1)),l="".concat(r,"=").concat(encodeURIComponent(c))}s.push(l)}),c){var d=c.split(" ").map(function(e){return encodeURIComponent(e)}).join("+");s.push("search=".concat(d))}var h="?scope=all&utf8=%E2%9C%93&".concat(s.join("&"));this.updateObject?this.updateObject(h):Object(r.g)(h)}},{key:"getUsernameParams",value:function(){var e={};try{var t=this.filteredSearchInput.getAttribute("data-username-params");JSON.parse(t).forEach(function(t){e[t.id]=t.username})}catch(e){}return e}},{key:"tokenChange",value:function(){var e=this.dropdownManager.mapping[this.dropdownManager.currentDropdown];if(e){var t=e.reference;this.setDropdownWrapper(),t.dispatchInputEvent()}}},{key:"onrecentSearchesItemSelected",value:function(e){this.clearSearch(),this.filteredSearchInput.value=e,this.filteredSearchInput.dispatchEvent(new CustomEvent("input")),this.search()}},{key:"canEdit",value:function(){return!0}}])&&L(t.prototype,s),i&&L(t,i),e}()},238:function(e,t,s){"use strict";s.d(t,"a",function(){return c});var i=s(0),n=s.n(i),a=s(14),o=s.n(a),r=s(101),l=s(105);var c=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userSelect=new l.a(t),n()("select.select2").select2({width:"resolve",dropdownAutoWidth:!0}),n()(".issuable-sidebar .inline-update").on("change","select",function(){return n()(this).submit()}),n()(".issuable-sidebar .inline-update").on("change",".js-assignee",function(){return n()(this).submit()}),n()(document).off("click",".issuable-sidebar .dropdown-content a").on("click",".issuable-sidebar .dropdown-content a",function(e){return e.preventDefault()}),n()(document).off("click",".edit-link").on("click",".edit-link",function(e){e.preventDefault();var t=n()(this).parents(".block"),s=t.find(".selectbox");s.is(":visible")?(s.hide(),t.find(".value:not(.dont-hide)").show()):(s.show(),t.find(".value:not(.dont-hide)").hide()),s.is(":visible")&&setTimeout(function(){return t.find(".dropdown-menu-toggle").trigger("click")},0)}),window.addEventListener("beforeunload",function(){var e=r.a.getBreakpointSize();"xs"!==e&&"sm"!==e||o.a.set("collapsed_gutter",!0)})}},241:function(e,t,s){"use strict";var i={name:"AssigneeTitle",props:{loading:{type:Boolean,required:!1,default:!1},numberOfAssignees:{type:Number,required:!0},editable:{type:Boolean,required:!0},showToggle:{type:Boolean,required:!1,default:!1}},computed:{assigneeTitle:function(){var e=this.numberOfAssignees;return e>1?"".concat(e," Assignees"):"Assignee"}}},n=s(3),a=Object(n.a)(i,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title hide-collapsed"},[e._v("\n  "+e._s(e.assigneeTitle)+"\n  "),e.loading?s("i",{staticClass:"fa fa-spinner fa-spin block-loading",attrs:{"aria-hidden":"true"}}):e._e(),e._v(" "),e.editable?s("a",{staticClass:"js-sidebar-dropdown-toggle edit-link float-right",attrs:{href:"#"}},[e._v("\n    "+e._s(e.__("Edit"))+"\n  ")]):e._e(),e._v(" "),e.showToggle?s("a",{staticClass:"gutter-toggle float-right js-sidebar-toggle",attrs:{"aria-label":"Toggle sidebar",href:"#",role:"button"}},[s("i",{staticClass:"fa fa-angle-double-right",attrs:{"aria-hidden":"true","data-hidden":"true"}})]):e._e()])},[],!1,null,null,null);a.options.__file="assignee_title.vue";t.a=a.exports},245:function(e,t,s){"use strict";var i=s(1),n=s(15),a=s(164),o=s(41),r=s(57),l=Object(i.a)("Notifications on"),c=Object(i.a)("Notifications off"),u={directives:{tooltip:o.a},components:{icon:n.a,toggleButton:a.a},props:{loading:{type:Boolean,required:!1,default:!1},subscribed:{type:Boolean,required:!1,default:null},id:{type:Number,required:!1,default:null}},computed:{showLoadingState:function(){return null===this.subscribed},notificationIcon:function(){return this.subscribed?"notifications":"notifications-off"},notificationTooltip:function(){return this.subscribed?l:c}},methods:{toggleSubscription:function(){r.a.$emit("toggleSubscription",this.id),this.$emit("toggleSubscription",this.id)},onClickCollapsedIcon:function(){this.$emit("toggleSidebar")}}},d=s(3),h=Object(d.a)(u,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"sidebar-collapsed-icon",on:{click:e.onClickCollapsedIcon}},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:e.notificationTooltip,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[s("icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.notificationIcon,size:16,"aria-hidden":"true"}})],1)]),e._v(" "),s("span",{staticClass:"issuable-header-text hide-collapsed float-left"},[e._v(" "+e._s(e.__("Notifications"))+" ")]),e._v(" "),s("toggle-button",{ref:"toggleButton",staticClass:"float-right hide-collapsed js-issuable-subscribe-button",attrs:{"is-loading":e.showLoadingState,value:e.subscribed},on:{change:e.toggleSubscription}})],1)},[],!1,null,null,null);h.options.__file="subscriptions.vue";t.a=h.exports},246:function(e,t,s){"use strict";var i=s(1),n={name:"Assignees",directives:{tooltip:s(41).a},props:{rootPath:{type:String,required:!0},users:{type:Array,required:!0},editable:{type:Boolean,required:!0},issuableType:{type:String,require:!0,default:"issue"}},data:function(){return{defaultRenderCount:5,defaultMaxCounter:99,showLess:!0}},computed:{firstUser:function(){return this.users[0]},hasMoreThanTwoAssignees:function(){return this.users.length>2},hasMoreThanOneAssignee:function(){return this.users.length>1},hasAssignees:function(){return this.users.length>0},hasNoUsers:function(){return!this.users.length},hasOneUser:function(){return 1===this.users.length},renderShowMoreSection:function(){return this.users.length>this.defaultRenderCount},numberOfHiddenAssignees:function(){return this.users.length-this.defaultRenderCount},isHiddenAssignees:function(){return this.numberOfHiddenAssignees>0},hiddenAssigneesLabel:function(){return"+ ".concat(this.numberOfHiddenAssignees," more")},collapsedTooltipTitle:function(){var e=Math.min(this.defaultRenderCount,this.users.length),t=this.users.slice(0,e).map(function(e){return e.name});if(this.users.length>e&&t.push("+ ".concat(this.users.length-e," more")),!this.users.length){var s="issue"===this.issuableType?Object(i.a)("Assignee(s)"):Object(i.a)("Assignee");t.push(s)}return t.join(", ")},sidebarAvatarCounter:function(){var e="+".concat(this.users.length-1);return this.users.length>this.defaultMaxCounter&&(e="".concat(this.defaultMaxCounter,"+")),e}},methods:{assignSelf:function(){this.$emit("assign-self")},toggleShowLess:function(){this.showLess=!this.showLess},renderAssignee:function(e){return!this.showLess||e<this.defaultRenderCount&&this.showLess},avatarUrl:function(e){return e.avatar||e.avatar_url||gon.default_avatar_url},assigneeUrl:function(e){return"".concat(this.rootPath).concat(e.username)},assigneeAlt:function(e){return"".concat(e.name,"'s avatar")},assigneeUsername:function(e){return"@".concat(e.username)},shouldRenderCollapsedAssignee:function(e){var t=this.users.length<=2&&e<=2;return 0===e||t}}},a=s(3),o=Object(a.a)(n,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-user",class:{"multiple-users":e.hasMoreThanOneAssignee},attrs:{title:e.collapsedTooltipTitle,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[e.hasNoUsers?s("i",{staticClass:"fa fa-user",attrs:{"aria-label":"No Assignee"}}):e._e(),e._v(" "),e._l(e.users,function(t,i){return e.shouldRenderCollapsedAssignee(i)?s("button",{key:t.id,staticClass:"btn-link",attrs:{type:"button"}},[s("img",{staticClass:"avatar avatar-inline s24",attrs:{alt:e.assigneeAlt(t),src:e.avatarUrl(t),width:"24"}}),e._v(" "),s("span",{staticClass:"author"},[e._v(" "+e._s(t.name)+" ")])]):e._e()}),e._v(" "),e.hasMoreThanTwoAssignees?s("button",{staticClass:"btn-link",attrs:{type:"button"}},[s("span",{staticClass:"avatar-counter sidebar-avatar-counter"},[e._v(" "+e._s(e.sidebarAvatarCounter)+" ")])]):e._e()],2),e._v(" "),s("div",{staticClass:"value hide-collapsed"},[e.hasNoUsers?[s("span",{staticClass:"assign-yourself no-value"},[e._v("\n        No assignee\n        "),e.editable?[e._v("\n          - "),s("button",{staticClass:"btn-link",attrs:{type:"button"},on:{click:e.assignSelf}},[e._v("assign yourself")])]:e._e()],2)]:e.hasOneUser?[s("a",{staticClass:"author-link bold",attrs:{href:e.assigneeUrl(e.firstUser)}},[s("img",{staticClass:"avatar avatar-inline s32",attrs:{alt:e.assigneeAlt(e.firstUser),src:e.avatarUrl(e.firstUser),width:"32"}}),e._v(" "),s("span",{staticClass:"author"},[e._v(" "+e._s(e.firstUser.name)+" ")]),e._v(" "),s("span",{staticClass:"username"},[e._v(" "+e._s(e.assigneeUsername(e.firstUser))+" ")])])]:[s("div",{staticClass:"user-list"},e._l(e.users,function(t,i){return e.renderAssignee(i)?s("div",{key:t.id,staticClass:"user-item"},[s("a",{staticClass:"user-link has-tooltip",attrs:{href:e.assigneeUrl(t),"data-title":t.name,"data-container":"body","data-placement":"bottom"}},[s("img",{staticClass:"avatar avatar-inline s32",attrs:{alt:e.assigneeAlt(t),src:e.avatarUrl(t),width:"32"}})])]):e._e()}),0),e._v(" "),e.renderShowMoreSection?s("div",{staticClass:"user-list-more"},[s("button",{staticClass:"btn-link",attrs:{type:"button"},on:{click:e.toggleShowLess}},[e.showLess?[e._v("\n            "+e._s(e.hiddenAssigneesLabel)+"\n          ")]:[e._v("\n            - show less\n          ")]],2)]):e._e()]],2)])},[],!1,null,null,null);o.options.__file="assignees.vue";t.a=o.exports},27:function(e,t,s){"use strict";s.d(t,"a",function(){return d});var i=s(2),n=s.n(i),a=s(4),o=s(43);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=l(this,c(t).call(this)),n.a.bind("g p",function(){return Object(a.a)(".shortcuts-project")}),n.a.bind("g v",function(){return Object(a.a)(".shortcuts-project-activity")}),n.a.bind("g r",function(){return Object(a.a)(".shortcuts-project-releases")}),n.a.bind("g f",function(){return Object(a.a)(".shortcuts-tree")}),n.a.bind("g c",function(){return Object(a.a)(".shortcuts-commits")}),n.a.bind("g j",function(){return Object(a.a)(".shortcuts-builds")}),n.a.bind("g n",function(){return Object(a.a)(".shortcuts-network")}),n.a.bind("g d",function(){return Object(a.a)(".shortcuts-repository-charts")}),n.a.bind("g i",function(){return Object(a.a)(".shortcuts-issues")}),n.a.bind("g b",function(){return Object(a.a)(".shortcuts-issue-boards")}),n.a.bind("g m",function(){return Object(a.a)(".shortcuts-merge_requests")}),n.a.bind("g w",function(){return Object(a.a)(".shortcuts-wiki")}),n.a.bind("g s",function(){return Object(a.a)(".shortcuts-snippets")}),n.a.bind("g k",function(){return Object(a.a)(".shortcuts-kubernetes")}),n.a.bind("g e",function(){return Object(a.a)(".shortcuts-environments")}),n.a.bind("g l",function(){return Object(a.a)(".shortcuts-metrics")}),n.a.bind("i",function(){return Object(a.a)(".shortcuts-new-issue")}),e.enabledHelp.push(".hidden-shortcut.project"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["a"]),t}()},273:function(e,t,s){var i,n;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
!function(a){"use strict";void 0===(n="function"==typeof(i=a)?i.call(t,s,t,e):i)||(e.exports=n)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,s,i,n,a,o,r,l,c,u,d,h,p,f,g,b,v,m,y,w,_={},k=/\s+/g,S=/left|right|inline/,C="Sortable"+(new Date).getTime(),D=window,I=D.document,j=D.parseInt,E=D.setTimeout,T=D.jQuery||D.Zepto,L=D.Polymer,O=!1,x="draggable"in I.createElement("div"),P=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((w=I.createElement("x")).style.cssText="pointer-events:auto","auto"===w.style.pointerEvents),A=!1,$=Math.abs,B=Math.min,M=[],N=[],R=ie(function(e,t,s){if(s&&t.scroll){var i,n,a,o,u,d,h=s[C],p=t.scrollSensitivity,f=t.scrollSpeed,g=e.clientX,b=e.clientY,v=window.innerWidth,m=window.innerHeight;if(l!==s&&(r=t.scroll,l=s,c=t.scrollFn,!0===r)){r=s;do{if(r.offsetWidth<r.scrollWidth||r.offsetHeight<r.scrollHeight)break}while(r=r.parentNode)}r&&(i=r,n=r.getBoundingClientRect(),a=($(n.right-g)<=p)-($(n.left-g)<=p),o=($(n.bottom-b)<=p)-($(n.top-b)<=p)),a||o||(o=(m-b<=p)-(b<=p),((a=(v-g<=p)-(g<=p))||o)&&(i=D)),_.vx===a&&_.vy===o&&_.el===i||(_.el=i,_.vx=a,_.vy=o,clearInterval(_.pid),i&&(_.pid=setInterval(function(){if(d=o?o*f:0,u=a?a*f:0,"function"==typeof c)return c.call(h,u,d,e);i===D?D.scrollTo(D.pageXOffset+u,D.pageYOffset+d):(i.scrollTop+=d,i.scrollLeft+=u)},24)))}},30),F=function(e){function t(e,t){return void 0!==e&&!0!==e||(e=s.name),"function"==typeof e?e:function(s,i){var n=i.options.group.name;return t?e:e&&(e.join?e.indexOf(n)>-1:n==e)}}var s={},i=e.group;i&&"object"==typeof i||(i={name:i}),s.name=i.name,s.checkPull=t(i.pull,!0),s.checkPut=t(i.put),s.revertClone=i.revertClone,e.group=s};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){O={capture:!1,passive:!1}}}))}catch(e){}function q(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=ne({},t),e[C]=this;var s={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==q.supportPointer};for(var i in s)!(i in t)&&(t[i]=s[i]);for(var n in F(t),this)"_"===n.charAt(0)&&"function"==typeof this[n]&&(this[n]=this[n].bind(this));this.nativeDraggable=!t.forceFallback&&x,Y(e,"mousedown",this._onTapStart),Y(e,"touchstart",this._onTapStart),t.supportPointer&&Y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Y(e,"dragover",this),Y(e,"dragenter",this)),N.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function U(t,s){"clone"!==t.lastPullMode&&(s=!0),i&&i.state!==s&&(z(i,"display",s?"none":""),s||i.state&&(t.options.group.revertClone?(n.insertBefore(i,a),t._animate(e,i)):n.insertBefore(i,e)),i.state=s)}function W(e,t,s){if(e){s=s||I;do{if(">*"===t&&e.parentNode===s||se(e,t))return e}while(e=H(e))}return null}function H(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function Y(e,t,s){e.addEventListener(t,s,O)}function K(e,t,s){e.removeEventListener(t,s,O)}function V(e,t,s){if(e)if(e.classList)e.classList[s?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(k," ").replace(" "+t+" "," ");e.className=(i+(s?" "+t:"")).replace(k," ")}}function z(e,t,s){var i=e&&e.style;if(i){if(void 0===s)return I.defaultView&&I.defaultView.getComputedStyle?s=I.defaultView.getComputedStyle(e,""):e.currentStyle&&(s=e.currentStyle),void 0===t?s:s[t];t in i||(t="-webkit-"+t),i[t]=s+("string"==typeof s?"":"px")}}function G(e,t,s){if(e){var i=e.getElementsByTagName(t),n=0,a=i.length;if(s)for(;n<a;n++)s(i[n],n);return i}return[]}function X(e,t,s,n,a,o,r,l){e=e||t[C];var c=I.createEvent("Event"),u=e.options,d="on"+s.charAt(0).toUpperCase()+s.substr(1);c.initEvent(s,!0,!0),c.to=a||t,c.from=o||t,c.item=n||t,c.clone=i,c.oldIndex=r,c.newIndex=l,t.dispatchEvent(c),u[d]&&u[d].call(e,c)}function J(e,t,s,i,n,a,o,r){var l,c,u=e[C],d=u.options.onMove;return(l=I.createEvent("Event")).initEvent("move",!0,!0),l.to=t,l.from=e,l.dragged=s,l.draggedRect=i,l.related=n||t,l.relatedRect=a||t.getBoundingClientRect(),l.willInsertAfter=r,e.dispatchEvent(l),d&&(c=d.call(u,l,o)),c}function Q(e){e.draggable=!1}function Z(){A=!1}function ee(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,s=t.length,i=0;s--;)i+=t.charCodeAt(s);return i.toString(36)}function te(e,t){var s=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!se(e,t)||s++;return s}function se(e,t){if(e){var s=(t=t.split(".")).shift().toUpperCase(),i=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==s&&e.nodeName.toUpperCase()!=s||t.length&&((" "+e.className+" ").match(i)||[]).length!=t.length)}return!1}function ie(e,t){var s,i;return function(){void 0===s&&(s=arguments,i=this,E(function(){1===s.length?e.call(i,s[0]):e.apply(i,s),s=void 0},t))}}function ne(e,t){if(e&&t)for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e}function ae(e){return L&&L.dom?L.dom(e).cloneNode(!0):T?T(e).clone(!0)[0]:e.cloneNode(!0)}function oe(e){return E(e,0)}function re(e){return clearTimeout(e)}return q.prototype={constructor:q,_onTapStart:function(t){var s,i=this,n=this.el,a=this.options,r=a.preventOnFilter,l=t.type,c=t.touches&&t.touches[0],u=(c||t).target,d=t.target.shadowRoot&&t.path&&t.path[0]||u,h=a.filter;if(function(e){var t=e.getElementsByTagName("input"),s=t.length;for(;s--;){var i=t[s];i.checked&&M.push(i)}}(n),!e&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||a.disabled)&&!d.isContentEditable&&(u=W(u,a.draggable,n))&&o!==u){if(s=te(u,a.draggable),"function"==typeof h){if(h.call(this,t,u,this))return X(i,d,"filter",u,n,n,s),void(r&&t.preventDefault())}else if(h&&(h=h.split(",").some(function(e){if(e=W(d,e.trim(),n))return X(i,e,"filter",u,n,n,s),!0})))return void(r&&t.preventDefault());a.handle&&!W(d,a.handle,n)||this._prepareDragStart(t,c,u,s)}},_prepareDragStart:function(s,i,r,l){var c,u=this,d=u.el,h=u.options,f=d.ownerDocument;r&&!e&&r.parentNode===d&&(v=s,n=d,t=(e=r).parentNode,a=e.nextSibling,o=r,g=h.group,p=l,this._lastX=(i||s).clientX,this._lastY=(i||s).clientY,e.style["will-change"]="all",c=function(){u._disableDelayedDrag(),e.draggable=u.nativeDraggable,V(e,h.chosenClass,!0),u._triggerDragStart(s,i),X(u,n,"choose",e,n,n,p)},h.ignore.split(",").forEach(function(t){G(e,t.trim(),Q)}),Y(f,"mouseup",u._onDrop),Y(f,"touchend",u._onDrop),Y(f,"touchcancel",u._onDrop),Y(f,"selectstart",u),h.supportPointer&&Y(f,"pointercancel",u._onDrop),h.delay?(Y(f,"mouseup",u._disableDelayedDrag),Y(f,"touchend",u._disableDelayedDrag),Y(f,"touchcancel",u._disableDelayedDrag),Y(f,"mousemove",u._disableDelayedDrag),Y(f,"touchmove",u._disableDelayedDrag),h.supportPointer&&Y(f,"pointermove",u._disableDelayedDrag),u._dragStartTimer=E(c,h.delay)):c())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),K(e,"mouseup",this._disableDelayedDrag),K(e,"touchend",this._disableDelayedDrag),K(e,"touchcancel",this._disableDelayedDrag),K(e,"mousemove",this._disableDelayedDrag),K(e,"touchmove",this._disableDelayedDrag),K(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,s){(s=s||("touch"==t.pointerType?t:null))?(v={target:e,clientX:s.clientX,clientY:s.clientY},this._onDragStart(v,"touch")):this.nativeDraggable?(Y(e,"dragend",this),Y(n,"dragstart",this._onDragStart)):this._onDragStart(v,!0);try{I.selection?oe(function(){I.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(n&&e){var t=this.options;V(e,t.ghostClass,!0),V(e,t.dragClass,!1),q.active=this,X(this,n,"start",e,n,n,p)}else this._nulling()},_emulateDragOver:function(){if(m){if(this._lastX===m.clientX&&this._lastY===m.clientY)return;this._lastX=m.clientX,this._lastY=m.clientY,P||z(s,"display","none");var e=I.elementFromPoint(m.clientX,m.clientY),t=e,i=N.length;if(e&&e.shadowRoot&&(t=e=e.shadowRoot.elementFromPoint(m.clientX,m.clientY)),t)do{if(t[C]){for(;i--;)N[i]({clientX:m.clientX,clientY:m.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);P||z(s,"display","")}},_onTouchMove:function(e){if(v){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,a=e.touches?e.touches[0]:e,o=a.clientX-v.clientX+n.x,r=a.clientY-v.clientY+n.y,l=e.touches?"translate3d("+o+"px,"+r+"px,0)":"translate("+o+"px,"+r+"px)";if(!q.active){if(i&&B($(a.clientX-this._lastX),$(a.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),y=!0,m=a,z(s,"webkitTransform",l),z(s,"mozTransform",l),z(s,"msTransform",l),z(s,"transform",l),e.preventDefault()}},_appendGhost:function(){if(!s){var t,i=e.getBoundingClientRect(),a=z(e),o=this.options;V(s=e.cloneNode(!0),o.ghostClass,!1),V(s,o.fallbackClass,!0),V(s,o.dragClass,!0),z(s,"top",i.top-j(a.marginTop,10)),z(s,"left",i.left-j(a.marginLeft,10)),z(s,"width",i.width),z(s,"height",i.height),z(s,"opacity","0.8"),z(s,"position","fixed"),z(s,"zIndex","100000"),z(s,"pointerEvents","none"),o.fallbackOnBody&&I.body.appendChild(s)||n.appendChild(s),t=s.getBoundingClientRect(),z(s,"width",2*i.width-t.width),z(s,"height",2*i.height-t.height)}},_onDragStart:function(t,s){var a=this,o=t.dataTransfer,r=a.options;a._offUpEvents(),g.checkPull(a,a,e,t)&&((i=ae(e)).draggable=!1,i.style["will-change"]="",z(i,"display","none"),V(i,a.options.chosenClass,!1),a._cloneId=oe(function(){n.insertBefore(i,e),X(a,n,"clone",e)})),V(e,r.dragClass,!0),s?("touch"===s?(Y(I,"touchmove",a._onTouchMove),Y(I,"touchend",a._onDrop),Y(I,"touchcancel",a._onDrop),r.supportPointer&&(Y(I,"pointermove",a._onTouchMove),Y(I,"pointerup",a._onDrop))):(Y(I,"mousemove",a._onTouchMove),Y(I,"mouseup",a._onDrop)),a._loopId=setInterval(a._emulateDragOver,50)):(o&&(o.effectAllowed="move",r.setData&&r.setData.call(a,o,e)),Y(I,"drop",a),a._dragStartId=oe(a._dragStarted))},_onDragOver:function(o){var r,l,c,p,f=this.el,v=this.options,m=v.group,w=q.active,_=g===m,k=!1,D=v.sort;if(void 0!==o.preventDefault&&(o.preventDefault(),!v.dragoverBubble&&o.stopPropagation()),!e.animated&&(y=!0,w&&!v.disabled&&(_?D||(p=!n.contains(e)):b===this||(w.lastPullMode=g.checkPull(this,w,e,o))&&m.checkPut(this,w,e,o))&&(void 0===o.rootEl||o.rootEl===this.el))){if(R(o,v,this.el),A)return;if(r=W(o.target,v.draggable,f),l=e.getBoundingClientRect(),b!==this&&(b=this,k=!0),p)return U(w,!0),t=n,void(i||a?n.insertBefore(e,i||a):D||n.appendChild(e));if(0===f.children.length||f.children[0]===s||f===o.target&&function(e,t){var s=e.lastElementChild.getBoundingClientRect();return t.clientY-(s.top+s.height)>5||t.clientX-(s.left+s.width)>5}(f,o)){if(0!==f.children.length&&f.children[0]!==s&&f===o.target&&(r=f.lastElementChild),r){if(r.animated)return;c=r.getBoundingClientRect()}U(w,_),!1!==J(n,f,e,l,r,c,o)&&(e.contains(f)||(f.appendChild(e),t=f),this._animate(l,e),r&&this._animate(c,r))}else if(r&&!r.animated&&r!==e&&void 0!==r.parentNode[C]){u!==r&&(u=r,d=z(r),h=z(r.parentNode));var I=(c=r.getBoundingClientRect()).right-c.left,j=c.bottom-c.top,T=S.test(d.cssFloat+d.display)||"flex"==h.display&&0===h["flex-direction"].indexOf("row"),L=r.offsetWidth>e.offsetWidth,O=r.offsetHeight>e.offsetHeight,x=(T?(o.clientX-c.left)/I:(o.clientY-c.top)/j)>.5,P=r.nextElementSibling,$=!1;if(T){var B=e.offsetTop,M=r.offsetTop;$=B===M?r.previousElementSibling===e&&!L||x&&L:r.previousElementSibling===e||e.previousElementSibling===r?(o.clientY-c.top)/j>.5:M>B}else k||($=P!==e&&!O||x&&O);var N=J(n,f,e,l,r,c,o,$);!1!==N&&(1!==N&&-1!==N||($=1===N),A=!0,E(Z,30),U(w,_),e.contains(f)||($&&!P?f.appendChild(e):r.parentNode.insertBefore(e,$?P:r)),t=e.parentNode,this._animate(l,e),this._animate(c,r))}}},_animate:function(e,t){var s=this.options.animation;if(s){var i=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),z(t,"transition","none"),z(t,"transform","translate3d("+(e.left-i.left)+"px,"+(e.top-i.top)+"px,0)"),t.offsetWidth,z(t,"transition","all "+s+"ms"),z(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=E(function(){z(t,"transition",""),z(t,"transform",""),t.animated=!1},s)}},_offUpEvents:function(){var e=this.el.ownerDocument;K(I,"touchmove",this._onTouchMove),K(I,"pointermove",this._onTouchMove),K(e,"mouseup",this._onDrop),K(e,"touchend",this._onDrop),K(e,"pointerup",this._onDrop),K(e,"touchcancel",this._onDrop),K(e,"pointercancel",this._onDrop),K(e,"selectstart",this)},_onDrop:function(o){var r=this.el,l=this.options;clearInterval(this._loopId),clearInterval(_.pid),clearTimeout(this._dragStartTimer),re(this._cloneId),re(this._dragStartId),K(I,"mouseover",this),K(I,"mousemove",this._onTouchMove),this.nativeDraggable&&(K(I,"drop",this),K(r,"dragstart",this._onDragStart)),this._offUpEvents(),o&&(y&&(o.preventDefault(),!l.dropBubble&&o.stopPropagation()),s&&s.parentNode&&s.parentNode.removeChild(s),n!==t&&"clone"===q.active.lastPullMode||i&&i.parentNode&&i.parentNode.removeChild(i),e&&(this.nativeDraggable&&K(e,"dragend",this),Q(e),e.style["will-change"]="",V(e,this.options.ghostClass,!1),V(e,this.options.chosenClass,!1),X(this,n,"unchoose",e,t,n,p),n!==t?(f=te(e,l.draggable))>=0&&(X(null,t,"add",e,t,n,p,f),X(this,n,"remove",e,t,n,p,f),X(null,t,"sort",e,t,n,p,f),X(this,n,"sort",e,t,n,p,f)):e.nextSibling!==a&&(f=te(e,l.draggable))>=0&&(X(this,n,"update",e,t,n,p,f),X(this,n,"sort",e,t,n,p,f)),q.active&&(null!=f&&-1!==f||(f=p),X(this,n,"end",e,t,n,p,f),this.save()))),this._nulling()},_nulling:function(){n=e=t=s=a=i=o=r=l=v=m=y=f=u=d=b=g=q.active=null,M.forEach(function(e){e.checked=!0}),M.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.preventDefault()}(t));break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],s=this.el.children,i=0,n=s.length,a=this.options;i<n;i++)W(e=s[i],a.draggable,this.el)&&t.push(e.getAttribute(a.dataIdAttr)||ee(e));return t},sort:function(e){var t={},s=this.el;this.toArray().forEach(function(e,i){var n=s.children[i];W(n,this.options.draggable,s)&&(t[e]=n)},this),e.forEach(function(e){t[e]&&(s.removeChild(t[e]),s.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return W(e,t||this.options.draggable,this.el)},option:function(e,t){var s=this.options;if(void 0===t)return s[e];s[e]=t,"group"===e&&F(s)},destroy:function(){var e=this.el;e[C]=null,K(e,"mousedown",this._onTapStart),K(e,"touchstart",this._onTapStart),K(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(K(e,"dragover",this),K(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),N.splice(N.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},Y(I,"touchmove",function(e){q.active&&e.preventDefault()}),q.utils={on:Y,off:K,css:z,find:G,is:function(e,t){return!!W(e,t,e)},extend:ne,throttle:ie,closest:W,toggleClass:V,clone:ae,index:te,nextTick:oe,cancelNextTick:re},q.create=function(e,t){return new q(e,t)},q.version="1.7.0",q})},274:function(e,t,s){"use strict";var i=s(5),n=s.n(i),a={directives:{tooltip:s(41).a},props:{title:{type:String,required:!1,default:""},placement:{type:String,required:!1,default:"top"},truncateTarget:{type:[String,Function],required:!1,default:""}},data:function(){return{showTooltip:!1}},mounted:function(){var e=this.selectTarget();e&&e.scrollWidth>e.offsetWidth&&(this.showTooltip=!0)},methods:{selectTarget:function(){return n.a.isFunction(this.truncateTarget)?this.truncateTarget(this.$el):"child"===this.truncateTarget?this.$el.childNodes[0]:this.$el}}},o=s(3),r=Object(o.a)(a,function(){var e=this.$createElement,t=this._self._c||e;return this.showTooltip?t("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-show-tooltip",attrs:{title:this.title,"data-placement":this.placement}},[this._t("default")],2):t("span",[this._t("default")],2)},[],!1,null,null,null);r.options.__file="tooltip_on_truncate.vue";t.a=r.exports},41:function(e,t,s){"use strict";var i=s(0),n=s.n(i);t.a={bind:function(e){n()(e).tooltip({trigger:"hover"})},componentUpdated:function(e){n()(e).tooltip("_fixTitle");var t=n()(e).data("bs.tooltip"),s=t.getTipElement();t.setElementContent(n()(s.querySelectorAll(".tooltip-inner")),t.getTitle())},unbind:function(e){n()(e).tooltip("dispose")}}},498:function(e,t,s){"use strict";var i=s(0),n=s.n(i),a=s(5),o=s.n(a),r=s(11),l=s(7),c=s(1);var u=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.title=t.title,this.type=t.type,this.color=t.color,this.textColor=t.text_color,this.description=t.description,this.priority=null!==t.priority?t.priority:1/0};window.ListLabel=u;var d=function e(t,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.name=t.name,this.username=t.username,this.avatar=t.avatar_url||t.avatar||s,this.path=t.path,this.state=t.state,this.webUrl=t.web_url||t.webUrl};window.ListAssignee=d;var h=s(120),p=s(217),f=s(21);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var s,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(s=v(this,m(t).call(this,{page:"boards",isGroupDecendent:!0,stateFiltersSelector:".issues-state-filters"}))).store=e,s.updateUrl=i,s.isHandledAsync=!0,s.cantEdit=n.filter(function(e){return"string"==typeof e}),s.cantEditWithValue=n.filter(function(e){return"object"===g(e)}),s}var s,i,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,p["a"]),s=t,(i=[{key:"updateObject",value:function(e){this.store.path=e.substr(1),this.updateUrl&&f.c.updateFiltersUrl()}},{key:"removeTokens",value:function(){var e=h.a.container.querySelectorAll(".js-visual-token");[].forEach.call(e,function(e){e.parentNode.removeChild(e)}),this.filteredSearchInput.value=""}},{key:"updateTokens",value:function(){this.removeTokens(),this.loadSearchParamsFromURL(),this.filteredSearchInput.dispatchEvent(new Event("input"))}},{key:"canEdit",value:function(e,t){return!this.cantEdit.includes(e)&&-1===this.cantEditWithValue.findIndex(function(s){return s.name===e&&s.value===t})}}])&&b(s.prototype,i),n&&b(s,n),t}(),_=new r.default,k=s(57);var S=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.path=t.path};function C(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var D=function(){function e(t,s){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.iid=t.iid,this.title=t.title,this.confidential=t.confidential,this.dueDate=t.due_date,this.subscribed=t.subscribed,this.labels=[],this.assignees=[],this.selected=!1,this.position=t.relative_position||1/0,this.isFetching={subscriptions:!0},this.isLoading={},this.sidebarInfoEndpoint=t.issue_sidebar_endpoint,this.referencePath=t.reference_path,this.path=t.real_path,this.toggleSubscriptionEndpoint=t.toggle_subscription_endpoint,this.milestone_id=t.milestone_id,this.project_id=t.project_id,this.timeEstimate=t.time_estimate,this.assignableLabelsEndpoint=t.assignable_labels_endpoint,t.project&&(this.project=new S(t.project)),t.milestone&&(this.milestone=new ListMilestone(t.milestone)),t.labels.forEach(function(e){i.labels.push(new ListLabel(e))}),this.assignees=t.assignees.map(function(e){return new ListAssignee(e,s)})}var t,s,i;return t=e,(s=[{key:"addLabel",value:function(e){this.findLabel(e)||this.labels.push(new ListLabel(e))}},{key:"findLabel",value:function(e){return this.labels.find(function(t){return t.id===e.id})}},{key:"removeLabel",value:function(e){e&&(this.labels=this.labels.filter(function(t){return e.id!==t.id}))}},{key:"removeLabels",value:function(e){e.forEach(this.removeLabel.bind(this))}},{key:"addAssignee",value:function(e){this.findAssignee(e)||this.assignees.push(new ListAssignee(e))}},{key:"findAssignee",value:function(e){return this.assignees.find(function(t){return t.id===e.id})}},{key:"removeAssignee",value:function(e){e&&(this.assignees=this.assignees.filter(function(t){return t.id!==e.id}))}},{key:"removeAllAssignees",value:function(){this.assignees=[]}},{key:"getLists",value:function(){var e=this;return f.c.state.lists.filter(function(t){return t.findIssue(e.id)})}},{key:"updateData",value:function(e){Object.assign(this,e)}},{key:"setFetchingState",value:function(e,t){this.isFetching[e]=t}},{key:"setLoadingState",value:function(e,t){this.isLoading[e]=t}},{key:"update",value:function(){var e={issue:{milestone_id:this.milestone?this.milestone.id:null,due_date:this.dueDate,assignee_ids:this.assignees.length>0?this.assignees.map(function(e){return e.id}):[0],label_ids:this.labels.map(function(e){return e.id})}};e.issue.label_ids.length||(e.issue.label_ids=[""]);this.project&&this.project.path;return r.default.http.patch("".concat(this.path,".json"),e)}}])&&C(t.prototype,s),i&&C(t,i),e}();window.ListIssue=D;var I=D,j=s(13);function E(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function T(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var L={backlog:{isPreset:!0,isExpandable:!0,isBlank:!1},closed:{isPreset:!0,isExpandable:!0,isBlank:!1},blank:{isPreset:!0,isExpandable:!1,isBlank:!0}},O=function(){function e(t,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this._uid=this.guid(),this.position=t.position,this.title="backlog"===t.list_type?Object(c.a)("Open"):t.title,this.type=t.list_type;var i=this.getTypeInfo(this.type);this.preset=!!i.isPreset,this.isExpandable=!!i.isExpandable,this.isExpanded=!0,this.page=1,this.loading=!0,this.loadingMore=!1,this.issues=[],this.issuesSize=0,this.defaultAvatar=s,t.label?this.label=new u(t.label):t.user&&(this.assignee=new d(t.user),this.title=this.assignee.name),!i.isBlank&&this.id&&this.getIssues().catch(function(){})}var t,s,i;return t=e,(s=[{key:"guid",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return"".concat(e()).concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())}},{key:"save",value:function(){var e=this,t=this.label||this.assignee,s="";return s=this.label?"label_id":"assignee_id",gl.boardService.createList(t.id,s).then(function(e){return e.data}).then(function(t){return e.id=t.id,e.type=t.list_type,e.position=t.position,e.getIssues()})}},{key:"destroy",value:function(){var e=f.c.state.lists.indexOf(this);f.c.state.lists.splice(e,1),f.c.updateNewListDropdown(this.id),gl.boardService.destroyList(this.id).catch(function(){})}},{key:"update",value:function(){gl.boardService.updateList(this.id,this.position).catch(function(){})}},{key:"nextPage",value:function(){if(this.issuesSize>this.issues.length)return this.issues.length/20>=1&&(this.page+=1),this.getIssues(!1)}},{key:"getIssues",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},i=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),i.forEach(function(t){E(e,t,s[t])})}return e}({},Object(j.L)(f.c.filter.path),{page:this.page});return this.label&&s.label_name&&(s.label_name=s.label_name.filter(function(t){return t!==e.label.title})),t&&(this.loading=!0),gl.boardService.getIssuesForList(this.id,s).then(function(e){return e.data}).then(function(s){return e.loading=!1,e.issuesSize=s.size,t&&(e.issues=[]),e.createIssues(s.issues),s})}},{key:"newIssue",value:function(e){var t=this;return this.addIssue(e,null,0),this.issuesSize+=1,gl.boardService.newIssue(this.id,e).then(function(e){return e.data}).then(function(s){return t.onNewIssueResponse(e,s)})}},{key:"createIssues",value:function(e){var t=this;e.forEach(function(e){t.addIssue(new ListIssue(e,t.defaultAvatar))})}},{key:"addIssue",value:function(e,t,s){var i=null,n=null;this.findIssue(e.id)||(void 0!==s?(this.issues.splice(s,0,e),this.issues[s-1]&&(i=this.issues[s-1].id),this.issues[s+1]&&(n=this.issues[s+1].id)):this.issues.push(e),this.label&&e.addLabel(this.label),this.assignee&&(t&&"assignee"===t.type&&e.removeAssignee(t.assignee),e.addAssignee(this.assignee)),t&&(this.issuesSize+=1,this.updateIssueLabel(e,t,i,n)))}},{key:"moveIssue",value:function(e,t,s,i,n){this.issues.splice(t,1),this.issues.splice(s,0,e),gl.boardService.moveIssue(e.id,null,null,i,n).catch(function(){})}},{key:"updateIssueLabel",value:function(e,t,s,i){gl.boardService.moveIssue(e.id,t.id,this.id,s,i).catch(function(){})}},{key:"findIssue",value:function(e){return this.issues.find(function(t){return t.id===e})}},{key:"removeIssue",value:function(e){var t=this;this.issues=this.issues.filter(function(s){var i=e.id===s.id;return i&&(t.issuesSize-=1,s.removeLabel(t.label)),!i})}},{key:"getTypeInfo",value:function(e){return L[e]||{}}},{key:"onNewIssueResponse",value:function(e,t){if(e.id=t.id,e.iid=t.iid,e.project=t.project,e.path=t.real_path,e.referencePath=t.reference_path,e.assignableLabelsEndpoint=t.assignable_labels_endpoint,this.issuesSize>1){var s=this.issues[1].id;gl.boardService.moveIssue(e.id,null,null,null,s)}}}])&&T(t.prototype,s),i&&T(t,i),e}();window.List=O;s(600);var x=s(48),P=s(6),A=s(19);function $(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var B=function(){function e(t){var s=t.boardsEndpoint,i=t.listsEndpoint,n=t.bulkUpdatePath,a=t.boardId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.boardsEndpoint=s,this.boardId=a,this.listsEndpoint=i,this.listsEndpointGenerate="".concat(i,"/generate.json"),this.bulkUpdatePath=n}var t,s,i;return t=e,i=[{key:"generateIssuePath",value:function(e,t){return"".concat(gon.relative_url_root,"/-/boards/").concat(e?"".concat(e):"","/issues").concat(t?"/".concat(t):"")}},{key:"getIssueInfo",value:function(e){return P.a.get(e)}},{key:"toggleIssueSubscription",value:function(e){return P.a.post(e)}}],(s=[{key:"generateBoardsPath",value:function(e){return"".concat(this.boardsEndpoint).concat(e?"/".concat(e):"",".json")}},{key:"generateIssuesPath",value:function(e){return"".concat(this.listsEndpoint).concat(e?"/".concat(e):"","/issues")}},{key:"all",value:function(){return P.a.get(this.listsEndpoint)}},{key:"generateDefaultLists",value:function(){return P.a.post(this.listsEndpointGenerate,{})}},{key:"createList",value:function(e,t){var s,i,n,a=(n=e,(i=t)in(s={})?Object.defineProperty(s,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[i]=n,s);return P.a.post(this.listsEndpoint,{list:a})}},{key:"updateList",value:function(e,t){return P.a.put("".concat(this.listsEndpoint,"/").concat(e),{list:{position:t}})}},{key:"destroyList",value:function(e){return P.a.delete("".concat(this.listsEndpoint,"/").concat(e))}},{key:"getIssuesForList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={id:e};return Object.keys(t).forEach(function(e){s[e]=t[e]}),P.a.get(Object(A.c)(s,this.generateIssuesPath(e)))}},{key:"moveIssue",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return P.a.put(e.generateIssuePath(this.boardId,t),{from_list_id:s,to_list_id:i,move_before_id:n,move_after_id:a})}},{key:"newIssue",value:function(e,t){return P.a.post(this.generateIssuesPath(e),{issue:t})}},{key:"getBacklog",value:function(e){return P.a.get(Object(A.c)(e,"".concat(gon.relative_url_root,"/-/boards/").concat(this.boardId,"/issues.json")))}},{key:"bulkUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={update:Object.assign(t,{issuable_ids:e.join(",")})};return P.a.post(this.bulkUpdatePath,s)}}])&&$(t.prototype,s),i&&$(t,i),e}();window.BoardService=B;var M={methods:{toggleModal:function(e){x.a.store.showAddIssuesModal=e},changeTab:function(e){x.a.store.activeTab=e}}},N=s(116),R=s.n(N);r.default.filter("due-date",function(e){var t=new Date(e);return R()(t,"mmm d, yyyy",!0)});var F=s(273),q=s.n(F),U=s(15),W=s(41),H=s(31),Y=s(14),K=s.n(Y),V={data:function(){return{predefinedLabels:[new ListLabel({title:"To Do",color:"#F0AD4E"}),new ListLabel({title:"Doing",color:"#5CB85C"})]}},methods:{addDefaultLists:function(){this.clearBlankState(),this.predefinedLabels.forEach(function(e,t){f.c.addList({title:e.title,position:t,list_type:"label",label:{title:e.title,color:e.color}})}),f.c.state.lists=o.a.sortBy(f.c.state.lists,"position"),gl.boardService.generateDefaultLists().then(function(e){return e.data}).then(function(e){e.forEach(function(e){var t=f.c.findList("title",e.title);t.id=e.id,t.label.id=e.label.id,t.getIssues().catch(function(){})})}).catch(function(){f.c.removeList(void 0,"label"),K.a.remove("issue_board_welcome_hidden",{path:""}),f.c.addBlankState()})},clearBlankState:f.c.removeBlankState.bind(f.c)}},z=s(3),G=Object(z.a)(V,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"board-blank-state"},[s("p",[e._v("Add the following default lists to your Issue Board with one click:")]),e._v(" "),s("ul",{staticClass:"board-blank-state-list"},e._l(e.predefinedLabels,function(t,i){return s("li",{key:i},[s("span",{staticClass:"label-color",style:{backgroundColor:t.color}}),e._v("\n      "+e._s(t.title)+"\n    ")])}),0),e._v(" "),s("p",[e._v("\n    Starting out with the default set of lists will get you right on the way to making the most of\n    your board.\n  ")]),e._v(" "),s("button",{staticClass:"btn btn-success btn-inverted btn-block",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.addDefaultLists(t)}}},[e._v("\n    Add default lists\n  ")]),e._v(" "),s("button",{staticClass:"btn btn-default btn-block",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.clearBlankState(t)}}},[e._v("\n    Nevermind, I'll use my own\n  ")])])},[],!1,null,null,null);G.options.__file="board_blank_state.vue";var X=G.exports,J=r.default.extend({props:{list:{type:Object,default:function(){return{}}}},methods:{deleteBoard:function(){n()(this.$el).tooltip("hide"),window.confirm("Are you sure you want to delete this list?")&&this.list.destroy()}}}),Q=s(10),Z=s(12),ee={name:"BoardProjectSelect",components:{Icon:U.a,GlLoadingIcon:Q.e},props:{groupId:{type:Number,required:!0,default:0}},data:function(){return{loading:!0,selectedProject:{}}},computed:{selectedProjectName:function(){return this.selectedProject.name||"Select a project"}},mounted:function(){var e=this;n()(this.$refs.projectsDropdown).glDropdown({filterable:!0,filterRemote:!0,search:{fields:["name_with_namespace"]},clicked:function(t){var s=t.$el;t.e.preventDefault(),e.selectedProject={id:s.data("project-id"),name:s.data("project-name")},_.$emit("setSelectedProject",e.selectedProject)},selectable:!0,data:function(t,s){return e.loading=!0,Z.a.groupProjects(e.groupId,t,{with_issues_enabled:!0,with_shared:!1,include_subgroups:!0},function(t){e.loading=!1,s(t)})},renderRow:function(e){return"\n            <li>\n              <a href='#' class='dropdown-menu-link' data-project-id=\"".concat(e.id,'" data-project-name="').concat(e.name,'">\n                ').concat(o.a.escape(e.name),"\n              </a>\n            </li>\n          ")},text:function(e){return e.name}})}},te=Object(z.a)(ee,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("label",{staticClass:"label-bold prepend-top-10"},[e._v(" Project ")]),e._v(" "),s("div",{ref:"projectsDropdown",staticClass:"dropdown"},[s("button",{staticClass:"dropdown-menu-toggle wide",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[e._v("\n      "+e._s(e.selectedProjectName)+" "),s("icon",{attrs:{name:"chevron-down"}})],1),e._v(" "),s("div",{staticClass:"dropdown-menu dropdown-menu-selectable dropdown-menu-full-width"},[s("div",{staticClass:"dropdown-title"},[e._v("Projects")]),e._v(" "),s("div",{staticClass:"dropdown-input"},[s("input",{staticClass:"dropdown-input-field",attrs:{type:"search",placeholder:"Search projects"}}),e._v(" "),s("icon",{staticClass:"dropdown-input-search",attrs:{name:"search","data-hidden":"true"}})],1),e._v(" "),s("div",{staticClass:"dropdown-content"}),e._v(" "),s("div",{staticClass:"dropdown-loading"},[s("gl-loading-icon")],1)])])])},[],!1,null,null,null);te.options.__file="project_select.vue";var se={name:"BoardNewIssue",components:{ProjectSelect:te.exports,GlButton:Q.b},props:{groupId:{type:Number,required:!1,default:0},list:{type:Object,required:!0}},data:function(){return{title:"",error:!1,selectedProject:{}}},computed:{disabled:function(){return this.groupId?""===this.title||!this.selectedProject.name:""===this.title}},mounted:function(){this.$refs.input.focus(),_.$on("setSelectedProject",this.setSelectedProject)},methods:{submit:function(e){var t=this;if(e.preventDefault(),""===this.title.trim())return Promise.resolve();this.error=!1;var s=this.list.label?[this.list.label]:[],i=this.list.assignee?[this.list.assignee]:[],a=new I({title:this.title,labels:s,subscribed:!0,assignees:i,project_id:this.selectedProject.id});return _.$emit("scroll-board-list-".concat(this.list.id)),this.cancel(),this.list.newIssue(a).then(function(){n()(t.$refs.submitButton).enable(),f.c.detail.issue=a,f.c.detail.list=t.list}).catch(function(){n()(t.$refs.submitButton).enable(),t.list.removeIssue(a),t.error=!0})},cancel:function(){this.title="",_.$emit("hide-issue-form-".concat(this.list.id))},setSelectedProject:function(e){this.selectedProject=e}}},ie=Object(z.a)(se,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"board-new-issue-form"},[s("div",{staticClass:"board-card"},[s("form",{on:{submit:function(t){e.submit(t)}}},[e.error?s("div",{staticClass:"flash-container"},[s("div",{staticClass:"flash-alert"},[e._v("An error occurred. Please try again.")])]):e._e(),e._v(" "),s("label",{staticClass:"label-bold",attrs:{for:e.list.id+"-title"}},[e._v(" Title ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],ref:"input",staticClass:"form-control",attrs:{id:e.list.id+"-title",type:"text",name:"issue_title",autocomplete:"off"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),e._v(" "),e.groupId?s("project-select",{attrs:{"group-id":e.groupId}}):e._e(),e._v(" "),s("div",{staticClass:"clearfix prepend-top-10"},[s("gl-button",{ref:"submit-button",staticClass:"float-left",attrs:{disabled:e.disabled,variant:"success",type:"submit"}},[e._v("\n          Submit issue\n        ")]),e._v(" "),s("gl-button",{staticClass:"float-right",attrs:{type:"button",variant:"default"},on:{click:e.cancel}},[e._v("\n          Cancel\n        ")])],1)],1)])])},[],!1,null,null,null);ie.options.__file="board_new_issue.vue";var ne=ie.exports,ae=s(274),oe=s(91),re=s(20),le={components:{Icon:U.a,GlTooltip:Q.m},props:{date:{type:String,required:!0},cssClass:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"bottom"}},computed:{title:function(){var e=Object(re.h)(),t=this.timeDifference,s=this.standardDateFormat;return t>=-1&&t<7?"".concat(e.format(this.issueDueDate)," (").concat(s,")"):e.format(this.issueDueDate)},body:function(){var e=this.timeDifference,t=this.issueDueDate,s=this.standardDateFormat;return 0===e?Object(c.a)("Today"):1===e?Object(c.a)("Tomorrow"):-1===e?Object(c.a)("Yesterday"):e>0&&e<7?R()(t,"dddd",!0):s},issueDueDate:function(){return Object(re.j)(this.date)},timeDifference:function(){var e=new Date;return Object(re.f)(e,this.issueDueDate)},isPastDue:function(){return!(this.timeDifference>=0)},standardDateFormat:function(){var e=(new Date).getFullYear()===this.issueDueDate.getFullYear();return Object(re.c)(this.issueDueDate,!0,e)}}},ce=Object(z.a)(le,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("span",{ref:"issueDueDate",staticClass:"board-card-info card-number",class:e.cssClass},[s("icon",{class:{"text-danger":e.isPastDue,"board-card-info-icon":!0},attrs:{name:"calendar"}}),e._v(" "),s("time",{staticClass:"board-card-info-text",class:{"text-danger":e.isPastDue},attrs:{datetime:"date"}},[e._v(e._s(e.body))])],1),e._v(" "),s("gl-tooltip",{attrs:{target:function(){return e.$refs.issueDueDate},placement:e.tooltipPlacement}},[s("span",{staticClass:"bold"},[e._v(e._s(e.__("Due date")))]),e._v(" "),s("br"),e._v(" "),s("span",{class:{"text-danger-muted":e.isPastDue}},[e._v(e._s(e.title))])])],1)},[],!1,null,null,null);ce.options.__file="issue_due_date.vue";var ue=ce.exports,de={components:{Icon:U.a,GlTooltip:Q.m},props:{estimate:{type:Number,required:!0}},computed:{title:function(){return Object(re.m)(Object(re.k)(this.estimate),!0)},timeEstimate:function(){return Object(re.m)(Object(re.k)(this.estimate))}}},he=Object(z.a)(de,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("span",{ref:"issueTimeEstimate",staticClass:"board-card-info card-number"},[s("icon",{attrs:{name:"hourglass","css-classes":"board-card-info-icon"}}),s("time",{staticClass:"board-card-info-text"},[e._v(e._s(e.timeEstimate))])],1),e._v(" "),s("gl-tooltip",{staticClass:"js-issue-time-estimate",attrs:{target:function(){return e.$refs.issueTimeEstimate},placement:"bottom"}},[s("span",{staticClass:"bold d-block"},[e._v(e._s(e.__("Time estimate")))]),e._v(" "+e._s(e.title)+"\n  ")])],1)},[],!1,null,null,null);he.options.__file="issue_time_estimate.vue";var pe=he.exports,fe={components:{Icon:U.a,UserAvatarLink:oe.a,TooltipOnTruncate:ae.a,IssueDueDate:ue,IssueTimeEstimate:pe},directives:{GlTooltip:Q.n},props:{issue:{type:Object,required:!0},issueLinkBase:{type:String,required:!0},list:{type:Object,required:!1,default:function(){return{}}},rootPath:{type:String,required:!0},updateFilters:{type:Boolean,required:!1,default:!1},groupId:{type:Number,required:!1,default:null}},data:function(){return{limitBeforeCounter:2,maxRender:3,maxCounter:99}},computed:{numberOverLimit:function(){return this.issue.assignees.length-this.limitBeforeCounter},assigneeCounterTooltip:function(){var e=this.numberOverLimit,t=this.maxCounter,s=e>t?t:e;return Object(c.f)(Object(c.a)("%{count} more assignees"),{count:s})},assigneeCounterLabel:function(){return this.numberOverLimit>this.maxCounter?"".concat(this.maxCounter,"+"):"+".concat(this.numberOverLimit)},shouldRenderCounter:function(){return!(this.issue.assignees.length<=this.maxRender)&&this.issue.assignees.length>this.numberOverLimit},issueId:function(){return!!this.issue.iid&&"#".concat(this.issue.iid)},showLabelFooter:function(){var e=this;return void 0!==this.issue.labels.find(function(t){return e.showLabel(t)})},issueReferencePath:function(){var e=this.issue,t=e.referencePath;return e.groupId?null:t.split("#")[0]}},methods:{isIndexLessThanlimit:function(e){return e<this.limitBeforeCounter},shouldRenderAssignee:function(e){return this.issue.assignees.length<=this.maxRender?e<this.maxRender:e<this.limitBeforeCounter},assigneeUrl:function(e){return e?"".concat(this.rootPath).concat(e.username):""},avatarUrlTitle:function(e){return"Avatar for ".concat(e.name)},showLabel:function(e){return!!e.id},filterByLabel:function(e){if(this.updateFilters){var t=encodeURIComponent(e.title),s="label_name[]=".concat(t);this.applyFilter(s)}},filterByWeight:function(e){if(this.updateFilters){var t=encodeURIComponent(e),s="weight=".concat(t);this.applyFilter(s)}},applyFilter:function(e){var t=f.c.filter.path.split("&"),s=t.indexOf(e);-1===s?t.push(e):t.splice(s,1),f.c.filter.path=t.join("&"),f.c.updateFiltersUrl(),_.$emit("updateTokens")},labelStyle:function(e){return{backgroundColor:e.color,color:e.textColor}}}},ge=Object(z.a)(fe,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"board-card-header"},[s("h4",{staticClass:"board-card-title append-bottom-0 prepend-top-0"},[e.issue.confidential?s("icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"confidential-icon append-right-4",attrs:{name:"eye-slash",title:e.__("Confidential"),"aria-label":e.__("Confidential")}}):e._e(),s("a",{staticClass:"js-no-trigger",attrs:{href:e.issue.path,title:e.issue.title},on:{mousemove:function(e){e.stopPropagation()}}},[e._v(e._s(e.issue.title))])],1)]),e._v(" "),e.showLabelFooter?s("div",{staticClass:"board-card-labels prepend-top-4 d-flex flex-wrap"},e._l(e.issue.labels,function(t){return e.showLabel(t)?s("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],key:t.id,staticClass:"badge color-label append-right-4 prepend-top-4",style:e.labelStyle(t),attrs:{title:t.description,type:"button"},on:{click:function(s){e.filterByLabel(t)}}},[e._v("\n      "+e._s(t.title)+"\n    ")]):e._e()}),0):e._e(),e._v(" "),s("div",{staticClass:"board-card-footer d-flex justify-content-between align-items-end"},[s("div",{staticClass:"d-flex align-items-start flex-wrap-reverse board-card-number-container js-board-card-number-container"},[e.issue.referencePath?s("span",{staticClass:"board-card-number d-flex append-right-8 prepend-top-8"},[e.issueReferencePath?s("tooltip-on-truncate",{staticClass:"board-issue-path block-truncated bold",attrs:{title:e.issueReferencePath,placement:"bottom"}},[e._v(e._s(e.issueReferencePath))]):e._e(),e._v("#"+e._s(e.issue.iid)+"\n      ")],1):e._e(),e._v(" "),s("span",{staticClass:"board-info-items prepend-top-8 d-inline-block"},[e.issue.dueDate?s("issue-due-date",{attrs:{date:e.issue.dueDate}}):e._e(),e.issue.timeEstimate?s("issue-time-estimate",{attrs:{estimate:e.issue.timeEstimate}}):e._e()],1)]),e._v(" "),s("div",{staticClass:"board-card-assignee"},[e._l(e.issue.assignees,function(t,i){return e.shouldRenderAssignee(i)?s("user-avatar-link",{key:t.id,staticClass:"js-no-trigger",attrs:{"link-href":e.assigneeUrl(t),"img-alt":e.avatarUrlTitle(t),"img-src":t.avatar,"img-size":24,"tooltip-placement":"bottom"}},[s("span",{staticClass:"js-assignee-tooltip"},[s("span",{staticClass:"bold d-block"},[e._v("Assignee")]),e._v(" "+e._s(t.name)+"\n          "),s("span",{staticClass:"text-white-50"},[e._v("@"+e._s(t.username))])])]):e._e()}),e._v(" "),e.shouldRenderCounter?s("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"avatar-counter",attrs:{title:e.assigneeCounterTooltip,"data-placement":"bottom"}},[e._v("\n        "+e._s(e.assigneeCounterLabel)+"\n      ")]):e._e()],2)])])},[],!1,null,null,null);ge.options.__file="issue_card_inner.vue";var be=ge.exports,ve={name:"BoardsIssueCard",components:{IssueCardInner:be},props:{list:{type:Object,default:function(){return{}}},issue:{type:Object,default:function(){return{}}},issueLinkBase:{type:String,default:""},disabled:{type:Boolean,default:!1},index:{type:Number,default:0},rootPath:{type:String,default:""},groupId:{type:Number}},data:function(){return{showDetail:!1,detailIssue:f.c.detail}},computed:{issueDetailVisible:function(){return this.detailIssue.issue&&this.detailIssue.issue.id===this.issue.id}},methods:{mouseDown:function(){this.showDetail=!0},mouseMove:function(){this.showDetail=!1},showIssue:function(e){e.target.classList.contains("js-no-trigger")||this.showDetail&&(this.showDetail=!1,f.c.detail.issue&&f.c.detail.issue.id===this.issue.id?_.$emit("clearDetailIssue"):(_.$emit("newDetailIssue",this.issue),f.c.detail.list=this.list))}}},me=Object(z.a)(ve,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"board-card",class:{"user-can-drag":!e.disabled&&e.issue.id,"is-disabled":e.disabled||!e.issue.id,"is-active":e.issueDetailVisible},attrs:{index:e.index,"data-issue-id":e.issue.id},on:{mousedown:e.mouseDown,mousemove:e.mouseMove,mouseup:function(t){e.showIssue(t)}}},[s("issue-card-inner",{attrs:{list:e.list,issue:e.issue,"issue-link-base":e.issueLinkBase,"group-id":e.groupId,"root-path":e.rootPath,"update-filters":!0}})],1)},[],!1,null,null,null);me.options.__file="board_card.vue";var ye={animation:200,forceFallback:!0,fallbackClass:"is-dragging",fallbackOnBody:!0,ghostClass:"is-ghost"};function we(){n()(".has-tooltip").tooltip("hide").tooltip("disable"),document.body.classList.add("is-dragging")}function _e(){n()(".has-tooltip").tooltip("enable"),document.body.classList.remove("is-dragging")}function ke(e){var t="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,s=Object.assign({},ye,{filter:".board-delete, .btn",delay:t?100:0,scrollSensitivity:t?60:100,scrollSpeed:20,onStart:we,onEnd:_e});return Object.keys(e).forEach(function(t){s[t]=e[t]}),s}var Se={name:"BoardList",components:{boardCard:me.exports,boardNewIssue:ne,GlLoadingIcon:Q.e},props:{groupId:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!0},list:{type:Object,required:!0},issues:{type:Array,required:!0},loading:{type:Boolean,required:!0},issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0}},data:function(){return{scrollOffset:250,filters:f.c.state.filters,showCount:!1,showIssueForm:!1}},watch:{filters:{handler:function(){this.list.loadingMore=!1,this.$refs.list.scrollTop=0},deep:!0},issues:function(){var e=this;this.$nextTick(function(){e.scrollHeight()<=e.listHeight()&&e.list.issuesSize>e.list.issues.length&&(e.list.page+=1,e.list.getIssues(!1).catch(function(){})),e.scrollHeight()>Math.ceil(e.listHeight())?e.showCount=!0:e.showCount=!1})}},created:function(){_.$on("hide-issue-form-".concat(this.list.id),this.toggleForm),_.$on("scroll-board-list-".concat(this.list.id),this.scrollToTop)},mounted:function(){var e=this,t=ke({scroll:!0,disabled:this.disabled,filter:".board-list-count, .is-disabled",dataIdAttr:"data-issue-id",group:{name:"issues",pull:function(t,s,i,n){if(n.target){var a=(n.target.closest(".js-board-list")||n.target.querySelector(".js-board-list")).dataset.boardType;if(a){var o=e.list.type;if(Object.entries({label:["milestone","assignee"],assignee:["milestone","label"],milestone:["label","assignee"]}).some(function(e){return o===e[0]&&e[1].includes(a)}))return"clone"}}return!0},revertClone:!0},onStart:function(t){var s=e.$refs.issue[t.oldIndex];s.showDetail=!1,f.c.moving.list=s.list,f.c.moving.issue=f.c.moving.list.findIssue(+t.item.dataset.issueId),we()},onAdd:function(t){f.c.moveIssueToList(f.c.moving.list,e.list,f.c.moving.issue,t.newIndex),e.$nextTick(function(){t.item.remove()})},onUpdate:function(t){var s=e.sortable.toArray().filter(function(e){return"-1"!==e});f.c.moveIssueInList(e.list,f.c.moving.issue,t.oldIndex,t.newIndex,s)},onMove:function(e){return!e.related.classList.contains("board-list-count")}});this.sortable=q.a.create(this.$refs.list,t),this.$refs.list.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){_.$off("hide-issue-form-".concat(this.list.id),this.toggleForm),_.$off("scroll-board-list-".concat(this.list.id),this.scrollToTop),this.$refs.list.removeEventListener("scroll",this.onScroll)},methods:{listHeight:function(){return this.$refs.list.getBoundingClientRect().height},scrollHeight:function(){return this.$refs.list.scrollHeight},scrollTop:function(){return this.$refs.list.scrollTop+this.listHeight()},scrollToTop:function(){this.$refs.list.scrollTop=0},loadNextPage:function(){var e=this,t=this.list.nextPage(),s=function(){e.list.loadingMore=!1};t&&(this.list.loadingMore=!0,t.then(s).catch(s))},toggleForm:function(){this.showIssueForm=!this.showIssueForm},onScroll:function(){!this.list.loadingMore&&this.scrollTop()>this.scrollHeight()-this.scrollOffset&&this.loadNextPage()}}},Ce=Object(z.a)(Se,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"board-list-component"},[e.loading?s("div",{staticClass:"board-list-loading text-center",attrs:{"aria-label":"Loading issues"}},[s("gl-loading-icon")],1):e._e(),e._v(" "),"closed"!==e.list.type&&e.showIssueForm?s("board-new-issue",{attrs:{"group-id":e.groupId,list:e.list}}):e._e(),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],ref:"list",staticClass:"board-list js-board-list",class:{"is-smaller":e.showIssueForm},attrs:{"data-board":e.list.id,"data-board-type":e.list.type}},[e._l(e.issues,function(t,i){return s("board-card",{key:t.id,ref:"issue",refInFor:!0,attrs:{index:i,list:e.list,issue:t,"issue-link-base":e.issueLinkBase,"group-id":e.groupId,"root-path":e.rootPath,disabled:e.disabled}})}),e._v(" "),e.showCount?s("li",{staticClass:"board-list-count text-center",attrs:{"data-issue-id":"-1"}},[s("gl-loading-icon",{directives:[{name:"show",rawName:"v-show",value:e.list.loadingMore,expression:"list.loadingMore"}],attrs:{label:"Loading more issues"}}),e._v(" "),e.list.issues.length===e.list.issuesSize?s("span",[e._v(" Showing all issues ")]):s("span",[e._v(" Showing "+e._s(e.list.issues.length)+" of "+e._s(e.list.issuesSize)+" issues ")])],1):e._e()],2)],1)},[],!1,null,null,null);Ce.options.__file="board_list.vue";var De=Ce.exports,Ie=r.default.extend({components:{BoardBlankState:X,BoardDelete:J,BoardList:De,Icon:U.a},directives:{Tooltip:W.a},props:{list:{type:Object,default:function(){return{}}},disabled:{type:Boolean,required:!0},issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},boardId:{type:String,required:!0}},data:function(){return{detailIssue:f.c.detail,filter:f.c.filter}},computed:{counterTooltip:function(){var e=this.list.issuesSize;return"".concat(Object(c.d)("%d issue","%d issues",e))},isNewIssueShown:function(){return"backlog"===this.list.type||!this.disabled&&"closed"!==this.list.type}},watch:{filter:{handler:function(){this.list.page=1,this.list.getIssues(!0).catch(function(){})},deep:!0}},mounted:function(){var e=this;this.sortableOptions=ke({disabled:this.disabled,group:"boards",draggable:".is-draggable",handle:".js-board-handle",onEnd:function(t){if(_e(),void 0!==t.newIndex&&t.oldIndex!==t.newIndex){var s=e.sortable.toArray(),i=f.c.findList("id",parseInt(t.item.dataset.id,10));e.$nextTick(function(){f.c.moveList(i,s)})}}}),this.sortable=q.a.create(this.$el.parentNode,this.sortableOptions)},created:function(){if(this.list.isExpandable&&H.a.isLocalStorageAccessSafe()){var e="false"===localStorage.getItem("boards.".concat(this.boardId,".").concat(this.list.type,".expanded"));this.list.isExpanded=!e}},methods:{showNewIssueForm:function(){this.$refs["board-list"].showIssueForm=!this.$refs["board-list"].showIssueForm},toggleExpanded:function(e){this.list.isExpandable&&!e.target.classList.contains("js-no-trigger-collapse")&&(this.list.isExpanded=!this.list.isExpanded,H.a.isLocalStorageAccessSafe()&&localStorage.setItem("boards.".concat(this.boardId,".").concat(this.list.type,".expanded"),this.list.isExpanded))}},template:"#js-board-template"}),je=s(159),Ee=s(241),Te=s(246),Le=s(126),Oe=r.default.extend({props:{issue:{type:Object,required:!0},list:{type:Object,required:!0}},computed:{updateUrl:function(){return this.issue.path}},methods:{removeIssue:function(){var e=this.issue,t=e.getLists(),s=this.buildPatchRequest(e,t),i={issue:this.seedPatchRequest(e,s)};0===i.issue.label_ids.length&&(i.issue.label_ids=[""]),r.default.http.patch(this.updateUrl,i).catch(function(){Object(l.a)(Object(c.a)("Failed to remove issue from board, please try again.")),t.forEach(function(t){t.addIssue(e)})}),t.forEach(function(t){t.removeIssue(e)}),f.c.detail.issue={}},buildPatchRequest:function(e,t){var s=t.map(function(e){return e.label.id});return{label_ids:e.labels.map(function(e){return e.id}).filter(function(e){return!s.includes(e)})}},seedPatchRequest:function(e,t){return t}}}),xe=Object(z.a)(Oe,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block list"},[t("button",{staticClass:"btn btn-default btn-block",attrs:{type:"button"},on:{click:this.removeIssue}},[this._v("\n    Remove from board\n  ")])])},[],!1,null,null,null);xe.options.__file="remove_issue.vue";var Pe=xe.exports,Ae=s(238),$e=s(123),Be=s(245),Me=s(124),Ne=r.default.extend({components:{AssigneeTitle:Ee.a,Assignees:Te.a,RemoveBtn:Pe,Subscriptions:Be.a},props:{currentUser:{type:Object,default:function(){return{}}}},data:function(){return{detail:f.c.detail,issue:{},list:{},loadingAssignees:!1}},computed:{showSidebar:function(){return Object.keys(this.issue).length},milestoneTitle:function(){return this.issue.milestone?this.issue.milestone.title:"No Milestone"},canRemove:function(){return!this.list.preset},hasLabels:function(){return this.issue.labels&&this.issue.labels.length},labelDropdownTitle:function(){return this.hasLabels?Object(c.f)(Object(c.a)("%{firstLabel} +%{labelCount} more"),{firstLabel:this.issue.labels[0].title,labelCount:this.issue.labels.length-1}):Object(c.a)("Label")},selectedLabels:function(){return this.hasLabels?this.issue.labels.map(function(e){return e.title}).join(","):""}},watch:{detail:{handler:function(){this.issue.id!==this.detail.issue.id&&(n()(".block.assignee").find('input:not(.js-vue)[name="issue[assignee_ids][]"]').each(function(e,t){n()(t).remove()}),n()(".js-issue-board-sidebar",this.$el).each(function(e,t){n()(t).data("glDropdown").clearMenu()})),this.issue=this.detail.issue,this.list=this.detail.list},deep:!0}},created:function(){k.a.$on("sidebar.removeAssignee",this.removeAssignee),k.a.$on("sidebar.addAssignee",this.addAssignee),k.a.$on("sidebar.removeAllAssignees",this.removeAllAssignees),k.a.$on("sidebar.saveAssignees",this.saveAssignees)},beforeDestroy:function(){k.a.$off("sidebar.removeAssignee",this.removeAssignee),k.a.$off("sidebar.addAssignee",this.addAssignee),k.a.$off("sidebar.removeAllAssignees",this.removeAllAssignees),k.a.$off("sidebar.saveAssignees",this.saveAssignees)},mounted:function(){new Ae.a(this.currentUser),new Me.a,new Le.a,new $e.a,new je.a},methods:{closeSidebar:function(){this.detail.issue={}},assignSelf:function(){this.$refs.assigneeBlock.dispatchEvent(new Event("assignYourself")),this.addAssignee(this.currentUser),this.saveAssignees()},removeAssignee:function(e){f.c.detail.issue.removeAssignee(e)},addAssignee:function(e){f.c.detail.issue.addAssignee(e)},removeAllAssignees:function(){f.c.detail.issue.removeAllAssignees()},saveAssignees:function(){var e=this;this.loadingAssignees=!0,f.c.detail.issue.update().then(function(){e.loadingAssignees=!1}).catch(function(){e.loadingAssignees=!1,Object(l.a)(Object(c.a)("An error occurred while saving assignees"))})}}}),Re=s(115);n()(document).off("created.label").on("created.label",function(e,t){f.c.new({title:t.title,position:f.c.state.lists.length-2,list_type:"label",label:{id:t.id,title:t.title,color:t.color}})});var Fe={name:"modal-filters",props:{store:{type:Object,required:!0}},mounted:function(){h.a.container=this.$el,this.filteredSearch=new w(this.store),this.filteredSearch.setup(),this.filteredSearch.removeTokens(),this.filteredSearch.handleInputPlaceholder(),this.filteredSearch.toggleClearSearchButton()},destroyed:function(){this.filteredSearch.cleanup(),h.a.container=document,this.store.path=""},template:"#js-board-modal-filter"},qe={mixins:[M],data:function(){return x.a.store},computed:{selectedCount:function(){return x.a.selectedCount()}},destroyed:function(){this.activeTab="all"}},Ue=Object(z.a)(qe,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"top-area prepend-top-10 append-bottom-10"},[s("ul",{staticClass:"nav-links issues-state-filters"},[s("li",{class:{active:"all"==e.activeTab}},[s("a",{attrs:{href:"#",role:"button"},on:{click:function(t){t.preventDefault(),e.changeTab("all")}}},[e._v("\n        Open issues "),s("span",{staticClass:"badge badge-pill"},[e._v(" "+e._s(e.issuesCount)+" ")])])]),e._v(" "),s("li",{class:{active:"selected"==e.activeTab}},[s("a",{attrs:{href:"#",role:"button"},on:{click:function(t){t.preventDefault(),e.changeTab("selected")}}},[e._v("\n        Selected issues "),s("span",{staticClass:"badge badge-pill"},[e._v(" "+e._s(e.selectedCount)+" ")])])])])])},[],!1,null,null,null);Ue.options.__file="tabs.vue";var We={components:{ModalTabs:Ue.exports,ModalFilters:Fe},mixins:[M],props:{projectId:{type:Number,required:!0},milestonePath:{type:String,required:!0},labelPath:{type:String,required:!0}},data:function(){return x.a.store},computed:{selectAllText:function(){return x.a.selectedCount()!==this.issues.length||0===this.issues.length?"Select all":"Deselect all"},showSearch:function(){return"all"===this.activeTab&&!this.loading&&this.issuesCount>0}},methods:{toggleAll:function(){this.$refs.selectAllBtn.blur(),x.a.toggleAll()}}},He=Object(z.a)(We,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("header",{staticClass:"add-issues-header form-actions"},[s("h2",[e._v("\n      Add issues\n      "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){e.toggleModal(!1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])]),e._v(" "),!e.loading&&e.issuesCount>0?s("modal-tabs"):e._e(),e._v(" "),e.showSearch?s("div",{staticClass:"add-issues-search append-bottom-10"},[s("modal-filters",{attrs:{store:e.filter}}),e._v(" "),s("button",{ref:"selectAllBtn",staticClass:"btn btn-success btn-inverted prepend-left-10",attrs:{type:"button"},on:{click:e.toggleAll}},[e._v("\n      "+e._s(e.selectAllText)+"\n    ")])],1):e._e()],1)},[],!1,null,null,null);He.options.__file="header.vue";var Ye=He.exports,Ke=s(101),Ve={components:{IssueCardInner:be,Icon:U.a},props:{issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},emptyStateSvg:{type:String,required:!0}},data:function(){return x.a.store},computed:{loopIssues:function(){return"all"===this.activeTab?this.issues:this.selectedIssues},groupedIssues:function(){var e=this,t=[];return this.loopIssues.forEach(function(s,i){var n=i%e.columns;t[n]||t.push([]),t[n].push(s)}),t}},watch:{activeTab:function(){"all"===this.activeTab&&x.a.purgeUnselectedIssues()}},mounted:function(){this.scrollHandlerWrapper=this.scrollHandler.bind(this),this.setColumnCountWrapper=this.setColumnCount.bind(this),this.setColumnCount(),this.$refs.list.addEventListener("scroll",this.scrollHandlerWrapper),window.addEventListener("resize",this.setColumnCountWrapper)},beforeDestroy:function(){this.$refs.list.removeEventListener("scroll",this.scrollHandlerWrapper),window.removeEventListener("resize",this.setColumnCountWrapper)},methods:{scrollHandler:function(){var e=Math.floor(this.issues.length/this.perPage);this.scrollTop()>this.scrollHeight()-100&&!this.loadingNewPage&&e===this.page&&(this.loadingNewPage=!0,this.page+=1)},toggleIssue:function(e,t){"A"!==e.target.tagName&&x.a.toggleIssue(t)},listHeight:function(){return this.$refs.list.getBoundingClientRect().height},scrollHeight:function(){return this.$refs.list.scrollHeight},scrollTop:function(){return this.$refs.list.scrollTop+this.listHeight()},showIssue:function(e){return"all"===this.activeTab||-1!==x.a.selectedIssueIndex(e)},setColumnCount:function(){var e=Ke.a.getBreakpointSize();this.columns="lg"===e||"md"===e?3:"sm"===e?2:1}}},ze=Object(z.a)(Ve,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{ref:"list",staticClass:"add-issues-list add-issues-list-columns"},[e.issuesCount>0&&0===e.issues.length?s("div",{staticClass:"empty-state add-issues-empty-state-filter text-center"},[s("div",{staticClass:"svg-content"},[s("img",{attrs:{src:e.emptyStateSvg}})]),e._v(" "),e._m(0)]):e._e(),e._v(" "),e._l(e.groupedIssues,function(t,i){return s("div",{key:i,staticClass:"add-issues-list-column"},e._l(t,function(t){return e.showIssue(t)?s("div",{key:t.id,staticClass:"board-card-parent"},[s("div",{staticClass:"board-card",class:{"is-active":t.selected},on:{click:function(s){e.toggleIssue(s,t)}}},[s("issue-card-inner",{attrs:{issue:t,"issue-link-base":e.issueLinkBase,"root-path":e.rootPath}}),e._v(" "),t.selected?s("icon",{staticClass:"issue-card-selected text-center",attrs:{"aria-label":"Issue #"+t.id+" selected",name:"mobile-issue-close","aria-checked":"true"}}):e._e()],1)]):e._e()}),0)})],2)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"text-content"},[t("h4",[this._v("There are no issues to show.")])])}],!1,null,null,null);ze.options.__file="list.vue";var Ge=ze.exports,Xe={components:{GlLink:Q.d,Icon:U.a},data:function(){return{modal:x.a.store,state:f.c.state}},computed:{selected:function(){return this.modal.selectedList||this.state.lists[1]}},destroyed:function(){this.modal.selectedList=null}},Je=Object(z.a)(Xe,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dropdown inline"},[s("button",{staticClass:"dropdown-menu-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[s("span",{staticClass:"dropdown-label-box",style:{backgroundColor:e.selected.label.color}}),e._v("\n    "+e._s(e.selected.title)+" "),s("icon",{attrs:{name:"chevron-down"}})],1),e._v(" "),s("div",{staticClass:"dropdown-menu dropdown-menu-selectable dropdown-menu-drop-up"},[s("ul",e._l(e.state.lists,function(t,i){return"label"==t.type?s("li",{key:i},[s("gl-link",{class:{"is-active":t.id==e.selected.id},attrs:{href:"#",role:"button"},on:{click:function(s){s.preventDefault(),e.modal.selectedList=t}}},[s("span",{staticClass:"dropdown-label-box",style:{backgroundColor:t.label.color}}),e._v("\n          "+e._s(t.title)+"\n        ")])],1):e._e()}),0)])])},[],!1,null,null,null);Je.options.__file="lists_dropdown.vue";var Qe=Je.exports,Ze=s(51),et={components:{ListsDropdown:Qe},mixins:[M],data:function(){return{modal:x.a.store,state:f.c.state}},computed:{submitDisabled:function(){return!x.a.selectedCount()},submitText:function(){var e=x.a.selectedCount();return"Add ".concat(e>0?e:""," ").concat(Object(Ze.i)("issue",e))}},methods:{buildUpdateRequest:function(e){return{add_label_ids:[e.label.id]}},addIssues:function(){var e=this.modal.selectedList||this.state.lists[1],t=x.a.getSelectedIssues(),s=t.map(function(e){return e.id}),i=this.buildUpdateRequest(e);gl.boardService.bulkUpdate(s,i).catch(function(){Object(l.a)(Object(c.a)("Failed to update issues, please try again.")),t.forEach(function(t){e.removeIssue(t),e.issuesSize-=1})}),t.forEach(function(t){e.addIssue(t),e.issuesSize+=1}),this.toggleModal(!1)}}},tt=Object(z.a)(et,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"form-actions add-issues-footer"},[s("div",{staticClass:"float-left"},[s("button",{staticClass:"btn btn-success",attrs:{disabled:e.submitDisabled,type:"button"},on:{click:e.addIssues}},[e._v("\n      "+e._s(e.submitText)+"\n    ")]),e._v(" "),s("span",{staticClass:"inline add-issues-footer-to-list"},[e._v(" to list ")]),e._v(" "),s("lists-dropdown")],1),e._v(" "),s("button",{staticClass:"btn btn-default float-right",attrs:{type:"button"},on:{click:function(t){e.toggleModal(!1)}}},[e._v("\n    Cancel\n  ")])])},[],!1,null,null,null);tt.options.__file="footer.vue";var st=tt.exports,it={mixins:[M],props:{newIssuePath:{type:String,required:!0},emptyStateSvg:{type:String,required:!0}},data:function(){return x.a.store},computed:{contents:function(){var e={title:"You haven't added any issues to your project yet",content:"\n          An issue can be a bug, a todo or a feature request that needs to be\n          discussed in a project. Besides, issues are searchable and filterable.\n        "};return"selected"===this.activeTab&&(e.title="You haven't selected any issues yet",e.content="\n          Go back to <strong>Open issues</strong> and select some issues\n          to add to your board.\n        "),e}}},nt=Object(z.a)(it,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"empty-state"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-6 order-md-last"},[s("aside",{staticClass:"svg-content d-none d-md-block"},[s("img",{attrs:{src:e.emptyStateSvg}})])]),e._v(" "),s("div",{staticClass:"col-12 col-md-6 order-md-first"},[s("div",{staticClass:"text-content"},[s("h4",[e._v(e._s(e.contents.title))]),e._v(" "),s("p",{domProps:{innerHTML:e._s(e.contents.content)}}),e._v(" "),"all"===e.activeTab?s("a",{staticClass:"btn btn-success btn-inverted",attrs:{href:e.newIssuePath}},[e._v("\n          New issue\n        ")]):e._e(),e._v(" "),"selected"===e.activeTab?s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){e.changeTab("all")}}},[e._v("\n          Open issues\n        ")]):e._e()])])])])},[],!1,null,null,null);function at(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}nt.options.__file="empty_state.vue";var ot={components:{EmptyState:nt.exports,ModalHeader:Ye,ModalList:Ge,ModalFooter:st,GlLoadingIcon:Q.e},props:{newIssuePath:{type:String,required:!0},emptyStateSvg:{type:String,required:!0},issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},projectId:{type:Number,required:!0},milestonePath:{type:String,required:!0},labelPath:{type:String,required:!0}},data:function(){return x.a.store},computed:{showList:function(){return"selected"===this.activeTab?this.selectedIssues.length>0:this.issuesCount>0},showEmptyState:function(){return!this.loading&&0===this.issuesCount||"selected"===this.activeTab&&0===this.selectedIssues.length}},watch:{page:function(){this.loadIssues()},showAddIssuesModal:function(){var e=this;if(this.showAddIssuesModal&&!this.issues.length){this.loading=!0;var t=function(){e.loading=!1};this.loadIssues().then(t).catch(t)}else this.showAddIssuesModal||(this.issues=[],this.selectedIssues=[],this.issuesCount=!1)},filter:{handler:function(){var e=this;if(this.$el.tagName){this.page=1,this.filterLoading=!0;var t=function(){e.filterLoading=!1};this.loadIssues(!0).then(t).catch(t)}},deep:!0}},created:function(){this.page=1},methods:{loadIssues:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!this.showAddIssuesModal&&gl.boardService.getBacklog(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},i=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),i.forEach(function(t){at(e,t,s[t])})}return e}({},Object(j.L)(this.filter.path),{page:this.page,per:this.perPage})).then(function(e){return e.data}).then(function(s){t&&(e.issues=[]),s.issues.forEach(function(t){var s=new ListIssue(t),i=x.a.findSelectedIssue(s);s.selected=!!i,e.issues.push(s)}),e.loadingNewPage=!1,e.issuesCount||(e.issuesCount=s.size)}).catch(function(){})}}},rt=Object(z.a)(ot,function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showAddIssuesModal?s("div",{staticClass:"add-issues-modal"},[s("div",{staticClass:"add-issues-container"},[s("modal-header",{attrs:{"project-id":e.projectId,"milestone-path":e.milestonePath,"label-path":e.labelPath}}),e._v(" "),e.loading||!e.showList||e.filterLoading?e._e():s("modal-list",{attrs:{"issue-link-base":e.issueLinkBase,"root-path":e.rootPath,"empty-state-svg":e.emptyStateSvg}}),e._v(" "),e.showEmptyState?s("empty-state",{attrs:{"new-issue-path":e.newIssuePath,"empty-state-svg":e.emptyStateSvg}}):e._e(),e._v(" "),e.loading||e.filterLoading?s("section",{staticClass:"add-issues-list text-center"},[s("div",{staticClass:"add-issues-list-loading"},[s("gl-loading-icon")],1)]):e._e(),e._v(" "),s("modal-footer")],1)]):e._e()},[],!1,null,null,null);rt.options.__file="index.vue";var lt,ct=rt.exports;s(412),t.a=function(){var e=document.getElementById("board-app");window.addEventListener("pageshow",function(e){var t=window.performance&&window.performance.navigation.type===j.a.TYPE_BACK_FORWARD;(e.persisted||t)&&window.location.reload()}),lt&&lt.$destroy(!0),f.c.create(),lt=new r.default({el:e,components:{Board:Ie,BoardSidebar:Ne,BoardAddIssuesModal:ct},data:{state:f.c.state,loading:!0,boardsEndpoint:e.dataset.boardsEndpoint,listsEndpoint:e.dataset.listsEndpoint,boardId:e.dataset.boardId,disabled:Object(j.A)(e.dataset.disabled),issueLinkBase:e.dataset.issueLinkBase,rootPath:e.dataset.rootPath,bulkUpdatePath:e.dataset.bulkUpdatePath,detailIssue:f.c.detail,defaultAvatar:e.dataset.defaultAvatar},computed:{detailIssueVisible:function(){return Object.keys(this.detailIssue.issue).length}},created:function(){gl.boardService=new B({boardsEndpoint:this.boardsEndpoint,listsEndpoint:this.listsEndpoint,bulkUpdatePath:this.bulkUpdatePath,boardId:this.boardId}),f.c.rootPath=this.boardsEndpoint,_.$on("updateTokens",this.updateTokens),_.$on("newDetailIssue",this.updateDetailIssue),_.$on("clearDetailIssue",this.clearDetailIssue),k.a.$on("toggleSubscription",this.toggleSubscription)},beforeDestroy:function(){_.$off("updateTokens",this.updateTokens),_.$off("newDetailIssue",this.updateDetailIssue),_.$off("clearDetailIssue",this.clearDetailIssue),k.a.$off("toggleSubscription",this.toggleSubscription)},mounted:function(){var e=this;this.filterManager=new w(f.c.filter,!0,f.c.cantEdit),this.filterManager.setup(),f.c.disabled=this.disabled,gl.boardService.all().then(function(e){return e.data}).then(function(t){t.forEach(function(t){var s=f.c.addList(t,e.defaultAvatar);"closed"===s.type?s.position=1/0:"backlog"===s.type&&(s.position=-1)}),e.state.lists=o.a.sortBy(e.state.lists,"position"),f.c.addBlankState(),e.loading=!1}).catch(function(){Object(l.a)("An error occurred while fetching the board lists. Please try again.")})},methods:{updateTokens:function(){this.filterManager.updateTokens()},updateDetailIssue:function(e){var t=e.sidebarInfoEndpoint;t&&void 0===e.subscribed&&(e.setFetchingState("subscriptions",!0),B.getIssueInfo(t).then(function(e){return e.data}).then(function(t){e.setFetchingState("subscriptions",!1),e.updateData({subscribed:t.subscribed})}).catch(function(){e.setFetchingState("subscriptions",!1),Object(l.a)(Object(c.a)("An error occurred while fetching sidebar data"))})),f.c.detail.issue=e},clearDetailIssue:function(){f.c.detail.issue={}},toggleSubscription:function(e){var t=f.c.detail.issue;t.id===e&&t.toggleSubscriptionEndpoint&&(t.setFetchingState("subscriptions",!0),B.toggleIssueSubscription(t.toggleSubscriptionEndpoint).then(function(){t.setFetchingState("subscriptions",!1),t.updateData({subscribed:!t.subscribed})}).catch(function(){t.setFetchingState("subscriptions",!1),Object(l.a)(Object(c.a)("An error occurred when toggling the notification subscription"))}))}}}),new r.default({el:document.getElementById("js-add-list"),data:{filters:f.c.state.filters},mounted:function(){n()(".js-new-board-list").each(function(){var e=n()(this);new Re.a(e.closest(".dropdown").find(".dropdown-new-label"),e.data("namespacePath"),e.data("projectPath")),e.glDropdown({data:function(t,s){P.a.get(e.attr("data-list-labels-path")).then(function(e){var t=e.data;s(t)})},renderRow:function(e){var t=f.c.findListByLabelId(e.id),s=n()("<li />"),i=n()("<a />",{class:t?"is-active js-board-list-".concat(t.id):"",text:e.title,href:"#"}),a=n()("<span />",{class:"dropdown-label-box",style:"background-color: ".concat(e.color)});return s.append(i.prepend(a))},search:{fields:["title"]},filterable:!0,selectable:!0,multiSelect:!0,containerSelector:".js-tab-container-labels .dropdown-page-one .dropdown-content",clicked:function(e){var t=e.e,s=e.selectedObj;t.preventDefault(),f.c.findListByLabelId(s.id)||(f.c.new({title:s.title,position:f.c.state.lists.length-2,list_type:"label",label:{id:s.id,title:s.title,color:s.color}}),f.c.state.lists=o.a.sortBy(f.c.state.lists,"position"))}})})}});var t=document.getElementById("js-add-issues-btn");t&&new r.default({el:t,mixins:[M],data:function(){return{modal:x.a.store,store:f.c.state,canAdminList:this.$options.el.hasAttribute("data-can-admin-list")}},computed:{disabled:function(){return!this.store||!this.store.lists.filter(function(e){return!e.preset}).length},tooltipTitle:function(){return this.disabled?"Please add a list to your board first":""}},watch:{disabled:function(){this.updateTooltip()}},mounted:function(){this.updateTooltip()},methods:{updateTooltip:function(){var e=this,t=n()(this.$refs.addIssuesButton);this.$nextTick(function(){e.disabled?t.tooltip():t.tooltip("dispose")})},openModal:function(){this.disabled||this.toggleModal(!0)}},template:'\n        <div class="board-extra-actions">\n          <button\n            class="btn btn-success prepend-left-10"\n            type="button"\n            data-placement="bottom"\n            ref="addIssuesButton"\n            :class="{ \'disabled\': disabled }"\n            :title="tooltipTitle"\n            :aria-disabled="disabled"\n            v-if="canAdminList"\n            @click="openModal">\n            Add issues\n          </button>\n        </div>\n      '})}},57:function(e,t,s){"use strict";var i=new(s(11).default);window.emitSidebarEvent=function(){return i.$emit.apply(i,arguments)},t.a=i},600:function(e,t){window.ListMilestone=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.title=t.title}},80:function(e,t,s){"use strict";var i=s(0),n=s.n(i),a=s(5),o=s.n(a),r=s(6),l=s(7);t.a={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.container,e.form),s=e.issues,i=e.prefixId;this.prefixId=i||"issue_",this.form=t||this.getElement(".bulk-update"),this.$labelDropdown=this.form.find(".js-label-select"),this.issues=s||this.getElement(".issues-list .issue"),this.willUpdateLabels=!1,this.bindEvents()},bindEvents:function(){return this.form.off("submit").on("submit",this.onFormSubmit.bind(this))},onFormSubmit:function(e){return e.preventDefault(),this.submit()},submit:function(){var e=this;r.a[this.form.attr("method")](this.form.attr("action"),this.getFormDataAsObject()).then(function(){return window.location.reload()}).catch(function(){return e.onFormSubmitFailure()})},onFormSubmitFailure:function(){return this.form.find('[type="submit"]').enable(),new l.a("Issue update failed")},getSelectedIssues:function(){return this.issues.has(".selected-issuable:checked")},getLabelsFromSelection:function(){var e=[];return this.getSelectedIssues().map(function(){var t=n()(this).data("labels");if(t)return t.map(function(t){if(-1===e.indexOf(t))return e.push(t)})}),e},getUnmarkedIndeterminedLabels:function(){var e=[],t=this.$labelDropdown.data("indeterminate");return this.getLabelsFromSelection().forEach(function(s){-1===t.indexOf(s)&&e.push(s)}),e},getFormDataAsObject:function(){var e={update:{state_event:this.form.find('input[name="update[state_event]"]').val(),assignee_id:this.form.find('input[name="update[assignee_id]"]').val(),assignee_ids:[this.form.find('input[name="update[assignee_ids][]"]').val()],milestone_id:this.form.find('input[name="update[milestone_id]"]').val(),issuable_ids:this.form.find('input[name="update[issuable_ids]"]').val(),subscription_event:this.form.find('input[name="update[subscription_event]"]').val(),add_label_ids:[],remove_label_ids:[]}};return this.willUpdateLabels&&(e.update.add_label_ids=this.$labelDropdown.data("marked"),e.update.remove_label_ids=this.$labelDropdown.data("unmarked")),e},setOriginalDropdownData:function(){var e=n()(".bulk-update .js-label-select");e.data("common",this.getOriginalCommonIds()),e.data("marked",this.getOriginalMarkedIds()),e.data("indeterminate",this.getOriginalIndeterminateIds())},getOriginalCommonIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each(function(s,i){t.push(e.getElement("#".concat(e.prefixId).concat(i.dataset.id)).data("labels"))}),o.a.intersection.apply(this,t)},getOriginalMarkedIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each(function(s,i){t.push(e.getElement("#".concat(e.prefixId).concat(i.dataset.id)).data("labels"))}),o.a.intersection.apply(this,t)},getOriginalIndeterminateIds:function(){var e=this,t=[],s=[],i=[];return this.getElement(".selected-issuable:checked").each(function(n,a){(i=e.getElement("#".concat(e.prefixId).concat(a.dataset.id)).data("labels")).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),s.push(i)}),s.unshift(t),o.a.difference(t,o.a.intersection.apply(this,s))},getElement:function(e){return this.scopeEl=this.scopeEl||n()(".content"),this.scopeEl.find(e)}}},88:function(e,t,s){
/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */
!function(t,i){"use strict";var n;try{n=s(!function(){var e=new Error("Cannot find module 'moment'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}e.exports=function(e){var t="function"==typeof e,s=!!window.addEventListener,i=window.document,n=window.setTimeout,a=function(e,t,i,n){s?e.addEventListener(t,i,!!n):e.attachEvent("on"+t,i)},o=function(e,t,i,n){s?e.removeEventListener(t,i,!!n):e.detachEvent("on"+t,i)},r=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e){return/Array/.test(Object.prototype.toString.call(e))},c=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},u=function(e){var t=e.getDay();return 0===t||6===t},d=function(e,t){return[31,function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},h=function(e){c(e)&&e.setHours(0,0,0,0)},p=function(e,t){return e.getTime()===t.getTime()},f=function(e,t,s){var i,n;for(i in t)(n=void 0!==e[i])&&"object"==typeof t[i]&&null!==t[i]&&void 0===t[i].nodeName?c(t[i])?s&&(e[i]=new Date(t[i].getTime())):l(t[i])?s&&(e[i]=t[i].slice(0)):e[i]=f({},t[i],s):!s&&n||(e[i]=t[i]);return e},g=function(e,t,s){var n;i.createEvent?((n=i.createEvent("HTMLEvents")).initEvent(t,!0,!1),n=f(n,s),e.dispatchEvent(n)):i.createEventObject&&(n=i.createEventObject(),n=f(n,s),e.fireEvent("on"+t,n))},b=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},v={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},m=function(e,t,s){for(t+=e.firstDay;t>=7;)t-=7;return s?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},y=function(e){var t=[],s="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),s="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+s+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},w=function(e,t,s,i){return'<tr class="pika-row'+(s?" pick-whole-week":"")+(i?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},_=function(e,t,s,i,n,a){var o,r,c,u,d,h=e._o,p=s===h.minYear,f=s===h.maxYear,g='<div id="'+a+'" class="pika-title" role="heading" aria-live="assertive">',b=!0,v=!0;for(c=[],o=0;o<12;o++)c.push('<option value="'+(s===n?o-t:12+o-t)+'"'+(o===i?' selected="selected"':"")+(p&&o<h.minMonth||f&&o>h.maxMonth?'disabled="disabled"':"")+">"+h.i18n.months[o]+"</option>");for(u='<div class="pika-label">'+h.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+c.join("")+"</select></div>",l(h.yearRange)?(o=h.yearRange[0],r=h.yearRange[1]+1):(o=s-h.yearRange,r=1+s+h.yearRange),c=[];o<r&&o<=h.maxYear;o++)o>=h.minYear&&c.push('<option value="'+o+'"'+(o===s?' selected="selected"':"")+">"+o+"</option>");return d='<div class="pika-label">'+s+h.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+c.join("")+"</select></div>",h.showMonthAfterYear?g+=d+u:g+=u+d,p&&(0===i||h.minMonth>=i)&&(b=!1),f&&(11===i||h.maxMonth<=i)&&(v=!1),0===t&&(g+='<button class="pika-prev'+(b?"":" is-disabled")+'" type="button">'+h.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(g+='<button class="pika-next'+(v?"":" is-disabled")+'" type="button">'+h.i18n.nextMonth+"</button>"),g+="</div>"},k=function(o){var l=this,u=l.config(o);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(r(t,"is-disabled")||(!r(t,"pika-button")||r(t,"is-empty")||r(t.parentNode,"is-disabled")?r(t,"pika-prev")?l.prevMonth():r(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),u.bound&&n(function(){l.hide(),u.blurFieldOnSelect&&u.field&&u.field.blur()},100))),r(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(r(t,"pika-select-month")?l.gotoMonth(t.value):r(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:u.field&&u.field.blur();break;case 37:e.preventDefault(),l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7)}},l._onInputChange=function(s){var i;s.firedBy!==l&&(i=u.parse?u.parse(u.field.value,u.format):t?(i=e(u.field.value,u.format,u.formatStrict))&&i.isValid()?i.toDate():null:new Date(Date.parse(u.field.value)),c(i)&&l.setDate(i),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=i.activeElement;do{if(r(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=n(function(){l.hide()},50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,i=t;if(t){!s&&r(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),a(t,"change",l._onChange)));do{if(r(i,"pika-single")||i===u.trigger)return}while(i=i.parentNode);l._v&&t!==u.trigger&&i!==u.trigger&&l.hide()}},l.el=i.createElement("div"),l.el.className="pika-single"+(u.isRTL?" is-rtl":"")+(u.theme?" "+u.theme:""),a(l.el,"mousedown",l._onMouseDown,!0),a(l.el,"touchend",l._onMouseDown,!0),a(l.el,"change",l._onChange),a(i,"keydown",l._onKeyChange),u.field&&(u.container?u.container.appendChild(l.el):u.bound?i.body.appendChild(l.el):u.field.parentNode.insertBefore(l.el,u.field.nextSibling),a(u.field,"change",l._onInputChange),u.defaultDate||(t&&u.field.value?u.defaultDate=e(u.field.value,u.format).toDate():u.defaultDate=new Date(Date.parse(u.field.value)),u.setDefaultDate=!0));var d=u.defaultDate;c(d)?u.setDefaultDate?l.setDate(d,!0):l.gotoDate(d):l.gotoDate(new Date),u.bound?(this.hide(),l.el.className+=" is-bound",a(u.trigger,"click",l._onInputClick),a(u.trigger,"focus",l._onInputFocus),a(u.trigger,"blur",l._onInputBlur)):this.show()};return k.prototype={config:function(e){this._o||(this._o=f({},v,!0));var t=f(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var s=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=s>4?4:s,c(t.minDate)||(t.minDate=!1),c(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),l(t.yearRange)){var i=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||v.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(s){return s=s||this._o.format,c(this._d)?this._o.toString?this._o.toString(this._d,s):t?e(this._d).format(s):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(s,i){t&&e.isMoment(s)&&this.setDate(s.toDate(),i)},getDate:function(){return c(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",g(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),c(e)){var s=this._o.minDate,i=this._o.maxDate;c(s)&&e<s?e=s:c(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),h(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),g(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(c(e)){if(this.calendars){var s=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),n=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=n<s.getTime()||i.getTime()<n}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var s,i=this.getDate()||new Date,n=24*parseInt(t)*60*60*1e3;"add"===e?s=new Date(i.valueOf()+n):"subtract"===e&&(s=new Date(i.valueOf()-n)),this.setDate(s)},adjustCalendars:function(){this.calendars[0]=b(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=b({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(h(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=v.minDate,this._o.minYear=v.minYear,this._o.minMonth=v.minMonth,this._o.startRange=v.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(h(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=v.maxDate,this._o.maxYear=v.maxYear,this._o.maxMonth=v.maxMonth,this._o.endRange=v.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,s=this._o,i=s.minYear,a=s.maxYear,o=s.minMonth,r=s.maxMonth,l="";this._y<=i&&(this._y=i,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=a&&(this._y=a,!isNaN(r)&&this._m>r&&(this._m=r)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var c=0;c<s.numberOfMonths;c++)l+='<div class="pika-lendar">'+_(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t)+"</div>";this.el.innerHTML=l,s.bound&&"hidden"!==s.field.type&&n(function(){s.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),s.bound&&s.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var e,t,s,n,a,o,r,l,c,u;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,s=this.el.offsetWidth,n=this.el.offsetHeight,a=window.innerWidth||i.documentElement.clientWidth,o=window.innerHeight||i.documentElement.clientHeight,r=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)l=(u=e.getBoundingClientRect()).left+window.pageXOffset,c=u.bottom+window.pageYOffset;else for(l=t.offsetLeft,c=t.offsetTop+t.offsetHeight;t=t.offsetParent;)l+=t.offsetLeft,c+=t.offsetTop;(this._o.reposition&&l+s>a||this._o.position.indexOf("right")>-1&&l-s+e.offsetWidth>0)&&(l=l-s+e.offsetWidth),(this._o.reposition&&c+n>o+r||this._o.position.indexOf("top")>-1&&c-n-e.offsetHeight>0)&&(c=c-n-e.offsetHeight),this.el.style.left=l+"px",this.el.style.top=c+"px"}},render:function(e,t,s){var i=this._o,n=new Date,a=d(e,t),o=new Date(e,t,1).getDay(),r=[],l=[];h(n),i.firstDay>0&&(o-=i.firstDay)<0&&(o+=7);for(var f=0===t?11:t-1,g=11===t?0:t+1,b=0===t?e-1:e,v=11===t?e+1:e,_=d(b,f),k=a+o,S=k;S>7;)S-=7;k+=7-S;for(var C,D,I,j,E=!1,T=0,L=0;T<k;T++){var O=new Date(e,t,T-o+1),x=!!c(this._d)&&p(O,this._d),P=p(O,n),A=-1!==i.events.indexOf(O.toDateString()),$=T<o||T>=a+o,B=T-o+1,M=t,N=e,R=i.startRange&&p(i.startRange,O),F=i.endRange&&p(i.endRange,O),q=i.startRange&&i.endRange&&i.startRange<O&&O<i.endRange,U=i.minDate&&O<i.minDate||i.maxDate&&O>i.maxDate||i.disableWeekends&&u(O)||i.disableDayFn&&i.disableDayFn(O);$&&(T<o?(B=_+B,M=f,N=b):(B-=a,M=g,N=v));var W={day:B,month:M,year:N,hasEvent:A,isSelected:x,isToday:P,isDisabled:U,isEmpty:$,isStartRange:R,isEndRange:F,isInRange:q,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:i.enableSelectionDaysInNextAndPreviousMonths};i.pickWholeWeek&&x&&(E=!0),l.push(y(W)),7==++L&&(i.showWeekNumber&&l.unshift((C=T-o,D=t,I=e,j=void 0,j=new Date(I,0,1),'<td class="pika-week">'+Math.ceil(((new Date(I,D,C)-j)/864e5+j.getDay()+1)/7)+"</td>")),r.push(w(l,i.isRTL,i.pickWholeWeek,E)),l=[],L=0,E=!1)}return function(e,t,s){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+s+'">'+function(e){var t,s=[];for(e.showWeekNumber&&s.push("<th></th>"),t=0;t<7;t++)s.push('<th scope="col"><abbr title="'+m(e,t)+'">'+m(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?s.reverse():s).join("")+"</tr></thead>"}(e)+("<tbody>"+t.join("")+"</tbody>")+"</table>"}(i,r,s)},isVisible:function(){return this._v},show:function(){var e,t,s;this.isVisible()||(this._v=!0,this.draw(),e=this.el,t="is-hidden",e.className=(s=(" "+e.className+" ").replace(" "+t+" "," ")).trim?s.trim():s.replace(/^\s+|\s+$/g,""),this._o.bound&&(a(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e,t,s=this._v;!1!==s&&(this._o.bound&&o(i,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",e=this.el,r(e,t="is-hidden")||(e.className=""===e.className?t:e.className+" "+t),this._v=!1,void 0!==s&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"touchend",this._onMouseDown,!0),o(this.el,"change",this._onChange),o(i,"keydown",this._onKeyChange),this._o.field&&(o(this._o.field,"change",this._onInputChange),this._o.bound&&(o(this._o.trigger,"click",this._onInputClick),o(this._o.trigger,"focus",this._onInputFocus),o(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},k}(n)}()},91:function(e,t,s){"use strict";var i=s(10),n=s(92),a={name:"UserAvatarLink",components:{GlLink:i.d,userAvatarImage:n.a},directives:{GlTooltip:i.n},props:{linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:Number,required:!1,default:20},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername:function(){return this.username.length>0},avatarTooltipText:function(){return this.shouldShowUsername?"":this.tooltipText}}},o=s(3),r=Object(o.a)(a,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("gl-link",{staticClass:"user-avatar-link",attrs:{href:e.linkHref}},[s("user-avatar-image",{attrs:{"img-src":e.imgSrc,"img-alt":e.imgAlt,"css-classes":e.imgCssClasses,size:e.imgSize,"tooltip-text":e.avatarTooltipText,"tooltip-placement":e.tooltipPlacement}},[e._t("default")],2),e.shouldShowUsername?s("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-avatar-link-username",attrs:{title:e.tooltipText,"tooltip-placement":e.tooltipPlacement}},[e._v(e._s(e.username))]):e._e(),e._t("avatar-badge")],2)},[],!1,null,null,null);r.options.__file="user_avatar_link.vue";t.a=r.exports}},[[1009,1,0,2,4]]]);
//# sourceMappingURL=pages.groups.boards.9ef6616f.chunk.js.map