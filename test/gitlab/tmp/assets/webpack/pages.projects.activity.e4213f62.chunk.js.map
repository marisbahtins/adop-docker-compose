{"version":3,"sources":["webpack:///./pages/projects/activity/index.js","webpack:///./pager.js","webpack:///./activities.js","webpack:///./behaviors/shortcuts/shortcuts_navigation.js","webpack:///./project_select_combo_button.js","webpack:///./project_select.js","webpack:///./pages/projects/project.js","webpack:///./pages/projects/index.js"],"names":["__webpack_require__","r","__webpack_exports__","_activities__WEBPACK_IMPORTED_MODULE_0__","_behaviors_shortcuts_shortcuts_navigation__WEBPACK_IMPORTED_MODULE_1__","document","addEventListener","Activities","ShortcutsNavigation","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","n","_lib_utils_common_utils__WEBPACK_IMPORTED_MODULE_1__","_lib_utils_axios_utils__WEBPACK_IMPORTED_MODULE_2__","_lib_utils_url_utility__WEBPACK_IMPORTED_MODULE_3__","init","limit","arguments","length","undefined","preload","disable","prepareData","$","noop","callback","container","this","url","data","removeParams","offset","parseInt","getParameterByName","loading","concat","first","getOld","initLoadMore","_this","show","axios","get","params","then","_ref","append","count","html","isScrollable","hide","catch","$w","window","height","scrollTop","_this2","off","endlessScroll","bottomPixels","fireDelay","fireOnce","ceaseFire","is","_classCallCheck","Pager","updateTooltips","on","e","preventDefault","toggleFilter","currentTarget","reloadActivities","localTimeAgo","sender","$sender","filter","attr","split","removeClass","Cookies","set","closest","toggleClass","_possibleConstructorReturn","_getPrototypeOf","call","Mousetrap","bind","findAndFollowLink","enabledHelp","push","Shortcuts","ProjectSelectComboButton","select","projectSelectInput","newItemBtn","resourceType","resourceLabel","formattedText","deriveTextVariants","groupId","bindEvents","initLocalStorage","siblings","openDropdown","getProjectFromLocalStorage","selectProject","AccessorUtilities","isLocalStorageAccessSafe","localStorageKey","localStorageItemType","join","setBtnTextFromLocalStorage","event","select2","selectedProjectData","JSON","parse","val","projectMeta","name","setNewItemBtnAttributes","setProjectInLocalStorage","cachedProjectData","project","text","defaultTextPrefix","presetTextSuffix","projectString","localStorage","getItem","stringify","setItem","slice","projectSelect","each","i","placeholder","simpleFilter","includeGroups","allProjects","orderBy","withIssuesEnabled","withMergeRequestsEnabled","withShared","includeProjectsInSubgroups","allowClear","minimumInputLength","query","finalCallback","projectsCallback","projects","results","groupsCallback","groups","Api","term","groupProjects","with_issues_enabled","with_merge_requests_enabled","with_shared","include_subgroups","order_by","membership","id","web_url","name_with_namespace","initSelection","el","dropdownCssClass","d","Project","$cloneOptions","$projectCloneField","$cloneBtnLabel","mobileCloneField","querySelector","selectedCloneOption","trim","addClass","$this","cloneType","$el","activeText","find","$label","dataset","clipboardText","initRefSwitcher","parents","submit","remove","projectId","cookieKey","projectSelectDropdown","changeProject","location","refListItem","createElement","refLink","href","$dropdown","selected","glDropdown","ref","search","flash","__","selectable","filterable","filterRemote","filterByText","inputFieldName","fieldName","renderRow","li","cloneNode","header","className","textContent","link","appendChild","obj","toggleLabel","clicked","options","$form","$visit","shouldVisit","action","divider","indexOf","visitUrl","serialize","_projects_gke_cluster_dropdowns__WEBPACK_IMPORTED_MODULE_0__","_persistent_user_callout__WEBPACK_IMPORTED_MODULE_1__","_project__WEBPACK_IMPORTED_MODULE_2__","_behaviors_shortcuts_shortcuts_navigation__WEBPACK_IMPORTED_MODULE_3__","page","body","callout","PersistentUserCallout","initGkeDropdowns"],"mappings":"4IAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,KAAAI,EAAAJ,EAAA,IAGAK,SAASC,iBAAiB,mBAAoB,WAC5C,IAAIC,IACJ,IAAIC,wCCLN,IAAAC,EAAAT,EAAA,GAAAU,EAAAV,EAAAW,EAAAF,GAAAG,EAAAZ,EAAA,IAAAa,EAAAb,EAAA,GAAAc,EAAAd,EAAA,IAQeE,EAAA,GACba,KADa,WAQX,IANAC,EAMAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GANQ,EACRG,EAKAH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAJAI,EAIAJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAHAK,EAGAL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHcM,IAAEC,KAChBC,EAEAR,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFWM,IAAEC,KACbE,EACAT,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADY,GAEZU,KAAKC,IAAML,IAAE,iBAAiBM,KAAK,SAAWC,aAAc,QAAS,WACrEH,KAAKX,MAAQA,EACbW,KAAKI,OAASC,SAASC,YAAmB,UAAW,KAAON,KAAKX,MACjEW,KAAKN,QAAUA,EACfM,KAAKL,YAAcA,EACnBK,KAAKF,SAAWA,EAChBE,KAAKO,QAAUX,IAAC,GAAAY,OAAIT,EAAJ,cAA0BU,QACtChB,IACFO,KAAKI,OAAS,EACdJ,KAAKU,UAEPV,KAAKW,gBAGPD,OAvBa,WAuBJ,IAAAE,EAAAZ,KACPA,KAAKO,QAAQM,OACbC,IACGC,IAAIf,KAAKC,KACRe,QACE3B,MAAOW,KAAKX,MACZe,OAAQJ,KAAKI,UAGhBa,KAAK,SAAAC,GAAc,IAAXhB,EAAWgB,EAAXhB,KACPU,EAAKO,OAAOjB,EAAKkB,MAAOR,EAAKjB,YAAYO,EAAKmB,OAC9CT,EAAKd,WAGAc,EAAKlB,SAAYkB,EAAKU,eAGzBV,EAAKL,QAAQgB,OAFbX,EAAKF,WAKRc,MAAM,kBAAMZ,EAAKL,QAAQgB,UAG9BJ,OA9Ca,SA8CNC,EAAOC,GACZzB,IAAE,iBAAiBuB,OAAOE,GACtBD,EAAQ,EACVpB,KAAKI,QAAUgB,EAEfpB,KAAKN,SAAU,GAInB4B,aAvDa,WAwDX,IAAMG,EAAK7B,IAAE8B,QACb,OAAO9B,IAAElB,UAAUiD,SAAWF,EAAGE,SAAWF,EAAGG,YA5DlB,KA+D/BjB,aA5Da,WA4DE,IAAAkB,EAAA7B,KACbJ,IAAElB,UAAUoD,IAAI,UAChBlC,IAAElB,UAAUqD,eACVC,aAlE2B,IAmE3BC,UAlE+B,IAmE/BC,UAAU,EACVC,UAAW,kBAAuB,IAAjBN,EAAKnC,SACtBI,SAAU,WACH+B,EAAKtB,QAAQ6B,GAAG,cACnBP,EAAKtB,QAAQM,OACbgB,EAAKnB,iTCvEM9B,aACnB,SAAAA,IAA4B,IAAAgC,EAAAZ,KAAhBD,EAAgBT,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,gGAAI+C,CAAArC,KAAApB,GAC1BoB,KAAKD,UAAYA,EAEjBuC,IAAMlD,KAAK,IAAI,GAAM,EAAO,SAAAc,GAAI,OAAIA,GAAMF,KAAKuC,eAAgBvC,KAAKD,WAEpEH,IAAE,sBAAsB4C,GAAG,QAAS,SAAAC,GAClCA,EAAEC,iBACF9B,EAAK+B,aAAaF,EAAEG,eACpBhC,EAAKiC,qFAKPC,YAAalD,IAAE,cAAe,6DAI9BA,IAAE,iBAAiByB,KAAK,IACxBiB,IAAMlD,KAAK,IAAI,GAAM,EAAO,SAAAc,GAAI,OAAIA,GAAMF,KAAKuC,eAAgBvC,KAAKD,gDAGzDgD,GACX,IAAMC,EAAUpD,IAAEmD,GACZE,EAASD,EAAQE,KAAK,MAAMC,MAAM,KAAK,GAE7CvD,IAAE,yBAAyBwD,YAAY,UACvCC,IAAQC,IAAI,eAAgBL,GAE5BD,EAAQO,QAAQ,MAAMC,YAAY,wxBChCjB3E,cACnB,SAAAA,IAAc,IAAA+B,EAAA,mGAAAyB,CAAArC,KAAAnB,GACZ+B,EAAA6C,EAAAzD,KAAA0D,EAAA7E,GAAA8E,KAAA3D,OAEA4D,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,wBAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,iCAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,iCAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,qBAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,wBAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,uBAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,wBAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,kCAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,uBAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,6BAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,+BAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,qBAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,yBAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,2BAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,6BAC9CF,IAAUC,KAAK,MAAO,kBAAMC,YAAkB,wBAC9CF,IAAUC,KAAK,IAAK,kBAAMC,YAAkB,0BAE5ClD,EAAKmD,YAAYC,KAAK,4BArBVpD,8OADiCqD,4PCD5BC,aACnB,SAAAA,EAAYC,gGAAQ9B,CAAArC,KAAAkE,GAClBlE,KAAKoE,mBAAqBxE,IAAEuE,GAC5BnE,KAAKqE,WAAazE,IAAE,0BACpBI,KAAKsE,aAAetE,KAAKqE,WAAWnE,KAAK,QACzCF,KAAKuE,cAAgBvE,KAAKqE,WAAWnE,KAAK,SAC1CF,KAAKwE,cAAgBxE,KAAKyE,qBAC1BzE,KAAK0E,QAAU1E,KAAKoE,mBAAmBlE,KAAK,WAC5CF,KAAK2E,aACL3E,KAAK4E,+EAGM,IAAAhE,EAAAZ,KACXA,KAAKoE,mBACFS,SAAS,mCACTrC,GAAG,QAAS,SAAAC,GAAC,OAAI7B,EAAKkE,aAAarC,KAEtCzC,KAAKqE,WAAW7B,GAAG,QAAS,SAAAC,GACrB7B,EAAKmE,+BACRtC,EAAEC,iBACF9B,EAAKkE,aAAarC,MAItBzC,KAAKoE,mBAAmB5B,GAAG,SAAU,kBAAM5B,EAAKoE,6DAIrBC,IAAkBC,6BAG3ClF,KAAKmF,iBACH,QACAnF,KAAK0E,QACL1E,KAAKwE,cAAcY,qBACnB,kBACAC,KAAK,KACPrF,KAAKsF,mEAKIC,GACX3F,IAAE2F,EAAM3C,eACLiC,SAAS,wBACTW,QAAQ,gDAIX,IAAMC,EAAsBC,KAAKC,MAAM3F,KAAKoE,mBAAmBwB,OAIzDC,GACJ5F,IAJc,GAAAO,OAAMiF,EAAoBxF,IAA1B,KAAAO,OAAiCR,KAAKoE,mBAAmBlE,KAAK,iBAK5E4F,KAJkBL,EAAoBK,MAOxC9F,KAAK+F,wBAAwBF,GAC7B7F,KAAKgG,yBAAyBH,wDAI9B,IAAMI,EAAoBjG,KAAK+E,6BAE/B/E,KAAK+F,wBAAwBE,mDAGPC,GAClBA,GACFlG,KAAKqE,WAAWnB,KAAK,OAAQgD,EAAQjG,KACrCD,KAAKqE,WAAW8B,KAAhB,GAAA3F,OAAwBR,KAAKwE,cAAc4B,kBAA3C,QAAA5F,OAAmE0F,EAAQJ,QAE3E9F,KAAKqE,WAAW8B,KAAhB,4BAAA3F,OAAiDR,KAAKwE,cAAc6B,wEAKtE,IAAMC,EAAgBC,aAAaC,QAAQxG,KAAKmF,iBAEhD,OAAOO,KAAKC,MAAMW,oDAGKT,GACvB,IAAMS,EAAgBZ,KAAKe,UAAUZ,GAErCU,aAAaG,QAAQ1G,KAAKmF,gBAAiBmB,gDAI3C,IAAMF,EAAoBpG,KAAKuE,cAY/B,OACEa,qBAVwB,OAAA5E,OAAUR,KAAKsE,aACtCnB,MAAM,KACNkC,KAAK,KACLsB,MAAM,GAAI,IAQXP,oBACAC,iBARuBrG,KAAKsE,aAC3BnB,MAAM,KACNkC,KAAK,KACLsB,MAAM,GAAI,yCCjGF,SAASC,IACtBhH,IAAE,wBAAwBiH,KAAK,SAASC,EAAG3C,GACzC,IAAI4C,EAqBenG,EApBboG,EAAepH,IAAEuE,GAAQjE,KAAK,kBAAmB,EAwFvD,OAvFAF,KAAK0E,QAAU9E,IAAEuE,GAAQjE,KAAK,WAC9BF,KAAKiH,cAAgBrH,IAAEuE,GAAQjE,KAAK,iBACpCF,KAAKkH,YAActH,IAAEuE,GAAQjE,KAAK,iBAAkB,EACpDF,KAAKmH,QAAUvH,IAAEuE,GAAQjE,KAAK,YAAc,KAC5CF,KAAKoH,kBAAoBxH,IAAEuE,GAAQjE,KAAK,qBACxCF,KAAKqH,yBAA2BzH,IAAEuE,GAAQjE,KAAK,4BAC/CF,KAAKsH,gBAC8B9H,IAAjCI,IAAEuE,GAAQjE,KAAK,eAAqCN,IAAEuE,GAAQjE,KAAK,cACrEF,KAAKuH,2BAA6B3H,IAAEuE,GAAQjE,KAAK,gCAAiC,EAClFF,KAAKwH,WAAa5H,IAAEuE,GAAQjE,KAAK,gBAAiB,EAElD6G,EAAc,qBACV/G,KAAKiH,gBACPF,GAAe,aAGjBnH,IAAEuE,GAAQqB,SACRuB,YAAaA,EACbU,mBAAoB,EACpBC,OAAiB9G,EAgDdZ,KA/CM,SAAS0H,GACd,IAAIC,EAAeC,EAqBnB,OApBAD,EAAgB,SAASE,GACvB,IAAI3H,EAIJ,OAHAA,GACE4H,QAASD,GAEJH,EAAM5H,SAASI,IAGtB0H,EADEhH,EAAMqG,cACW,SAASY,GAC1B,IAAIE,EAMJ,OALAA,EAAiB,SAASC,GACxB,IAAI9H,EAEJ,OADAA,EAAO8H,EAAOxH,OAAOqH,GACdF,EAAczH,IAEhB+H,IAAID,OAAON,EAAMQ,QAAUH,IAGjBJ,EAEjB/G,EAAM8D,QACDuD,IAAIE,cACTvH,EAAM8D,QACNgD,EAAMQ,MAEJE,oBAAqBxH,EAAMwG,kBAC3BiB,4BAA6BzH,EAAMyG,yBACnCiB,YAAa1H,EAAM0G,WACnBiB,kBAAmB3H,EAAM2G,4BAE3BK,GAGKK,IAAIJ,SACTH,EAAMQ,MAEJM,SAAU5H,EAAMuG,QAChBiB,oBAAqBxH,EAAMwG,kBAC3BiB,4BAA6BzH,EAAMyG,yBACnCoB,YAAa7H,EAAMsG,aAErBU,KAKRc,GAAI,SAASxC,GACX,OAAIc,EAAqBd,EAAQwC,GAC1BhD,KAAKe,WACVX,KAAMI,EAAQJ,KACd7F,IAAKiG,EAAQyC,WAGjBxC,KAAM,SAASD,GACb,OAAOA,EAAQ0C,qBAAuB1C,EAAQJ,MAGhD+C,cAAe,SAASC,EAAIhJ,GAC1B,OAAOmI,IAAI/B,QAAQ4C,EAAGlD,OAAO3E,KAAK,SAAAC,GAAA,IAAGhB,EAAHgB,EAAGhB,KAAH,OAAcJ,EAASI,MAG3DsH,WAAYxH,KAAKwH,WAEjBuB,iBAAkB,0BAEhB/B,EAAqB7C,EAClB,IAAID,EAAyBC,KAlGxC9F,EAAA2K,EAAAzK,EAAA,sBAAAqI,yTCUqBqC,aACnB,SAAAA,iGAAc5G,CAAArC,KAAAiJ,GACZ,IAAMC,EAAgBtJ,IAAE,6BAClBuJ,EAAqBvJ,IAAE,kBACvBwJ,EAAiBxJ,IAAE,iDACnByJ,EAAmB3K,SAAS4K,cAChC,iDAGIC,EAAsBH,EAAejD,OAAOqD,OAC9CD,EAAoBhK,OAAS,GAC/BK,IAAC,eAAAY,OAAgB+I,EAAhB,MAAyCL,GAAeO,SAAS,aAGpE7J,IAAE,IAAKsJ,GAAe1G,GAAG,QAAS,SAAAC,GAChCA,EAAEC,iBACF,IAAMgH,EAAQ9J,IAAE6C,EAAEG,eACZ3C,EAAMyJ,EAAMxG,KAAK,QACjByG,EAAYD,EAAMxJ,KAAK,aAE7BN,IAAE,aAAcsJ,GAAe9F,YAAY,aAC3CxD,IAAC,sBAAAY,OAAuBmJ,EAAvB,OAAsC9C,KAAK,WAC1C,IAAM+C,EAAMhK,IAAEI,MACR6J,EAAaD,EAAIE,KAAK,8BAA8B3D,OAEpD4D,EADaH,EAAIrG,QAAQ,yBACLuG,KAAK,4BAE/BF,EAAIpG,YAAY,aAChBuG,EAAO5D,KAAK0D,KAGVR,EACFA,EAAiBW,QAAQC,cAAgBhK,EAEzCkJ,EAAmBvD,IAAI3F,GAEzBL,IAAE,2BAA2BuG,KAAKlG,KAGpCgJ,EAAQiB,kBACRtK,IAAE,wBAAwB4C,GAAG,SAAU,WACrC,OAAO5C,IAAEI,MACNmK,QAAQ,QACRC,WAELxK,IAAE,wBAAwB4C,GAAG,QAAS,SAASC,GAK7C,OAJAY,IAAQC,IAAI,sBAAuB,SACnC1D,IAAEI,MACCmK,QAAQ,uBACRE,SACI5H,EAAEC,mBAEX9C,IAAE,6BAA6B4C,GAAG,QAAS,SAASC,GAKlD,OAJAY,IAAQC,IAAI,2BAA4B,SACxC1D,IAAEI,MACCmK,QAAQ,wBACRE,SACI5H,EAAEC,mBAEX9C,IAAE,+CAA+C4C,GAAG,QAAS,SAASC,GACpE,IAAM6H,EAAY1K,IAAEI,MAAME,KAAK,cACzBqK,EAAS,8CAAA/J,OAAiD8J,GAKhE,OAJAjH,IAAQC,IAAIiH,EAAW,SACvB3K,IAAEI,MACCmK,QAAQ,0CACRE,SACI5H,EAAEC,mBAEXuG,EAAQuB,8FAIR5D,cACAhH,IAAE,wBAAwB4C,GAAG,QAAS,SAAAC,GAAC,OAAIwG,EAAQwB,cAAc7K,IAAE6C,EAAEG,eAAegD,+CAGjE3F,GACnB,OAAQyB,OAAOgJ,SAAWzK,4CAI1B,IAAI0K,EAAcjM,SAASkM,cAAc,MACrCC,EAAUnM,SAASkM,cAAc,KAIrC,OAFAC,EAAQC,KAAO,IAERlL,IAAE,6BAA6BiH,KAAK,WACzC,IAAIkE,EAAWC,EAGf,OAFAD,EAAYnL,IAAEI,MACdgL,EAAWD,EAAU7K,KAAK,YACnB6K,EAAUE,YACf/K,KAD0B,SACrBgI,EAAMpI,GACTgB,IACGC,IAAIgK,EAAU7K,KAAK,YAClBc,QACEkK,IAAKH,EAAU7K,KAAK,OACpBiL,OAAQjD,KAGXjH,KAAK,SAAAC,GAAA,IAAGhB,EAAHgB,EAAGhB,KAAH,OAAcJ,EAASI,KAC5BsB,MAAM,kBAAM4J,YAAMC,YAAG,gDAE1BC,YAAY,EACZC,YAAY,EACZC,cAAc,EACdC,cAAc,EACdC,eAAgBX,EAAU7K,KAAK,kBAC/ByL,UAAWZ,EAAU7K,KAAK,aAC1B0L,UAAW,SAASV,GAClB,IAAIW,EAAKlB,EAAYmB,WAAU,GAE/B,GAAkB,MAAdZ,EAAIa,OACNF,EAAGG,UAAY,kBACfH,EAAGI,YAAcf,EAAIa,WAChB,CACL,IAAIG,EAAOrB,EAAQiB,WAAU,GAEzBZ,IAAQF,IACVkB,EAAKF,UAAY,aAGnBE,EAAKD,YAAcf,EACnBgB,EAAKlC,QAAQkB,IAAMA,EAEnBW,EAAGM,YAAYD,GAGjB,OAAOL,GAETnD,GAAI,SAAS0D,EAAKxC,GAChB,OAAOA,EAAI1G,KAAK,aAElBmJ,YAAa,SAASD,EAAKxC,GACzB,OAAOA,EAAIzD,OAAOqD,QAEpB8C,QAAS,SAASC,GAGhB,GAFcA,EAAN9J,EACNC,iBACE9C,IAAE,qBAAqBL,OAAQ,CACjC,IAAIiN,EAAQzB,EAAUxH,QAAQ,QAE1BkJ,EAAS1B,EAAU7K,KAAK,SACxBwM,IAAcD,GAAgBA,EAC9BE,EAASH,EAAMtJ,KAAK,UACpB0J,GAAmC,IAAzBD,EAAOE,QAAQ,KAAc,IAAM,IAC7CH,GACFI,YAAQ,GAAAtM,OAAImM,GAAJnM,OAAaoM,GAAbpM,OAAuBgM,EAAMO,kGC5JnD1O,EAAAC,EAAAC,GAAA,IAAAyO,EAAA3O,EAAA,IAAA4O,EAAA5O,EAAA,IAAA6O,EAAA7O,EAAA,IAAA8O,EAAA9O,EAAA,IAKAK,SAASC,iBAAiB,mBAAoB,WAAM,IAC1CyO,EAAS1O,SAAS2O,KAAKrD,QAAvBoD,KAOR,IALE,wBACA,+BACA,iCAGkBP,QAAQO,IAAS,EAAG,CACtC,IAAME,EAAU5O,SAAS4K,cAAc,qBACnCgE,GAAS,IAAIC,IAAsBD,GAEvCE,cAGF,IAAIvE,IACJ,IAAIpK","file":"pages.projects.activity.e4213f62.chunk.js","sourcesContent":["import Activities from '~/activities';\nimport ShortcutsNavigation from '~/behaviors/shortcuts/shortcuts_navigation';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  new Activities(); // eslint-disable-line no-new\n  new ShortcutsNavigation(); // eslint-disable-line no-new\n});\n","import $ from 'jquery';\nimport { getParameterByName } from '~/lib/utils/common_utils';\nimport axios from './lib/utils/axios_utils';\nimport { removeParams } from './lib/utils/url_utility';\n\nconst ENDLESS_SCROLL_BOTTOM_PX = 400;\nconst ENDLESS_SCROLL_FIRE_DELAY_MS = 1000;\n\nexport default {\n  init(\n    limit = 0,\n    preload = false,\n    disable = false,\n    prepareData = $.noop,\n    callback = $.noop,\n    container = '',\n  ) {\n    this.url = $('.content_list').data('href') || removeParams(['limit', 'offset']);\n    this.limit = limit;\n    this.offset = parseInt(getParameterByName('offset'), 10) || this.limit;\n    this.disable = disable;\n    this.prepareData = prepareData;\n    this.callback = callback;\n    this.loading = $(`${container} .loading`).first();\n    if (preload) {\n      this.offset = 0;\n      this.getOld();\n    }\n    this.initLoadMore();\n  },\n\n  getOld() {\n    this.loading.show();\n    axios\n      .get(this.url, {\n        params: {\n          limit: this.limit,\n          offset: this.offset,\n        },\n      })\n      .then(({ data }) => {\n        this.append(data.count, this.prepareData(data.html));\n        this.callback();\n\n        // keep loading until we've filled the viewport height\n        if (!this.disable && !this.isScrollable()) {\n          this.getOld();\n        } else {\n          this.loading.hide();\n        }\n      })\n      .catch(() => this.loading.hide());\n  },\n\n  append(count, html) {\n    $('.content_list').append(html);\n    if (count > 0) {\n      this.offset += count;\n    } else {\n      this.disable = true;\n    }\n  },\n\n  isScrollable() {\n    const $w = $(window);\n    return $(document).height() > $w.height() + $w.scrollTop() + ENDLESS_SCROLL_BOTTOM_PX;\n  },\n\n  initLoadMore() {\n    $(document).off('scroll');\n    $(document).endlessScroll({\n      bottomPixels: ENDLESS_SCROLL_BOTTOM_PX,\n      fireDelay: ENDLESS_SCROLL_FIRE_DELAY_MS,\n      fireOnce: true,\n      ceaseFire: () => this.disable === true,\n      callback: () => {\n        if (!this.loading.is(':visible')) {\n          this.loading.show();\n          this.getOld();\n        }\n      },\n    });\n  },\n};\n","/* eslint-disable class-methods-use-this */\n\nimport $ from 'jquery';\nimport Cookies from 'js-cookie';\nimport Pager from './pager';\nimport { localTimeAgo } from './lib/utils/datetime_utility';\n\nexport default class Activities {\n  constructor(container = '') {\n    this.container = container;\n\n    Pager.init(20, true, false, data => data, this.updateTooltips, this.container);\n\n    $('.event-filter-link').on('click', e => {\n      e.preventDefault();\n      this.toggleFilter(e.currentTarget);\n      this.reloadActivities();\n    });\n  }\n\n  updateTooltips() {\n    localTimeAgo($('.js-timeago', '.content_list'));\n  }\n\n  reloadActivities() {\n    $('.content_list').html('');\n    Pager.init(20, true, false, data => data, this.updateTooltips, this.container);\n  }\n\n  toggleFilter(sender) {\n    const $sender = $(sender);\n    const filter = $sender.attr('id').split('_')[0];\n\n    $('.event-filter .active').removeClass('active');\n    Cookies.set('event_filter', filter);\n\n    $sender.closest('li').toggleClass('active');\n  }\n}\n","import Mousetrap from 'mousetrap';\nimport findAndFollowLink from '../../lib/utils/navigation_utility';\nimport Shortcuts from './shortcuts';\n\nexport default class ShortcutsNavigation extends Shortcuts {\n  constructor() {\n    super();\n\n    Mousetrap.bind('g p', () => findAndFollowLink('.shortcuts-project'));\n    Mousetrap.bind('g v', () => findAndFollowLink('.shortcuts-project-activity'));\n    Mousetrap.bind('g r', () => findAndFollowLink('.shortcuts-project-releases'));\n    Mousetrap.bind('g f', () => findAndFollowLink('.shortcuts-tree'));\n    Mousetrap.bind('g c', () => findAndFollowLink('.shortcuts-commits'));\n    Mousetrap.bind('g j', () => findAndFollowLink('.shortcuts-builds'));\n    Mousetrap.bind('g n', () => findAndFollowLink('.shortcuts-network'));\n    Mousetrap.bind('g d', () => findAndFollowLink('.shortcuts-repository-charts'));\n    Mousetrap.bind('g i', () => findAndFollowLink('.shortcuts-issues'));\n    Mousetrap.bind('g b', () => findAndFollowLink('.shortcuts-issue-boards'));\n    Mousetrap.bind('g m', () => findAndFollowLink('.shortcuts-merge_requests'));\n    Mousetrap.bind('g w', () => findAndFollowLink('.shortcuts-wiki'));\n    Mousetrap.bind('g s', () => findAndFollowLink('.shortcuts-snippets'));\n    Mousetrap.bind('g k', () => findAndFollowLink('.shortcuts-kubernetes'));\n    Mousetrap.bind('g e', () => findAndFollowLink('.shortcuts-environments'));\n    Mousetrap.bind('g l', () => findAndFollowLink('.shortcuts-metrics'));\n    Mousetrap.bind('i', () => findAndFollowLink('.shortcuts-new-issue'));\n\n    this.enabledHelp.push('.hidden-shortcut.project');\n  }\n}\n","import $ from 'jquery';\nimport AccessorUtilities from './lib/utils/accessor';\n\nexport default class ProjectSelectComboButton {\n  constructor(select) {\n    this.projectSelectInput = $(select);\n    this.newItemBtn = $('.new-project-item-link');\n    this.resourceType = this.newItemBtn.data('type');\n    this.resourceLabel = this.newItemBtn.data('label');\n    this.formattedText = this.deriveTextVariants();\n    this.groupId = this.projectSelectInput.data('groupId');\n    this.bindEvents();\n    this.initLocalStorage();\n  }\n\n  bindEvents() {\n    this.projectSelectInput\n      .siblings('.new-project-item-select-button')\n      .on('click', e => this.openDropdown(e));\n\n    this.newItemBtn.on('click', e => {\n      if (!this.getProjectFromLocalStorage()) {\n        e.preventDefault();\n        this.openDropdown(e);\n      }\n    });\n\n    this.projectSelectInput.on('change', () => this.selectProject());\n  }\n\n  initLocalStorage() {\n    const localStorageIsSafe = AccessorUtilities.isLocalStorageAccessSafe();\n\n    if (localStorageIsSafe) {\n      this.localStorageKey = [\n        'group',\n        this.groupId,\n        this.formattedText.localStorageItemType,\n        'recent-project',\n      ].join('-');\n      this.setBtnTextFromLocalStorage();\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  openDropdown(event) {\n    $(event.currentTarget)\n      .siblings('.project-item-select')\n      .select2('open');\n  }\n\n  selectProject() {\n    const selectedProjectData = JSON.parse(this.projectSelectInput.val());\n    const projectUrl = `${selectedProjectData.url}/${this.projectSelectInput.data('relativePath')}`;\n    const projectName = selectedProjectData.name;\n\n    const projectMeta = {\n      url: projectUrl,\n      name: projectName,\n    };\n\n    this.setNewItemBtnAttributes(projectMeta);\n    this.setProjectInLocalStorage(projectMeta);\n  }\n\n  setBtnTextFromLocalStorage() {\n    const cachedProjectData = this.getProjectFromLocalStorage();\n\n    this.setNewItemBtnAttributes(cachedProjectData);\n  }\n\n  setNewItemBtnAttributes(project) {\n    if (project) {\n      this.newItemBtn.attr('href', project.url);\n      this.newItemBtn.text(`${this.formattedText.defaultTextPrefix} in ${project.name}`);\n    } else {\n      this.newItemBtn.text(`Select project to create ${this.formattedText.presetTextSuffix}`);\n    }\n  }\n\n  getProjectFromLocalStorage() {\n    const projectString = localStorage.getItem(this.localStorageKey);\n\n    return JSON.parse(projectString);\n  }\n\n  setProjectInLocalStorage(projectMeta) {\n    const projectString = JSON.stringify(projectMeta);\n\n    localStorage.setItem(this.localStorageKey, projectString);\n  }\n\n  deriveTextVariants() {\n    const defaultTextPrefix = this.resourceLabel;\n\n    // the trailing slice call depluralizes each of these strings (e.g. new-issues -> new-issue)\n    const localStorageItemType = `new-${this.resourceType\n      .split('_')\n      .join('-')\n      .slice(0, -1)}`;\n    const presetTextSuffix = this.resourceType\n      .split('_')\n      .join(' ')\n      .slice(0, -1);\n\n    return {\n      localStorageItemType, // new-issue / new-merge-request\n      defaultTextPrefix, // New issue / New merge request\n      presetTextSuffix, // issue / merge request\n    };\n  }\n}\n","/* eslint-disable func-names, no-var, object-shorthand, one-var, no-else-return */\n\nimport $ from 'jquery';\nimport Api from './api';\nimport ProjectSelectComboButton from './project_select_combo_button';\n\nexport default function projectSelect() {\n  $('.ajax-project-select').each(function(i, select) {\n    var placeholder;\n    const simpleFilter = $(select).data('simpleFilter') || false;\n    this.groupId = $(select).data('groupId');\n    this.includeGroups = $(select).data('includeGroups');\n    this.allProjects = $(select).data('allProjects') || false;\n    this.orderBy = $(select).data('orderBy') || 'id';\n    this.withIssuesEnabled = $(select).data('withIssuesEnabled');\n    this.withMergeRequestsEnabled = $(select).data('withMergeRequestsEnabled');\n    this.withShared =\n      $(select).data('withShared') === undefined ? true : $(select).data('withShared');\n    this.includeProjectsInSubgroups = $(select).data('includeProjectsInSubgroups') || false;\n    this.allowClear = $(select).data('allowClear') || false;\n\n    placeholder = 'Search for project';\n    if (this.includeGroups) {\n      placeholder += ' or group';\n    }\n\n    $(select).select2({\n      placeholder: placeholder,\n      minimumInputLength: 0,\n      query: (function(_this) {\n        return function(query) {\n          var finalCallback, projectsCallback;\n          finalCallback = function(projects) {\n            var data;\n            data = {\n              results: projects,\n            };\n            return query.callback(data);\n          };\n          if (_this.includeGroups) {\n            projectsCallback = function(projects) {\n              var groupsCallback;\n              groupsCallback = function(groups) {\n                var data;\n                data = groups.concat(projects);\n                return finalCallback(data);\n              };\n              return Api.groups(query.term, {}, groupsCallback);\n            };\n          } else {\n            projectsCallback = finalCallback;\n          }\n          if (_this.groupId) {\n            return Api.groupProjects(\n              _this.groupId,\n              query.term,\n              {\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                with_shared: _this.withShared,\n                include_subgroups: _this.includeProjectsInSubgroups,\n              },\n              projectsCallback,\n            );\n          } else {\n            return Api.projects(\n              query.term,\n              {\n                order_by: _this.orderBy,\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                membership: !_this.allProjects,\n              },\n              projectsCallback,\n            );\n          }\n        };\n      })(this),\n      id: function(project) {\n        if (simpleFilter) return project.id;\n        return JSON.stringify({\n          name: project.name,\n          url: project.web_url,\n        });\n      },\n      text: function(project) {\n        return project.name_with_namespace || project.name;\n      },\n\n      initSelection: function(el, callback) {\n        return Api.project(el.val()).then(({ data }) => callback(data));\n      },\n\n      allowClear: this.allowClear,\n\n      dropdownCssClass: 'ajax-project-dropdown',\n    });\n    if (simpleFilter) return select;\n    return new ProjectSelectComboButton(select);\n  });\n}\n","/* eslint-disable func-names, no-var, no-return-assign, one-var, object-shorthand, vars-on-top */\n\nimport $ from 'jquery';\nimport Cookies from 'js-cookie';\nimport { __ } from '~/locale';\nimport { visitUrl } from '~/lib/utils/url_utility';\nimport axios from '~/lib/utils/axios_utils';\nimport flash from '~/flash';\nimport projectSelect from '../../project_select';\n\nexport default class Project {\n  constructor() {\n    const $cloneOptions = $('ul.clone-options-dropdown');\n    const $projectCloneField = $('#project_clone');\n    const $cloneBtnLabel = $('.js-git-clone-holder .js-clone-dropdown-label');\n    const mobileCloneField = document.querySelector(\n      '.js-mobile-git-clone .js-clone-dropdown-label',\n    );\n\n    const selectedCloneOption = $cloneBtnLabel.text().trim();\n    if (selectedCloneOption.length > 0) {\n      $(`a:contains('${selectedCloneOption}')`, $cloneOptions).addClass('is-active');\n    }\n\n    $('a', $cloneOptions).on('click', e => {\n      e.preventDefault();\n      const $this = $(e.currentTarget);\n      const url = $this.attr('href');\n      const cloneType = $this.data('cloneType');\n\n      $('.is-active', $cloneOptions).removeClass('is-active');\n      $(`a[data-clone-type=\"${cloneType}\"]`).each(function() {\n        const $el = $(this);\n        const activeText = $el.find('.dropdown-menu-inner-title').text();\n        const $container = $el.closest('.project-clone-holder');\n        const $label = $container.find('.js-clone-dropdown-label');\n\n        $el.toggleClass('is-active');\n        $label.text(activeText);\n      });\n\n      if (mobileCloneField) {\n        mobileCloneField.dataset.clipboardText = url;\n      } else {\n        $projectCloneField.val(url);\n      }\n      $('.js-git-empty .js-clone').text(url);\n    });\n    // Ref switcher\n    Project.initRefSwitcher();\n    $('.project-refs-select').on('change', function() {\n      return $(this)\n        .parents('form')\n        .submit();\n    });\n    $('.hide-no-ssh-message').on('click', function(e) {\n      Cookies.set('hide_no_ssh_message', 'false');\n      $(this)\n        .parents('.no-ssh-key-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-no-password-message').on('click', function(e) {\n      Cookies.set('hide_no_password_message', 'false');\n      $(this)\n        .parents('.no-password-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-auto-devops-implicitly-enabled-banner').on('click', function(e) {\n      const projectId = $(this).data('project-id');\n      const cookieKey = `hide_auto_devops_implicitly_enabled_banner_${projectId}`;\n      Cookies.set(cookieKey, 'false');\n      $(this)\n        .parents('.auto-devops-implicitly-enabled-banner')\n        .remove();\n      return e.preventDefault();\n    });\n    Project.projectSelectDropdown();\n  }\n\n  static projectSelectDropdown() {\n    projectSelect();\n    $('.project-item-select').on('click', e => Project.changeProject($(e.currentTarget).val()));\n  }\n\n  static changeProject(url) {\n    return (window.location = url);\n  }\n\n  static initRefSwitcher() {\n    var refListItem = document.createElement('li');\n    var refLink = document.createElement('a');\n\n    refLink.href = '#';\n\n    return $('.js-project-refs-dropdown').each(function() {\n      var $dropdown, selected;\n      $dropdown = $(this);\n      selected = $dropdown.data('selected');\n      return $dropdown.glDropdown({\n        data(term, callback) {\n          axios\n            .get($dropdown.data('refsUrl'), {\n              params: {\n                ref: $dropdown.data('ref'),\n                search: term,\n              },\n            })\n            .then(({ data }) => callback(data))\n            .catch(() => flash(__('An error occurred while getting projects')));\n        },\n        selectable: true,\n        filterable: true,\n        filterRemote: true,\n        filterByText: true,\n        inputFieldName: $dropdown.data('inputFieldName'),\n        fieldName: $dropdown.data('fieldName'),\n        renderRow: function(ref) {\n          var li = refListItem.cloneNode(false);\n\n          if (ref.header != null) {\n            li.className = 'dropdown-header';\n            li.textContent = ref.header;\n          } else {\n            var link = refLink.cloneNode(false);\n\n            if (ref === selected) {\n              link.className = 'is-active';\n            }\n\n            link.textContent = ref;\n            link.dataset.ref = ref;\n\n            li.appendChild(link);\n          }\n\n          return li;\n        },\n        id: function(obj, $el) {\n          return $el.attr('data-ref');\n        },\n        toggleLabel: function(obj, $el) {\n          return $el.text().trim();\n        },\n        clicked: function(options) {\n          const { e } = options;\n          e.preventDefault();\n          if ($('input[name=\"ref\"]').length) {\n            var $form = $dropdown.closest('form');\n\n            var $visit = $dropdown.data('visit');\n            var shouldVisit = $visit ? true : $visit;\n            var action = $form.attr('action');\n            var divider = action.indexOf('?') === -1 ? '?' : '&';\n            if (shouldVisit) {\n              visitUrl(`${action}${divider}${$form.serialize()}`);\n            }\n          }\n        },\n      });\n    });\n  }\n}\n","import initGkeDropdowns from '~/projects/gke_cluster_dropdowns';\nimport PersistentUserCallout from '../../persistent_user_callout';\nimport Project from './project';\nimport ShortcutsNavigation from '../../behaviors/shortcuts/shortcuts_navigation';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const { page } = document.body.dataset;\n  const newClusterViews = [\n    'projects:clusters:new',\n    'projects:clusters:create_gcp',\n    'projects:clusters:create_user',\n  ];\n\n  if (newClusterViews.indexOf(page) > -1) {\n    const callout = document.querySelector('.gcp-signup-offer');\n    if (callout) new PersistentUserCallout(callout); // eslint-disable-line no-new\n\n    initGkeDropdowns();\n  }\n\n  new Project(); // eslint-disable-line no-new\n  new ShortcutsNavigation(); // eslint-disable-line no-new\n});\n"],"sourceRoot":""}