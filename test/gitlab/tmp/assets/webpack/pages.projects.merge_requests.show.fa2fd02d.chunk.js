(this.webpackJsonp=this.webpackJsonp||[]).push([[140,4,7,10,22],{105:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(5),o=i.n(a),r=i(6),l=i(1),c=i(48);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.users=this.users.bind(this),this.user=this.user.bind(this),this.usersPath="/autocomplete/users.json",this.userPath="/autocomplete/users/:id.json",null!=e&&("object"===u(e)?this.currentUser=e:this.currentUser=JSON.parse(e));var a,d=n.handleClick;i=s()(t),t||(i=s()(".js-user-search")),i.each((a=this,function(e,t){var i,n,u,f,h,p,m,g,v,b,_,y,w,C,k,j,S,O,x,D={};u=s()(t),D.projectId=u.data("projectId"),D.groupId=u.data("groupId"),D.showCurrentUser=u.data("currentUser"),D.todoFilter=u.data("todoFilter"),D.todoStateFilter=u.data("todoStateFilter"),O=u.data("nullUser"),y=u.data("nullUserDefault"),x=u.data("showMenuAbove"),S=u.data("anyUser"),w=u.data("firstUser"),D.authorId=u.data("authorId"),_=u.data("defaultLabel"),C=u.data("issueUpdate"),h=u.closest(".selectbox"),i=h.closest(".block"),m=u.data("abilityName"),p=i.find(".value"),n=i.find(".sidebar-collapsed-user"),f=i.find(".block-loading").fadeOut(),j=y&&O?0:null,void 0===(k=u.data("selected"))&&(k=j);var T=function(){var e=u.closest(".selectbox").find("input[name='".concat(u.data("fieldName"),"'][value=0]"));e&&e.remove();var t=document.createElement("input");t.type="hidden",t.name=u.data("fieldName");var i=u.data("currentUserInfo");i?(t.value=i.id,t.dataset.meta=o.a.escape(i.name)):a.currentUser&&(t.value=a.currentUser.id),h?u.parent().before(t):u.after(t)};i[0]&&i[0].addEventListener("assignYourself",T);var E=function(){return h.find('input[name="'.concat(u.data("fieldName"),'"]'))},P=function(){return E().map(function(e,t){return parseInt(t.value,10)}).get()},I=function(){var e=u.data("maxSelect");if(e){var t=P();if(t.length>e){var i=t[0];u.closest(".selectbox").find("input[name='".concat(u.data("fieldName"),"'][value=").concat(i,"]")).remove(),emitSidebarEvent("sidebar.removeAssignee",{id:i})}}},N=function(e,t){var i=P().filter(function(e){return 0!==e}),n=E().map(function(e,t){return{name:t.dataset.meta,value:parseInt(t.value,10)}}).filter(function(e){return 0!==e.id}).get(0);if(0===i.length)return"Unassigned";if(1===i.length)return n.name;if(t){var s=i.filter(function(t){return t!==e.id});return"".concat(e.name," + ").concat(s.length," more")}return"".concat(n.name," + ").concat(i.length-1," more")};return s()(".assign-to-me-link").on("click",function(e){if(e.preventDefault(),s()(e.currentTarget).hide(),u.data("multiSelect")){T(),I();var t=u.data("currentUserInfo");u.find(".dropdown-toggle-text").text(N(t)).removeClass("is-default")}else{var i=s()('input[name="'.concat(u.data("fieldName"),'"]'));i.val(gon.current_user_id),k=i.val(),u.find(".dropdown-toggle-text").text(gon.current_user_fullname).removeClass("is-default")}}),i.on("click",".js-assign-yourself",function(e){return e.preventDefault(),g(a.currentUser.id)}),g=function(e){var t;return(t={})[m]={},t[m].assignee_id=null!=e?e:null,f.removeClass("hidden").fadeIn(),u.trigger("loading.gl.dropdown"),r.a.put(C,t).then(function(e){var t,i,s=e.data;return u.trigger("loaded.gl.dropdown"),f.fadeOut(),s.assignee?(t={name:s.assignee.name,username:s.assignee.username,avatar:s.assignee.avatar_url},i=o.a.escape(t.name)):(t={name:"Unassigned",username:"",avatar:""},i=Object(l.a)("Assignee")),p.html(v(t)),n.attr("title",i).tooltip("_fixTitle"),n.html(b(t))})},b=o.a.template('<% if( avatar ) { %> <a class="author-link" href="/<%- username %>"> <img width="24" class="avatar avatar-inline s24" alt="" src="<%- avatar %>"> </a> <% } else { %> <i class="fa fa-user"></i> <% } %>'),v=o.a.template('<% if (username) { %> <a class="author-link bold" href="/<%- username %>"> <% if( avatar ) { %> <img width="32" class="avatar avatar-inline s32" alt="" src="<%- avatar %>"> <% } %> <span class="author"><%- name %></span> <span class="username"> @<%- username %> </span> </a> <% } else { %> <span class="no-value assign-yourself"> No assignee - <a href="#" class="js-assign-yourself"> assign yourself </a> </span> <% } %>'),u.glDropdown({showMenuAbove:x,data:function(e,t){return a.users(e,D,function(i){(this.instance||this.options.instance).options.processData(e,i,t)}.bind(this))},processData:function(e,t,i){var n,s,a,r,l,c,d=t;if(u.hasClass("js-multiselect")&&0===e.length){var f=E(),h=o.a.uniq(f,!1,function(e){return e.value}).filter(function(e){var t=parseInt(e.value,10);return!d.find(function(e){return e.id===t})&&0!==t}).map(function(e){var t=parseInt(e.value,10),i=e.dataset,n=i.avatarUrl,s=i.avatar_url,a=i.name,o=i.username;return{avatar_url:n||s,id:t,name:a,username:o}});d=t.concat(h)}if(0===e.length){if(c=0,w)for(s=0,a=d.length;s<a;s+=1)if((l=d[s]).username===w){d.splice(s,1),d.unshift(l);break}if(O&&(c+=1,d.unshift({beforeDivider:!0,name:"Unassigned",id:0})),S&&(c+=1,!0===(r=S)&&(r="Any User"),n={beforeDivider:!0,name:r,id:null},d.unshift(n)),c&&d.splice(c,0,"divider"),u.hasClass("js-multiselect")){var p=P().filter(function(e){return 0!==e});if(p.length>0){u.data("dropdownHeader")&&(c+=1,d.splice(c,0,{header:u.data("dropdownHeader")}));var m=d.filter(function(e){return-1!==p.indexOf(e.id)}).sort(function(e,t){return e.name>t.name});d=d.filter(function(e){return-1===p.indexOf(e.id)}),m.forEach(function(e){c+=1,d.splice(c,0,e)}),d.splice(c+1,0,"divider")}}}i(d),x&&u.data("glDropdown").positionMenuAbove()},filterable:!0,filterRemote:!0,search:{fields:["name","username"]},selectable:!0,fieldName:u.data("fieldName"),toggleLabel:function(e,t,i){var n=i.filterInput.val();if(this.multiSelect&&""===n){var a=i.filteredFullData(),o=i.parseData.bind(i);this.processData(n,a,o)}return this.multiSelect?N(e,s()(t).hasClass("is-active")):e&&"id"in e&&s()(t).hasClass("is-active")?(u.find(".dropdown-toggle-text").removeClass("is-default"),e.text?e.text:e.name):(u.find(".dropdown-toggle-text").addClass("is-default"),_)},defaultLabel:_,hidden:function(e){u.hasClass("js-multiselect")&&emitSidebarEvent("sidebar.saveAssignees"),u.data("alwaysShowSelectbox")||(h.hide(),i=h.closest(".block"),(p=i.find(".value")).css("display",""))},multiSelect:u.hasClass("js-multiselect"),inputMeta:u.data("inputMeta"),clicked:function(e){var t,i,n,a,o=e.$el,r=e.e,l=e.isMarking,f=e.selectedObj;if(u.hasClass("js-multiselect")){var h=o.hasClass("is-active"),p=u.closest(".selectbox").find("input[name='"+u.data("fieldName")+"'][value!=0]");if(I(),f.beforeDivider&&"unassigned"===f.name.toLowerCase())p.each(function(e,t){parseInt(t.value,10),t.remove()}),emitSidebarEvent("sidebar.removeAllAssignees");else if(h){emitSidebarEvent("sidebar.addAssignee",f);var m=u.closest(".selectbox").find("input[name='"+u.data("fieldName")+"'][value=0]");m&&m.remove()}else 0===p.length&&this.addInput(u.data("fieldName"),0,{}),emitSidebarEvent("sidebar.removeAssignee",f);P().find(function(e){return e===gon.current_user_id})?s()(".assign-to-me-link").hide():s()(".assign-to-me-link").show()}if(t="projects:issues:index"===(n=s()("body").attr("data-page")),i=n==n&&"projects:merge_requests:index"===n,u.hasClass("js-filter-bulk-update")||u.hasClass("js-issuable-form-dropdown")){r.preventDefault();var v=f.id!==k;(k=v?f.id:j)===gon.current_user_id?s()(".assign-to-me-link").hide():s()(".assign-to-me-link").show()}else{if(o.closest(".add-issues-modal").length)c.a.store.filter[u.data("fieldName")]=f.id;else if(d)r.preventDefault(),d(f,l);else{if(u.hasClass("js-filter-submit")&&(t||i))return Issuable.filterResults(u.closest("form"));if(u.hasClass("js-filter-submit"))return u.closest("form").submit();if(!u.hasClass("js-multiselect"))return a=u.closest(".selectbox").find("input[name='"+u.data("fieldName")+"']").val(),g(a)}u.data("maxSelect")&&P().length===u.data("maxSelect")&&u.dropdown("toggle")}},id:function(e){return e.id},opened:function(e){var t=s()(e.currentTarget),i=P();function n(e){t.find('li[data-user-id="'.concat(e,'"] .dropdown-menu-user-link')).addClass("is-active")}u.hasClass("js-issue-board-sidebar")&&0===i.length&&this.addInput(u.data("fieldName"),0,{}),t.find(".is-active").removeClass("is-active"),i.length>0?P().forEach(function(e){return n(e)}):u.hasClass("js-issue-board-sidebar")?n(0):n(k)},updateLabel:u.data("dropdownTitle"),renderRow:function(e){var t,i,n;n=e.username?"@"+e.username:"",t=e.avatar_url?e.avatar_url:gon.default_avatar_url;var s=!1;if(this.multiSelect){s=P().find(function(t){return e.id===t});var a=this.fieldName;u.closest(".selectbox").find("input[name='"+a+"'][value='"+e.id+"']").length&&(s=!0)}else s=e.id===k;return i="",null!=e.beforeDivider?"<li><a href='#' class='".concat(!0===s?"is-active":"","'>").concat(o.a.escape(e.name),"</a></li>"):i="<img src='"+t+"' class='avatar avatar-inline' width='32' />","\n            <li data-user-id=".concat(e.id,">\n              <a href='#' class='dropdown-menu-user-link ").concat(!0===s?"is-active":"","'>\n                ").concat(i,"\n                <strong class='dropdown-menu-user-full-name'>\n                  ").concat(o.a.escape(e.name),"\n                </strong>\n                ").concat(n?"<span class='dropdown-menu-user-username'>".concat(n,"</span>"):"","\n              </a>\n            </li>\n          ")}})})),s()(".ajax-users-select").each(function(e){return function(t,i){var n,a,o,r,l={};return l.skipLdap=s()(i).hasClass("skip_ldap"),l.projectId=s()(i).data("projectId"),l.groupId=s()(i).data("groupId"),l.showCurrentUser=s()(i).data("currentUser"),l.authorId=s()(i).data("authorId"),l.skipUsers=s()(i).data("skipUsers"),r=s()(i).data("nullUser"),a=s()(i).data("anyUser"),o=s()(i).data("emailUser"),n=s()(i).data("firstUser"),s()(i).select2({placeholder:"Search for a user",multiple:s()(i).hasClass("multiselect"),minimumInputLength:0,query:function(t){return e.users(t.term,l,function(e){var i,s,l,c,u,d,f,h,p;if(s={results:e},0===t.term.length){if(n)for(c=0,u=(p=s.results).length;c<u;c+=1)if((h=p[c]).username===n){s.results.splice(c,1),s.results.unshift(h);break}r&&(f={name:"Unassigned",id:0},s.results.unshift(f)),a&&(!0===(d=a)&&(d="Any User"),i={name:d,id:null},s.results.unshift(i))}if(o&&0===s.results.length&&t.term.match(/^[^@]+@[^@]+$/)){var m=t.term.trim();l={name:'Invite "'+m+'" by email',username:m,id:m,invite:!0},s.results.unshift(l)}return t.callback(s)})},initSelection:function(){var t;return t=1<=arguments.length?[].slice.call(arguments,0):[],e.initSelection.apply(e,t)},formatResult:function(){var t;return t=1<=arguments.length?[].slice.call(arguments,0):[],e.formatResult.apply(e,t)},formatSelection:function(){var t;return t=1<=arguments.length?[].slice.call(arguments,0):[],e.formatSelection.apply(e,t)},dropdownCssClass:"ajax-users-dropdown",escapeMarkup:function(e){return e}})}}(this))}window.emitSidebarEvent=window.emitSidebarEvent||s.a.noop,d.prototype.initSelection=function(e,t){var i;return"0"===(i=s()(e).val())?t({name:"Unassigned"}):""!==i?this.user(i,t):void 0},d.prototype.formatResult=function(e){var t;return t=e.avatar_url?e.avatar_url:gon.default_avatar_url,"\n    <div class='user-result'>\n      <div class='user-image'>\n        <img class='avatar avatar-inline s32' src='".concat(t,"'>\n      </div>\n      <div class='user-info'>\n        <div class='user-name dropdown-menu-user-full-name'>\n          ").concat(o.a.escape(e.name),"\n        </div>\n        <div class='user-username dropdown-menu-user-username text-secondary'>\n          ").concat(e.invite?"":"@"+o.a.escape(e.username),"\n        </div>\n      </div>\n    </div>\n  ")},d.prototype.formatSelection=function(e){return o.a.escape(e.name)},d.prototype.user=function(e,t){return!!/^\d+$/.test(e)&&(i=(i=this.buildUrl(this.userPath)).replace(":id",e),r.a.get(i).then(function(e){var i=e.data;t(i)}));var i},d.prototype.users=function(e,t,i){var n=this.buildUrl(this.usersPath),s={search:e,active:!0,project_id:t.projectId||null,group_id:t.groupId||null,skip_ldap:t.skipLdap||null,todo_filter:t.todoFilter||null,todo_state_filter:t.todoStateFilter||null,current_user:t.showCurrentUser||null,author_id:t.authorId||null,skip_users:t.skipUsers||null};return r.a.get(n,{params:s}).then(function(e){var t=e.data;i(t)})},d.prototype.buildUrl=function(e){return null!=gon.relative_url_root&&(e=gon.relative_url_root.replace(/\/$/,"")+e),e},t.a=d},106:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=["danger","primary","success","warning"],o=["sm","md","lg","xl"],r={name:"GlModal",props:{id:{type:String,required:!1,default:null},modalSize:{type:String,required:!1,default:"md",validator:function(e){return o.includes(e)}},headerTitleText:{type:String,required:!1,default:""},footerPrimaryButtonVariant:{type:String,required:!1,default:"primary",validator:function(e){return a.includes(e)}},footerPrimaryButtonText:{type:String,required:!1,default:""}},computed:{modalSizeClass:function(){return"md"===this.modalSize?"":"modal-".concat(this.modalSize)}},mounted:function(){s()(this.$el).on("shown.bs.modal",this.opened).on("hidden.bs.modal",this.closed)},beforeDestroy:function(){s()(this.$el).off("shown.bs.modal",this.opened).off("hidden.bs.modal",this.closed)},methods:{emitCancel:function(e){this.$emit("cancel",e)},emitSubmit:function(e){this.$emit("submit",e)},opened:function(){this.$emit("open")},closed:function(){this.$emit("closed")}}},l=i(3),c=Object(l.a)(r,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal fade",attrs:{id:e.id,tabindex:"-1",role:"dialog"}},[i("div",{staticClass:"modal-dialog",class:e.modalSizeClass,attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[e._t("header",[i("h4",{staticClass:"modal-title"},[e._t("title",[e._v(" "+e._s(e.headerTitleText)+" ")])],2),e._v(" "),i("button",{staticClass:"close js-modal-close-action",attrs:{"aria-label":e.s__("Modal|Close"),type:"button","data-dismiss":"modal"},on:{click:function(t){e.emitCancel(t)}}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])],2),e._v(" "),i("div",{staticClass:"modal-body"},[e._t("default")],2),e._v(" "),i("div",{staticClass:"modal-footer"},[e._t("footer",[i("button",{staticClass:"btn js-modal-cancel-action qa-modal-cancel-button",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){e.emitCancel(t)}}},[e._v("\n            "+e._s(e.s__("Modal|Cancel"))+"\n          ")]),e._v(" "),i("button",{staticClass:"btn js-modal-primary-action qa-modal-primary-button",class:"btn-"+e.footerPrimaryButtonVariant,attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){e.emitSubmit(t)}}},[e._v("\n            "+e._s(e.footerPrimaryButtonText)+"\n          ")])])],2)])])])},[],!1,null,null,null);c.options.__file="gl_modal.vue";t.a=c.exports},107:function(e,t,i){"use strict";var n=i(11);t.a=new n.default},108:function(e,t,i){"use strict";var n={components:{GlLoadingIcon:i(10).e},props:{loading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1},containerClass:{type:[String,Array,Object],required:!1,default:"btn btn-align-content"}},methods:{onClick:function(e){this.$emit("click",e)}}},s=i(3),a=Object(s.a)(n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{class:e.containerClass,attrs:{disabled:e.loading||e.disabled,type:"button"},on:{click:e.onClick}},[i("transition",{attrs:{name:"fade"}},[e.loading?i("gl-loading-icon",{staticClass:"js-loading-button-icon",class:{"append-right-5":e.label},attrs:{inline:!0}}):e._e()],1),e._v(" "),i("transition",{attrs:{name:"fade"}},[e._t("default",[e.label?i("span",{staticClass:"js-loading-button-label"},[e._v(" "+e._s(e.label)+" ")]):e._e()])],2)],1)},[],!1,null,null,null);a.options.__file="loading_button.vue";t.a=a.exports},109:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(31);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(t,i){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.field=t,this.isLocalStorageAvailable=n.a.isLocalStorageAccessSafe(),null!=i.join&&(i=i.join("/")),this.key="autosave/"+i,this.field.data("autosave",this),this.restore(),this.field.on("input",function(){return s.save()})}var t,i,a;return t=e,(i=[{key:"restore",value:function(){if(this.isLocalStorageAvailable&&this.field.length){var e=window.localStorage.getItem(this.key);(null!=e?e.length:void 0)>0&&this.field.val(e),this.field.trigger("input");var t=new Event("change",{bubbles:!0,cancelable:!1}),i=this.field.get(0);i&&i.dispatchEvent(t)}}},{key:"save",value:function(){if(this.field.length){var e=this.field.val();return this.isLocalStorageAvailable&&(null!=e?e.length:void 0)>0?window.localStorage.setItem(this.key,e):this.reset()}}},{key:"reset",value:function(){if(this.isLocalStorageAvailable)return window.localStorage.removeItem(this.key)}},{key:"dispose",value:function(){this.field.off("input")}}])&&s(t.prototype,i),a&&s(t,a),e}()},111:function(e,t){Mousetrap=function(e){var t=e,i=t.stopCallback,n=!0;return t.stopCallback=function(e,t,s){return!n||i(e,t,s)},t.pause=function(){n=!1},t.unpause=function(){n=!0},t}(Mousetrap)},115:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(0),s=i.n(n),a=i(12),o=i(51);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=t,this.namespacePath=i,this.projectPath=n,this.$dropdownBack=s()(".dropdown-menu-back",this.$el.closest(".dropdown")),this.$cancelButton=s()(".js-cancel-label-btn",this.$el),this.$newLabelField=s()("#new_label_name",this.$el),this.$newColorField=s()("#new_label_color",this.$el),this.$colorPreview=s()(".js-dropdown-label-color-preview",this.$el),this.$newLabelError=s()(".js-label-error",this.$el),this.$newLabelCreateButton=s()(".js-new-label-btn",this.$el),this.$colorSuggestions=s()(".suggest-colors-dropdown a",this.$el),this.$newLabelError.hide(),this.$newLabelCreateButton.disable(),this.cleanBinding(),this.addBinding()}var t,i,n;return t=e,(i=[{key:"cleanBinding",value:function(){this.$colorSuggestions.off("click"),this.$newLabelField.off("keyup change"),this.$newColorField.off("keyup change"),this.$dropdownBack.off("click"),this.$cancelButton.off("click"),this.$newLabelCreateButton.off("click")}},{key:"addBinding",value:function(){var e=this;this.$colorSuggestions.on("click",function(t){var i=s()(this);e.addColorValue(t,i)}),this.$newLabelField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$newColorField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$dropdownBack.on("click",this.resetForm.bind(this)),this.$cancelButton.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.resetForm(),e.$dropdownBack.trigger("click")}),this.$newLabelCreateButton.on("click",this.saveLabel.bind(this))}},{key:"addColorValue",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.$newColorField.val(t.data("color")).trigger("change"),this.$colorPreview.css("background-color",t.data("color")).parent().addClass("is-active")}},{key:"enableLabelCreateButton",value:function(){""!==this.$newLabelField.val()&&""!==this.$newColorField.val()?(this.$newLabelError.hide(),this.$newLabelCreateButton.enable()):this.$newLabelCreateButton.disable()}},{key:"resetForm",value:function(){this.$newLabelField.val("").trigger("change"),this.$newColorField.val("").trigger("change"),this.$colorPreview.css("background-color","").parent().removeClass("is-active")}},{key:"saveLabel",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),a.a.newLabel(this.namespacePath,this.projectPath,{title:this.$newLabelField.val(),color:this.$newColorField.val()},function(e){var i;(t.$newLabelCreateButton.enable(),e.message)?(i="string"==typeof e.message?e.message:Object.keys(e.message).map(function(t){return"".concat(Object(o.h)(t)," ").concat(e.message[t].join(", "))}).join("<br/>"),t.$newLabelError.html(i).show()):(t.$dropdownBack.trigger("click"),s()(document).trigger("created.label",e))})}}])&&r(t.prototype,i),n&&r(t,n),e}()},123:function(e,t,i){"use strict";i.d(t,"a",function(){return m});var n=i(0),s=i.n(n),a=i(5),o=i.n(a),r=i(1),l=i(6),c=i(80),u=i(115),d=i(7),f=i(48),h=i(21);function p(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m=function(){function e(t){var i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,n=s()(t),t||(n=s()(".js-label-select")),n.each(function(t,n){var c,p,m,g,v,b,_,y,w,C,k,j,S,O,x,D,T,E,P,I,N,L;L=(p=s()(n)).closest(".labels-filter"),p.find(".dropdown-toggle-text"),j=p.data("namespacePath"),S=p.data("projectPath"),C=p.data("issueUpdate"),null==(x=p.data("selected"))||p.hasClass("js-multiselect")||(x=x.split(",")),T=p.data("showNo"),D=p.data("showAny"),N=p.data("showMenuAbove"),w=p.data("defaultLabel")||Object(r.a)("Label"),y=p.data("abilityName"),c=(v=p.closest(".selectbox")).closest(".block"),m=p.closest("form, .js-issuable-update"),b=c.find(".sidebar-collapsed-icon span"),E=c.find(".js-sidebar-labels-tooltip"),_=c.find(".value"),g=c.find(".block-loading").fadeOut(),I=p.data("fieldName"),p.is(".js-issuable-form-dropdown, .js-filter-bulk-update, .js-label-sidebar-dropdown"),P=v.find('input[name="'+p.data("fieldName")+'"]').map(function(){return this.value}).get();var q=a.handleClick;E.tooltip(),p.closest(".dropdown").find(".dropdown-new-label").length&&new u.a(p.closest(".dropdown").find(".dropdown-new-label"),j,S),O=function(){var t,i;i=p.closest(".selectbox").find("input[name='"+I+"']").map(function(){return this.value}).get(),o.a.isEqual(P,i)||(P=i,(t={})[y]={},t[y].label_ids=i,i.length||(t[y].label_ids=[""]),g.removeClass("hidden").fadeIn(),p.trigger("loading.gl.dropdown"),l.a.put(C,t).then(function(t){var i,n,a,o,l=t.data;g.fadeOut(),p.trigger("loaded.gl.dropdown"),v.hide(),l.issueUpdateURL=C,i=0,l.labels.length&&C?(n=e.getLabelTemplate({labels:l.labels,issueUpdateURL:C}),i=l.labels.length):n='<span class="no-value">None</span>',_.removeAttr("style").html(n),b.text(i),l.labels.length?((o=l.labels.map(function(e){return e.title})).length>5&&(o=o.slice(0,5)).push("and "+(l.labels.length-5)+" more"),a=o.join(", ")):a=Object(r.a)("Labels"),E.attr("title",a).tooltip("_fixTitle"),s()(".has-tooltip",_).tooltip({container:"body"})}).catch(function(){return Object(d.a)(Object(r.a)("Error saving label update."))}))},p.glDropdown({showMenuAbove:N,data:function(e,t){k=p.attr("data-labels"),l.a.get(k).then(function(e){var i=e.data;if(p.hasClass("js-extra-options")){var n=[];T&&n.unshift({id:0,title:"No Label"}),D&&n.unshift({isAny:!0,title:"Any Label"}),n.length&&(n.push("divider"),i=n.concat(i))}t(i),N&&p.data("glDropdown").positionMenuAbove()}).catch(function(){return Object(d.a)(Object(r.a)("Error fetching labels."))})},renderRow:function(e,t){var i,n,a,r,l,c,u,d,f,h;return n=s()("<li>"),i=s()('<a href="#">'),c=[],l=e.id<=0||null==e.id,p.hasClass("js-filter-bulk-update")?(r=p.data("indeterminate")||[],d=p.data("marked")||[],-1!==r.indexOf(e.id)&&c.push("is-indeterminate"),-1!==d.indexOf(e.id)&&(-1!==(u=c.indexOf("is-indeterminate"))&&c.splice(u,1),c.push("is-active"))):(this.id(e)&&(f=p.data("fieldName"),h=this.id(e).toString().replace(/'/g,"\\'"),m.find("input[type='hidden'][name='"+f+"'][value='"+h+"']").length&&c.push("is-active")),p.hasClass("js-multiselect")&&l&&c.push("dropdown-clear-active")),a=e.color?"<span class='dropdown-label-box' style='background: "+e.color+"'></span>":"",e.id&&(c.push("label-item"),i.attr("data-label-id",e.id)),i.addClass(c.join(" ")).html("".concat(a," ").concat(o.a.escape(e.title))),n.html(i).prop("outerHTML")},search:{fields:["title"]},selectable:!0,filterable:!0,selected:p.data("selected")||[],toggleLabel:function(e,t){var i=p.parent(),n=i.find(".dropdown-input-field"),s=null!==t&&t.hasClass("is-active"),a=e?e.title:null,o=this.selected;if(n.length&&n.val().length&&i.find(".dropdown-input-clear").trigger("click"),e&&0===e.id)return this.selected=[],"No Label";if(s)this.selected.push(a);else if(!s&&a){var l=this.selected.indexOf(a);this.selected.splice(l,1)}return 1===o.length?o:o.length?Object(r.f)(Object(r.a)("%{firstLabel} +%{labelCount} more"),{firstLabel:o[0],labelCount:o.length-1}):w},fieldName:p.data("fieldName"),id:function(e){return e.id<=0?e.title:p.hasClass("js-issuable-form-dropdown")?e.id:p.hasClass("js-filter-submit")&&null==e.isAny?e.title:e.id},hidden:function(){var e,t,i;e="projects:issues:index"===(i=s()("body").attr("data-page")),t="projects:merge_requests:index"===i,v.hide(),_.removeAttr("style"),p.hasClass("js-issuable-form-dropdown")||s()("html").hasClass("issue-boards-page")||p.hasClass("js-multiselect")&&(p.hasClass("js-filter-submit")&&(e||t)?(p.closest("form").find("input:hidden[name='"+p.data("fieldName")+"']"),Issuable.filterResults(p.closest("form"))):p.hasClass("js-filter-submit")?p.closest("form").submit():p.hasClass("js-filter-bulk-update")||O())},multiSelect:p.hasClass("js-multiselect"),vue:p.hasClass("js-issue-board-sidebar"),clicked:function(e){var t,n,a,o,r=e.$el,l=e.e,c=e.isMarking,u=e.selectedObj,d=function(){g.fadeOut()};if(t="projects:issues:index"===(a=s()("body").attr("data-page")),n="projects:merge_requests:index"===a,p.parent().find(".is-active:not(.dropdown-clear-active)").length&&p.parent().find(".dropdown-clear-active").removeClass("is-active"),!p.hasClass("js-issuable-form-dropdown")){if(p.hasClass("js-filter-bulk-update"))return i.enableBulkLabelDropdown(),void i.setDropdownData(p,c,u.id);if(p.closest(".add-issues-modal").length&&(o=f.a.store.filter),o)return u.isAny?o.label_name=[]:r.hasClass("is-active")&&o.label_name.push(u.title),void l.preventDefault();if(p.hasClass("js-filter-submit")&&(t||n)){if(!p.hasClass("js-multiselect"))return x=u.title,Issuable.filterResults(p.closest("form"))}else{if(p.hasClass("js-filter-submit"))return p.closest("form").submit();if(p.hasClass("js-issue-board-sidebar")){if(r.hasClass("is-active"))h.c.detail.issue.labels.push(new ListLabel({id:u.id,title:u.title,color:u.color,textColor:"#fff"}));else{var m=h.c.detail.issue.labels;m=m.filter(function(e){return e.id!==u.id}),h.c.detail.issue.labels=m}g.fadeIn(),h.c.detail.issue.update(p.attr("data-issue-update")).then(d).catch(d)}else if(q)l.preventDefault(),q(u);else if(!p.hasClass("js-multiselect"))return O()}}},opened:function(e){if(p.hasClass("js-issue-board-sidebar")){var t=p.attr("data-selected");this.selected=t?t.split(","):[],p.data("glDropdown").updateLabel()}},preserveContext:!0}),i.setOriginalDropdownData(L,p)}),this.bindEvents()}var t,i,n;return t=e,n=[{key:"getLabelTemplate",value:function(e){return o.a.template(["<% _.each(labels, function(label){ %>",'<a href="<%- issueUpdateURL.slice(0, issueUpdateURL.lastIndexOf("/")) %>?label_name[]=<%- encodeURIComponent(label.title) %>">','<span class="badge label has-tooltip color-label" title="<%- label.description %>" style="background-color: <%- label.color %>; color: <%- label.text_color %>;">',"<%- label.title %>","</span>","</a>","<% }); %>"].join(""))(e)}}],(i=[{key:"bindEvents",value:function(){return s()("body").on("change",".selected-issuable",this.onSelectCheckboxIssue)}},{key:"onSelectCheckboxIssue",value:function(){if(!s()(".selected-issuable:checked").length)return s()(".issues-bulk-update .labels-filter .dropdown-toggle-text").text("Label")}},{key:"enableBulkLabelDropdown",value:function(){c.a.willUpdateLabels=!0}},{key:"setDropdownData",value:function(e,t,i){var n,s,a,o;s=e.data("marked")||[],a=e.data("unmarked")||[],o=e.data("indeterminate")||[],t?(s.push(i),(n=o.indexOf(i))>-1&&o.splice(n,1),(n=a.indexOf(i))>-1&&a.splice(n,1)):((n=s.indexOf(i))>-1&&s.splice(n,1),c.a.getOriginalIndeterminateIds().indexOf(i)>-1&&a.push(i),c.a.getOriginalCommonIds().indexOf(i)>-1&&a.push(i)),e.data("marked",s),e.data("unmarked",a),e.data("indeterminate",o)}},{key:"setOriginalDropdownData",value:function(e,t){var i=[];e.find('[name="label_name[]"]').map(function(){return i.push(this.value)}),t.data("marked",i)}}])&&p(t.prototype,i),n&&p(t,n),e}()},124:function(e,t,i){"use strict";i.d(t,"a",function(){return h});var n=i(0),s=i.n(n),a=i(5),o=i.n(a),r=i(1),l=(i(260),i(6)),c=i(20),u=i(48),d=i(21);function f(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var h=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==t&&(this.currentProject="string"==typeof t?JSON.parse(t):t),e.init(i,n)}var t,i,n;return t=e,n=[{key:"init",value:function(e,t){var i=s()(e);e||(i=s()(".js-milestone-select")),i.each(function(e,i){var n,a,f,h,p=s()(i),m=(p.data("projectId"),p.data("milestones")),g=p.data("issueUpdate"),v=p.data("showNo"),b=p.data("showAny"),_=p.data("showMenuAbove"),y=p.data("showUpcoming"),w=p.data("showStarted"),C=p.data("useId"),k=p.data("defaultLabel"),j=p.data("defaultNo"),S=(p.data("issuableId"),p.data("abilityName")),O=p.closest(".selectbox"),x=O.closest(".block"),D=x.find(".sidebar-collapsed-icon"),T=x.find(".value"),E=x.find(".block-loading").fadeOut();return h=b?"":null,h=v&&j?"No Milestone":h,f=p.data("selected")||h,g&&(a=o.a.template('<a href="<%- web_url %>" class="bold has-tooltip" data-container="body" title="<%- remaining %>"><%- title %></a>'),n='<span class="no-value">None</span>'),p.glDropdown({showMenuAbove:_,data:function(e,t){return l.a.get(m).then(function(e){var i=e.data,n=[];b&&n.push({id:null,name:null,title:"Any Milestone"}),v&&n.push({id:-1,name:"No Milestone",title:"No Milestone"}),y&&n.push({id:-2,name:"#upcoming",title:"Upcoming"}),w&&n.push({id:-3,name:"#started",title:"Started"}),n.length&&n.push("divider"),t(n.concat(i)),_&&p.data("glDropdown").positionMenuAbove(),s()('[data-milestone-id="'.concat(o.a.escape(f),'"] > a')).addClass("is-active")})},renderRow:function(e){return'\n          <li data-milestone-id="'.concat(o.a.escape(e.name),"\">\n            <a href='#' class='dropdown-menu-milestone-link'>\n              ").concat(o.a.escape(e.title),"\n            </a>\n          </li>\n        ")},filterable:!0,search:{fields:["title"]},selectable:!0,toggleLabel:function(e,t,i){return e&&"id"in e&&s()(t).hasClass("is-active")?e.title:k},defaultLabel:k,fieldName:p.data("fieldName"),text:function(e){return o.a.escape(e.title)},id:function(e){return C||p.is(".js-issuable-form-dropdown")?e.id:e.name},hidden:function(){return O.hide(),T.css("display","")},opened:function(e){var i=s()(e.currentTarget);(p.hasClass("js-issue-board-sidebar")||t.handleClick)&&(f=p[0].dataset.selected||h),s()("a.is-active",i).removeClass("is-active"),s()('[data-milestone-id="'.concat(o.a.escape(f),'"] > a'),i).addClass("is-active")},vue:p.hasClass("js-issue-board-sidebar"),clicked:function(e){e.$el;var i,o,m=e.e,v=e.selectedObj;if(v){if(t.handleClick)return m.preventDefault(),void t.handleClick(v);var b=s()("body").attr("data-page"),_="projects:issues:index"===b,y=b==b&&"projects:merge_requests:index"===b,w=v.name!==f;if(f=w?v.name:h,p.hasClass("js-filter-bulk-update")||p.hasClass("js-issuable-form-dropdown"))m.preventDefault();else if(p.closest(".add-issues-modal").length&&(o=u.a.store.filter),o)o[p.data("fieldName")]=v.name,m.preventDefault();else{if(p.hasClass("js-filter-submit")&&(_||y))return Issuable.filterResults(p.closest("form"));if(p.hasClass("js-filter-submit"))return p.closest("form").submit();if(!p.hasClass("js-issue-board-sidebar"))return v=O.find('input[type="hidden"]').val(),(i={})[S]={},i[S].milestone_id=null!=v?v:null,E.removeClass("hidden").fadeIn(),p.trigger("loading.gl.dropdown"),l.a.put(g,i).then(function(e){var t=e.data;return p.trigger("loaded.gl.dropdown"),E.fadeOut(),O.hide(),T.css("display",""),null!=t.milestone?(t.milestone.remaining=Object(c.n)(t.milestone.due_date),t.milestone.name=t.milestone.title,T.html(a(t.milestone)),D.attr("data-original-title","".concat(t.milestone.name,"<br />").concat(t.milestone.remaining)).find("span").text(t.milestone.title)):(T.html(n),D.attr("data-original-title",Object(r.a)("Milestone")).find("span").text(Object(r.a)("None")))}).catch(function(){E.fadeOut()});-1!==v.id&&w?Object(d.b)("milestone",new ListMilestone({id:v.id,title:v.name})):Object(d.a)("milestone"),p.trigger("loading.gl.dropdown"),E.removeClass("hidden").fadeIn(),d.c.detail.issue.update(p.attr("data-issue-update")).then(function(){p.trigger("loaded.gl.dropdown"),E.fadeOut()}).catch(function(){E.fadeOut()})}}}})})}}],(i=null)&&f(t.prototype,i),n&&f(t,n),e}();window.MilestoneSelect=h},125:function(e,t,i){"use strict";function n(e,t){var i=t.x,n=t.y,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=document.createElement("button");return s.concat(["js-image-badge"]).forEach(function(e){return a.classList.add(e)}),a.setAttribute("type","button"),a.setAttribute("disabled",!0),a.dataset.noteId=e,a.style.left="".concat(i,"px"),a.style.top="".concat(n,"px"),a}function s(e,t){var i=t.x,n=t.y,s=document.createElement("button");s.classList.add("btn-transparent"),s.classList.add("comment-indicator"),s.setAttribute("type","button"),s.style.left="".concat(i,"px"),s.style.top="".concat(n,"px"),s.innerHTML=gl.utils.spriteIcon("image-comment-dark"),e.appendChild(s)}var a={x:0,y:0,width:0,height:0},o=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.noteId,n=t.discussionId;this.actual=t.actual||a,this.browser=t.browser||a,this.noteId=i,this.discussionId=n,t.imageEl&&!t.browser&&(this.browser=x.resizeCoordinatesToImageElement(t.imageEl,this.actual))},r=i(0),l=i.n(r);function c(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.canCreateNote=!(!i||!i.canCreateNote),this.renderCommentBadge=!(!i||!i.renderCommentBadge),this.$noteContainer=l()(".note-container",this.el),this.imageBadges=[]}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.imageFrameEl=this.el.querySelector(".diff-file .js-image-frame"),this.imageEl=this.imageFrameEl.querySelector("img"),this.bindEvents()}},{key:"bindEvents",value:function(){var e;this.imageClickedWrapper=this.imageClicked.bind(this),this.imageBlurredWrapper=x.removeCommentIndicator.bind(null,this.imageFrameEl),this.addBadgeWrapper=this.addBadge.bind(this),this.removeBadgeWrapper=this.removeBadge.bind(this),this.renderBadgesWrapper=this.renderBadges.bind(this),(e=this.imageEl).complete&&0!==e.naturalHeight?this.renderBadges():this.imageEl.addEventListener("load",this.renderBadgesWrapper),this.$noteContainer.on("click",".js-diff-notes-toggle",x.toggleCollapsed),l()(this.el).on("click",".comment-indicator",x.commentIndicatorOnClick),this.canCreateNote&&(this.el.addEventListener("click.imageDiff",this.imageClickedWrapper),this.el.addEventListener("blur.imageDiff",this.imageBlurredWrapper),this.el.addEventListener("addBadge.imageDiff",this.addBadgeWrapper),this.el.addEventListener("removeBadge.imageDiff",this.removeBadgeWrapper))}},{key:"imageClicked",value:function(e){var t=e.detail,i=x.getTargetSelection(t),n=t.currentTarget;x.setPositionDataAttribute(n,i.actual),x.showCommentIndicator(this.imageFrameEl,i.browser)}},{key:"renderBadges",value:function(){c(this.el.querySelectorAll(".note-container .discussion-notes .notes")).forEach(this.renderBadge.bind(this))}},{key:"renderBadge",value:function(e,t){var i=x.generateBadgeFromDiscussionDOM(this.imageFrameEl,e);this.imageBadges.push(i);var n={coordinate:i.browser,noteId:i.noteId};if(this.renderCommentBadge)x.addImageCommentBadge(this.imageFrameEl,n);else{var s=Object.assign({},n,{badgeText:t+1});x.addImageBadge(this.imageFrameEl,s)}}},{key:"addBadge",value:function(e){var t=e.detail,i=t.x,n=t.y,s=t.width,a=t.height,r=t.noteId,l=t.discussionId,c=this.imageBadges.length+1,u=new o({actual:{x:i,y:n,width:s,height:a},imageEl:this.imageFrameEl.querySelector("img"),noteId:r,discussionId:l});this.imageBadges.push(u),x.addImageBadge(this.imageFrameEl,{coordinate:u.browser,badgeText:c,noteId:r}),x.addAvatarBadge(this.el,{detail:{noteId:r,badgeNumber:c}});var d=this.el.querySelector("#discussion_".concat(l));x.updateDiscussionBadgeNumber(d,c)}},{key:"removeBadge",value:function(e){var t=this,i=e.detail.badgeNumber,n=i-1,s=this.imageFrameEl.querySelectorAll(".badge");this.imageBadges.length!==i&&this.imageBadges.forEach(function(e,i){if(i>n){var a=e.discussionId,o=i,r=t.el.querySelector("#discussion_".concat(a));s[i].innerText=o,x.updateDiscussionBadgeNumber(r,o),x.updateDiscussionAvatarBadgeNumber(r,o)}}),this.imageBadges.splice(n,1),s[n].remove()}}])&&u(t.prototype,i),n&&u(t,n),e}(),f={TWO_UP:"TWO_UP",SWIPE:"SWIPE",ONION_SKIN:"ONION_SKIN"};function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function g(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t,i){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(i):s.value}})(e,t,i||e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,_(t).apply(this,arguments))}var i,n,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,d),i=t,(n=[{key:"init",value:function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.TWO_UP;this.imageFrameEls=(m(e={},f.TWO_UP,this.el.querySelector(".two-up .js-image-frame")),m(e,f.SWIPE,this.el.querySelector(".swipe .js-image-frame")),m(e,f.ONION_SKIN,this.el.querySelector(".onion-skin .js-image-frame")),e);var n=this.el.querySelector(".view-modes-menu");this.viewModesEls=(m(t={},f.TWO_UP,n.querySelector(".two-up")),m(t,f.SWIPE,n.querySelector(".swipe")),m(t,f.ONION_SKIN,n.querySelector(".onion-skin")),t),this.currentView=i,this.generateImageEls(),this.bindEvents()}},{key:"generateImageEls",value:function(){var e=this;this.imageEls={},Object.getOwnPropertyNames(f).forEach(function(t){e.imageEls[t]=e.imageFrameEls[t].querySelector("img")})}},{key:"bindEvents",value:function(){b(_(t.prototype),"bindEvents",this).call(this),this.changeToViewTwoUp=this.changeView.bind(this,f.TWO_UP),this.changeToViewSwipe=this.changeView.bind(this,f.SWIPE),this.changeToViewOnionSkin=this.changeView.bind(this,f.ONION_SKIN),this.viewModesEls[f.TWO_UP].addEventListener("click",this.changeToViewTwoUp),this.viewModesEls[f.SWIPE].addEventListener("click",this.changeToViewSwipe),this.viewModesEls[f.ONION_SKIN].addEventListener("click",this.changeToViewOnionSkin)}},{key:"changeView",value:function(e){if(t=e,Object.getOwnPropertyNames(f).find(function(e){return e===t})){var t,i=x.removeCommentIndicator(this.imageFrameEl);this.currentView=e,p(this.imageFrameEl.querySelectorAll(".badge")).map(function(e){return e.remove()}),this.imageBadges=[],setTimeout(this.renderNewView.bind(this,i),250)}}},{key:"renderNewView",value:function(e){if(this.renderBadges(),e.removed){var t=x.resizeCoordinatesToImageElement(this.imageEl,{x:e.x,y:e.y,width:e.image.width,height:e.image.height});x.showCommentIndicator(this.imageFrameEl,t)}}},{key:"imageEl",get:function(){return this.imageEls[this.currentView]}},{key:"imageFrameEl",get:function(){return this.imageFrameEls[this.currentView]}}])&&g(i.prototype,n),s&&g(i,s),t}();function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var j=900,S=["two-up","swipe"],O=function(){function e(t){var i,n,s,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s={"two-up":function(){return l()(".two-up.view .wrap",this.file).each((e=this,function(t,i){return l()("img",i).each(function(){if(l()(this).width()>j/2)return l()(this).width(j/2)}),e.requestImageInfo(l()("img",i),function(e,t){return l()(".image-info .meta-width",i).text(e+"px"),l()(".image-info .meta-height",i).text(t+"px"),l()(".image-info",i).removeClass("hide")})}));var e},swipe:function(){var e,t,i;return t=0,e=0,l()(".swipe.view",this.file).each((i=this,function(n,s){var a,o,r,c,u;a=C(i.prepareFrames(s),2),t=a[0],e=a[1],c=l()(".swipe-frame",s),o=l()(".swipe-wrap",s),r=l()(".swipe-bar",s),c.css({width:t+16,height:e+28}),o.css({width:t+1,height:e+2}),r.css({left:1}),u=parseInt(o.css("right").replace("px",""),10),i.initDraggable(r,u,function(e,i){i>0&&i<c.width()-2*u&&(o.width(t+1-i),r.css("left",i))})}))},"onion-skin":function(){var e,t,i,n;return i=0,t=0,e=l()(".drag-track",this.file).width()-l()(".dragger",this.file).width(),l()(".onion-skin.view",this.file).each((n=this,function(s,a){var o,r,c,u,d,f;o=C(n.prepareFrames(a),2),i=o[0],t=o[1],r=l()(".onion-skin-frame",a),d=l()(".frame.added",a),c=l()(".drag-track",a),u=l()(".dragger",c),r.css({width:i+16,height:t+28}),l()(".swipe-wrap",a).css({width:i+1,height:t+2}),u.css({left:e}),d.css("opacity",1),f=parseInt(d.css("right").replace("px",""),10),n.initDraggable(u,f,function(t,i){var n=i/e;n>=0&&n<=1&&(u.css("left",i),d.css("opacity",n))})}))}},(n="views")in(i=this)?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,this.file=t,this.requestImageInfo(l()(".two-up.view .frame.deleted img",this.file),(a=this,function(e,t){return a.requestImageInfo(l()(".two-up.view .frame.added img",a.file),function(e,t){a.initViewModes(),l()(".two-up.view img",a.file).waitForImages(function(){a.initView("two-up")})})}))}var t,i,n;return t=e,(i=[{key:"initViewModes",value:function(){var e,t=S[0];return l()(".view-modes",this.file).removeClass("hide"),l()(".view-modes-menu",this.file).on("click","li",(e=this,function(t){if(!l()(t.currentTarget).hasClass("active"))return e.activateViewMode(t.currentTarget.className)})),this.activateViewMode(t)}},{key:"activateViewMode",value:function(e){return l()(".view-modes-menu li",this.file).removeClass("active").filter("."+e).addClass("active"),l()(".view:visible:not(."+e+")",this.file).fadeOut(200,(t=this,function(){return l()(".view."+e,t.file).fadeIn(200),t.initView(e)}));var t}},{key:"initView",value:function(e){return this.views[e].call(this)}},{key:"initDraggable",value:function(e,t,i){var n=!1,s=l()("body"),a=e.parent();e.off("mousedown").on("mousedown",function(){n=!0,s.css("user-select","none")}),s.off("mouseup").off("mousemove").on("mouseup",function(){n=!1,s.css("user-select","")}).on("mousemove",function(e){var s;n&&(s=e.pageX-(a.offset().left+t),i(e,s))})}},{key:"prepareFrames",value:function(e){var t,i;return i=0,t=0,l()(".frame",e).each(function(e,n){var s,a;return a=l()(n).width(),s=l()(n).height(),i=a>i?a:i,t=s>t?s:t}).css({width:i,height:t}),[i,t]}},{key:"requestImageInfo",value:function(e,t){var i,n=e.get(0);if(n)return n.complete?t.call(this,n.naturalWidth,n.naturalHeight):e.on("load",(i=this,function(){return t.call(i,n.naturalWidth,n.naturalHeight)}))}}])&&k(t.prototype,i),n&&k(t,n),e}();var x=t.a={addCommentIndicator:s,removeCommentIndicator:function(e){var t=e.querySelector(".comment-indicator"),i=e.querySelector("img"),n=!!t,s={};return n&&(s={x:parseInt(t.style.left,10),y:parseInt(t.style.top,10),image:{width:i.width,height:i.height}},t.remove()),Object.assign({},s,{removed:n})},showCommentIndicator:function(e,t){var i=t.x,n=t.y,a=e.querySelector(".comment-indicator");a?(a.style.left="".concat(i,"px"),a.style.top="".concat(n,"px")):s(e,t)},commentIndicatorOnClick:function(e){e.stopPropagation(),e.currentTarget.closest(".diff-viewer").querySelector(".note-container .note-textarea").focus()},addImageBadge:function(e,t){var i=t.coordinate,s=t.badgeText,a=n(t.noteId,i,["badge","badge-pill"]);a.innerText=s,e.appendChild(a)},addImageCommentBadge:function(e,t){var i=t.coordinate,s=n(t.noteId,i,["image-comment-badge"]);s.innerHTML=gl.utils.spriteIcon("image-comment-dark"),e.appendChild(s)},addAvatarBadge:function(e,t){var i=t.detail,n=i.noteId,s=i.badgeNumber,a=e.querySelector("#".concat(n," .badge"));a.innerText=s,a.classList.remove("hidden")},setPositionDataAttribute:function(e,t){var i=t.x,n=t.y,s=t.width,a=t.height,o=e.dataset.position,r=Object.assign({},JSON.parse(o),{x:i,y:n,width:s,height:a});e.setAttribute("data-position",JSON.stringify(r))},updateDiscussionAvatarBadgeNumber:function(e,t){e.querySelector(".image-diff-avatar-link .badge").innerText=t},updateDiscussionBadgeNumber:function(e,t){e.querySelector(".badge").innerText=t},toggleCollapsed:function(e){var t=e.currentTarget.closest(".discussion-notes"),i=t.querySelector(".discussion-form"),n=t.classList.contains("collapsed");n?t.classList.remove("collapsed"):t.classList.add("collapsed"),i&&!n?i.style.display="none":i&&n&&(i.style.display="block")},resizeCoordinatesToImageElement:function(e,t){var i=t.x,n=t.y,s=t.width,a=t.height,o=e.width,r=e.height,l=o/s,c=r/a;return{x:Math.round(i*l),y:Math.round(n*c),width:o,height:r}},generateBadgeFromDiscussionDOM:function(e,t){var i=JSON.parse(t.dataset.position),n=t.querySelector(".note");return new o({actual:i,imageEl:e.querySelector("img"),noteId:n.id,discussionId:t.dataset.discussionId})},getTargetSelection:function(e){var t=e.currentTarget.querySelector("img"),i=e.offsetX,n=e.offsetY,s=t.width,a=t.height,o=t.naturalWidth,r=t.naturalHeight,l=o/s,c=r/a,u=Math.max(0,i)&&Math.min(i,s),d=Math.max(0,n)&&Math.min(n,a);return{browser:{x:u,y:d,width:s,height:a},actual:{x:Math.round(u*l),y:Math.round(d*c),width:o,height:r}}},initImageDiff:function(e,t,i){var n,s={canCreateNote:t,renderCommentBadge:i};return new O(e),e.querySelector(".diff-file .js-single-image")?(n=new d(e,s)).init():e.querySelector(".diff-file .js-replaced-image")&&(n=new w(e,s)).init(),n}}},126:function(e,t,i){"use strict";i.d(t,"a",function(){return v});var n=i(0),s=i.n(n),a=i(88),o=i.n(a),r=i(116),l=i.n(r),c=i(1),u=i(6),d=i(20),f=i(21);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,i){return t&&p(e.prototype,t),i&&p(e,i),e}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.$dropdown,n=t.$loading;h(this,e);var a=i.closest(".dropdown"),o=i.closest(".block");this.$loading=n,this.$dropdown=i,this.$dropdownParent=a,this.$datePicker=a.find(".js-due-date-calendar"),this.$block=o,this.$sidebarCollapsedValue=o.find(".sidebar-collapsed-icon"),this.$selectbox=i.closest(".selectbox"),this.$value=o.find(".value"),this.$valueContent=o.find(".value-content"),this.$sidebarValue=s()(".js-due-date-sidebar-value",o),this.fieldName=i.data("fieldName"),this.abilityName=i.data("abilityName"),this.issueUpdateURL=i.data("issueUpdate"),this.rawSelectedDate=null,this.displayedDate=null,this.datePayload=null,this.initGlDropdown(),this.initRemoveDueDate(),this.initDatePicker()}return m(e,[{key:"initGlDropdown",value:function(){var e=this;this.$dropdown.glDropdown({opened:function(){e.$datePicker.data("pikaday").show()},hidden:function(){e.$selectbox.hide(),e.$value.css("display","")}})}},{key:"initDatePicker",value:function(){var e=this,t=s()("input[name='".concat(this.fieldName,"']")),i=new o.a({field:t.get(0),theme:"gitlab-theme",format:"yyyy-mm-dd",parse:function(e){return Object(d.j)(e)},toString:function(e){return Object(d.l)(e)},onSelect:function(n){t.val(i.toString(n)),e.$dropdown.hasClass("js-issue-boards-due-date")?(f.c.detail.issue.dueDate=t.val(),e.updateIssueBoardIssue()):e.saveDueDate(!0)}});i.setDate(Object(d.j)(t.val())),this.$datePicker.append(i.el),this.$datePicker.data("pikaday",i)}},{key:"initRemoveDueDate",value:function(){var e=this;this.$block.on("click",".js-remove-due-date",function(t){var i=e.$datePicker.data("pikaday");t.preventDefault(),i.setDate(null),e.$dropdown.hasClass("js-issue-boards-due-date")?(f.c.detail.issue.dueDate="",e.updateIssueBoardIssue()):(s()("input[name='".concat(e.fieldName,"']")).val(""),e.saveDueDate(!1))})}},{key:"saveDueDate",value:function(e){this.parseSelectedDate(),this.prepSelectedDate(),this.submitSelectedDate(e)}},{key:"parseSelectedDate",value:function(){if(this.rawSelectedDate=s()("input[name='".concat(this.fieldName,"']")).val(),this.rawSelectedDate.length){var e=this.rawSelectedDate.split("-").map(function(e){return parseInt(e,10)}),t=new Date(e[0],e[1]-1,e[2]);this.displayedDate=l()(t,"mmm d, yyyy")}else this.displayedDate="No due date"}},{key:"prepSelectedDate",value:function(){var e={};e[this.abilityName]={},e[this.abilityName].due_date=this.rawSelectedDate,this.datePayload=e}},{key:"updateIssueBoardIssue",value:function(){var e=this;this.$loading.fadeIn(),this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide(),this.$value.css("display","");var t=function(){e.$loading.fadeOut()};f.c.detail.issue.update(this.$dropdown.attr("data-issue-update")).then(t).catch(t)}},{key:"submitSelectedDate",value:function(e){var t=this,i=this.datePayload[this.abilityName].due_date,n="No due date"!==this.displayedDate,a=n?"bold":"no-value";return this.$loading.removeClass("hidden").fadeIn(),e&&(this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide()),this.$value.css("display",""),this.$valueContent.html("<span class='".concat(a,"'>").concat(this.displayedDate,"</span>")),this.$sidebarValue.html(this.displayedDate),s()(".js-remove-due-date-holder").toggleClass("hidden",i.length),u.a.put(this.issueUpdateURL,this.datePayload).then(function(){var s=n?"".concat(Object(c.a)("Due date"),"<br />").concat(i," (").concat(Object(d.n)(i),")"):Object(c.a)("Due date");return e&&(t.$dropdown.trigger("loaded.gl.dropdown"),t.$dropdown.dropdown("toggle")),t.$sidebarCollapsedValue.attr("data-original-title",s),t.$loading.fadeOut()})}}]),e}(),v=function(){function e(){h(this,e),this.initMilestoneDatePicker(),this.initIssuableSelect()}return m(e,[{key:"initMilestoneDatePicker",value:function(){s()(".datepicker").each(function(){var e=s()(this),t=e.val(),i=new o.a({field:e.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",container:e.parent().get(0),parse:function(e){return Object(d.j)(e)},toString:function(e){return Object(d.l)(e)},onSelect:function(t){e.val(i.toString(t))}});i.setDate(Object(d.j)(t)),e.data("pikaday",i)}),s()(".js-clear-due-date,.js-clear-start-date").on("click",function(e){e.preventDefault(),s()(e.target).siblings(".datepicker").data("pikaday").setDate(null)})}},{key:"initIssuableSelect",value:function(){var e=s()(".js-issuable-update .due_date").find(".block-loading").hide();s()(".js-due-date-select").each(function(t,i){var n=s()(i);new g({$dropdown:n,$loading:e})})}}]),e}()},131:function(e,t,i){"use strict";var n=i(11);t.a=new n.default},1315:function(e,t,i){i(42),i(44),e.exports=i(1394)},1316:function(e,t,i){"use strict";var n=i(541);i.n(n).a},1317:function(e,t,i){(e.exports=i(73)(!1)).push([e.i,"\n.dropdown {\n  min-width: 0;\n  max-height: 170px;\n}\n",""])},1318:function(e,t,i){"use strict";var n=i(542);i.n(n).a},1319:function(e,t,i){(e.exports=i(73)(!1)).push([e.i,"\n@keyframes shadow-fade {\nfrom {\n    box-shadow: 0 0 4px #919191;\n}\nto {\n    box-shadow: 0 0 0 #dfdfdf;\n}\n}\n.diff-file.is-active {\n  box-shadow: 0 0 0 #dfdfdf;\n  animation: shadow-fade 1.2s 0.1s 1;\n}\n",""])},1320:function(e,t,i){"use strict";var n=i(543);i.n(n).a},1321:function(e,t,i){(e.exports=i(73)(!1)).push([e.i,"\n.file-row-stats {\n  font-size: 12px;\n}\n",""])},135:function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return s});var n="CANCEL_REQUEST",s="PIPELINES_TABLE"},1394:function(e,t,i){"use strict";i.r(t);var n={};i.r(n),i.d(n,"setBaseConfig",function(){return Lt}),i.d(n,"fetchDiffFiles",function(){return qt}),i.d(n,"setHighlightedRow",function(){return Mt}),i.d(n,"assignDiscussionsToDiff",function(){return At}),i.d(n,"removeDiscussionsFromDiff",function(){return Ft}),i.d(n,"renderFileForDiscussionId",function(){return Bt}),i.d(n,"startRenderDiffsQueue",function(){return Rt}),i.d(n,"setInlineDiffViewType",function(){return $t}),i.d(n,"setParallelDiffViewType",function(){return Ht}),i.d(n,"showCommentForm",function(){return Ut}),i.d(n,"cancelCommentForm",function(){return Wt}),i.d(n,"loadMoreLines",function(){return Vt}),i.d(n,"scrollToLineIfNeededInline",function(){return zt}),i.d(n,"scrollToLineIfNeededParallel",function(){return Gt}),i.d(n,"loadCollapsedDiff",function(){return Yt}),i.d(n,"expandAllFiles",function(){return Jt}),i.d(n,"toggleFileDiscussions",function(){return Kt}),i.d(n,"saveDiffDiscussion",function(){return Qt}),i.d(n,"toggleTreeOpen",function(){return Xt}),i.d(n,"scrollToFile",function(){return Zt}),i.d(n,"toggleShowTreeList",function(){return ei}),i.d(n,"openDiffFileCommentForm",function(){return ti}),i.d(n,"closeDiffFileCommentForm",function(){return ii}),i.d(n,"default",function(){return ni});var s={};i.r(s),i.d(s,"isParallelView",function(){return si}),i.d(s,"isInlineView",function(){return ai}),i.d(s,"hasCollapsedFile",function(){return oi}),i.d(s,"commitId",function(){return ri}),i.d(s,"diffHasAllExpandedDiscussions",function(){return li}),i.d(s,"diffHasAllCollapsedDiscussions",function(){return ci}),i.d(s,"diffHasExpandedDiscussions",function(){return ui}),i.d(s,"diffHasDiscussions",function(){return di}),i.d(s,"getDiffFileDiscussions",function(){return fi}),i.d(s,"getDiffFileByHash",function(){return hi}),i.d(s,"allBlobs",function(){return pi}),i.d(s,"diffFilesLength",function(){return mi}),i.d(s,"getCommentFormForDiffFile",function(){return gi}),i.d(s,"default",function(){return vi});var a={};i.r(a),i.d(a,"setEndpoint",function(){return co}),i.d(a,"requestReports",function(){return uo}),i.d(a,"clearEtagPoll",function(){return fo}),i.d(a,"stopPolling",function(){return ho}),i.d(a,"restartPolling",function(){return po}),i.d(a,"fetchReports",function(){return mo}),i.d(a,"receiveReportsSuccess",function(){return go}),i.d(a,"receiveReportsError",function(){return vo}),i.d(a,"openModal",function(){return bo}),i.d(a,"setModalData",function(){return _o}),i.d(a,"default",function(){return yo});var o={};i.r(o),i.d(o,"summaryStatus",function(){return wo}),i.d(o,"default",function(){return Co});var r=i(0),l=i.n(r),c=i(11),u=i(18),d=i(15),f=i(1),h=i(7),p=i(10),m=i(131),g=i(19),v=i(93);function b(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _={components:{Icon:d.a,TimeAgo:v.a},props:{otherVersions:{type:Array,required:!1,default:function(){return[]}},mergeRequestVersion:{type:Object,required:!1,default:null},startVersion:{type:Object,required:!1,default:null},targetBranch:{type:Object,required:!1,default:null},showCommitCount:{type:Boolean,required:!1,default:!1}},computed:{baseVersion:function(){return{name:"hii",versionIndex:-1}},targetVersions:function(){return this.mergeRequestVersion?this.otherVersions:b(this.otherVersions).concat([this.targetBranch])},selectedVersionName:function(){var e=this.startVersion||this.targetBranch||this.mergeRequestVersion;return this.versionName(e)}},methods:{commitsText:function(e){return Object(f.d)("".concat(e.commits_count," commit,"),"".concat(e.commits_count," commits,"),e.commits_count)},href:function(e){return this.showCommitCount?e.version_path:e.compare_path},versionName:function(e){return this.isLatest(e)?Object(f.a)("latest version"):!this.targetBranch||!this.isBase(e)&&e?"version ".concat(e.version_index):this.targetBranch.branchName},isActive:function(e){return!!e&&(this.targetBranch?this.isBase(e)&&!this.startVersion||this.startVersion&&this.startVersion.version_index===e.version_index:e.version_index===this.mergeRequestVersion.version_index)},isBase:function(e){return!(!e||!this.targetBranch)&&-1===e.versionIndex},isLatest:function(e){return this.mergeRequestVersion&&e.version_index===this.targetVersions[0].version_index}}},y=(i(1316),i(3)),w=Object(y.a)(_,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"dropdown inline"},[i("a",{staticClass:"dropdown-menu-toggle btn btn-default w-100",attrs:{"data-toggle":"dropdown","aria-expanded":"false"}},[i("span",[e._v(" "+e._s(e.selectedVersionName)+" ")]),e._v(" "),i("icon",{staticClass:"position-absolute",attrs:{size:12,name:"angle-down"}})],1),e._v(" "),i("div",{staticClass:"dropdown-menu dropdown-select dropdown-menu-selectable"},[i("div",{staticClass:"dropdown-content"},[i("ul",e._l(e.targetVersions,function(t){return i("li",{key:t.id},[i("a",{class:{"is-active":e.isActive(t)},attrs:{href:e.href(t)}},[i("div",[i("strong",[e._v("\n                "+e._s(e.versionName(t))+"\n                "),e.isBase(t)?[e._v("\n                  (base)\n                ")]:e._e()],2)]),e._v(" "),i("div",[i("small",{staticClass:"commit-sha"},[e._v(" "+e._s(t.short_commit_sha)+" ")])]),e._v(" "),i("div",[i("small",[e.showCommitCount?[e._v("\n                  "+e._s(e.commitsText(t))+"\n                ")]:e._e(),e._v(" "),t.created_at?i("time-ago",{staticClass:"js-timeago js-timeago-render",attrs:{time:t.created_at}}):e._e()],2)])])])}),0)])])])},[],!1,null,null,null);function C(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){k(e,t,i[t])})}return e}function k(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}w.options.__file="compare_versions_dropdown.vue";var j={components:{CompareVersionsDropdown:w.exports,Icon:d.a,GlLink:p.d,GlButton:p.b},directives:{GlTooltip:p.n},props:{mergeRequestDiffs:{type:Array,required:!0},mergeRequestDiff:{type:Object,required:!1,default:function(){return{}}},targetBranch:{type:Object,required:!1,default:null}},computed:C({},Object(u.d)("diffs",["commit","showTreeList","startVersion","latestVersionPath"]),Object(u.c)("diffs",["isInlineView","isParallelView","hasCollapsedFile"]),{comparableDiffs:function(){return this.mergeRequestDiffs.slice(1)},toggleWhitespaceText:function(){return this.isWhitespaceVisible()?Object(f.a)("Hide whitespace changes"):Object(f.a)("Show whitespace changes")},toggleWhitespacePath:function(){return this.isWhitespaceVisible()?Object(g.c)({w:1},window.location.href):Object(g.c)({w:0},window.location.href)},showDropdowns:function(){return!this.commit&&this.mergeRequestDiffs.length}}),methods:C({},Object(u.b)("diffs",["setInlineDiffViewType","setParallelDiffViewType","expandAllFiles","toggleShowTreeList"]),{isWhitespaceVisible:function(){return"1"!==Object(g.b)("w")[0]}})},S=Object(y.a)(j,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-version-controls"},[i("div",{staticClass:"mr-version-menus-container content-block"},[i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-default append-right-8 js-toggle-tree-list",class:{active:e.showTreeList},attrs:{type:"button",title:e.__("Toggle file browser")},on:{click:e.toggleShowTreeList}},[i("icon",{attrs:{name:"hamburger"}})],1),e._v(" "),e.showDropdowns?i("div",{staticClass:"d-flex align-items-center compare-versions-container"},[e._v("\n      Changes between\n      "),i("compare-versions-dropdown",{staticClass:"mr-version-dropdown",attrs:{"other-versions":e.mergeRequestDiffs,"merge-request-version":e.mergeRequestDiff,"show-commit-count":!0}}),e._v("\n      and\n      "),i("compare-versions-dropdown",{staticClass:"mr-version-compare-dropdown",attrs:{"other-versions":e.comparableDiffs,"start-version":e.startVersion,"target-branch":e.targetBranch}})],1):e.commit?i("div",[e._v("\n      "+e._s(e.__("Viewing commit"))+"\n      "),i("gl-link",{staticClass:"monospace",attrs:{href:e.commit.commit_url}},[e._v(e._s(e.commit.short_id))])],1):e._e(),e._v(" "),i("div",{staticClass:"inline-parallel-buttons d-none d-md-flex ml-auto"},[e.commit||e.startVersion?i("gl-button",{staticClass:"append-right-8 js-latest-version",attrs:{href:e.latestVersionPath}},[e._v("\n        "+e._s(e.__("Show latest version"))+"\n      ")]):e._e(),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:e.hasCollapsedFile,expression:"hasCollapsedFile"}],staticClass:"btn btn-default append-right-8",on:{click:e.expandAllFiles}},[e._v("\n        "+e._s(e.__("Expand all"))+"\n      ")]),e._v(" "),i("a",{staticClass:"btn btn-default qa-toggle-whitespace",attrs:{href:e.toggleWhitespacePath}},[e._v("\n        "+e._s(e.toggleWhitespaceText)+"\n      ")]),e._v(" "),i("div",{staticClass:"btn-group prepend-left-8"},[i("button",{staticClass:"btn js-inline-diff-button",class:{active:e.isInlineView},attrs:{id:"inline-diff-btn",type:"button","data-view-type":"inline"},on:{click:e.setInlineDiffViewType}},[e._v("\n          "+e._s(e.__("Inline"))+"\n        ")]),e._v(" "),i("button",{staticClass:"btn js-parallel-diff-button",class:{active:e.isParallelView},attrs:{id:"parallel-diff-btn",type:"button","data-view-type":"parallel"},on:{click:e.setParallelDiffViewType}},[e._v("\n          "+e._s(e.__("Side-by-side"))+"\n        ")])])],1)])])},[],!1,null,null,null);S.options.__file="compare_versions.vue";var O=S.exports,x=i(5),D=i.n(x),T=i(397),E=i(321),P=Object(y.a)({},function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nothing-here-block"},[this._v(this._s(this.__("Empty file")))])},[],!1,null,null,null);P.options.__file="empty_file.vue";var I=P.exports,N=i(51),L=i(92),q=i(70);function M(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var A={components:{Icon:d.a,UserAvatarImage:L.a},directives:{GlTooltip:p.n},props:{discussions:{type:Array,required:!0}},computed:{discussionsExpanded:function(){return this.discussions.every(function(e){return e.expanded})},allDiscussions:function(){return this.discussions.reduce(function(e,t){return e.concat(t.notes)},[])},notesInGutter:function(){return this.allDiscussions.slice(0,q.c).map(function(e){return{note:e.note,author:e.author}})},moreCount:function(){return this.allDiscussions.length-this.notesInGutter.length},moreText:function(){return 0===this.moreCount?"":Object(N.i)("".concat(this.moreCount," more comment"),this.moreCount)}},methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){M(e,t,i[t])})}return e}({},Object(u.b)(["toggleDiscussion"]),{getTooltipText:function(e){var t=e.note;return t.length>q.j&&(t=Object(N.m)(t,q.j)),"".concat(e.author.name,": ").concat(t)},toggleDiscussions:function(){var e=this,t=this.discussions.some(function(e){return!e.expanded});this.discussions.forEach(function(i){e.toggleDiscussion({discussionId:i.id,forceExpanded:t})})}})},F=Object(y.a)(A,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-comment-avatar-holders"},[e.discussionsExpanded?i("button",{staticClass:"diff-notes-collapse js-diff-comment-avatar js-diff-comment-button",attrs:{type:"button","aria-label":"Show comments"},on:{click:e.toggleDiscussions}},[i("icon",{attrs:{size:12,name:"collapse"}})],1):[e._l(e.notesInGutter,function(t){return i("user-avatar-image",{key:t.id,staticClass:"diff-comment-avatar js-diff-comment-avatar",attrs:{"img-src":t.author.avatar_url,"tooltip-text":e.getTooltipText(t),size:19},nativeOn:{click:function(t){return e.toggleDiscussions(t)}}})}),e._v(" "),e.moreText?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"diff-comments-more-count js-diff-comment-avatar js-diff-comment-plus",attrs:{title:e.moreText,"data-container":"body","data-placement":"top",role:"button"},on:{click:e.toggleDiscussions}},[e._v("+"+e._s(e.moreCount))]):e._e()]],2)},[],!1,null,null,null);F.options.__file="diff_gutter_avatars.vue";var B=F.exports,R=i(178);function $(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){H(e,t,i[t])})}return e}function H(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var U={components:{DiffGutterAvatars:B,Icon:d.a},props:{line:{type:Object,required:!0},fileHash:{type:String,required:!0},contextLinesPath:{type:String,required:!0},lineNumber:{type:Number,required:!1,default:0},linePosition:{type:String,required:!1,default:""},showCommentButton:{type:Boolean,required:!1,default:!1},isBottom:{type:Boolean,required:!1,default:!1},isMatchLine:{type:Boolean,required:!1,default:!1},isMetaLine:{type:Boolean,required:!1,default:!1},isContextLine:{type:Boolean,required:!1,default:!1},isHover:{type:Boolean,required:!1,default:!1}},computed:$({},Object(u.d)({diffViewType:function(e){return e.diffs.diffViewType},diffFiles:function(e){return e.diffs.diffFiles}}),Object(u.c)(["isLoggedIn"]),{lineCode:function(){return this.line.line_code||this.line.left&&this.line.line.left.line_code||this.line.right&&this.line.right.line_code},lineHref:function(){return"#".concat(this.line.line_code||"")},shouldShowCommentButton:function(){return this.isLoggedIn&&this.showCommentButton&&this.isHover&&!this.isMatchLine&&!this.isContextLine&&!this.isMetaLine&&!this.hasDiscussions},hasDiscussions:function(){return this.line.discussions&&this.line.discussions.length>0},shouldShowAvatarsOnGutter:function(){return!(!this.line.type&&this.linePosition===q.n)&&(this.showCommentButton&&this.hasDiscussions)}}),methods:$({},Object(u.b)("diffs",["loadMoreLines","showCommentForm","setHighlightedRow"]),{handleCommentButton:function(){this.showCommentForm({lineCode:this.line.line_code,fileHash:this.fileHash})},handleLoadMoreLines:function(){var e=this;if(!this.isRequesting){this.isRequesting=!0;var t=this.contextLinesPath,i=this.line.meta_data.old_pos||0,n=this.line.meta_data.new_pos||0,s=n-i,a=this.isBottom,o=this.fileHash,r=this.diffViewType,l=!0,c=n-1,u=c-q.y,d=c;if(a)u=c=n+1,d=c+q.y;else{var p=R.c(this.diffFiles,this.fileHash),m=R.d(p.highlighted_diff_lines,{oldLineNumber:i,newLineNumber:n}),g=p.highlighted_diff_lines[m-2],v=g&&g.new_line||0;u<=v+1&&(u=v+1,l=!1)}var b={since:u,to:d,bottom:a,offset:s,unfold:l,view:r},_={oldLineNumber:i,newLineNumber:n};this.loadMoreLines({endpoint:t,params:b,lineNumbers:_,fileHash:o}).then(function(){e.isRequesting=!1}).catch(function(){Object(h.a)(Object(f.e)("Diffs|Something went wrong while fetching diff lines.")),e.isRequesting=!1})}}})},W=Object(y.a)(U,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isMatchLine?i("span",{staticClass:"context-cell",attrs:{role:"button"},on:{click:e.handleLoadMoreLines}},[e._v("...")]):[i("button",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowCommentButton,expression:"shouldShowCommentButton"}],staticClass:"add-diff-note js-add-diff-note-button qa-diff-comment",attrs:{type:"button",title:"Add a comment to this line"},on:{click:e.handleCommentButton}},[i("icon",{attrs:{size:12,name:"comment"}})],1),e._v(" "),e.lineNumber?i("a",{attrs:{"data-linenumber":e.lineNumber,href:e.lineHref},on:{click:function(t){e.setHighlightedRow(e.lineCode)}}}):e._e(),e._v(" "),e.shouldShowAvatarsOnGutter?i("diff-gutter-avatars",{attrs:{discussions:e.line.discussions}}):e._e()]],2)},[],!1,null,null,null);function V(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}W.options.__file="diff_line_gutter_content.vue";var z={components:{DiffLineGutterContent:W.exports},props:{line:{type:Object,required:!0},fileHash:{type:String,required:!0},contextLinesPath:{type:String,required:!0},isHighlighted:{type:Boolean,required:!0,default:!1},diffViewType:{type:String,required:!1,default:q.h},showCommentButton:{type:Boolean,required:!1,default:!1},linePosition:{type:String,required:!1,default:""},lineType:{type:String,required:!1,default:""},isContentLine:{type:Boolean,required:!1,default:!1},isBottom:{type:Boolean,required:!1,default:!1},isHover:{type:Boolean,required:!1,default:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){V(e,t,i[t])})}return e}({},Object(u.c)(["isLoggedIn"]),{isMatchLine:function(){return this.line.type===q.p},isContextLine:function(){return this.line.type===q.b},isMetaLine:function(){var e=this.line.type;return e===q.v||e===q.t||e===q.f},classNameMap:function(){var e,t=this.line.type;return V(e={hll:this.isHighlighted},t,t),V(e,q.o,this.isMatchLine),V(e,q.l,this.isLoggedIn&&this.isHover&&!this.isMatchLine&&!this.isContextLine&&!this.isMetaLine),e},lineNumber:function(){return this.lineType===q.u?this.line.old_line:this.line.new_line}}),methods:Object(u.b)("diffs",["setHighlightedRow"])},G=Object(y.a)(z,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{class:e.classNameMap},[i("diff-line-gutter-content",{attrs:{line:e.line,"file-hash":e.fileHash,"context-lines-path":e.contextLinesPath,"line-position":e.linePosition,"line-number":e.lineNumber,"show-comment-button":e.showCommentButton,"is-hover":e.isHover,"is-bottom":e.isBottom,"is-match-line":e.isMatchLine,"is-context-line":e.isContentLine,"is-meta-line":e.isMetaLine}})],1)},[],!1,null,null,null);G.options.__file="diff_table_cell.vue";var Y=G.exports;function J(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){K(e,t,i[t])})}return e}function K(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Q={components:{DiffTableCell:Y},props:{fileHash:{type:String,required:!0},contextLinesPath:{type:String,required:!0},line:{type:Object,required:!0},isBottom:{type:Boolean,required:!1,default:!1}},data:function(){return{isHover:!1}},computed:J({},Object(u.d)({isHighlighted:function(e){return null!==this.line.line_code&&this.line.line_code===e.diffs.highlightedRow}}),Object(u.c)("diffs",["isInlineView"]),{isContextLine:function(){return this.line.type===q.b},classNameMap:function(){var e;return K(e={},this.line.type,this.line.type),K(e,q.a,this.isContextLine),K(e,q.w,this.isParallelView),e},inlineRowId:function(){return this.line.line_code||"".concat(this.fileHash,"_").concat(this.line.old_line,"_").concat(this.line.new_line)}}),created:function(){this.newLineType=q.s,this.oldLineType=q.u,this.linePositionLeft=q.m,this.linePositionRight=q.n},mounted:function(){this.scrollToLineIfNeededInline(this.line)},methods:J({},Object(u.b)("diffs",["scrollToLineIfNeededInline"]),{handleMouseMove:function(e){this.isHover="mouseover"===e.type}})},X=Object(y.a)(Q,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"line_holder",class:e.classNameMap,attrs:{id:e.inlineRowId},on:{mouseover:e.handleMouseMove,mouseout:e.handleMouseMove}},[i("diff-table-cell",{staticClass:"diff-line-num old_line",attrs:{"file-hash":e.fileHash,"context-lines-path":e.contextLinesPath,line:e.line,"line-type":e.oldLineType,"is-bottom":e.isBottom,"is-hover":e.isHover,"show-comment-button":!0,"is-highlighted":e.isHighlighted}}),e._v(" "),i("diff-table-cell",{staticClass:"diff-line-num new_line qa-new-diff-line",attrs:{"file-hash":e.fileHash,"context-lines-path":e.contextLinesPath,line:e.line,"line-type":e.newLineType,"is-bottom":e.isBottom,"is-hover":e.isHover,"is-highlighted":e.isHighlighted}}),e._v(" "),i("td",{staticClass:"line_content",class:[e.line.type,{hll:e.isHighlighted}],domProps:{innerHTML:e._s(e.line.rich_text)}})],1)},[],!1,null,null,null);X.options.__file="inline_diff_table_row.vue";var Z=X.exports;function ee(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var te={components:{noteableDiscussion:i(395).a,Icon:d.a},props:{discussions:{type:Array,required:!0},line:{type:Object,required:!1,default:null},shouldCollapseDiscussions:{type:Boolean,required:!1,default:!1},renderAvatarBadge:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){ee(e,t,i[t])})}return e}({},Object(u.b)(["toggleDiscussion"]),Object(u.b)("diffs",["removeDiscussionsFromDiff"]),{deleteNoteHandler:function(e){e.notes.length<=1&&this.removeDiscussionsFromDiff(e)},isExpanded:function(e){return!this.shouldCollapseDiscussions||e.expanded}})},ie=Object(y.a)(te,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.discussions,function(t,n){return i("div",{key:t.id,staticClass:"discussion-notes diff-discussions position-relative",class:{collapsed:!e.isExpanded(t)}},[i("ul",{staticClass:"notes",attrs:{"data-discussion-id":t.id}},[e.shouldCollapseDiscussions?[i("button",{staticClass:"js-diff-notes-toggle",class:{"diff-notes-collapse":t.expanded,"btn-transparent badge badge-pill":!t.expanded},attrs:{type:"button"},on:{click:function(i){e.toggleDiscussion({discussionId:t.id})}}},[t.expanded?i("icon",{staticClass:"collapse-icon",attrs:{name:"collapse"}}):[e._v("\n            "+e._s(n+1)+"\n          ")]],2)]:e._e(),e._v(" "),i("noteable-discussion",{directives:[{name:"show",rawName:"v-show",value:e.isExpanded(t),expression:"isExpanded(discussion)"}],attrs:{discussion:t,"render-diff-file":!1,"always-expanded":!0,"discussions-by-diff-order":!0,line:e.line,"help-page-path":e.helpPagePath},on:{noteDeleted:e.deleteNoteHandler}},[e.renderAvatarBadge?i("span",{staticClass:"badge badge-pill",attrs:{slot:"avatar-badge"},slot:"avatar-badge"},[e._v("\n          "+e._s(n+1)+"\n        ")]):e._e()])],2)])}),0)},[],!1,null,null,null);ie.options.__file="diff_discussions.vue";var ne=ie.exports,se=i(264),ae=i(304);function oe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){re(e,t,i[t])})}return e}function re(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var le={components:{noteForm:se.a},mixins:[ae.a],props:{diffFileHash:{type:String,required:!0},line:{type:Object,required:!0},linePosition:{type:String,required:!1,default:""},noteTargetLine:{type:Object,required:!0}},computed:oe({},Object(u.d)({noteableData:function(e){return e.notes.noteableData},diffViewType:function(e){return e.diffs.diffViewType}}),Object(u.c)("diffs",["getDiffFileByHash"]),Object(u.c)(["isLoggedIn","noteableType","getNoteableData","getNotesDataByProp"]),{formData:function(){return{noteableData:this.noteableData,noteableType:this.noteableType,noteTargetLine:this.noteTargetLine,diffViewType:this.diffViewType,diffFile:this.getDiffFileByHash(this.diffFileHash),linePosition:this.linePosition}}}),mounted:function(){if(this.isLoggedIn){var e=[this.noteableData.diff_head_sha,q.d,this.noteableData.source_project_id,this.line.line_code];this.initAutoSave(this.noteableData,e)}},methods:oe({},Object(u.b)("diffs",["cancelCommentForm","assignDiscussionsToDiff","saveDiffDiscussion"]),{handleCancelCommentForm:function(e,t){var i=this;if(e&&t){var n=Object(f.e)("Notes|Are you sure you want to cancel creating this comment?");if(!window.confirm(n))return}this.cancelCommentForm({lineCode:this.line.line_code,fileHash:this.diffFileHash}),this.$nextTick(function(){i.resetAutoSave()})},handleSaveNote:function(e){var t=this;return this.saveDiffDiscussion({note:e,formData:this.formData}).then(function(){return t.handleCancelCommentForm()})}})},ce=Object(y.a)(le,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"content discussion-form discussion-form-container discussion-notes"},[t("note-form",{ref:"noteForm",staticClass:"diff-comment-form",attrs:{"is-editing":!0,"line-code":this.line.line_code,line:this.line,"save-button-title":"Comment"},on:{cancelForm:this.handleCancelCommentForm,handleFormUpdate:this.handleSaveNote}})],1)},[],!1,null,null,null);ce.options.__file="diff_line_note_form.vue";var ue=ce.exports,de={components:{diffDiscussions:ne,diffLineNoteForm:ue},props:{line:{type:Object,required:!0},diffFileHash:{type:String,required:!0},helpPagePath:{type:String,required:!1,default:""}},computed:{className:function(){return this.line.discussions.length?"":"js-temp-notes-holder"},shouldRender:function(){return!!this.line.hasForm||!(!this.line.discussions||!this.line.discussions.length)&&this.line.discussions.every(function(e){return e.expanded})}}},fe=Object(y.a)(de,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.shouldRender?i("tr",{staticClass:"notes_holder",class:e.className},[i("td",{staticClass:"notes_content",attrs:{colspan:"3"}},[i("div",{staticClass:"content"},[e.line.discussions.length?i("diff-discussions",{attrs:{line:e.line,discussions:e.line.discussions,"help-page-path":e.helpPagePath}}):e._e(),e._v(" "),e.line.hasForm?i("diff-line-note-form",{attrs:{"diff-file-hash":e.diffFileHash,line:e.line,"note-target-line":e.line}}):e._e()],1)])]):e._e()},[],!1,null,null,null);function he(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}fe.options.__file="inline_diff_comment_row.vue";var pe={components:{inlineDiffCommentRow:fe.exports,inlineDiffTableRow:Z},props:{diffFile:{type:Object,required:!0},diffLines:{type:Array,required:!0},helpPagePath:{type:String,required:!1,default:""}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){he(e,t,i[t])})}return e}({},Object(u.c)("diffs",["commitId"]),{diffLinesLength:function(){return this.diffLines.length}}),userColorScheme:window.gon.user_color_scheme},me=Object(y.a)(pe,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",{staticClass:"code diff-wrap-lines js-syntax-highlight text-file js-diff-inline-view",class:e.$options.userColorScheme,attrs:{"data-commit-id":e.commitId}},[i("tbody",[e._l(e.diffLines,function(t,n){return[i("inline-diff-table-row",{key:t.line_code,attrs:{"file-hash":e.diffFile.file_hash,"context-lines-path":e.diffFile.context_lines_path,line:t,"is-bottom":n+1===e.diffLinesLength}}),e._v(" "),i("inline-diff-comment-row",{key:"icr-"+(t.line_code||n),attrs:{"diff-file-hash":e.diffFile.file_hash,line:t,"help-page-path":e.helpPagePath}})]})],2)])},[],!1,null,null,null);me.options.__file="inline_diff_view.vue";var ge=me.exports;function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function be(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){_e(e,t,i[t])})}return e}function _e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ye={components:{DiffTableCell:Y},props:{fileHash:{type:String,required:!0},contextLinesPath:{type:String,required:!0},line:{type:Object,required:!0},isBottom:{type:Boolean,required:!1,default:!1}},data:function(){return{isLeftHover:!1,isRightHover:!1}},computed:be({},Object(u.d)({isHighlighted:function(e){var t=this.line.left&&this.line.left.line_code||this.line.right&&this.line.right.line_code;return!!t&&t===e.diffs.highlightedRow}}),{isContextLine:function(){return this.line.left&&this.line.left.type===q.b},classNameMap:function(){var e;return _e(e={},q.a,this.isContextLine),_e(e,q.w,!0),e},parallelViewLeftLineType:function(){return this.line.right&&this.line.right.type===q.t?q.v:[this.line.left?this.line.left.type:q.f,{hll:this.isHighlighted}]}}),created:function(){this.newLineType=q.s,this.oldLineType=q.u,this.parallelDiffViewType=q.w},mounted:function(){this.scrollToLineIfNeededParallel(this.line)},methods:be({},Object(u.b)("diffs",["scrollToLineIfNeededParallel"]),{handleMouseMove:function(e){var t="mouseover"===e.type,i=e.target.closest("td");Array.from(e.currentTarget.children).indexOf(i)>=2?this.isRightHover=t:this.isLeftHover=t},handleParallelLineMouseDown:function(e){var t=l()(e.currentTarget),i=t.closest("table");i.removeClass("left-side-selected right-side-selected");var n=ve(["left-side","right-side"].filter(function(e){return t.hasClass(e)}),1)[0];n&&i.addClass("".concat(n,"-selected"))}})},we=Object(y.a)(ye,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"line_holder",class:e.classNameMap,on:{mouseover:e.handleMouseMove,mouseout:e.handleMouseMove}},[e.line.left?[i("diff-table-cell",{staticClass:"diff-line-num old_line",attrs:{"file-hash":e.fileHash,"context-lines-path":e.contextLinesPath,line:e.line.left,"line-type":e.oldLineType,"is-bottom":e.isBottom,"is-hover":e.isLeftHover,"is-highlighted":e.isHighlighted,"show-comment-button":!0,"diff-view-type":e.parallelDiffViewType,"line-position":"left"}}),e._v(" "),i("td",{staticClass:"line_content parallel left-side",class:e.parallelViewLeftLineType,attrs:{id:e.line.left.line_code},domProps:{innerHTML:e._s(e.line.left.rich_text)},nativeOn:{mousedown:function(t){return e.handleParallelLineMouseDown(t)}}})]:[i("td",{staticClass:"diff-line-num old_line empty-cell"}),e._v(" "),i("td",{staticClass:"line_content parallel left-side empty-cell"})],e._v(" "),e.line.right?[i("diff-table-cell",{staticClass:"diff-line-num new_line",attrs:{"file-hash":e.fileHash,"context-lines-path":e.contextLinesPath,line:e.line.right,"line-type":e.newLineType,"is-bottom":e.isBottom,"is-hover":e.isRightHover,"is-highlighted":e.isHighlighted,"show-comment-button":!0,"diff-view-type":e.parallelDiffViewType,"line-position":"right"}}),e._v(" "),i("td",{staticClass:"line_content parallel right-side",class:[e.line.right.type,{hll:e.isHighlighted}],attrs:{id:e.line.right.line_code},domProps:{innerHTML:e._s(e.line.right.rich_text)},nativeOn:{mousedown:function(t){return e.handleParallelLineMouseDown(t)}}})]:[i("td",{staticClass:"diff-line-num old_line empty-cell"}),e._v(" "),i("td",{staticClass:"line_content parallel right-side empty-cell"})]],2)},[],!1,null,null,null);we.options.__file="parallel_diff_table_row.vue";var Ce=we.exports,ke={components:{diffDiscussions:ne,diffLineNoteForm:ue},props:{line:{type:Object,required:!0},diffFileHash:{type:String,required:!0},lineIndex:{type:Number,required:!0},helpPagePath:{type:String,required:!1,default:""}},computed:{hasExpandedDiscussionOnLeft:function(){return!(!this.line.left||!this.line.left.discussions.length)&&this.line.left.discussions.every(function(e){return e.expanded})},hasExpandedDiscussionOnRight:function(){return!(!this.line.right||!this.line.right.discussions.length)&&this.line.right.discussions.every(function(e){return e.expanded})},hasAnyExpandedDiscussion:function(){return this.hasExpandedDiscussionOnLeft||this.hasExpandedDiscussionOnRight},shouldRenderDiscussionsOnLeft:function(){return this.line.left&&this.line.left.discussions&&this.hasExpandedDiscussionOnLeft},shouldRenderDiscussionsOnRight:function(){return this.line.right&&this.line.right.discussions&&this.hasExpandedDiscussionOnRight&&this.line.right.type},showRightSideCommentForm:function(){return this.line.right&&this.line.right.type&&this.line.right.hasForm},showLeftSideCommentForm:function(){return this.line.left&&this.line.left.hasForm},className:function(){return this.left&&this.line.left.discussions.length>0||this.right&&this.line.right.discussions.length>0?"":"js-temp-notes-holder"},shouldRender:function(){var e=this.line;if((e.left&&e.left.discussions&&e.left.discussions.length||e.right&&e.right.discussions&&e.right.discussions.length)&&(this.hasExpandedDiscussionOnLeft||this.hasExpandedDiscussionOnRight))return!0;var t=e.left&&e.left.hasForm,i=e.right&&e.right.hasForm;return t||i}}},je=Object(y.a)(ke,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.shouldRender?i("tr",{staticClass:"notes_holder",class:e.className},[i("td",{staticClass:"notes_content parallel old",attrs:{colspan:"2"}},[e.shouldRenderDiscussionsOnLeft?i("div",{staticClass:"content"},[e.line.left.discussions.length?i("diff-discussions",{attrs:{discussions:e.line.left.discussions,line:e.line.left,"help-page-path":e.helpPagePath}}):e._e()],1):e._e(),e._v(" "),e.showLeftSideCommentForm?i("diff-line-note-form",{attrs:{"diff-file-hash":e.diffFileHash,line:e.line.left,"note-target-line":e.line.left,"line-position":"left"}}):e._e()],1),e._v(" "),i("td",{staticClass:"notes_content parallel new",attrs:{colspan:"2"}},[e.shouldRenderDiscussionsOnRight?i("div",{staticClass:"content"},[e.line.right.discussions.length?i("diff-discussions",{attrs:{discussions:e.line.right.discussions,line:e.line.right,"help-page-path":e.helpPagePath}}):e._e()],1):e._e(),e._v(" "),e.showRightSideCommentForm?i("diff-line-note-form",{attrs:{"diff-file-hash":e.diffFileHash,line:e.line.right,"note-target-line":e.line.right,"line-position":"right"}}):e._e()],1)]):e._e()},[],!1,null,null,null);function Se(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}je.options.__file="parallel_diff_comment_row.vue";var Oe={components:{parallelDiffTableRow:Ce,parallelDiffCommentRow:je.exports},props:{diffFile:{type:Object,required:!0},diffLines:{type:Array,required:!0},helpPagePath:{type:String,required:!1,default:""}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){Se(e,t,i[t])})}return e}({},Object(u.c)("diffs",["commitId"]),{diffLinesLength:function(){return this.diffLines.length}}),userColorScheme:window.gon.user_color_scheme},xe=Object(y.a)(Oe,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"code diff-wrap-lines js-syntax-highlight text-file",class:e.$options.userColorScheme,attrs:{"data-commit-id":e.commitId}},[i("table",[i("tbody",[e._l(e.diffLines,function(t,n){return[i("parallel-diff-table-row",{key:t.line_code,attrs:{"file-hash":e.diffFile.file_hash,"context-lines-path":e.diffFile.context_lines_path,line:t,"is-bottom":n+1===e.diffLinesLength}}),e._v(" "),i("parallel-diff-comment-row",{key:"dcr-"+(t.line_code||n),attrs:{line:t,"diff-file-hash":e.diffFile.file_hash,"line-index":n,"help-page-path":e.helpPagePath}})]})],2)])])},[],!1,null,null,null);xe.options.__file="parallel_diff_view.vue";var De=xe.exports,Te=i(399);function Ee(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){Pe(e,t,i[t])})}return e}function Pe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ie={components:{InlineDiffView:ge,ParallelDiffView:De,DiffViewer:E.a,NoteForm:se.a,DiffDiscussions:ne,ImageDiffOverlay:Te.a,EmptyFileViewer:I},props:{diffFile:{type:Object,required:!0},helpPagePath:{type:String,required:!1,default:""}},computed:Ee({},Object(u.d)({projectPath:function(e){return e.diffs.projectPath},endpoint:function(e){return e.diffs.endpoint}}),Object(u.c)("diffs",["isInlineView","isParallelView"]),Object(u.c)("diffs",["getCommentFormForDiffFile"]),Object(u.c)(["getNoteableData","noteableType"]),{diffMode:function(){return Object(R.f)(this.diffFile)},isTextFile:function(){return"text"===this.diffFile.viewer.name},errorMessage:function(){return this.diffFile.viewer.error},diffFileCommentForm:function(){return this.getCommentFormForDiffFile(this.diffFile.file_hash)},showNotesContainer:function(){return this.diffFile.discussions.length||this.diffFileCommentForm}}),methods:Ee({},Object(u.b)("diffs",["saveDiffDiscussion","closeDiffFileCommentForm"]),{handleSaveNote:function(e){this.saveDiffDiscussion({note:e,formData:{noteableData:this.getNoteableData,noteableType:this.noteableType,diffFile:this.diffFile,positionType:q.g,x:this.diffFileCommentForm.x,y:this.diffFileCommentForm.y,width:this.diffFileCommentForm.width,height:this.diffFileCommentForm.height}})}})},Ne=Object(y.a)(Ie,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-content"},[e.errorMessage?i("div",{staticClass:"diff-viewer"},[i("div",{staticClass:"nothing-here-block",domProps:{innerHTML:e._s(e.errorMessage)}})]):i("div",{staticClass:"diff-viewer"},[e.isTextFile?[e.diffFile.empty?i("empty-file-viewer"):e.isInlineView?i("inline-diff-view",{attrs:{"diff-file":e.diffFile,"diff-lines":e.diffFile.highlighted_diff_lines||[],"help-page-path":e.helpPagePath}}):e.isParallelView?i("parallel-diff-view",{attrs:{"diff-file":e.diffFile,"diff-lines":e.diffFile.parallel_diff_lines||[],"help-page-path":e.helpPagePath}}):e._e()]:i("diff-viewer",{attrs:{"diff-mode":e.diffMode,"new-path":e.diffFile.new_path,"new-sha":e.diffFile.diff_refs.head_sha,"old-path":e.diffFile.old_path,"old-sha":e.diffFile.diff_refs.base_sha,"file-hash":e.diffFile.file_hash,"project-path":e.projectPath,"a-mode":e.diffFile.a_mode,"b-mode":e.diffFile.b_mode}},[i("image-diff-overlay",{attrs:{slot:"image-overlay",discussions:e.diffFile.discussions,"file-hash":e.diffFile.file_hash,"can-comment":e.getNoteableData.current_user.can_create_note},slot:"image-overlay"}),e._v(" "),e.showNotesContainer?i("div",{staticClass:"note-container"},[e.diffFile.discussions.length?i("diff-discussions",{staticClass:"diff-file-discussions",attrs:{discussions:e.diffFile.discussions,"should-collapse-discussions":!0,"render-avatar-badge":!0}}):e._e(),e._v(" "),e.diffFileCommentForm?i("note-form",{ref:"noteForm",staticClass:"diff-comment-form new-note discussion-form discussion-form-container",attrs:{"is-editing":!1,"save-button-title":e.__("Comment")},on:{handleFormUpdate:e.handleSaveNote,cancelForm:function(t){e.closeDiffFileCommentForm(e.diffFile.file_hash)}}}):e._e()],1):e._e()],1)],2)])},[],!1,null,null,null);Ne.options.__file="diff_content.vue";var Le=Ne.exports;function qe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){Me(e,t,i[t])})}return e}function Me(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ae={components:{DiffFileHeader:T.a,DiffContent:Le,GlLoadingIcon:p.e},props:{file:{type:Object,required:!0},canCurrentUserFork:{type:Boolean,required:!0},helpPagePath:{type:String,required:!1,default:""}},data:function(){return{isLoadingCollapsedDiff:!1,forkMessageVisible:!1}},computed:qe({},Object(u.d)("diffs",["currentDiffFileId"]),Object(u.c)(["isNotesFetched"]),Object(u.c)("diffs",["getDiffFileDiscussions"]),{isCollapsed:function(){return this.file.collapsed||!1},viewBlobLink:function(){return Object(f.f)(Object(f.a)("You can %{linkStart}view the blob%{linkEnd} instead."),{linkStart:'<a href="'.concat(D.a.escape(this.file.view_path),'">'),linkEnd:"</a>"},!1)},showExpandMessage:function(){return this.isCollapsed||!this.file.highlighted_diff_lines&&!this.isLoadingCollapsedDiff&&!this.file.too_large&&this.file.text&&!this.file.renamed_file&&!this.file.mode_changed},showLoadingIcon:function(){return this.isLoadingCollapsedDiff||!this.file.renderIt&&!this.isCollapsed},hasDiffLines:function(){return this.file.highlighted_diff_lines&&this.file.parallel_diff_lines&&this.file.parallel_diff_lines.length>0}}),watch:{"file.collapsed":function(e,t){e||!t||this.hasDiffLines||this.handleLoadCollapsedDiff()}},created:function(){m.a.$on("loadCollapsedDiff/".concat(this.file.file_hash),this.handleLoadCollapsedDiff)},methods:qe({},Object(u.b)("diffs",["loadCollapsedDiff","assignDiscussionsToDiff"]),{handleToggle:function(){this.hasDiffLines?(this.file.collapsed=!this.file.collapsed,this.file.renderIt=!0):this.handleLoadCollapsedDiff()},handleLoadCollapsedDiff:function(){var e=this;this.isLoadingCollapsedDiff=!0,this.loadCollapsedDiff(this.file).then(function(){e.isLoadingCollapsedDiff=!1,e.file.collapsed=!1,e.file.renderIt=!0}).then(function(){requestIdleCallback(function(){e.assignDiscussionsToDiff(e.getDiffFileDiscussions(e.file))},{timeout:1e3})}).catch(function(){e.isLoadingCollapsedDiff=!1,Object(h.a)(Object(f.a)("Something went wrong on our end. Please try again!"))})},showForkMessage:function(){this.forkMessageVisible=!0},hideForkMessage:function(){this.forkMessageVisible=!1}})},Fe=(i(1318),Object(y.a)(Ae,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-file file-holder",class:{"is-active":e.currentDiffFileId===e.file.file_hash},attrs:{id:e.file.file_hash}},[i("diff-file-header",{staticClass:"js-file-title file-title",attrs:{"can-current-user-fork":e.canCurrentUserFork,"diff-file":e.file,collapsible:!0,expanded:!e.isCollapsed,"add-merge-request-buttons":!0},on:{toggleFile:e.handleToggle,showForkMessage:e.showForkMessage}}),e._v(" "),e.forkMessageVisible?i("div",{staticClass:"js-file-fork-suggestion-section file-fork-suggestion"},[e._m(0),e._v(" "),i("a",{staticClass:"js-fork-suggestion-button btn btn-grouped btn-inverted btn-success",attrs:{href:e.file.fork_path}},[e._v("Fork")]),e._v(" "),i("button",{staticClass:"js-cancel-fork-suggestion-button btn btn-grouped",attrs:{type:"button"},on:{click:e.hideForkMessage}},[e._v("\n      Cancel\n    ")])]):e._e(),e._v(" "),!e.isCollapsed&&e.file.renderIt?i("diff-content",{class:{hidden:e.isCollapsed||e.file.too_large},attrs:{"diff-file":e.file,"help-page-path":e.helpPagePath}}):e._e(),e._v(" "),e.showLoadingIcon?i("gl-loading-icon",{staticClass:"diff-content loading"}):e.showExpandMessage?i("div",{staticClass:"nothing-here-block diff-collapsed"},[e._v("\n    "+e._s(e.__("This diff is collapsed."))+"\n    "),i("a",{staticClass:"click-to-expand js-click-to-expand",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.handleToggle(t)}}},[e._v(e._s(e.__("Click to expand it.")))])]):e._e(),e._v(" "),e.file.too_large?i("div",{staticClass:"nothing-here-block diff-collapsed js-too-large-diff"},[e._v("\n    "+e._s(e.__("This source diff could not be displayed because it is too large."))+"\n    "),i("span",{domProps:{innerHTML:e._s(e.viewBlobLink)}})]):e._e()],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"file-fork-suggestion-note"},[this._v("\n      You're not allowed to "),t("span",{staticClass:"js-file-fork-suggestion-section-action"},[this._v("edit")]),this._v(" files\n      in this project directly. Please fork this project, make your changes there, and submit a\n      merge request.\n    ")])}],!1,null,null,null));Fe.options.__file="diff_file.vue";var Be=Fe.exports;function Re(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var $e={components:{GlButton:p.b},props:{changesEmptyStateIllustration:{type:String,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){Re(e,t,i[t])})}return e}({},Object(u.c)(["getNoteableData"]),{emptyStateText:function(){return Object(f.f)(Object(f.a)("No changes between %{ref_start}%{source_branch}%{ref_end} and %{ref_start}%{target_branch}%{ref_end}"),{ref_start:'<span class="ref-name">',ref_end:"</span>",source_branch:D.a.escape(this.getNoteableData.source_branch),target_branch:D.a.escape(this.getNoteableData.target_branch)},!1)}})},He=Object(y.a)($e,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row empty-state"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"svg-content svg-250"},[i("img",{attrs:{src:e.changesEmptyStateIllustration}})])]),e._v(" "),i("div",{staticClass:"col-12"},[i("div",{staticClass:"text-content text-center"},[i("span",{domProps:{innerHTML:e._s(e.emptyStateText)}}),e._v(" "),i("div",{staticClass:"text-center"},[i("gl-button",{attrs:{href:e.getNoteableData.new_blob_path,variant:"success"}},[e._v(e._s(e.__("Create commit")))])],1)])])])},[],!1,null,null,null);He.options.__file="no_changes.vue";var Ue=He.exports,We={props:{total:{type:String,required:!0},visible:{type:Number,required:!0},plainDiffPath:{type:String,required:!0},emailPatchPath:{type:String,required:!0}}},Ve=Object(y.a)(We,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"alert alert-warning"},[i("h4",[e._v("\n    "+e._s(e.__("Too many changes to show."))+"\n    "),i("div",{staticClass:"pull-right"},[i("a",{staticClass:"btn btn-sm",attrs:{href:e.plainDiffPath}},[e._v(" "+e._s(e.__("Plain diff"))+" ")]),e._v(" "),i("a",{staticClass:"btn btn-sm",attrs:{href:e.emailPatchPath}},[e._v(" "+e._s(e.__("Email patch"))+" ")])])]),e._v(" "),i("p",[e._v("\n    To preserve performance only "),i("strong",[e._v(" "+e._s(e.visible)+" of "+e._s(e.total)+" ")]),e._v(" files are\n    displayed.\n  ")])])},[],!1,null,null,null);Ve.options.__file="hidden_files_warning.vue";var ze=Ve.exports,Ge=i(91),Ye=i(174),Je=i(89),Ke=i(368),Qe=i(325),Xe={components:{UserAvatarLink:Ge.a,Icon:d.a,ClipboardButton:Ye.a,CIIcon:Je.a,TimeAgoTooltip:v.a,CommitPipelineStatus:Ke.a},props:{commit:{type:Object,required:!0}},computed:{author:function(){return this.commit.author||{}},authorName:function(){return this.author.name||this.commit.author_name},authorClass:function(){return this.author.name?"js-user-link":""},authorId:function(){return this.author.id?this.author.id:""},authorUrl:function(){return this.author.web_url||"mailto:".concat(this.commit.author_email)},authorAvatar:function(){return this.author.avatar_url||this.commit.author_gravatar_url}},created:function(){var e=this;this.$nextTick(function(){Object(Qe.a)(e.$el.querySelectorAll(".js-user-link"))})}},Ze=Object(y.a)(Xe,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"commit flex-row js-toggle-container"},[i("user-avatar-link",{staticClass:"avatar-cell d-none d-sm-block",attrs:{"link-href":e.authorUrl,"img-src":e.authorAvatar,"img-alt":e.authorName,"img-size":36}}),e._v(" "),i("div",{staticClass:"commit-detail flex-list"},[i("div",{staticClass:"commit-content qa-commit-content"},[i("a",{staticClass:"commit-row-message item-title",attrs:{href:e.commit.commit_url},domProps:{innerHTML:e._s(e.commit.title_html)}}),e._v(" "),i("span",{staticClass:"commit-row-message d-block d-sm-none"},[e._v(" · "+e._s(e.commit.short_id)+" ")]),e._v(" "),e.commit.description_html?i("button",{staticClass:"text-expander js-toggle-button",attrs:{type:"button","aria-label":e.__("Toggle commit description")}},[i("icon",{attrs:{size:12,name:"ellipsis_h"}})],1):e._e(),e._v(" "),i("div",{staticClass:"commiter"},[i("a",{class:e.authorClass,attrs:{href:e.authorUrl,"data-user-id":e.authorId},domProps:{textContent:e._s(e.authorName)}}),e._v("\n        "+e._s(e.s__("CommitWidget|authored"))+"\n        "),i("time-ago-tooltip",{attrs:{time:e.commit.authored_date}})],1),e._v(" "),e.commit.description_html?i("pre",{staticClass:"commit-row-description js-toggle-content append-bottom-8",domProps:{innerHTML:e._s(e.commit.description_html)}}):e._e()]),e._v(" "),i("div",{staticClass:"commit-actions flex-row d-none d-sm-flex"},[e.commit.signature_html?i("div",{domProps:{innerHTML:e._s(e.commit.signature_html)}}):e._e(),e._v(" "),e.commit.pipeline_status_path?i("commit-pipeline-status",{attrs:{endpoint:e.commit.pipeline_status_path}}):e._e(),e._v(" "),i("div",{staticClass:"commit-sha-group"},[i("div",{staticClass:"label label-monospace",domProps:{textContent:e._s(e.commit.short_id)}}),e._v(" "),i("clipboard-button",{staticClass:"btn btn-default",attrs:{text:e.commit.id,title:e.__("Copy commit SHA to clipboard")}})],1)],1)])],1)},[],!1,null,null,null);Ze.options.__file="commit_item.vue";var et={components:{CommitItem:Ze.exports},props:{commit:{type:Object,required:!0}}},tt=Object(y.a)(et,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"info-well w-100"},[t("div",{staticClass:"well-segment"},[t("ul",{staticClass:"blob-commit-info"},[t("commit-item",{attrs:{commit:this.commit}})],1)])])},[],!1,null,null,null);tt.options.__file="commit_widget.vue";var it=tt.exports,nt=i(13),st=i(504),at={props:{file:{type:Object,required:!0}}},ot=(i(1320),Object(y.a)(at,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"file-row-stats"},[t("span",{staticClass:"cgreen"},[this._v(" +"+this._s(this.file.addedLines)+" ")]),this._v(" "),t("span",{staticClass:"cred"},[this._v(" -"+this._s(this.file.removedLines)+" ")])])}],!1,null,null,null));ot.options.__file="file_row_stats.vue";var rt=ot.exports;function lt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){ct(e,t,i[t])})}return e}function ct(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ut={directives:{GlTooltip:p.n},components:{Icon:d.a,FileRow:st.a},data:function(){var e=localStorage.getItem("mr_diff_tree_list");return{search:"",renderTreeList:null===e||Object(nt.A)(e),focusSearch:!1}},computed:lt({},Object(u.d)("diffs",["tree","addedLines","removedLines"]),Object(u.c)("diffs",["allBlobs","diffFilesLength"]),{filteredTreeList:function(){var e=this.search.toLowerCase().trim();return""===e?this.renderTreeList?this.tree:this.allBlobs:this.allBlobs.filter(function(t){return t.path.toLowerCase().indexOf(e)>=0})},rowDisplayTextKey:function(){return this.renderTreeList&&""===this.search.trim()?"name":"path"}}),methods:lt({},Object(u.b)("diffs",["toggleTreeOpen","scrollToFile"]),{clearSearch:function(){this.search="",this.toggleFocusSearch(!1)},toggleRenderTreeList:function(e){this.renderTreeList=e,localStorage.setItem("mr_diff_tree_list",this.renderTreeList)},toggleFocusSearch:function(e){this.focusSearch=e},blurSearch:function(){""===this.search.trim()&&this.toggleFocusSearch(!1)}}),FileRowStats:rt},dt=Object(y.a)(ut,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tree-list-holder d-flex flex-column"},[i("div",{staticClass:"append-bottom-8 position-relative tree-list-search d-flex"},[i("div",{staticClass:"flex-fill d-flex"},[i("icon",{staticClass:"position-absolute tree-list-icon",attrs:{name:"search"}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{placeholder:e.s__("MergeRequest|Filter files"),type:"search"},domProps:{value:e.search},on:{focus:function(t){e.toggleFocusSearch(!0)},blur:e.blurSearch,input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.search,expression:"search"}],staticClass:"position-absolute bg-transparent tree-list-icon tree-list-clear-icon border-0 p-0",attrs:{"aria-label":e.__("Clear search"),type:"button"},on:{click:e.clearSearch}},[i("icon",{attrs:{name:"close"}})],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.focusSearch,expression:"!focusSearch"}],staticClass:"btn-group prepend-left-8 tree-list-view-toggle"},[i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-default pt-0 pb-0 d-flex align-items-center",class:{active:!e.renderTreeList},attrs:{"aria-label":e.__("List view"),title:e.__("List view"),type:"button"},on:{click:function(t){e.toggleRenderTreeList(!1)}}},[i("icon",{attrs:{name:"hamburger"}})],1),e._v(" "),i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-default pt-0 pb-0 d-flex align-items-center",class:{active:e.renderTreeList},attrs:{"aria-label":e.__("Tree view"),title:e.__("Tree view"),type:"button"},on:{click:function(t){e.toggleRenderTreeList(!0)}}},[i("icon",{attrs:{name:"file-tree"}})],1)])]),e._v(" "),i("div",{staticClass:"tree-list-scroll"},[e.filteredTreeList.length?e._l(e.filteredTreeList,function(t){return i("file-row",{key:t.key,attrs:{file:t,level:0,"hide-extra-on-tree":!0,"extra-component":e.$options.FileRowStats,"show-changed-icon":!0,"display-text-key":e.rowDisplayTextKey,"should-truncate-start":!0},on:{toggleTreeOpen:e.toggleTreeOpen,clickFile:e.scrollToFile}})}):i("p",{staticClass:"prepend-top-20 append-bottom-20 text-center"},[e._v("\n      "+e._s(e.s__("MergeRequest|No files found"))+"\n    ")])],2),e._v(" "),e._m(0)])},[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pt-3 pb-3 text-center"},[e._v("\n    "+e._s(e.n__("%d changed file","%d changed files",e.diffFilesLength))+"\n    "),i("div",[i("span",{staticClass:"cgreen"},[e._v(" "+e._s(e.n__("%d addition","%d additions",e.addedLines))+" ")]),e._v(" "),i("span",{staticClass:"cred"},[e._v(" "+e._s(e.n__("%d deleted","%d deletions",e.removedLines))+" ")])])])}],!1,null,null,null);dt.options.__file="tree_list.vue";var ft=dt.exports;function ht(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){pt(e,t,i[t])})}return e}function pt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var mt={name:"DiffsApp",components:{Icon:d.a,CompareVersions:O,DiffFile:Be,NoChanges:Ue,HiddenFilesWarning:ze,CommitWidget:it,TreeList:ft,GlLoadingIcon:p.e},props:{endpoint:{type:String,required:!0},projectPath:{type:String,required:!0},shouldShow:{type:Boolean,required:!1,default:!1},currentUser:{type:Object,required:!0},helpPagePath:{type:String,required:!1,default:""},changesEmptyStateIllustration:{type:String,required:!1,default:""}},data:function(){return{assignedDiscussions:!1}},computed:ht({},Object(u.d)({isLoading:function(e){return e.diffs.isLoading},diffFiles:function(e){return e.diffs.diffFiles},diffViewType:function(e){return e.diffs.diffViewType},mergeRequestDiffs:function(e){return e.diffs.mergeRequestDiffs},mergeRequestDiff:function(e){return e.diffs.mergeRequestDiff},commit:function(e){return e.diffs.commit},targetBranchName:function(e){return e.diffs.targetBranchName},renderOverflowWarning:function(e){return e.diffs.renderOverflowWarning},numTotalFiles:function(e){return e.diffs.realSize},numVisibleFiles:function(e){return e.diffs.size},plainDiffPath:function(e){return e.diffs.plainDiffPath},emailPatchPath:function(e){return e.diffs.emailPatchPath}}),Object(u.d)("diffs",["showTreeList","isLoading","startVersion"]),Object(u.c)("diffs",["isParallelView"]),Object(u.c)(["isNotesFetched","getNoteableData"]),{targetBranch:function(){return{branchName:this.targetBranchName,versionIndex:-1,path:""}},canCurrentUserFork:function(){return!0===this.currentUser.can_fork&&this.currentUser.can_create_merge_request},showCompareVersions:function(){return this.mergeRequestDiffs&&this.mergeRequestDiff},renderDiffFiles:function(){return this.diffFiles.length>0||this.startVersion&&this.startVersion.version_index===this.mergeRequestDiff.version_index}}),watch:{diffViewType:function(){this.adjustView()},shouldShow:function(){this.isLoading&&this.fetchData(),this.adjustView()},isLoading:"adjustView",showTreeList:"adjustView"},mounted:function(){this.setBaseConfig({endpoint:this.endpoint,projectPath:this.projectPath}),this.shouldShow&&this.fetchData();var e=window&&window.location&&window.location.hash;e&&this.setHighlightedRow(e.slice(1))},created:function(){this.adjustView(),m.a.$once("fetchedNotesData",this.setDiscussions)},methods:ht({},Object(u.b)(["startTaskList"]),Object(u.b)("diffs",["setBaseConfig","fetchDiffFiles","startRenderDiffsQueue","assignDiscussionsToDiff","setHighlightedRow"]),{fetchData:function(){var e=this;this.fetchDiffFiles().then(function(){requestIdleCallback(function(){e.setDiscussions(),e.startRenderDiffsQueue()},{timeout:1e3})}).catch(function(){Object(h.a)(Object(f.a)("Something went wrong on our end. Please try again!"))}),this.isNotesFetched||m.a.$emit("fetchNotesData")},setDiscussions:function(){var e=this;!this.isNotesFetched||this.assignedDiscussions||this.isLoading||(this.assignedDiscussions=!0,requestIdleCallback(function(){return e.assignDiscussionsToDiff().then(e.$nextTick).then(e.startTaskList)},{timeout:1e3}))},adjustView:function(){var e=this;this.shouldShow&&this.$nextTick(function(){window.mrTabs.resetViewContainer(),window.mrTabs.expandViewContainer(e.showTreeList)})}})},gt=Object(y.a)(mt,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow,expression:"shouldShow"}]},[e.isLoading?i("div",{staticClass:"loading"},[i("gl-loading-icon")],1):i("div",{staticClass:"diffs tab-pane",class:{active:e.shouldShow},attrs:{id:"diffs"}},[i("compare-versions",{attrs:{"merge-request-diffs":e.mergeRequestDiffs,"merge-request-diff":e.mergeRequestDiff,"target-branch":e.targetBranch}}),e._v(" "),e.renderOverflowWarning?i("hidden-files-warning",{attrs:{visible:e.numVisibleFiles,total:e.numTotalFiles,"plain-diff-path":e.plainDiffPath,"email-patch-path":e.emailPatchPath}}):e._e(),e._v(" "),i("div",{staticClass:"files d-flex prepend-top-default",attrs:{"data-can-create-note":e.getNoteableData.current_user.can_create_note}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showTreeList,expression:"showTreeList"}],staticClass:"diff-tree-list"},[i("tree-list")],1),e._v(" "),i("div",{staticClass:"diff-files-holder"},[e.commit?i("commit-widget",{attrs:{commit:e.commit}}):e._e(),e._v(" "),e.renderDiffFiles?e._l(e.diffFiles,function(t){return i("diff-file",{key:t.newPath,attrs:{file:t,"help-page-path":e.helpPagePath,"can-current-user-fork":e.canCurrentUserFork}})}):i("no-changes",{attrs:{"changes-empty-state-illustration":e.changesEmptyStateIllustration}})],2)])],1)])},[],!1,null,null,null);gt.options.__file="app.vue";var vt=gt.exports;function bt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _t(e){return new c.default({el:"#js-diffs-app",name:"MergeRequestDiffs",components:{diffsApp:vt},store:e,data:function(){var e=document.querySelector(this.$options.el).dataset;return{endpoint:e.endpoint,projectPath:e.projectPath,helpPagePath:e.helpPagePath,currentUser:JSON.parse(e.currentUserData)||{},changesEmptyStateIllustration:e.changesEmptyStateIllustration}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){bt(e,t,i[t])})}return e}({},Object(u.d)({activeTab:function(e){return e.page.activeTab}})),render:function(e){return e("diffs-app",{props:{endpoint:this.endpoint,currentUser:this.currentUser,projectPath:this.projectPath,helpPagePath:this.helpPagePath,shouldShow:"diffs"===this.activeTab,changesEmptyStateIllustration:this.changesEmptyStateIllustration}})}})}var yt=i(501),wt=i(393);function Ct(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){kt(e,t,i[t])})}return e}function kt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var jt={directives:{GlTooltip:p.n},components:{Icon:d.a},mixins:[wt.a],computed:Ct({},Object(u.c)(["getUserData","getNoteableData","resolvableDiscussionsCount","firstUnresolvedDiscussionId","unresolvedDiscussionsCount"]),{isLoggedIn:function(){return this.getUserData.id},hasNextButton:function(){return this.isLoggedIn&&!this.allResolved},allResolved:function(){return 0===this.unresolvedDiscussionsCount},resolveAllDiscussionsIssuePath:function(){return this.getNoteableData.create_issue_to_resolve_discussions_path},resolvedDiscussionsCount:function(){return this.resolvableDiscussionsCount-this.unresolvedDiscussionsCount}}),methods:Ct({},Object(u.b)(["expandDiscussion"]),{jumpToFirstUnresolvedDiscussion:function(){var e="diffs"===window.mrTabs.currentAction,t=this.firstUnresolvedDiscussionId(e);this.jumpToDiscussion(t)}})},St=Object(y.a)(jt,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.resolvableDiscussionsCount>0?i("div",{staticClass:"line-resolve-all-container prepend-top-8"},[i("div",[i("div",{staticClass:"line-resolve-all",class:{"has-next-btn":e.hasNextButton}},[i("span",{staticClass:"line-resolve-btn is-disabled",class:{"is-active":e.allResolved},attrs:{type:"button"}},[i("icon",{attrs:{name:"check-circle"}})],1),e._v(" "),i("span",{staticClass:"line-resolve-text"},[e._v("\n        "+e._s(e.resolvedDiscussionsCount)+"/"+e._s(e.resolvableDiscussionsCount)+"\n        "+e._s(e.n__("discussion resolved","discussions resolved",e.resolvableDiscussionsCount))+"\n      ")])]),e._v(" "),e.resolveAllDiscussionsIssuePath&&!e.allResolved?i("div",{staticClass:"btn-group",attrs:{role:"group"}},[i("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"new-issue-for-discussion btn btn-default discussion-create-issue-btn",attrs:{href:e.resolveAllDiscussionsIssuePath,title:e.s__("Resolve all discussions in new issue")}},[i("icon",{attrs:{name:"issue-new"}})],1)]):e._e(),e._v(" "),e.isLoggedIn&&!e.allResolved?i("div",{staticClass:"btn-group",attrs:{role:"group"}},[i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"btn btn-default discussion-next-btn",attrs:{title:"Jump to first unresolved discussion"},on:{click:e.jumpToFirstUnresolvedDiscussion}},[i("icon",{attrs:{name:"comment-next"}})],1)]):e._e()])]):e._e()},[],!1,null,null,null);St.options.__file="discussion_counter.vue";var Ot=St.exports,xt=i(503),Dt=i(502),Tt=i(6),Et=i(14),Pt=i.n(Et);function It(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Nt,Lt=function(e,t){(0,e.commit)("SET_BASE_CONFIG",{endpoint:t.endpoint,projectPath:t.projectPath})},qt=function(e){var t=e.state,i=e.commit;return i("SET_LOADING",!0),Tt.a.get(t.endpoint).then(function(e){return i("SET_LOADING",!1),i("SET_MERGE_REQUEST_DIFFS",e.data.merge_request_diffs||[]),i("SET_DIFF_DATA",e.data),c.default.nextTick()}).then(nt.m)},Mt=function(e,t){(0,e.commit)("SET_HIGHLIGHTED_ROW",t)},At=function(e){var t=e.commit,i=e.state,n=e.rootState,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.notes.discussions,a=Object(R.g)(i.diffFiles);s.filter(function(e){return e.diff_discussion}).forEach(function(e){t("SET_LINE_DISCUSSIONS_FOR_FILE",{discussion:e,diffPositionByLineCode:a})}),c.default.nextTick(function(){m.a.$emit("scrollToDiscussion")})},Ft=function(e,t){(0,e.commit)("REMOVE_LINE_DISCUSSIONS_FOR_FILE",{fileHash:t.file_hash,lineCode:t.line_code,id:t.id})},Bt=function(e,t){var i=e.commit,n=e.rootState,s=e.state,a=n.notes.discussions.find(function(e){return e.id===t});if(a){var o=s.diffFiles.find(function(e){return e.file_hash===a.diff_file.file_hash});o&&(o.renderIt||i("RENDER_FILE",o),o.collapsed?(m.a.$emit("loadCollapsedDiff/".concat(o.file_hash)),Object(nt.G)(document.getElementById(o.file_hash))):m.a.$emit("scrollToDiscussion"))}},Rt=function(e){var t=e.state,i=e.commit;return function e(){return new Promise(function(n){var s=t.diffFiles.find(function(e){return!(e.renderIt||e.collapsed&&e.text)});s?(requestAnimationFrame(function(){i("RENDER_FILE",s)}),requestIdleCallback(function(){e().then(n).catch(function(){})},{timeout:1e3})):n()})}()},$t=function(e){(0,e.commit)("SET_DIFF_VIEW_TYPE",q.h),Pt.a.set(q.e,q.h);var t=Object(g.c)({view:q.h},window.location.href);Object(nt.n)(t)},Ht=function(e){(0,e.commit)("SET_DIFF_VIEW_TYPE",q.w),Pt.a.set(q.e,q.w);var t=Object(g.c)({view:q.w},window.location.href);Object(nt.n)(t)},Ut=function(e,t){(0,e.commit)("TOGGLE_LINE_HAS_FORM",{lineCode:t.lineCode,fileHash:t.fileHash,hasForm:!0})},Wt=function(e,t){(0,e.commit)("TOGGLE_LINE_HAS_FORM",{lineCode:t.lineCode,fileHash:t.fileHash,hasForm:!1})},Vt=function(e,t){var i=e.commit,n=t.endpoint,s=t.params,a=t.lineNumbers,o=t.fileHash;return s.from_merge_request=!0,Tt.a.get(n,{params:s}).then(function(e){var t=e.data||[];i("ADD_CONTEXT_LINES",{lineNumbers:a,contextLines:t,params:s,fileHash:o})})},zt=function(e,t){var i=Object(g.a)();i&&t.line_code===i&&Object(nt.m)()},Gt=function(e,t){var i=Object(g.a)();i&&(t.left&&t.left.line_code===i||t.right&&t.right.line_code===i)&&Object(nt.m)()},Yt=function(e,t){var i=e.commit,n=e.getters;return Tt.a.get(t.load_collapsed_diff_url,{params:{commit_id:n.commitId}}).then(function(e){i("ADD_COLLAPSED_DIFFS",{file:t,data:e.data})})},Jt=function(e){(0,e.commit)("EXPAND_ALL_FILES")},Kt=function(e,t){var i=e.getters,n=e.dispatch,s=i.getDiffFileDiscussions(t),a=i.diffHasAllExpandedDiscussions(t),o=i.diffHasAllCollapsedDiscussions(t);s.forEach(function(e){var t={discussionId:e.id};a?n("collapseDiscussion",t,{root:!0}):!o&&(a||o||e.expanded)||n("expandDiscussion",t,{root:!0})})},Qt=function(e,t){var i=e.state,n=e.dispatch,s=t.note,a=t.formData,o=Object(R.h)(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){It(e,t,i[t])})}return e}({commit:i.commit,note:s},a));return n("saveNote",o,{root:!0}).then(function(e){return n("updateDiscussion",e.discussion,{root:!0})}).then(function(e){return n("assignDiscussionsToDiff",[e])}).then(function(){return n("updateResolvableDiscussonsCounts",null,{root:!0})}).then(function(){return n("closeDiffFileCommentForm",a.diffFile.file_hash)}).catch(function(){return Object(h.a)(Object(f.e)("MergeRequests|Saving the comment failed"))})},Xt=function(e,t){(0,e.commit)("TOGGLE_FOLDER_OPEN",t)},Zt=function(e,t){var i=e.state,n=e.commit,s=i.treeEntries[t].fileHash;document.location.hash=s,n("UPDATE_CURRENT_DIFF_FILE_ID",s),setTimeout(function(){return n("UPDATE_CURRENT_DIFF_FILE_ID","")},1e3)},ei=function(e){var t=e.commit,i=e.state;t("TOGGLE_SHOW_TREE_LIST"),localStorage.setItem(q.r,i.showTreeList)},ti=function(e,t){var i=e.commit;i(e.getters.getCommentFormForDiffFile(t.fileHash)?"UPDATE_DIFF_FILE_COMMENT_FORM":"OPEN_DIFF_FILE_COMMENT_FORM",t)},ii=function(e,t){(0,e.commit)("CLOSE_DIFF_FILE_COMMENT_FORM",t)},ni=function(){},si=function(e){return e.diffViewType===q.w},ai=function(e){return e.diffViewType===q.h},oi=function(e){return e.diffFiles.some(function(e){return e.collapsed})},ri=function(e){return e.commit&&e.commit.id?e.commit.id:null},li=function(e,t){return function(e){var i=t.getDiffFileDiscussions(e);return i&&i.length&&i.every(function(e){return e.expanded})||!1}},ci=function(e,t){return function(e){var i=t.getDiffFileDiscussions(e);return i&&i.length&&i.every(function(e){return!e.expanded})||!1}},ui=function(e,t){return function(e){var i=t.getDiffFileDiscussions(e);return i&&i.length&&void 0!==i.find(function(e){return e.expanded})||!1}},di=function(e,t){return function(e){return t.getDiffFileDiscussions(e).length>0}},fi=function(e,t,i,n){return function(e){return n.discussions.filter(function(t){return t.diff_discussion&&t.diff_file.file_hash===e.file_hash})||[]}},hi=function(e){return function(t){return e.diffFiles.find(function(e){return e.file_hash===t})}},pi=function(e){return Object.values(e.treeEntries).filter(function(e){return"blob"===e.type})},mi=function(e){return e.diffFiles.length},gi=function(e){return function(t){return e.commentForms.find(function(e){return e.fileHash===t})}},vi=function(){},bi=i(184);function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function yi(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){wi(e,t,i[t])})}return e}function wi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ci=(wi(Nt={},"SET_BASE_CONFIG",function(e,t){var i=t.endpoint,n=t.projectPath;Object.assign(e,{endpoint:i,projectPath:n})}),wi(Nt,"SET_LOADING",function(e,t){Object.assign(e,{isLoading:t})}),wi(Nt,"SET_DIFF_DATA",function(e,t){Object(R.j)(t);var i=Object(R.e)(t.diff_files),n=i.tree,s=i.treeEntries;Object.assign(e,yi({},Object(nt.f)(t),{tree:Object(bi.f)(n),treeEntries:s}))}),wi(Nt,"RENDER_FILE",function(e,t){Object.assign(t,{renderIt:!0})}),wi(Nt,"SET_MERGE_REQUEST_DIFFS",function(e,t){Object.assign(e,{mergeRequestDiffs:t})}),wi(Nt,"SET_DIFF_VIEW_TYPE",function(e,t){Object.assign(e,{diffViewType:t})}),wi(Nt,"TOGGLE_LINE_HAS_FORM",function(e,t){var i=t.lineCode,n=t.fileHash,s=t.hasForm,a=e.diffFiles.find(function(e){return e.file_hash===n});if(a&&(a.highlighted_diff_lines&&(a.highlighted_diff_lines.find(function(e){return e.line_code===i}).hasForm=s),a.parallel_diff_lines)){var o=a.parallel_diff_lines.find(function(e){var t=e.left,n=e.right;return t&&t.line_code===i||n&&n.line_code===i});o.left&&o.left.line_code===i&&(o.left.hasForm=s),o.right&&o.right.line_code===i&&(o.right.hasForm=s)}}),wi(Nt,"ADD_CONTEXT_LINES",function(e,t){var i=t.lineNumbers,n=t.contextLines,s=t.fileHash,a=t.params.bottom,o=Object(R.c)(e.diffFiles,s);Object(R.k)(o,i,a);var r=Object(R.b)(n,i,a).map(function(e){return yi({},e,{line_code:e.line_code||"".concat(s,"_").concat(e.old_line,"_").concat(e.new_line),discussions:e.discussions||[],hasForm:!1})});Object(R.a)({inlineLines:o.highlighted_diff_lines,parallelLines:o.parallel_diff_lines,contextLines:r,bottom:a,lineNumbers:i})}),wi(Nt,"ADD_COLLAPSED_DIFFS",function(e,t){var i=t.file,n=t.data;Object(R.j)(n);var s=_i(n.diff_files.filter(function(e){return e.file_hash===i.file_hash}),1)[0],a=e.diffFiles.find(function(e){return e.file_hash===i.file_hash});Object.assign(a,yi({},s))}),wi(Nt,"EXPAND_ALL_FILES",function(e){e.diffFiles=e.diffFiles.map(function(e){return yi({},e,{collapsed:!1})})}),wi(Nt,"SET_LINE_DISCUSSIONS_FOR_FILE",function(e,t){var i=t.discussion,n=t.diffPositionByLineCode,s=e.latestDiff,a=i.line_code,o=i.diff_file.file_hash,r=function(e){return e.line_code===a&&Object(R.i)({discussion:i,diffPosition:n[e.line_code],latestDiff:s})},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};return yi({},e,{discussions:t()?e.discussions.filter(function(){return!e.discussions.some(function(e){var t=e.id;return i.id===t})}).concat(r(e)?i:e.discussions):[]})};e.diffFiles=e.diffFiles.map(function(e){if(e.file_hash===o){var t=yi({},e);return t.highlighted_diff_lines&&(t.highlighted_diff_lines=t.highlighted_diff_lines.map(function(e){return r(e)?l(e):e})),t.parallel_diff_lines&&(t.parallel_diff_lines=t.parallel_diff_lines.map(function(e){var t=e.left&&r(e.left),i=e.right&&r(e.right);return t||i?{left:e.left?l(e.left):null,right:e.right?l(e.right,function(){return!t}):null}:e})),t.parallel_diff_lines&&t.highlighted_diff_lines||(t.discussions=(t.discussions||[]).concat(i)),t}return e})}),wi(Nt,"REMOVE_LINE_DISCUSSIONS_FOR_FILE",function(e,t){var i=t.fileHash,n=t.lineCode,s=e.diffFiles.find(function(e){return e.file_hash===i});if(s){if(s.parallel_diff_lines){var a=s.parallel_diff_lines.find(function(e){return e.left&&e.left.line_code===n||e.right&&e.right.line_code===n});if(a){var o=a.left&&a.left.line_code===n?"left":"right";Object.assign(a[o],{discussions:a[o].discussions.filter(function(e){return e.notes.length})})}}if(s.highlighted_diff_lines){var r=s.highlighted_diff_lines.find(function(e){return e.line_code===n});r&&Object.assign(r,{discussions:r.discussions.filter(function(e){return e.notes.length})})}s.discussions&&s.discussions.length&&(s.discussions=s.discussions.filter(function(e){return e.notes.length}))}}),wi(Nt,"TOGGLE_FOLDER_OPEN",function(e,t){e.treeEntries[t].opened=!e.treeEntries[t].opened}),wi(Nt,"TOGGLE_SHOW_TREE_LIST",function(e){e.showTreeList=!e.showTreeList}),wi(Nt,"UPDATE_CURRENT_DIFF_FILE_ID",function(e,t){e.currentDiffFileId=t}),wi(Nt,"OPEN_DIFF_FILE_COMMENT_FORM",function(e,t){e.commentForms.push(yi({},t))}),wi(Nt,"UPDATE_DIFF_FILE_COMMENT_FORM",function(e,t){var i=t.fileHash;e.commentForms=e.commentForms.map(function(e){return e.fileHash===i?yi({},t):e})}),wi(Nt,"CLOSE_DIFF_FILE_COMMENT_FORM",function(e,t){e.commentForms=e.commentForms.filter(function(e){return e.fileHash!==t})}),wi(Nt,"SET_HIGHLIGHTED_ROW",function(e,t){e.highlightedRow=t}),Nt),ki=i(101),ji=Object(g.b)("view")[0],Si=Pt.a.get(q.e),Oi=q.h,xi=localStorage.getItem(q.r),Di=function(){return{namespaced:!0,state:{isLoading:!0,endpoint:"",basePath:"",commit:null,startVersion:null,diffFiles:[],mergeRequestDiffs:[],mergeRequestDiff:null,diffViewType:ji||Si||Oi,tree:[],treeEntries:{},showTreeList:null===xi?"xs"!==ki.a.getBreakpointSize():Object(nt.A)(xi),currentDiffFileId:"",projectPath:"",commentForms:[],highlightedRow:null},getters:s,actions:n,mutations:Ci}},Ti="SET_ACTIVE_TAB";var Ei,Pi,Ii,Ni={state:{activeTab:null},actions:{setActiveTab:function(e,t){(0,e.commit)(Ti,t)}},getters:{isLoggedIn:function(e,t){return!!t.getUserData.id}},mutations:(Ii=function(e,t){Object.assign(e,{activeTab:t})},(Pi=Ti)in(Ei={})?Object.defineProperty(Ei,Pi,{value:Ii,enumerable:!0,configurable:!0,writable:!0}):Ei[Pi]=Ii,Ei)};c.default.use(u.a);var Li=new u.a.Store({modules:{page:Ni,notes:Object(Dt.a)(),diffs:Di()}}),qi=i(342);function Mi(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){Ai(e,t,i[t])})}return e}function Ai(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Fi=i(366),Bi=i(85),Ri=i(363),$i=i(494),Hi=i(367),Ui=i(29),Wi=i(355),Vi=i(41),zi=i(274),Gi={components:{Icon:d.a},props:{name:{type:String,required:!0}}},Yi=Object(y.a)(Gi,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"circle-icon-container append-right-default align-self-start align-self-lg-center"},[t("icon",{attrs:{name:this.name}})],1)},[],!1,null,null,null);Yi.options.__file="mr_widget_icon.vue";var Ji=Yi.exports,Ki={name:"MRWidgetHeader",components:{Icon:d.a,clipboardButton:Ye.a,TooltipOnTruncate:zi.a,MrWidgetIcon:Ji},directives:{tooltip:Vi.a},props:{mr:{type:Object,required:!0}},computed:{shouldShowCommitsBehindText:function(){return this.mr.divergedCommitsCount>0},commitsBehindText:function(){return Object(f.f)(Object(f.e)("mrWidget|The source branch is %{commitsBehindLinkStart}%{commitsBehind}%{commitsBehindLinkEnd} the target branch"),{commitsBehindLinkStart:'<a href="'.concat(D.a.escape(this.mr.targetBranchPath),'">'),commitsBehind:Object(f.d)("%d commit behind","%d commits behind",this.mr.divergedCommitsCount),commitsBehindLinkEnd:"</a>"},!1)},branchNameClipboardData:function(){return JSON.stringify({text:this.mr.sourceBranch,gfm:"`".concat(this.mr.sourceBranch,"`")})},webIdePath:function(){return this.mr.canPushToSourceBranch?Object(g.c)({target_project:this.mr.sourceProjectFullPath!==this.mr.targetProjectFullPath?this.mr.targetProjectFullPath:""},Object(g.h)("/".concat(this.mr.sourceProjectFullPath,"/merge_requests/").concat(this.mr.iid))):null},ideButtonTitle:function(){return this.mr.canPushToSourceBranch?"":Object(f.e)("mrWidget|You are not allowed to edit this project directly. Please fork to make changes.")}}},Qi=Object(y.a)(Ki,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-source-target append-bottom-default"},[i("mr-widget-icon",{attrs:{name:"git-merge"}}),e._v(" "),i("div",{staticClass:"git-merge-container d-flex"},[i("div",{staticClass:"normal"},[i("strong",[e._v("\n        "+e._s(e.s__("mrWidget|Request to merge"))+"\n        "),i("tooltip-on-truncate",{staticClass:"label-branch label-truncate js-source-branch",attrs:{title:e.mr.sourceBranch,"truncate-target":"child"},domProps:{innerHTML:e._s(e.mr.sourceBranchLink)}}),i("clipboard-button",{attrs:{text:e.branchNameClipboardData,title:e.__("Copy branch name to clipboard"),"css-class":"btn-default btn-transparent btn-clipboard"}}),e._v("\n        "+e._s(e.s__("mrWidget|into"))+"\n        "),i("tooltip-on-truncate",{staticClass:"label-branch label-truncate",attrs:{title:e.mr.targetBranch,"truncate-target":"child"}},[i("a",{staticClass:"js-target-branch",attrs:{href:e.mr.targetBranchTreePath}},[e._v(" "+e._s(e.mr.targetBranch)+" ")])])],1),e._v(" "),e.shouldShowCommitsBehindText?i("div",{staticClass:"diverged-commits-count",domProps:{innerHTML:e._s(e.commitsBehindText)}}):e._e()]),e._v(" "),e.mr.isOpen?i("div",{staticClass:"branch-actions d-flex"},[e.mr.sourceBranchRemoved?e._e():i("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"btn btn-default js-web-ide d-none d-md-inline-block append-right-8",class:{disabled:!e.mr.canPushToSourceBranch},attrs:{href:e.webIdePath,title:e.ideButtonTitle,"data-placement":"bottom",tabindex:"0",role:"button"}},[e._v("\n        "+e._s(e.s__("mrWidget|Open in Web IDE"))+"\n      ")]),e._v(" "),i("button",{staticClass:"btn btn-default js-check-out-branch append-right-default",attrs:{disabled:e.mr.sourceBranchRemoved,"data-target":"#modal_merge_info","data-toggle":"modal",type:"button"}},[e._v("\n        "+e._s(e.s__("mrWidget|Check out branch"))+"\n      ")]),e._v(" "),i("span",{staticClass:"dropdown"},[i("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-label":"Download as","aria-haspopup":"true","aria-expanded":"false"}},[i("icon",{attrs:{name:"download"}}),e._v(" "),i("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}})],1),e._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},[i("li",[i("a",{staticClass:"js-download-email-patches",attrs:{href:e.mr.emailPatchesPath,download:""}},[e._v("\n              "+e._s(e.s__("mrWidget|Email patches"))+"\n            ")])]),e._v(" "),i("li",[i("a",{staticClass:"js-download-plain-diff",attrs:{href:e.mr.plainDiffPath,download:""}},[e._v("\n              "+e._s(e.s__("mrWidget|Plain diff"))+"\n            ")])])])])]):e._e()])],1)},[],!1,null,null,null);Qi.options.__file="mr_widget_header.vue";var Xi=Qi.exports,Zi={name:"MRWidgetMergeHelp",props:{missingBranch:{type:String,required:!1,default:""}},computed:{missingBranchInfo:function(){return Object(f.f)(Object(f.e)("mrWidget|If the %{branch} branch exists in your local repository, you can merge this merge request manually using the"),{branch:this.missingBranch})}}},en=Object(y.a)(Zi,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"mr-widget-help"},[e.missingBranch?[e._v("\n    "+e._s(e.missingBranchInfo)+"\n  ")]:[e._v("\n    "+e._s(e.s__("mrWidget|You can merge this merge request manually using the"))+"\n  ")],e._v(" "),i("button",{staticClass:"btn-link btn-blank js-open-modal-help",attrs:{type:"button","data-toggle":"modal","data-target":"#modal_merge_info"}},[e._v("\n    "+e._s(e.s__("mrWidget|command line"))+"\n  ")])],2)},[],!1,null,null,null);en.options.__file="mr_widget_merge_help.vue";var tn=en.exports,nn={name:"FilteredSearchDropdown",components:{Icon:d.a},props:{title:{type:String,required:!1,default:""},buttonType:{required:!1,validator:function(e){return-1!==["primary","default","secondary","success","info","warning","danger"].indexOf(e)},default:"default"},size:{required:!1,type:String,default:"sm"},items:{type:Array,required:!0},visibleItems:{type:Number,required:!1,default:5},filterKey:{type:String,required:!0}},data:function(){return{filter:""}},computed:{className:function(){return"btn btn-".concat(this.buttonType," btn-").concat(this.size)},filteredResults:function(){var e=this;return""!==this.filter?this.items.filter(function(t){return t[e.filterKey]&&t[e.filterKey].toLowerCase().includes(e.filter.toLowerCase())}):this.items.slice(0,this.visibleItems)}},mounted:function(){var e=this;l()(this.$el).on("shown.bs.dropdown",function(){e.$nextTick(function(){return e.$refs.searchInput.focus()})}).on("hidden.bs.dropdown",function(){e.filter=""})}},sn=Object(y.a)(nn,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown"},[i("div",{staticClass:"btn-group"},[e._t("mainAction",[i("button",{class:e.className,attrs:{type:"button"}},[e._v(e._s(e.title))])],{className:e.className}),e._v(" "),i("button",{staticClass:"dropdown-toggle dropdown-toggle-split",class:e.className,attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false","aria-label":"Expand dropdown"}},[i("icon",{attrs:{name:"angle-down",size:12}})],1),e._v(" "),i("div",{staticClass:"dropdown-menu dropdown-menu-right"},[i("div",{staticClass:"dropdown-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],ref:"searchInput",staticClass:"js-filtered-dropdown-input dropdown-input-field",attrs:{type:"search",placeholder:"Filter"},domProps:{value:e.filter},on:{input:function(t){t.target.composing||(e.filter=t.target.value)}}}),e._v(" "),i("icon",{staticClass:"dropdown-input-search",attrs:{name:"search"}})],1),e._v(" "),i("div",{staticClass:"dropdown-content"},[i("ul",e._l(e.filteredResults,function(t,n){return i("li",{key:n,staticClass:"js-filtered-dropdown-result"},[e._t("result",[e._v(" "+e._s(t[e.filterKey])+" ")],{result:t})],2)}),0)])])],2)])},[],!1,null,null,null);sn.options.__file="filtered_search_dropdown.vue";var an=sn.exports,on=i(84),rn=i(108),ln=i(83),cn=i(148),un=i(20),dn={name:"MemoryGraph",props:{metrics:{type:Array,required:!0},deploymentTime:{type:Number,required:!0},width:{type:String,required:!0},height:{type:String,required:!0}},data:function(){return{pathD:"",pathViewBox:"",dotX:"",dotY:""}},computed:{getFormattedMedian:function(){var e=Object(un.h)().format(1e3*this.deploymentTime);return"Deployed ".concat(e)}},mounted:function(){this.renderGraph(this.deploymentTime,this.metrics)},methods:{getMedianMetricIndex:function(e,t){var i=0,n=0,s=0,a=t.map(function(e){return e[0]});return n=Math.abs(a[0]-e),a.forEach(function(t,a){0!==a&&(s=Math.abs(t-e))<n&&(i=a,n=s)}),i},getGraphPlotValues:function(e,t){var i=t.map(function(e){return e[1]}),n=this.getMedianMetricIndex(e,t),s=0,a=0,o=Math.max.apply(null,i),r=Math.min.apply(null,i),l=o-r,c=i.length;return{pathD:i.map(function(e,t){return n===t&&(s=t,a=o-e),"".concat(t," ").concat(o-e)}),pathViewBox:{lineWidth:c,diff:l},dotX:s,dotY:a}},renderGraph:function(e,t){var i=this.getGraphPlotValues(e,t),n=i.pathD,s=i.pathViewBox,a=i.dotX,o=i.dotY;this.pathD="M ".concat(n),this.pathViewBox="0 0 ".concat(s.lineWidth," ").concat(s.diff),this.dotX=a,this.dotY=o}}},fn=Object(y.a)(dn,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"memory-graph-container"},[i("svg",{staticClass:"has-tooltip",attrs:{title:e.getFormattedMedian,width:e.width,height:e.height,xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:e.pathD,viewBox:e.pathViewBox}}),e._v(" "),i("circle",{attrs:{cx:e.dotX,cy:e.dotY,r:"1.5",transform:"translate(0 -1)"}})])])},[],!1,null,null,null);fn.options.__file="memory_graph.vue";var hn=fn.exports;function pn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var mn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoints=t}var t,i,n;return t=e,n=[{key:"stopEnvironment",value:function(e){return Tt.a.post(e)}},{key:"fetchMetrics",value:function(e){return Tt.a.get("".concat(e,".json"))}}],(i=[{key:"merge",value:function(e){return Tt.a.post(this.endpoints.mergePath,e)}},{key:"cancelAutomaticMerge",value:function(){return Tt.a.post(this.endpoints.cancelAutoMergePath)}},{key:"removeWIP",value:function(){return Tt.a.post(this.endpoints.removeWIPPath)}},{key:"removeSourceBranch",value:function(){return Tt.a.delete(this.endpoints.sourceBranchPath)}},{key:"fetchDeployments",value:function(e){return Tt.a.get(this.endpoints.ciEnvironmentsStatusPath,{params:{environment_target:e}})}},{key:"poll",value:function(){return Tt.a.get("".concat(this.endpoints.statusPath,"?serializer=basic"))}},{key:"checkStatus",value:function(){return Tt.a.get("".concat(this.endpoints.statusPath,"?serializer=widget"))}},{key:"fetchMergeActionsContent",value:function(){return Tt.a.get(this.endpoints.mergeActionsContentPath)}},{key:"rebase",value:function(){return Tt.a.post(this.endpoints.rebasePath)}}])&&pn(t.prototype,i),n&&pn(t,n),e}(),gn={name:"MemoryUsage",components:{MemoryGraph:hn},props:{metricsUrl:{type:String,required:!0},metricsMonitoringUrl:{type:String,required:!0}},data:function(){return{memoryFrom:0,memoryTo:0,memoryMetrics:[],deploymentTime:0,hasMetrics:!1,loadFailed:!1,loadingMetrics:!0,backOffRequestCounter:0}},computed:{shouldShowLoading:function(){return this.loadingMetrics&&!this.hasMetrics&&!this.loadFailed},shouldShowMemoryGraph:function(){return!this.loadingMetrics&&this.hasMetrics&&!this.loadFailed},shouldShowLoadFailure:function(){return!this.loadingMetrics&&!this.hasMetrics&&this.loadFailed},shouldShowMetricsUnavailable:function(){return!this.loadingMetrics&&!this.hasMetrics&&!this.loadFailed},memoryChangeMessage:function(){var e={memoryFrom:this.memoryFrom,memoryTo:this.memoryTo,metricsLinkStart:'<a href="'.concat(this.metricsMonitoringUrl,'">'),metricsLinkEnd:"</a>",emphasisStart:"<b>",emphasisEnd:"</b>"},t=Number(this.memoryTo),i=Number(this.memoryFrom);return t>i?Object(f.f)(Object(f.e)("mrWidget|%{metricsLinkStart} Memory %{metricsLinkEnd} usage %{emphasisStart} increased %{emphasisEnd} from %{memoryFrom}MB to %{memoryTo}MB"),e,!1):t<i?Object(f.f)(Object(f.e)("mrWidget|%{metricsLinkStart} Memory %{metricsLinkEnd} usage %{emphasisStart} decreased %{emphasisEnd} from %{memoryFrom}MB to %{memoryTo}MB"),e,!1):Object(f.f)(Object(f.e)("mrWidget|%{metricsLinkStart} Memory %{metricsLinkEnd} usage is %{emphasisStart} unchanged %{emphasisEnd} at %{memoryFrom}MB"),e,!1)}},mounted:function(){this.loadingMetrics=!0,this.loadMetrics()},methods:{getMegabytes:function(e){var t=Number(e).toFixed(2);return Object(cn.a)(t).toFixed(2)},computeGraphData:function(e,t){this.loadingMetrics=!1;var i=e.memory_before,n=e.memory_after,s=e.memory_values;i.length>0&&(this.memoryFrom=this.getMegabytes(i[0].value[1])),n.length>0&&(this.memoryTo=this.getMegabytes(n[0].value[1])),s.length>0&&(this.hasMetrics=!0,this.memoryMetrics=s[0].values,this.deploymentTime=t)},loadMetrics:function(){var e=this;Object(nt.d)(function(t,i){mn.fetchMetrics(e.metricsUrl).then(function(n){n.status===ln.a.NO_CONTENT?(e.backOffRequestCounter+=1,e.backOffRequestCounter<3?t():i(n)):i(n)}).catch(i)}).then(function(e){return e.status===ln.a.NO_CONTENT?e:e.data}).then(function(t){return e.computeGraphData(t.metrics,t.deployment_time),t}).catch(function(){e.loadFailed=!0,e.loadingMetrics=!1})}}},vn=Object(y.a)(gn,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-info-list clearfix mr-memory-usage js-mr-memory-usage"},[e.shouldShowLoading?i("p",{staticClass:"usage-info js-usage-info usage-info-loading"},[i("i",{staticClass:"fa fa-spinner fa-spin usage-info-load-spinner",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.s__("mrWidget|Loading deployment statistics"))+"\n  ")]):e._e(),e._v(" "),e.shouldShowMemoryGraph?i("p",{staticClass:"usage-info js-usage-info",domProps:{innerHTML:e._s(e.memoryChangeMessage)}}):e._e(),e._v(" "),e.shouldShowLoadFailure?i("p",{staticClass:"usage-info js-usage-info usage-info-failed"},[e._v("\n    "+e._s(e.s__("mrWidget|Failed to load deployment statistics"))+"\n  ")]):e._e(),e._v(" "),e.shouldShowMetricsUnavailable?i("p",{staticClass:"usage-info js-usage-info usage-info-unavailable"},[e._v("\n    "+e._s(e.s__("mrWidget|Deployment statistics are not available currently"))+"\n  ")]):e._e(),e._v(" "),e.shouldShowMemoryGraph?i("memory-graph",{attrs:{metrics:e.memoryMetrics,"deployment-time":e.deploymentTime,height:"25",width:"100"}}):e._e()],1)},[],!1,null,null,null);vn.options.__file="memory_usage.vue";var bn=vn.exports,_n={components:{ciIcon:Je.a,GlLoadingIcon:p.e},props:{status:{type:String,required:!0},showDisabledButton:{type:Boolean,required:!1,default:!1}},computed:{isLoading:function(){return"loading"===this.status},statusObj:function(){return{group:this.status,icon:"status_".concat(this.status)}}}},yn=Object(y.a)(_n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"space-children d-flex append-right-10 widget-status-icon"},[e.isLoading?i("div",{staticClass:"mr-widget-icon"},[i("gl-loading-icon")],1):i("ci-icon",{attrs:{status:e.statusObj,size:24}}),e._v(" "),e.showDisabledButton?i("button",{staticClass:"js-disabled-merge-button btn btn-success btn-sm",attrs:{type:"button",disabled:"true"}},[e._v("\n    "+e._s(e.s__("mrWidget|Merge"))+"\n  ")]):e._e()],1)},[],!1,null,null,null);yn.options.__file="mr_widget_status_icon.vue";var wn=yn.exports,Cn={components:{Icon:d.a},props:{link:{type:String,required:!0},cssClass:{type:String,required:!0}}},kn=Object(y.a)(Cn,function(){var e=this.$createElement,t=this._self._c||e;return t("a",{class:this.cssClass,attrs:{href:this.link,target:"_blank",rel:"noopener noreferrer nofollow"}},[this._v("\n  "+this._s(this.__("View app"))+" "),t("icon",{attrs:{name:"external-link"}})],1)},[],!1,null,null,null);kn.options.__file="review_app_link.vue";var jn=kn.exports,Sn={name:"Deployment",components:{LoadingButton:rn.a,MemoryUsage:bn,StatusIcon:wn,Icon:d.a,TooltipOnTruncate:zi.a,FilteredSearchDropdown:an,ReviewAppLink:jn},directives:{GlTooltip:p.n},mixins:[on.a],props:{deployment:{type:Object,required:!0},showMetrics:{type:Boolean,required:!0}},deployedTextMap:{running:Object(f.a)("Deploying to"),success:Object(f.a)("Deployed to"),failed:Object(f.a)("Failed to deploy to"),created:Object(f.a)("Will deploy to"),canceled:Object(f.a)("Failed to deploy to")},data:function(){return{isStopping:!1}},computed:{deployTimeago:function(){return this.timeFormated(this.deployment.deployed_at)},hasExternalUrls:function(){return!(!this.deployment.external_url||!this.deployment.external_url_formatted)},hasDeploymentTime:function(){return!(!this.deployment.deployed_at||!this.deployment.deployed_at_formatted)},hasDeploymentMeta:function(){return!(!this.deployment.url||!this.deployment.name)},hasMetrics:function(){return!!this.deployment.metrics_url},deployedText:function(){return this.$options.deployedTextMap[this.deployment.status]},isDeployInProgress:function(){return"running"===this.deployment.status},deployInProgressTooltip:function(){return this.isDeployInProgress?Object(f.a)("Stopping this environment is currently not possible as a deployment is in progress"):""},shouldRenderDropdown:function(){return this.deployment.changes&&this.deployment.changes.length>0},showMemoryUsage:function(){return this.hasMetrics&&this.showMetrics}},methods:{stopEnvironment:function(){var e=this,t=Object(f.a)("Are you sure you want to stop this environment?");confirm(t)&&(this.isStopping=!0,mn.stopEnvironment(this.deployment.stop_url).then(function(e){return e.data}).then(function(t){t.redirect_url&&Object(g.g)(t.redirect_url),e.isStopping=!1}).catch(function(){Object(h.a)("Something went wrong while stopping this environment. Please try again."),e.isStopping=!1}))}}},On=Object(y.a)(Sn,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"deploy-heading"},[i("div",{staticClass:"ci-widget media"},[i("div",{staticClass:"media-body"},[i("div",{staticClass:"deploy-body"},[i("div",{staticClass:"js-deployment-info deployment-info"},[e.hasDeploymentMeta?[i("span",[e._v(" "+e._s(e.deployedText)+" ")]),e._v(" "),i("tooltip-on-truncate",{staticClass:"deploy-link label-truncate",attrs:{title:e.deployment.name,"truncate-target":"child"}},[i("a",{staticClass:"js-deploy-meta",attrs:{href:e.deployment.url,target:"_blank",rel:"noopener noreferrer nofollow"}},[e._v("\n                "+e._s(e.deployment.name)+"\n              ")])])]:e._e(),e._v(" "),e.hasDeploymentTime?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-deploy-time",attrs:{title:e.deployment.deployed_at_formatted}},[e._v("\n            "+e._s(e.deployTimeago)+"\n          ")]):e._e(),e._v(" "),e.showMemoryUsage?i("memory-usage",{attrs:{"metrics-url":e.deployment.metrics_url,"metrics-monitoring-url":e.deployment.metrics_monitoring_url}}):e._e()],2),e._v(" "),i("div",[e.hasExternalUrls?[e.shouldRenderDropdown?i("filtered-search-dropdown",{staticClass:"js-mr-wigdet-deployment-dropdown inline",attrs:{items:e.deployment.changes,"main-action-link":e.deployment.external_url,"filter-key":"path"},scopedSlots:e._u([{key:"mainAction",fn:function(t){return[i("review-app-link",{attrs:{link:e.deployment.external_url,"css-class":"deploy-link js-deploy-url inline "+t.className}})]}},{key:"result",fn:function(t){return[i("a",{staticClass:"menu-item",attrs:{href:t.result.external_url,target:"_blank",rel:"noopener noreferrer nofollow"}},[i("strong",{staticClass:"str-truncated-100 append-bottom-0 d-block"},[e._v("\n                    "+e._s(t.result.path)+"\n                  ")]),e._v(" "),i("p",{staticClass:"text-secondary str-truncated-100 append-bottom-0 d-block"},[e._v("\n                    "+e._s(t.result.external_url)+"\n                  ")])])]}}])}):i("review-app-link",{attrs:{link:e.deployment.external_url,"css-class":"js-deploy-url js-deploy-url-feature-flag deploy-link btn btn-default btn-sm inlin"}})]:e._e(),e._v(" "),e.deployment.stop_url?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"d-inline-block",attrs:{title:e.deployInProgressTooltip,tabindex:"0"}},[i("loading-button",{attrs:{loading:e.isStopping,disabled:e.isDeployInProgress,title:e.__("Stop environment"),"container-class":"js-stop-env btn btn-default btn-sm inline prepend-left-4"},on:{click:e.stopEnvironment}},[i("icon",{attrs:{name:"stop"}})],1)],1):e._e()],2)])])])])},[],!1,null,null,null);On.options.__file="deployment.vue";var xn=On.exports,Dn=Object(y.a)({},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-heading"},[t("div",{staticClass:"mr-widget-content"},[this._t("default")],2),this._v(" "),this._t("footer")],2)},[],!1,null,null,null);Dn.options.__file="mr_widget_container.vue";var Tn=Dn.exports,En={name:"MRWidgetPipeline",components:{PipelineStage:i(262).a,CiIcon:Je.a,Icon:d.a,TooltipOnTruncate:zi.a},props:{pipeline:{type:Object,required:!0},hasCi:{type:Boolean,required:!1},ciStatus:{type:String,required:!1},sourceBranchLink:{type:String,required:!1},sourceBranch:{type:String,required:!1},troubleshootingDocsPath:{type:String,required:!0}},computed:{hasPipeline:function(){return this.pipeline&&Object.keys(this.pipeline).length>0},hasCIError:function(){return this.hasCi&&!this.ciStatus},status:function(){return this.pipeline.details&&this.pipeline.details.status?this.pipeline.details.status:{}},hasStages:function(){return this.pipeline.details&&this.pipeline.details.stages&&this.pipeline.details.stages.length},hasCommitInfo:function(){return this.pipeline.commit&&Object.keys(this.pipeline.commit).length>0},errorText:function(){return Object(f.f)(Object(f.a)("Could not retrieve the pipeline status. For troubleshooting steps, read the %{linkStart}documentation.%{linkEnd}"),{linkStart:'<a href="'.concat(this.troubleshootingDocsPath,'">'),linkEnd:"</a>"},!1)}}},Pn=Object(y.a)(En,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasPipeline||e.hasCIError?i("div",{staticClass:"ci-widget media"},[e.hasCIError?[i("div",{staticClass:"add-border ci-status-icon ci-status-icon-failed ci-error\n      js-ci-error append-right-default"},[i("icon",{attrs:{size:32,name:"status_failed_borderless"}})],1),e._v(" "),i("div",{staticClass:"media-body",domProps:{innerHTML:e._s(e.errorText)}})]:e.hasPipeline?[i("a",{staticClass:"align-self-start append-right-default",attrs:{href:e.status.details_path}},[i("ci-icon",{staticClass:"add-border",attrs:{status:e.status,size:32,borderless:!0}})],1),e._v(" "),i("div",{staticClass:"ci-widget-container d-flex"},[i("div",{staticClass:"ci-widget-content"},[i("div",{staticClass:"media-body"},[i("div",{staticClass:"font-weight-bold"},[e._v("\n            Pipeline\n            "),i("a",{staticClass:"pipeline-id font-weight-normal pipeline-number",attrs:{href:e.pipeline.path}},[e._v("#"+e._s(e.pipeline.id))]),e._v("\n\n            "+e._s(e.pipeline.details.status.label)+"\n\n            "),e.hasCommitInfo?[e._v("\n              for\n              "),i("a",{staticClass:"commit-sha js-commit-link font-weight-normal",attrs:{href:e.pipeline.commit.commit_path}},[e._v("\n                "+e._s(e.pipeline.commit.short_id))]),e._v("\n              on\n              "),i("tooltip-on-truncate",{staticClass:"label-branch label-truncate",attrs:{title:e.sourceBranch,"truncate-target":"child"},domProps:{innerHTML:e._s(e.sourceBranchLink)}})]:e._e()],2),e._v(" "),e.pipeline.coverage?i("div",{staticClass:"coverage"},[e._v("Coverage "+e._s(e.pipeline.coverage)+"%")]):e._e()])]),e._v(" "),i("div",[i("span",{staticClass:"mr-widget-pipeline-graph"},[e.hasStages?i("span",{staticClass:"stage-cell"},e._l(e.pipeline.details.stages,function(e,t){return i("div",{key:t,staticClass:"stage-container dropdown js-mini-pipeline-graph mr-widget-pipeline-stages"},[i("pipeline-stage",{attrs:{stage:e}})],1)}),0):e._e()])])])]:e._e()],2):e._e()},[],!1,null,null,null);Pn.options.__file="mr_widget_pipeline.vue";var In={name:"MrWidgetPipelineContainer",components:{Deployment:xn,MrWidgetContainer:Tn,MrWidgetPipeline:Pn.exports},props:{mr:{type:Object,required:!0},isPostMerge:{type:Boolean,required:!1,default:!1}},computed:{pipeline:function(){return this.isPostMerge?this.mr.mergePipeline:this.mr.pipeline},branch:function(){return this.isPostMerge?this.mr.targetBranch:this.mr.sourceBranch},branchLink:function(){return this.isPostMerge?this.mr.targetBranch:this.mr.sourceBranchLink},deployments:function(){return this.isPostMerge?this.mr.postMergeDeployments:this.mr.deployments},deploymentClass:function(){return this.isPostMerge?"js-post-deployment":"js-pre-deployment"},hasDeploymentMetrics:function(){return this.isPostMerge}}},Nn=Object(y.a)(In,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("mr-widget-container",[i("mr-widget-pipeline",{attrs:{pipeline:e.pipeline,"ci-status":e.mr.ciStatus,"has-ci":e.mr.hasCI,"source-branch":e.branch,"source-branch-link":e.branchLink,"troubleshooting-docs-path":e.mr.troubleshootingDocsPath}}),e._v(" "),e.deployments.length?i("div",{staticClass:"mr-widget-extension",attrs:{slot:"footer"},slot:"footer"},e._l(e.deployments,function(t){return i("deployment",{key:t.id,class:e.deploymentClass,attrs:{deployment:t,"show-metrics":e.hasDeploymentMetrics}})}),1):e._e()],1)},[],!1,null,null,null);Nn.options.__file="mr_widget_pipeline_container.vue";var Ln=Nn.exports,qn={name:"MRWidgetRelatedLinks",props:{relatedLinks:{type:Object,required:!0,default:function(){return{}}},state:{type:String,required:!1,default:""}},computed:{closesText:function(){return"merged"===this.state?Object(f.e)("mrWidget|Closed"):"closed"===this.state?Object(f.e)("mrWidget|Did not close"):Object(f.e)("mrWidget|Closes")}}},Mn=Object(y.a)(qn,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"mr-info-list mr-links"},[e.relatedLinks.closing?i("p",[e._v(e._s(e.closesText)+" "),i("span",{domProps:{innerHTML:e._s(e.relatedLinks.closing)}})]):e._e(),e._v(" "),e.relatedLinks.mentioned?i("p",[e._v("\n    "+e._s(e.s__("mrWidget|Mentions"))+" "),i("span",{domProps:{innerHTML:e._s(e.relatedLinks.mentioned)}})]):e._e(),e._v(" "),e.relatedLinks.assignToMe?i("p",[i("span",{domProps:{innerHTML:e._s(e.relatedLinks.assignToMe)}})]):e._e()])},[],!1,null,null,null);Mn.options.__file="mr_widget_related_links.vue";var An=Mn.exports,Fn={name:"MrWidgetAuthor",directives:{tooltip:Vi.a},props:{author:{type:Object,required:!0},showAuthorName:{type:Boolean,required:!1,default:!0},showAuthorTooltip:{type:Boolean,required:!1,default:!1}},computed:{authorUrl:function(){return this.author.webUrl||this.author.web_url},avatarUrl:function(){return this.author.avatarUrl||this.author.avatar_url}}},Bn=Object(y.a)(Fn,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{staticClass:"author-link inline",attrs:{href:e.authorUrl,"v-tooltip":e.showAuthorTooltip,title:e.author.name}},[i("img",{staticClass:"avatar avatar-inline s16",attrs:{src:e.avatarUrl}}),e._v(" "),e.showAuthorName?i("span",{staticClass:"author"},[e._v(" "+e._s(e.author.name)+" ")]):e._e()])},[],!1,null,null,null);Bn.options.__file="mr_widget_author.vue";var Rn=Bn.exports,$n={name:"MrWidgetAuthorTime",components:{MrWidgetAuthor:Rn},directives:{tooltip:Vi.a},props:{actionText:{type:String,required:!0},author:{type:Object,required:!0},dateTitle:{type:String,required:!0},dateReadable:{type:String,required:!0}}},Hn=Object(y.a)($n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h4",{staticClass:"js-mr-widget-author"},[e._v("\n  "+e._s(e.actionText)+"\n  "),i("mr-widget-author",{attrs:{author:e.author}}),e._v(" "),i("time",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:e.dateTitle,"data-container":"body"}},[e._v(" "+e._s(e.dateReadable)+" ")])],1)},[],!1,null,null,null);Hn.options.__file="mr_widget_author_time.vue";var Un=Hn.exports,Wn=i(107),Vn={name:"MRWidgetMerged",directives:{tooltip:Vi.a},components:{MrWidgetAuthorTime:Un,statusIcon:wn,ClipboardButton:Ye.a,GlLoadingIcon:p.e},props:{mr:{type:Object,required:!0,default:function(){return{}}},service:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{isMakingRequest:!1}},computed:{shouldShowRemoveSourceBranch:function(){var e=this.mr,t=e.sourceBranchRemoved,i=e.isRemovingSourceBranch,n=e.canRemoveSourceBranch;return!t&&n&&!this.isMakingRequest&&!i},shouldShowSourceBranchRemoving:function(){var e=this.mr,t=e.sourceBranchRemoved,i=e.isRemovingSourceBranch;return!t&&(i||this.isMakingRequest)},shouldShowMergedButtons:function(){var e=this.mr,t=e.canRevertInCurrentMR,i=e.canCherryPickInCurrentMR,n=e.revertInForkPath,s=e.cherryPickInForkPath;return t||i||n||s},revertTitle:function(){return Object(f.e)("mrWidget|Revert this merge request in a new merge request")},cherryPickTitle:function(){return Object(f.e)("mrWidget|Cherry-pick this merge request in a new merge request")},revertLabel:function(){return Object(f.e)("mrWidget|Revert")},cherryPickLabel:function(){return Object(f.e)("mrWidget|Cherry-pick")}},methods:{removeSourceBranch:function(){var e=this;this.isMakingRequest=!0,this.service.removeSourceBranch().then(function(e){return e.data}).then(function(t){"Branch was removed"===t.message&&Wn.a.$emit("MRWidgetUpdateRequested",function(){e.isMakingRequest=!1})}).catch(function(){e.isMakingRequest=!1,Object(h.a)(Object(f.a)("Something went wrong. Please try again."))})}}},zn=Object(y.a)(Vn,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body media"},[i("status-icon",{attrs:{status:"success"}}),e._v(" "),i("div",{staticClass:"media-body"},[i("div",{staticClass:"space-children"},[i("mr-widget-author-time",{attrs:{"action-text":e.s__("mrWidget|Merged by"),author:e.mr.metrics.mergedBy,"date-title":e.mr.metrics.mergedAt,"date-readable":e.mr.metrics.readableMergedAt}}),e._v(" "),e.mr.canRevertInCurrentMR?i("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"btn btn-close btn-sm",attrs:{title:e.revertTitle,href:"#modal-revert-commit","data-toggle":"modal","data-container":"body"}},[e._v("\n        "+e._s(e.revertLabel)+"\n      ")]):e.mr.revertInForkPath?i("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"btn btn-close btn-sm",attrs:{href:e.mr.revertInForkPath,title:e.revertTitle,"data-method":"post"}},[e._v("\n        "+e._s(e.revertLabel)+"\n      ")]):e._e(),e._v(" "),e.mr.canCherryPickInCurrentMR?i("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"btn btn-default btn-sm",attrs:{title:e.cherryPickTitle,href:"#modal-cherry-pick-commit","data-toggle":"modal","data-container":"body"}},[e._v("\n        "+e._s(e.cherryPickLabel)+"\n      ")]):e.mr.cherryPickInForkPath?i("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"btn btn-default btn-sm",attrs:{href:e.mr.cherryPickInForkPath,title:e.cherryPickTitle,"data-method":"post"}},[e._v("\n        "+e._s(e.cherryPickLabel)+"\n      ")]):e._e()],1),e._v(" "),i("section",{staticClass:"mr-info-list"},[i("p",[e._v("\n        "+e._s(e.s__("mrWidget|The changes were merged into"))+"\n        "),i("span",{staticClass:"label-branch"},[i("a",{attrs:{href:e.mr.targetBranchPath}},[e._v(e._s(e.mr.targetBranch))])]),e._v(" "),e.mr.mergeCommitSha?[e._v("\n          with\n          "),i("a",{staticClass:"commit-sha js-mr-merged-commit-sha",attrs:{href:e.mr.mergeCommitPath},domProps:{textContent:e._s(e.mr.shortMergeCommitSha)}}),e._v(" "),i("clipboard-button",{attrs:{title:e.__("Copy commit SHA to clipboard"),text:e.mr.mergeCommitSha,"css-class":"btn-default btn-transparent btn-clipboard js-mr-merged-copy-sha"}})]:e._e()],2),e._v(" "),e.mr.sourceBranchRemoved?i("p",[e._v("\n        "+e._s(e.s__("mrWidget|The source branch has been removed"))+"\n      ")]):e._e(),e._v(" "),e.shouldShowRemoveSourceBranch?i("p",{staticClass:"space-children"},[i("span",[e._v(e._s(e.s__("mrWidget|You can remove source branch now")))]),e._v(" "),i("button",{staticClass:"btn btn-sm btn-default js-remove-branch-button",attrs:{disabled:e.isMakingRequest,type:"button"},on:{click:e.removeSourceBranch}},[e._v("\n          "+e._s(e.s__("mrWidget|Remove Source Branch"))+"\n        ")])]):e._e(),e._v(" "),e.shouldShowSourceBranchRemoving?i("p",[i("gl-loading-icon",{attrs:{inline:!0}}),e._v(" "),i("span",[e._v(" "+e._s(e.s__("mrWidget|The source branch is being removed"))+" ")])],1):e._e()])])],1)},[],!1,null,null,null);zn.options.__file="mr_widget_merged.vue";var Gn=zn.exports,Yn={name:"MRWidgetClosed",components:{MrWidgetAuthorTime:Un,statusIcon:wn},props:{mr:{type:Object,required:!0,default:function(){return{}}}}},Jn=Object(y.a)(Yn,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body media"},[i("status-icon",{attrs:{status:"warning"}}),e._v(" "),i("div",{staticClass:"media-body"},[i("mr-widget-author-time",{attrs:{"action-text":e.s__("mrWidget|Closed by"),author:e.mr.metrics.closedBy,"date-title":e.mr.metrics.closedAt,"date-readable":e.mr.metrics.readableClosedAt}}),e._v(" "),i("section",{staticClass:"mr-info-list"},[i("p",[e._v("\n        "+e._s(e.s__("mrWidget|The changes were not merged into"))+"\n        "),i("a",{staticClass:"label-branch",attrs:{href:e.mr.targetBranchPath}},[e._v(" "+e._s(e.mr.targetBranch)+" ")])])])],1)],1)},[],!1,null,null,null);Jn.options.__file="mr_widget_closed.vue";var Kn=Jn.exports,Qn={name:"MRWidgetMerging",components:{statusIcon:wn},props:{mr:{type:Object,required:!0,default:function(){return{}}}}},Xn=Object(y.a)(Qn,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body mr-state-locked media"},[i("status-icon",{attrs:{status:"loading"}}),e._v(" "),i("div",{staticClass:"media-body"},[i("h4",[e._v(e._s(e.s__("mrWidget|This merge request is in the process of being merged")))]),e._v(" "),i("section",{staticClass:"mr-info-list"},[i("p",[e._v("\n        "+e._s(e.s__("mrWidget|The changes will be merged into"))+"\n        "),i("span",{staticClass:"label-branch"},[i("a",{attrs:{href:e.mr.targetBranchPath}},[e._v(e._s(e.mr.targetBranch))])])])])])],1)},[],!1,null,null,null);Xn.options.__file="mr_widget_merging.vue";var Zn=Xn.exports,es=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e4,n=Date.now();return new Promise(function(s,a){var o=function(e){return e instanceof Error?a(e):s(e)};e(function s(){Date.now()-n<i?setTimeout(e.bind(null,s,o),t):a(new Error("SIMPLE_POLL_TIMEOUT"))},o)})},ts={name:"MRWidgetRebase",components:{statusIcon:wn,GlLoadingIcon:p.e},props:{mr:{type:Object,required:!0},service:{type:Object,required:!0}},data:function(){return{isMakingRequest:!1,rebasingError:null}},computed:{status:function(){return this.mr.rebaseInProgress||this.isMakingRequest?"loading":this.mr.canPushToSourceBranch||this.mr.rebaseInProgress?"success":"warning"},showDisabledButton:function(){return["failed","loading"].includes(this.status)}},methods:{rebase:function(){var e=this;this.isMakingRequest=!0,this.rebasingError=null,this.service.rebase().then(function(){es(e.checkRebaseStatus)}).catch(function(t){e.rebasingError=t.merge_error,e.isMakingRequest=!1,Object(h.a)("Something went wrong. Please try again.")})},checkRebaseStatus:function(e,t){var i=this;this.service.poll().then(function(e){return e.data}).then(function(n){n.rebase_in_progress?e():(i.isMakingRequest=!1,n.merge_error&&n.merge_error.length&&(i.rebasingError=n.merge_error,Object(h.a)("Something went wrong. Please try again.")),Wn.a.$emit("MRWidgetRebaseSuccess"),t())}).catch(function(){i.isMakingRequest=!1,Object(h.a)("Something went wrong. Please try again."),t()})}}},is=Object(y.a)(ts,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body media"},[i("status-icon",{attrs:{status:e.status,"show-disabled-button":e.showDisabledButton}}),e._v(" "),i("div",{staticClass:"rebase-state-find-class-convention media media-body space-children"},[e.mr.rebaseInProgress||e.isMakingRequest?[i("span",{staticClass:"bold"},[e._v(" Rebase in progress ")])]:e._e(),e._v(" "),e.mr.rebaseInProgress||e.mr.canPushToSourceBranch?e._e():[i("span",{staticClass:"bold"},[e._v("\n          Fast-forward merge is not possible. Rebase the source branch onto\n          "),i("span",{staticClass:"label-branch"},[e._v(e._s(e.mr.targetBranch))]),e._v(" to allow this merge request to be\n          merged.\n        ")])],e._v(" "),e.mr.rebaseInProgress||!e.mr.canPushToSourceBranch||e.isMakingRequest?e._e():[i("div",{staticClass:"accept-merge-holder clearfix\njs-toggle-container accept-action media space-children"},[i("button",{staticClass:"btn btn-sm btn-reopen btn-success qa-mr-rebase-button",attrs:{disabled:e.isMakingRequest,type:"button"},on:{click:e.rebase}},[e.isMakingRequest?i("gl-loading-icon"):e._e(),e._v("\n            Rebase\n          ")],1),e._v(" "),e.rebasingError?i("span",{staticClass:"bold danger"},[e._v(" "+e._s(e.rebasingError)+" ")]):i("span",{staticClass:"bold"},[e._v("\n            Fast-forward merge is not possible. Rebase the source branch onto the target branch or\n            merge target branch into source branch to allow this merge request to be merged.\n          ")])])]],2)],1)},[],!1,null,null,null);is.options.__file="mr_widget_rebase.vue";var ns=is.exports,ss={name:"WorkInProgress",components:{statusIcon:wn},directives:{tooltip:Vi.a},props:{mr:{type:Object,required:!0},service:{type:Object,required:!0}},data:function(){return{isMakingRequest:!1}},methods:{removeWIP:function(){var e=this;this.isMakingRequest=!0,this.service.removeWIP().then(function(e){return e.data}).then(function(t){Wn.a.$emit("UpdateWidgetData",t),new window.Flash("The merge request can now be merged.","notice"),l()(".merge-request .detail-page-description .title").text(e.mr.title)}).catch(function(){e.isMakingRequest=!1,new window.Flash("Something went wrong. Please try again.")})}}},as=Object(y.a)(ss,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body media"},[i("status-icon",{attrs:{"show-disabled-button":Boolean(e.mr.removeWIPPath),status:"warning"}}),e._v(" "),i("div",{staticClass:"media-body space-children"},[i("span",{staticClass:"bold"},[e._v("\n      This is a Work in Progress\n      "),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"fa fa-question-circle",attrs:{title:"When this merge request is ready,\n        remove the WIP: prefix from the title to allow it to be merged","aria-label":"When this merge request is ready,\n        remove the WIP: prefix from the title to allow it to be merged"}})]),e._v(" "),e.mr.removeWIPPath?i("button",{staticClass:"btn btn-default btn-sm js-remove-wip",attrs:{disabled:e.isMakingRequest,type:"button"},on:{click:e.removeWIP}},[e.isMakingRequest?i("i",{staticClass:"fa fa-spinner fa-spin",attrs:{"aria-hidden":"true"}}):e._e(),e._v(" Resolve WIP\n      status\n    ")]):e._e()])],1)},[],!1,null,null,null);as.options.__file="work_in_progress.vue";var os=as.exports,rs={name:"MRWidgetArchived",components:{statusIcon:wn}},ls=Object(y.a)(rs,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body media"},[i("div",{staticClass:"space-children"},[i("status-icon",{attrs:{status:"warning"}}),e._v(" "),i("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button",disabled:"true"}},[e._v("\n      "+e._s(e.s__("mrWidget|Merge"))+"\n    ")])],1),e._v(" "),i("div",{staticClass:"media-body"},[i("span",{staticClass:"bold"},[e._v("\n      "+e._s(e.s__("mrWidget|This project is archived, write access has been disabled"))+"\n    ")])])])},[],!1,null,null,null);ls.options.__file="mr_widget_archived.vue";var cs=ls.exports,us={name:"MRWidgetConflicts",components:{statusIcon:wn},props:{mr:{type:Object,required:!0,default:function(){return{}}}}},ds=Object(y.a)(us,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body media"},[i("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),e._v(" "),i("div",{staticClass:"media-body space-children"},[e.mr.shouldBeRebased?i("span",{staticClass:"bold"},[e._v("\n        "+e._s(e.s__("mrWidget|Fast-forward merge is not possible.\nTo merge this request, first rebase locally."))+"\n      ")]):[i("span",{staticClass:"bold"},[e._v("\n          "+e._s(e.s__("mrWidget|There are merge conflicts"))),e.mr.canMerge?e._e():i("span",[e._v(".")]),e._v(" "),e.mr.canMerge?e._e():i("span",[e._v("\n            "+e._s(e.s__("mrWidget|Resolve these conflicts or ask someone\n            with write access to this repository to merge it locally"))+"\n          ")])]),e._v(" "),e.mr.canMerge&&e.mr.conflictResolutionPath?i("a",{staticClass:"js-resolve-conflicts-button btn btn-default btn-sm",attrs:{href:e.mr.conflictResolutionPath}},[e._v("\n          "+e._s(e.s__("mrWidget|Resolve conflicts"))+"\n        ")]):e._e(),e._v(" "),e.mr.canMerge?i("button",{staticClass:"js-merge-locally-button btn btn-default btn-sm",attrs:{"data-toggle":"modal","data-target":"#modal_merge_info"}},[e._v("\n          "+e._s(e.s__("mrWidget|Merge locally"))+"\n        ")]):e._e()]],2)],1)},[],!1,null,null,null);ds.options.__file="mr_widget_conflicts.vue";var fs=ds.exports,hs=i(806),ps=i.n(hs),ms={name:"MRWidgetNothingToMerge",props:{mr:{type:Object,required:!0}},data:function(){return{emptyStateSVG:ps.a}}},gs=Object(y.a)(ms,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body mr-widget-empty-state"},[i("div",{staticClass:"row"},[i("div",{staticClass:"artwork col-md-5 order-md-last col-12 text-center"},[i("span",{domProps:{innerHTML:e._s(e.emptyStateSVG)}})]),e._v(" "),i("div",{staticClass:"text col-md-7 order-md-first col-12"},[i("span",[e._v("\n        Merge requests are a place to propose changes you have made to a project and discuss those\n        changes with others.\n      ")]),e._v(" "),i("p",[e._v("Interested parties can even contribute by pushing commits if they want to.")]),e._v(" "),i("p",[e._v("\n        Currently there are no changes in this merge request's source branch. Please push new\n        commits or use a different branch.\n      ")]),e._v(" "),i("div",[e.mr.newBlobPath?i("a",{staticClass:"btn btn-inverted btn-success",attrs:{href:e.mr.newBlobPath}},[e._v("\n          Create file\n        ")]):e._e()])])])])},[],!1,null,null,null);gs.options.__file="nothing_to_merge.vue";var vs=gs.exports,bs={name:"MRWidgetMissingBranch",directives:{tooltip:Vi.a},components:{mrWidgetMergeHelp:tn,statusIcon:wn},props:{mr:{type:Object,required:!0}},computed:{missingBranchName:function(){return this.mr.sourceBranchRemoved?"source":"target"},missingBranchNameMessage:function(){return Object(f.f)(Object(f.e)("mrWidget| Please restore it or use a different %{missingBranchName} branch"),{missingBranchName:this.missingBranchName})},message:function(){return Object(f.f)(Object(f.e)("mrWidget|If the %{missingBranchName} branch exists in your local repository, you can merge this merge request manually using the command line"),{missingBranchName:this.missingBranchName})}}},_s=Object(y.a)(bs,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body media"},[i("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),e._v(" "),i("div",{staticClass:"media-body space-children"},[i("span",{staticClass:"bold js-branch-text"},[i("span",{staticClass:"capitalize"},[e._v(" "+e._s(e.missingBranchName)+" ")]),e._v("\n      "+e._s(e.s__("mrWidget|branch does not exist."))+" "+e._s(e.missingBranchNameMessage)+"\n      "),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"fa fa-question-circle",attrs:{title:e.message,"aria-label":e.message}})])])],1)},[],!1,null,null,null);_s.options.__file="mr_widget_missing_branch.vue";var ys=_s.exports,ws={name:"MRWidgetNotAllowed",components:{StatusIcon:wn}},Cs=Object(y.a)(ws,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-body media"},[t("status-icon",{attrs:{"show-disabled-button":!0,status:"success"}}),this._v(" "),t("div",{staticClass:"media-body space-children"},[t("span",{staticClass:"bold"},[this._v("\n        "+this._s(this.s__("mrWidget|Ready to be merged automatically.\nAsk someone with write access to this repository to merge this request"))+"\n      ")])])],1)},[],!1,null,null,null);Cs.options.__file="mr_widget_not_allowed.vue";var ks=Cs.exports,js=i(807),Ss=i.n(js),Os=i(808),xs=i.n(Os),Ds={components:{Icon:d.a},directives:{tooltip:Vi.a},props:{mr:{type:Object,required:!0},isMergeButtonDisabled:{type:Boolean,required:!0}},data:function(){return{squashBeforeMerge:this.mr.squash}},methods:{updateSquashModel:function(){Wn.a.$emit("MRWidgetUpdateSquash",this.squashBeforeMerge)}}},Ts=Object(y.a)(Ds,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"accept-control inline"},[i("label",{staticClass:"merge-param-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.squashBeforeMerge,expression:"squashBeforeMerge"}],staticClass:"qa-squash-checkbox",attrs:{disabled:e.isMergeButtonDisabled,type:"checkbox",name:"squash"},domProps:{checked:Array.isArray(e.squashBeforeMerge)?e._i(e.squashBeforeMerge,null)>-1:e.squashBeforeMerge},on:{change:[function(t){var i=e.squashBeforeMerge,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=e._i(i,null);n.checked?a<0&&(e.squashBeforeMerge=i.concat([null])):a>-1&&(e.squashBeforeMerge=i.slice(0,a).concat(i.slice(a+1)))}else e.squashBeforeMerge=s},e.updateSquashModel]}}),e._v("\n    "+e._s(e.__("Squash commits"))+"\n  ")]),e._v(" "),i("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{href:e.mr.squashBeforeMergeHelpPath,"data-title":"About this feature","data-placement":"bottom",target:"_blank",rel:"noopener noreferrer nofollow","data-container":"body"}},[i("icon",{attrs:{name:"question-o"}})],1)])},[],!1,null,null,null);Ts.options.__file="squash_before_merge.vue";var Es=Ts.exports,Ps={name:"ReadyToMerge",components:{statusIcon:wn,"squash-before-merge":Es},props:{mr:{type:Object,required:!0},service:{type:Object,required:!0}},data:function(){return{removeSourceBranch:this.mr.shouldRemoveSourceBranch,mergeWhenBuildSucceeds:!1,useCommitMessageWithDescription:!1,setToMergeWhenPipelineSucceeds:!1,showCommitMessageEditor:!1,isMakingRequest:!1,isMergingImmediately:!1,commitMessage:this.mr.commitMessage,successSvg:Ss.a,warningSvg:xs.a}},computed:{shouldShowMergeWhenPipelineSucceedsText:function(){return this.mr.isPipelineActive},commitMessageLinkTitle:function(){return this.useCommitMessageWithDescription?"Don't include description in commit message":"Include description in commit message"},status:function(){var e=this.mr,t=e.pipeline,i=e.isPipelineActive,n=e.isPipelineFailed,s=e.hasCI,a=e.ciStatus;return s&&!a?"failed":t?i?"pending":n?"failed":"success":"success"},mergeButtonClass:function(){var e="btn btn-sm btn-success accept-merge-request",t="".concat(e," btn-danger"),i="".concat(e," btn-info");return"failed"===this.status?t:"pending"===this.status?i:e},iconClass:function(){return"failed"!==this.status&&this.commitMessage.length&&this.mr.isMergeAllowed&&!this.mr.preventMerge?"success":"warning"},mergeButtonText:function(){return this.isMergingImmediately?"Merge in progress":this.shouldShowMergeWhenPipelineSucceedsText?"Merge when pipeline succeeds":"Merge"},shouldShowMergeOptionsDropdown:function(){return this.mr.isPipelineActive&&!this.mr.onlyAllowMergeIfPipelineSucceeds},isMergeButtonDisabled:function(){var e=this.commitMessage;return Boolean(!e.length||!this.shouldShowMergeControls()||this.isMakingRequest||this.mr.preventMerge)},isRemoveSourceBranchButtonDisabled:function(){return this.isMergeButtonDisabled},shouldShowSquashBeforeMerge:function(){var e=this.mr,t=e.commitsCount;return e.enableSquashBeforeMerge&&t>1}},created:function(){Wn.a.$on("MRWidgetUpdateSquash",this.handleUpdateSquash)},beforeDestroy:function(){Wn.a.$off("MRWidgetUpdateSquash",this.handleUpdateSquash)},methods:{shouldShowMergeControls:function(){return this.mr.isMergeAllowed||this.shouldShowMergeWhenPipelineSucceedsText},updateCommitMessage:function(){var e=this.mr.commitMessageWithDescription;this.useCommitMessageWithDescription=!this.useCommitMessageWithDescription,this.commitMessage=this.useCommitMessageWithDescription?e:this.mr.commitMessage},toggleCommitMessageEditor:function(){this.showCommitMessageEditor=!this.showCommitMessageEditor},handleMergeButtonClick:function(e,t){var i=this;void 0===e?e=this.mr.isPipelineActive:t&&(this.isMergingImmediately=!0),this.setToMergeWhenPipelineSucceeds=!0===e;var n={sha:this.mr.sha,commit_message:this.commitMessage,merge_when_pipeline_succeeds:this.setToMergeWhenPipelineSucceeds,should_remove_source_branch:!0===this.removeSourceBranch,squash:this.mr.squash};this.isMakingRequest=!0,this.service.merge(n).then(function(e){return e.data}).then(function(e){var t="failed"===e.status||"hook_validation_error"===e.status;"merge_when_pipeline_succeeds"===e.status?Wn.a.$emit("MRWidgetUpdateRequested"):"success"===e.status?i.initiateMergePolling():t&&Wn.a.$emit("FailedToMerge",e.merge_error)}).catch(function(){i.isMakingRequest=!1,new h.a("Something went wrong. Please try again.")})},handleUpdateSquash:function(e){this.mr.squash=e},initiateMergePolling:function(){var e=this;es(function(t,i){e.handleMergePolling(t,i)})},handleMergePolling:function(e,t){var i=this;this.service.poll().then(function(e){return e.data}).then(function(n){"merged"===n.state?(Wn.a.$emit("MRWidgetUpdateRequested"),Wn.a.$emit("FetchActionsContent"),qi.a.setStatusBoxToMerged(),qi.a.hideCloseButton(),qi.a.decreaseCounter(),t(),i.removeSourceBranch&&n.source_branch_exists&&i.initiateRemoveSourceBranchPolling()):n.merge_error?(Wn.a.$emit("FailedToMerge",n.merge_error),t()):e()}).catch(function(){new h.a("Something went wrong while merging this merge request. Please try again.")})},initiateRemoveSourceBranchPolling:function(){var e=this;Wn.a.$emit("SetBranchRemoveFlag",[!0]),es(function(t,i){e.handleRemoveBranchPolling(t,i)})},handleRemoveBranchPolling:function(e,t){this.service.poll().then(function(e){return e.data}).then(function(i){i.source_branch_exists?e():(Wn.a.$emit("MRWidgetUpdateRequested",function(){Wn.a.$emit("SetBranchRemoveFlag",[!1])}),t())}).catch(function(){new h.a("Something went wrong while removing the source branch. Please try again.")})}}},Is=Object(y.a)(Ps,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body media"},[i("status-icon",{attrs:{status:e.iconClass}}),e._v(" "),i("div",{staticClass:"media-body"},[i("div",{staticClass:"mr-widget-body-controls media space-children"},[i("span",{staticClass:"btn-group"},[i("button",{staticClass:"qa-merge-button",class:e.mergeButtonClass,attrs:{disabled:e.isMergeButtonDisabled,type:"button"},on:{click:function(t){e.handleMergeButtonClick()}}},[e.isMakingRequest?i("i",{staticClass:"fa fa-spinner fa-spin",attrs:{"aria-hidden":"true"}}):e._e(),e._v("\n          "+e._s(e.mergeButtonText)+"\n        ")]),e._v(" "),e.shouldShowMergeOptionsDropdown?i("button",{staticClass:"btn btn-sm btn-info dropdown-toggle js-merge-moment",attrs:{disabled:e.isMergeButtonDisabled,type:"button","data-toggle":"dropdown","aria-label":"Select merge moment"}},[i("i",{staticClass:"fa fa-chevron-down qa-merge-moment-dropdown",attrs:{"aria-hidden":"true"}})]):e._e(),e._v(" "),e.shouldShowMergeOptionsDropdown?i("ul",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{role:"menu"}},[i("li",[i("a",{staticClass:"merge_when_pipeline_succeeds qa-merge-when-pipeline-succeeds-option",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.handleMergeButtonClick(!0)}}},[i("span",{staticClass:"media"},[i("span",{staticClass:"merge-opt-icon",attrs:{"aria-hidden":"true"},domProps:{innerHTML:e._s(e.successSvg)}}),e._v(" "),i("span",{staticClass:"media-body merge-opt-title"},[e._v("Merge when pipeline succeeds")])])])]),e._v(" "),i("li",[i("a",{staticClass:"accept-merge-request qa-merge-immediately-option",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.handleMergeButtonClick(!1,!0)}}},[i("span",{staticClass:"media"},[i("span",{staticClass:"merge-opt-icon",attrs:{"aria-hidden":"true"},domProps:{innerHTML:e._s(e.warningSvg)}}),e._v(" "),i("span",{staticClass:"media-body merge-opt-title"},[e._v("Merge immediately")])])])])]):e._e()]),e._v(" "),i("div",{staticClass:"media-body-wrap space-children"},[e.shouldShowMergeControls()?[e.mr.canRemoveSourceBranch?i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.removeSourceBranch,expression:"removeSourceBranch"}],staticClass:"js-remove-source-branch-checkbox",attrs:{id:"remove-source-branch-input",disabled:e.isRemoveSourceBranchButtonDisabled,type:"checkbox"},domProps:{checked:Array.isArray(e.removeSourceBranch)?e._i(e.removeSourceBranch,null)>-1:e.removeSourceBranch},on:{change:function(t){var i=e.removeSourceBranch,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=e._i(i,null);n.checked?a<0&&(e.removeSourceBranch=i.concat([null])):a>-1&&(e.removeSourceBranch=i.slice(0,a).concat(i.slice(a+1)))}else e.removeSourceBranch=s}}}),e._v("\n            Remove source branch\n          ")]):e._e(),e._v(" "),e.shouldShowSquashBeforeMerge?i("squash-before-merge",{attrs:{mr:e.mr,"is-merge-button-disabled":e.isMergeButtonDisabled}}):e._e(),e._v(" "),e.mr.ffOnlyEnabled?i("span",{staticClass:"js-fast-forward-message"},[e._v("\n            Fast-forward merge without a merge commit\n          ")]):i("button",{staticClass:"js-modify-commit-message-button btn btn-default btn-sm",attrs:{disabled:e.isMergeButtonDisabled,type:"button"},on:{click:e.toggleCommitMessageEditor}},[e._v("\n            Modify commit message\n          ")])]:[i("span",{staticClass:"bold js-resolve-mr-widget-items-message"},[e._v("\n            You can only merge once the items above are resolved\n          ")])]],2)]),e._v(" "),e.showCommitMessageEditor?i("div",{staticClass:"prepend-top-default commit-message-editor"},[i("div",{staticClass:"form-group clearfix"},[i("label",{staticClass:"col-form-label",attrs:{for:"commit-message"}},[e._v(" Commit message ")]),e._v(" "),i("div",{staticClass:"col-sm-10"},[i("div",{staticClass:"commit-message-container"},[i("div",{staticClass:"max-width-marker"}),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.commitMessage,expression:"commitMessage"}],staticClass:"form-control js-commit-message",attrs:{id:"commit-message",required:"required",rows:"14",name:"Commit message"},domProps:{value:e.commitMessage},on:{input:function(t){t.target.composing||(e.commitMessage=t.target.value)}}})]),e._v(" "),i("p",{staticClass:"hint"},[e._v("\n            Try to keep the first line under 52 characters and the others under 72\n          ")]),e._v(" "),i("div",{staticClass:"hint"},[i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.updateCommitMessage(t)}}},[e._v(" "+e._s(e.commitMessageLinkTitle)+" ")])])])])]):e._e()])],1)},[],!1,null,null,null);Is.options.__file="ready_to_merge.vue";var Ns=Is.exports,Ls={name:"ShaMismatch",components:{statusIcon:wn}},qs=Object(y.a)(Ls,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-body media"},[t("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),this._v(" "),t("div",{staticClass:"media-body space-children"},[t("span",{staticClass:"bold"},[this._v("\n        "+this._s(this.s__("mrWidget|The source branch HEAD has recently changed.\nPlease reload the page and review the changes before merging"))+"\n      ")])])],1)},[],!1,null,null,null);qs.options.__file="sha_mismatch.vue";var Ms=qs.exports,As={name:"UnresolvedDiscussions",components:{statusIcon:wn},props:{mr:{type:Object,required:!0}}},Fs=Object(y.a)(As,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body media"},[i("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),e._v(" "),i("div",{staticClass:"media-body space-children"},[i("span",{staticClass:"bold"},[e._v("\n      "+e._s(e.s__("mrWidget|There are unresolved discussions. Please resolve these discussions"))+"\n    ")]),e._v(" "),e.mr.createIssueToResolveDiscussionsPath?i("a",{staticClass:"btn btn-default btn-sm js-create-issue",attrs:{href:e.mr.createIssueToResolveDiscussionsPath}},[e._v("\n      "+e._s(e.s__("mrWidget|Create an issue to resolve them later"))+"\n    ")]):e._e()])],1)},[],!1,null,null,null);Fs.options.__file="unresolved_discussions.vue";var Bs=Fs.exports,Rs={name:"MRWidgetPipelineBlocked",components:{StatusIcon:wn}},$s=Object(y.a)(Rs,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-body media"},[t("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),this._v(" "),t("div",{staticClass:"media-body space-children"},[t("span",{staticClass:"bold"},[this._v("\n        "+this._s(this.s__("mrWidget|Pipeline blocked.\nThe pipeline for this merge request requires a manual action to proceed"))+"\n      ")])])],1)},[],!1,null,null,null);$s.options.__file="mr_widget_pipeline_blocked.vue";var Hs=$s.exports,Us={name:"PipelineFailed",components:{statusIcon:wn}},Ws=Object(y.a)(Us,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-body media"},[t("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),this._v(" "),t("div",{staticClass:"media-body space-children"},[t("span",{staticClass:"bold"},[this._v("\n        "+this._s(this.s__("mrWidget|The pipeline for this merge request failed.\nPlease retry the job or push a new commit to fix the failure"))+"\n      ")])])],1)},[],!1,null,null,null);Ws.options.__file="pipeline_failed.vue";var Vs=Ws.exports,zs={name:"MRWidgetFailedToMerge",components:{statusIcon:wn},props:{mr:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{timer:10,isRefreshing:!1,intervalId:null}},computed:{mergeError:function(){return this.mr.mergeError?Object(N.l)(this.mr.mergeError," ").trim():""},timerText:function(){return Object(f.d)("Refreshing in a second to show the updated status...","Refreshing in %d seconds to show the updated status...",this.timer)}},mounted:function(){this.intervalId=setInterval(this.updateTimer,1e3)},created:function(){Wn.a.$emit("DisablePolling")},beforeDestroy:function(){this.intervalId&&clearInterval(this.intervalId)},methods:{refresh:function(){this.isRefreshing=!0,Wn.a.$emit("MRWidgetUpdateRequested"),Wn.a.$emit("EnablePolling")},updateTimer:function(){this.timer=this.timer-1,0===this.timer&&this.refresh()}}},Gs=Object(y.a)(zs,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body media"},[e.isRefreshing?[i("status-icon",{attrs:{status:"loading"}}),e._v(" "),i("span",{staticClass:"media-body bold js-refresh-label"},[e._v(" "+e._s(e.s__("mrWidget|Refreshing now"))+" ")])]:[i("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),e._v(" "),i("div",{staticClass:"media-body space-children"},[i("span",{staticClass:"bold"},[e.mr.mergeError?i("span",{staticClass:"has-error-message"},[e._v(" "+e._s(e.mergeError)+". ")]):i("span",[e._v(" "+e._s(e.s__("mrWidget|Merge failed."))+" ")]),e._v(" "),i("span",{class:{"has-custom-error":e.mr.mergeError}},[e._v(" "+e._s(e.timerText)+" ")])]),e._v(" "),i("button",{staticClass:"btn btn-default btn-sm js-refresh-button",attrs:{type:"button"},on:{click:e.refresh}},[e._v("\n        "+e._s(e.s__("mrWidget|Refresh now"))+"\n      ")])])]],2)},[],!1,null,null,null);Gs.options.__file="mr_widget_failed_to_merge.vue";var Ys=Gs.exports,Js={name:"MRWidgetMergeWhenPipelineSucceeds",components:{MrWidgetAuthor:Rn,statusIcon:wn},props:{mr:{type:Object,required:!0,default:function(){return{}}},service:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{isCancellingAutoMerge:!1,isRemovingSourceBranch:!1}},computed:{canRemoveSourceBranch:function(){var e=this.mr,t=e.shouldRemoveSourceBranch,i=e.canRemoveSourceBranch,n=e.mergeUserId,s=e.currentUserId;return!t&&i&&n===s}},methods:{cancelAutomaticMerge:function(){var e=this;this.isCancellingAutoMerge=!0,this.service.cancelAutomaticMerge().then(function(e){return e.data}).then(function(e){Wn.a.$emit("UpdateWidgetData",e)}).catch(function(){e.isCancellingAutoMerge=!1,Object(h.a)("Something went wrong. Please try again.")})},removeSourceBranch:function(){var e=this,t={sha:this.mr.sha,merge_when_pipeline_succeeds:!0,should_remove_source_branch:!0};this.isRemovingSourceBranch=!0,this.service.merge(t).then(function(e){return e.data}).then(function(e){"merge_when_pipeline_succeeds"===e.status&&Wn.a.$emit("MRWidgetUpdateRequested")}).catch(function(){e.isRemovingSourceBranch=!1,Object(h.a)("Something went wrong. Please try again.")})}}},Ks=Object(y.a)(Js,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body media"},[i("status-icon",{attrs:{status:"success"}}),e._v(" "),i("div",{staticClass:"media-body"},[i("h4",{staticClass:"d-flex align-items-start"},[i("span",{staticClass:"append-right-10"},[e._v("\n        "+e._s(e.s__("mrWidget|Set by"))+"\n        "),i("mr-widget-author",{attrs:{author:e.mr.setToMWPSBy}}),e._v("\n        "+e._s(e.s__("mrWidget|to be merged automatically when the pipeline succeeds"))+"\n      ")],1),e._v(" "),e.mr.canCancelAutomaticMerge?i("a",{staticClass:"btn btn-sm btn-default js-cancel-auto-merge",attrs:{disabled:e.isCancellingAutoMerge,role:"button",href:"#"},on:{click:function(t){return t.preventDefault(),e.cancelAutomaticMerge(t)}}},[e.isCancellingAutoMerge?i("i",{staticClass:"fa fa-spinner fa-spin",attrs:{"aria-hidden":"true"}}):e._e(),e._v("\n        "+e._s(e.s__("mrWidget|Cancel automatic merge"))+"\n      ")]):e._e()]),e._v(" "),i("section",{staticClass:"mr-info-list"},[i("p",[e._v("\n        "+e._s(e.s__("mrWidget|The changes will be merged into"))+"\n        "),i("a",{staticClass:"label-branch",attrs:{href:e.mr.targetBranchPath}},[e._v(" "+e._s(e.mr.targetBranch)+" ")])]),e._v(" "),e.mr.shouldRemoveSourceBranch?i("p",[e._v("\n        "+e._s(e.s__("mrWidget|The source branch will be removed"))+"\n      ")]):i("p",{staticClass:"d-flex align-items-start"},[i("span",{staticClass:"append-right-10"},[e._v("\n          "+e._s(e.s__("mrWidget|The source branch will not be removed"))+"\n        ")]),e._v(" "),e.canRemoveSourceBranch?i("a",{staticClass:"btn btn-sm btn-default js-remove-source-branch",attrs:{disabled:e.isRemovingSourceBranch,role:"button",href:"#"},on:{click:function(t){return t.preventDefault(),e.removeSourceBranch(t)}}},[e.isRemovingSourceBranch?i("i",{staticClass:"fa fa-spinner fa-spin",attrs:{"aria-hidden":"true"}}):e._e(),e._v("\n          "+e._s(e.s__("mrWidget|Remove source branch"))+"\n        ")]):e._e()])])])],1)},[],!1,null,null,null);Ks.options.__file="mr_widget_merge_when_pipeline_succeeds.vue";var Qs=Ks.exports,Xs={name:"MRWidgetAutoMergeFailed",components:{statusIcon:wn,GlLoadingIcon:p.e},props:{mr:{type:Object,required:!0}},data:function(){return{isRefreshing:!1}},methods:{refreshWidget:function(){var e=this;this.isRefreshing=!0,Wn.a.$emit("MRWidgetUpdateRequested",function(){e.isRefreshing=!1})}}},Zs=Object(y.a)(Xs,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-widget-body media"},[i("status-icon",{attrs:{status:"warning"}}),e._v(" "),i("div",{staticClass:"media-body space-children"},[i("span",{staticClass:"bold"},[e.mr.mergeError?[e._v(e._s(e.mr.mergeError)+".")]:e._e(),e._v("\n      "+e._s(e.s__("mrWidget|This merge request failed to be merged automatically"))+"\n    ")],2),e._v(" "),i("button",{staticClass:"btn btn-sm btn-default",attrs:{disabled:e.isRefreshing,type:"button"},on:{click:e.refreshWidget}},[e.isRefreshing?i("gl-loading-icon",{attrs:{inline:!0}}):e._e(),e._v("\n      "+e._s(e.s__("mrWidget|Refresh"))+"\n    ")],1)])],1)},[],!1,null,null,null);Zs.options.__file="mr_widget_auto_merge_failed.vue";var ea=Zs.exports,ta={name:"MRWidgetChecking",components:{statusIcon:wn}},ia=Object(y.a)(ta,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-body media"},[t("status-icon",{attrs:{"show-disabled-button":!0,status:"loading"}}),this._v(" "),t("div",{staticClass:"media-body space-children"},[t("span",{staticClass:"bold"},[this._v(" "+this._s(this.s__("mrWidget|Checking ability to merge automatically"))+" ")])])],1)},[],!1,null,null,null);ia.options.__file="mr_widget_checking.vue";var na=ia.exports,sa=i(343),aa=i.n(sa),oa={archived:"archived",missingBranch:"missingBranch",nothingToMerge:"nothingToMerge",checking:"checking",conflicts:"conflicts",workInProgress:"workInProgress",pipelineFailed:"pipelineFailed",unresolvedDiscussions:"unresolvedDiscussions",pipelineBlocked:"pipelineBlocked",shaMismatch:"shaMismatch",autoMergeFailed:"autoMergeFailed",mergeWhenPipelineSucceeds:"mergeWhenPipelineSucceeds",notAllowedToMerge:"notAllowedToMerge",readyToMerge:"readyToMerge",rebase:"rebase",merged:"merged"},ra={stateToComponentMap:{merged:"mr-widget-merged",closed:"mr-widget-closed",merging:"mr-widget-merging",conflicts:"mr-widget-conflicts",missingBranch:"mr-widget-missing-branch",workInProgress:"mr-widget-wip",readyToMerge:"mr-widget-ready-to-merge",nothingToMerge:"mr-widget-nothing-to-merge",notAllowedToMerge:"mr-widget-not-allowed",archived:"mr-widget-archived",checking:"mr-widget-checking",unresolvedDiscussions:"mr-widget-unresolved-discussions",pipelineBlocked:"mr-widget-pipeline-blocked",pipelineFailed:"mr-widget-pipeline-failed",mergeWhenPipelineSucceeds:"mr-widget-merge-when-pipeline-succeeds",failedToMerge:"mr-widget-failed-to-merge",autoMergeFailed:"mr-widget-auto-merge-failed",shaMismatch:"sha-mismatch",rebase:"mr-widget-rebase"},statesToShowHelpWidget:["merging","conflicts","workInProgress","readyToMerge","checking","unresolvedDiscussions","pipelineFailed","pipelineBlocked","autoMergeFailed","rebase"]};var la=function(e){return e.project_archived?oa.archived:e.branch_missing?oa.missingBranch:e.commits_count?"unchecked"===this.mergeStatus?oa.checking:e.has_conflicts?oa.conflicts:e.work_in_progress?oa.workInProgress:this.onlyAllowMergeIfPipelineSucceeds&&this.isPipelineFailed?oa.pipelineFailed:this.hasMergeableDiscussionsState?oa.unresolvedDiscussions:this.isPipelineBlocked?oa.pipelineBlocked:this.isSHAMismatch?oa.shaMismatch:this.mergeWhenPipelineSucceeds?this.mergeError?oa.autoMergeFailed:oa.mergeWhenPipelineSucceeds:this.canMerge?this.shouldBeRebased?oa.rebase:this.canBeMerged?oa.readyToMerge:null:oa.notAllowedToMerge:oa.nothingToMerge};function ca(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ua=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sha=t.diff_head_sha,this.gitlabLogo=t.gitlabLogo,this.setData(t)}var t,i,n;return t=e,n=[{key:"buildMetrics",value:function(t){return t?{mergedBy:e.formatUserObject(t.merged_by),closedBy:e.formatUserObject(t.closed_by),mergedAt:Object(un.d)(t.merged_at),closedAt:Object(un.d)(t.closed_at),readableMergedAt:e.getReadableDate(t.merged_at),readableClosedAt:e.getReadableDate(t.closed_at)}:{}}},{key:"formatUserObject",value:function(e){return e?{name:e.name||"",username:e.username||"",webUrl:e.web_url||"",avatarUrl:e.avatar_url||""}:{}}},{key:"getReadableDate",value:function(e){return e?(new aa.a).format(e):""}}],(i=[{key:"setData",value:function(t,i){i&&(this.sha=t.diff_head_sha);var n=t.current_user,s=t.pipeline?t.pipeline.details.status:null;if(this.squash=t.squash,this.squashBeforeMergeHelpPath=this.squashBeforeMergeHelpPath||t.squash_before_merge_help_path,this.troubleshootingDocsPath=this.troubleshootingDocsPath||t.troubleshooting_docs_path,this.enableSquashBeforeMerge=this.enableSquashBeforeMerge||!0,this.iid=t.iid,this.title=t.title,this.targetBranch=t.target_branch,this.sourceBranch=t.source_branch,this.mergeStatus=t.merge_status,this.commitMessage=t.merge_commit_message,this.shortMergeCommitSha=t.short_merge_commit_sha,this.mergeCommitSha=t.merge_commit_sha,this.commitMessageWithDescription=t.merge_commit_message_with_description,this.commitsCount=t.commits_count,this.divergedCommitsCount=t.diverged_commits_count,this.pipeline=t.pipeline||{},this.mergePipeline=t.merge_pipeline||{},this.deployments=this.deployments||t.deployments||[],this.postMergeDeployments=this.postMergeDeployments||[],this.initRebase(t),t.issues_links){var a=t.issues_links,o=a.closing,r=a.mentioned_but_not_closing,l=a.assign_to_closing;(o||r||l)&&(this.relatedLinks={closing:o,mentioned:r,assignToMe:l})}this.updatedAt=t.updated_at,this.metrics=e.buildMetrics(t.metrics),this.setToMWPSBy=e.formatUserObject(t.merge_user||{}),this.mergeUserId=t.merge_user_id,this.currentUserId=gon.current_user_id,this.sourceBranchPath=t.source_branch_path,this.sourceBranchLink=t.source_branch_with_namespace_link,this.mergeError=t.merge_error,this.targetBranchPath=t.target_branch_commits_path,this.targetBranchTreePath=t.target_branch_tree_path,this.conflictResolutionPath=t.conflict_resolution_path,this.cancelAutoMergePath=t.cancel_merge_when_pipeline_succeeds_path,this.removeWIPPath=t.remove_wip_path,this.sourceBranchRemoved=!t.source_branch_exists,this.shouldRemoveSourceBranch=t.remove_source_branch||!1,this.onlyAllowMergeIfPipelineSucceeds=t.only_allow_merge_if_pipeline_succeeds||!1,this.mergeWhenPipelineSucceeds=t.merge_when_pipeline_succeeds||!1,this.mergePath=t.merge_path,this.ffOnlyEnabled=t.ff_only_enabled,this.shouldBeRebased=!!t.should_be_rebased,this.statusPath=t.status_path,this.emailPatchesPath=t.email_patches_path,this.plainDiffPath=t.plain_diff_path,this.newBlobPath=t.new_blob_path,this.createIssueToResolveDiscussionsPath=t.create_issue_to_resolve_discussions_path,this.mergeCheckPath=t.merge_check_path,this.mergeActionsContentPath=t.commit_change_content_path,this.mergeCommitPath=t.merge_commit_path,this.isRemovingSourceBranch=this.isRemovingSourceBranch||!1,this.isOpen="opened"===t.state,this.hasMergeableDiscussionsState=!1===t.mergeable_discussions_state,this.canRemoveSourceBranch=n.can_remove_source_branch||!1,this.canMerge=!!t.merge_path,this.canCreateIssue=n.can_create_issue||!1,this.canCancelAutomaticMerge=!!t.cancel_merge_when_pipeline_succeeds_path,this.isSHAMismatch=this.sha!==t.diff_head_sha,this.canBeMerged=t.can_be_merged||!1,this.isMergeAllowed=t.mergeable||!1,this.mergeOngoing=t.merge_ongoing,this.allowCollaboration=t.allow_collaboration,this.targetProjectFullPath=t.target_project_full_path,this.sourceProjectFullPath=t.source_project_full_path,this.canCherryPickInCurrentMR=n.can_cherry_pick_on_current_merge_request||!1,this.canRevertInCurrentMR=n.can_revert_on_current_merge_request||!1,this.cherryPickInForkPath=n.cherry_pick_in_fork_path,this.revertInForkPath=n.revert_in_fork_path,this.ciEnvironmentsStatusPath=t.ci_environments_status_path,this.hasCI=t.has_ci,this.ciStatus=t.ci_status,this.isPipelineFailed="failed"===this.ciStatus||"canceled"===this.ciStatus,this.isPipelinePassing="success"===this.ciStatus||"success_with_warnings"===this.ciStatus,this.isPipelineSkipped="skipped"===this.ciStatus,this.pipelineDetailedStatus=s,this.isPipelineActive=!!t.pipeline&&t.pipeline.active,this.isPipelineBlocked=!!s&&"manual"===s.group,this.ciStatusFaviconPath=s?s.favicon:null,this.testResultsPath=t.test_reports_path,this.setState(t)}},{key:"setState",value:function(e){if(this.mergeOngoing)this.state="merging";else if(this.isOpen)this.state=la.call(this,e);else switch(e.state){case"merged":this.state="merged";break;case"closed":this.state="closed";break;default:this.state=null}}},{key:"initRebase",value:function(e){this.canPushToSourceBranch=e.can_push_to_source_branch,this.rebaseInProgress=e.rebase_in_progress,this.approvalsLeft=!e.approved,this.rebasePath=e.rebase_path}},{key:"isNothingToMergeState",get:function(){return this.state===oa.nothingToMerge}},{key:"isMergedState",get:function(){return this.state===oa.merged}}])&&ca(t.prototype,i),n&&ca(t,n),e}(),da=mn,fa=ra;function ha(e,t,i){var n;return n=new Notification(e,t),setTimeout(function(){return n.close()},8e3),n.onclick=i||n.close}var pa={notificationGranted:ha,notifyPermissions:function(){if("Notification"in window)return Notification.requestPermission()},notifyMe:function(e,t,i,n){var s;if(s={body:t,icon:i},"Notification"in window){if("granted"===Notification.permission)return ha(e,s,n);if("denied"!==Notification.permission)return Notification.requestPermission(function(t){if("granted"===t)return ha(e,s,n)})}}},ma={directives:{tooltip:Vi.a},created:function(){this.removesBranchText=Object(f.a)("<strong>Removes</strong> source branch"),this.tooltipTitle=Object(f.a)("A user with write access to the source branch selected this option")}},ga=Object(y.a)(ma,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"mr-info-list mr-links source-branch-removal-status append-bottom-0"},[t("span",{staticClass:"status-text",domProps:{innerHTML:this._s(this.removesBranchText)}}),this._v(" "),t("i",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"fa fa-question-circle",attrs:{title:this.tooltipTitle,"aria-label":this.tooltipTitle}})])}],!1,null,null,null);ga.options.__file="source_branch_removal_status.vue";var va=ga.exports;function ba(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _a={name:"TestIssueBody",props:{issue:{type:Object,required:!0},status:{type:String,required:!0},isNew:{type:Boolean,required:!1,default:!1}},methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){ba(e,t,i[t])})}return e}({},Object(u.b)(["openModal"]))},ya=Object(y.a)(_a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"report-block-list-issue-description prepend-top-5 append-bottom-5"},[i("div",{staticClass:"report-block-list-issue-description-text"},[i("button",{staticClass:"btn-link btn-blank text-left break-link vulnerability-name-button",attrs:{type:"button"},on:{click:function(t){e.openModal({issue:e.issue})}}},[e.isNew?i("div",{staticClass:"badge badge-danger append-right-5"},[e._v(e._s(e.s__("New")))]):e._e(),e._v("\n      "+e._s(e.issue.name)+"\n    ")])])])},[],!1,null,null,null);ya.options.__file="test_issue_body.vue";var wa=ya.exports,Ca={TestIssueBody:wa},ka={TestIssueBody:wa.name},ja=i(512),Sa=i(255);function Oa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var xa={name:"HelpPopover",components:{Icon:d.a},props:{options:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){var e=l()(this.$el);e.popover(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){Oa(e,t,i[t])})}return e}({html:!0,trigger:"focus",container:"body",placement:"top",template:'<div class="popover" role="tooltip"><div class="arrow"></div><p class="popover-header"></p><div class="popover-body"></div></div>'},this.options)).on("mouseenter",Sa.b).on("mouseleave",Object(Sa.a)(300)).on("inserted.bs.popover",ja.b).on("show.bs.popover",function(){window.addEventListener("scroll",Sa.c.bind(e,!1),{once:!0})})}},Da=Object(y.a)(xa,function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"btn btn-blank btn-transparent btn-help",attrs:{type:"button",tabindex:"0"}},[t("icon",{attrs:{name:"question"}})],1)},[],!1,null,null,null);Da.options.__file="help_popover.vue";var Ta=Da.exports,Ea={codeBock:"codeBlock",link:"link",miliseconds:"miliseconds",text:"text"},Pa={name:"IssueStatusIcon",components:{Icon:d.a},props:{status:{type:String,required:!0}},computed:{iconName:function(){return this.isStatusFailed?"status_failed_borderless":this.isStatusSuccess?"status_success_borderless":"status_created_borderless"},isStatusFailed:function(){return"failed"===this.status},isStatusSuccess:function(){return"success"===this.status},isStatusNeutral:function(){return"neutral"===this.status}}},Ia=Object(y.a)(Pa,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"report-block-list-icon",class:{failed:this.isStatusFailed,success:this.isStatusSuccess,neutral:this.isStatusNeutral}},[t("icon",{attrs:{name:this.iconName,size:32}})],1)},[],!1,null,null,null);function Na(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Ia.options.__file="issue_status_icon.vue";var La={name:"ReportItem",components:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){Na(e,t,i[t])})}return e}({IssueStatusIcon:Ia.exports},Ca),props:{issue:{type:Object,required:!0},component:{type:String,required:!1,default:"",validator:function(e){return""===e||Object.values(ka).includes(e)}},status:{type:String,required:!0},isNew:{type:Boolean,required:!1,default:!1}}},qa=Object(y.a)(La,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"report-block-list-issue",class:{"is-dismissed":e.issue.isDismissed}},[i("issue-status-icon",{staticClass:"append-right-5",attrs:{status:e.status}}),e._v(" "),e.component?i(e.component,{tag:"component",attrs:{issue:e.issue,status:e.status,"is-new":e.isNew}}):e._e()],1)},[],!1,null,null,null);qa.options.__file="report_item.vue";var Ma=qa.exports,Aa=i(479),Fa={name:"SmartVirtualList",components:{VirtualList:i.n(Aa).a},props:{size:{type:Number,required:!0},length:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:null}}},Ba=Object(y.a)(Fa,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.length>e.remain?i("virtual-list",e._b({staticClass:"js-virtual-list",attrs:{size:e.remain,remain:e.remain,rtag:e.rtag,wtag:e.wtag,wclass:e.wclass}},"virtual-list",e.$attrs,!1),[e._t("default")],2):i(e.rtag,{tag:"component",staticClass:"js-plain-element"},[i(e.wtag,{tag:"component",class:e.wclass},[e._t("default")],2)],1)},[],!1,null,null,null);function Ra(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Ba.options.__file="smart_virtual_list.vue";var $a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i){return{status:i.status||e,isNew:t,issue:i}}},Ha={components:{SmartVirtualList:Ba.exports,ReportItem:Ma},typicalReportItemHeight:32,maxShownReportItems:20,props:{newIssues:{type:Array,required:!1,default:function(){return[]}},unresolvedIssues:{type:Array,required:!1,default:function(){return[]}},resolvedIssues:{type:Array,required:!1,default:function(){return[]}},neutralIssues:{type:Array,required:!1,default:function(){return[]}},component:{type:String,required:!1,default:""}},computed:{issuesWithState:function(){return Ra(this.newIssues.map($a("failed",!0))).concat(Ra(this.unresolvedIssues.map($a("failed"))),Ra(this.neutralIssues.map($a("neutral"))),Ra(this.resolvedIssues.map($a("success"))))}}},Ua=Object(y.a)(Ha,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("smart-virtual-list",{staticClass:"report-block-container",attrs:{length:e.issuesWithState.length,remain:e.$options.maxShownReportItems,size:e.$options.typicalReportItemHeight,wtag:"ul",wclass:"report-block-list"}},e._l(e.issuesWithState,function(t,n){return i("report-item",{key:n,attrs:{issue:t.issue,status:t.status,component:e.component,"is-new":t.isNew}})}),1)},[],!1,null,null,null);Ua.options.__file="issues_list.vue";var Wa=Ua.exports,Va={name:"ReportSection",components:{IssuesList:Wa,StatusIcon:wn,Popover:Ta},props:{alwaysOpen:{type:Boolean,required:!1,default:!1},component:{type:String,required:!1,default:""},status:{type:String,required:!0},loadingText:{type:String,required:!1,default:""},errorText:{type:String,required:!1,default:""},successText:{type:String,required:!0},unresolvedIssues:{type:Array,required:!1,default:function(){return[]}},resolvedIssues:{type:Array,required:!1,default:function(){return[]}},neutralIssues:{type:Array,required:!1,default:function(){return[]}},infoText:{type:[String,Boolean],required:!1,default:!1},hasIssues:{type:Boolean,required:!0},popoverOptions:{type:Object,default:function(){return{}},required:!1}},data:function(){return{isCollapsed:!0}},computed:{collapseText:function(){return this.isCollapsed?Object(f.a)("Expand"):Object(f.a)("Collapse")},isLoading:function(){return"LOADING"===this.status},loadingFailed:function(){return"ERROR"===this.status},isSuccess:function(){return"SUCCESS"===this.status},isCollapsible:function(){return!this.alwaysOpen&&this.hasIssues},isExpanded:function(){return this.alwaysOpen||!this.isCollapsed},statusIconName:function(){return this.isLoading?"loading":this.loadingFailed||this.unresolvedIssues.length||this.neutralIssues.length?"warning":"success"},headerText:function(){return this.isLoading?this.loadingText:this.isSuccess?this.successText:this.loadingFailed?this.errorText:""},hasPopover:function(){return Object.keys(this.popoverOptions).length>0}},methods:{toggleCollapsed:function(){this.isCollapsed=!this.isCollapsed}}},za=Object(y.a)(Va,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"media-section"},[i("div",{staticClass:"media"},[i("status-icon",{attrs:{status:e.statusIconName}}),e._v(" "),i("div",{staticClass:"media-body d-flex flex-align-self-center"},[i("span",{staticClass:"js-code-text code-text"},[e._v("\n        "+e._s(e.headerText)+"\n\n        "),e.hasPopover?i("popover",{staticClass:"prepend-left-5",attrs:{options:e.popoverOptions}}):e._e()],1),e._v(" "),e._t("actionButtons"),e._v(" "),e.isCollapsible?i("button",{staticClass:"js-collapse-btn btn float-right btn-sm",attrs:{type:"button"},on:{click:e.toggleCollapsed}},[e._v("\n        "+e._s(e.collapseText)+"\n      ")]):e._e()],2)],1),e._v(" "),e.hasIssues?i("div",{directives:[{name:"show",rawName:"v-show",value:e.isExpanded,expression:"isExpanded"}],staticClass:"js-report-section-container"},[e._t("body",[i("issues-list",{attrs:{"unresolved-issues":e.unresolvedIssues,"resolved-issues":e.resolvedIssues,"neutral-issues":e.neutralIssues,component:e.component}})])],2):e._e()])},[],!1,null,null,null);za.options.__file="report_section.vue";var Ga=za.exports,Ya={name:"ReportSummaryRow",components:{CiIcon:Je.a,Popover:Ta,GlLoadingIcon:p.e},props:{summary:{type:String,required:!0},statusIcon:{type:String,required:!0},popoverOptions:{type:Object,required:!1,default:null}},computed:{iconStatus:function(){return{group:this.statusIcon,icon:"status_".concat(this.statusIcon)}}}},Ja=Object(y.a)(Ya,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"report-block-list-issue report-block-list-issue-parent"},[i("div",{staticClass:"report-block-list-icon append-right-10 prepend-left-5"},["loading"===e.statusIcon?i("gl-loading-icon",{attrs:{"css-class":"report-block-list-loading-icon"}}):i("ci-icon",{attrs:{status:e.iconStatus}})],1),e._v(" "),i("div",{staticClass:"report-block-list-issue-description"},[i("div",{staticClass:"report-block-list-issue-description-text"},[e._v(e._s(e.summary))]),e._v(" "),e.popoverOptions?i("popover",{attrs:{options:e.popoverOptions}}):e._e()],1)])},[],!1,null,null,null);Ja.options.__file="summary_row.vue";var Ka=Ja.exports,Qa=i(106),Xa={name:"CodeBlock",props:{code:{type:String,required:!0}}},Za=Object(y.a)(Xa,function(){var e=this.$createElement,t=this._self._c||e;return t("pre",{staticClass:"code-block rounded"},[this._v("  "),t("code",{staticClass:"d-block"},[this._v(this._s(this.code))]),this._v("\n")])},[],!1,null,null,null);Za.options.__file="code_block.vue";var eo=Za.exports,to={components:{Modal:Qa.a,LoadingButton:rn.a,CodeBlock:eo},props:{title:{type:String,required:!0},modalData:{type:Object,required:!0}},fieldTypes:Ea},io=Object(y.a)(to,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("modal",{staticClass:"modal-security-report-dast modal-hide-footer",attrs:{id:"modal-mrwidget-reports","header-title-text":e.title}},[e._t("default",e._l(e.modalData,function(t,n,s){return t.value?i("div",{key:s,staticClass:"row prepend-top-10 append-bottom-10"},[i("strong",{staticClass:"col-sm-3 text-right"},[e._v(" "+e._s(t.text)+": ")]),e._v(" "),i("div",{staticClass:"col-sm-9 text-secondary"},[t.type===e.$options.fieldTypes.codeBock?i("code-block",{attrs:{code:t.value}}):t.type===e.$options.fieldTypes.link?[i("a",{staticClass:"js-modal-link",attrs:{href:t.value,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n            "+e._s(t.value)+"\n          ")])]:t.type===e.$options.fieldTypes.miliseconds?[e._v("\n          "+e._s(t.value)+" ms\n        ")]:t.type===e.$options.fieldTypes.text?[e._v("\n          "+e._s(t.value)+"\n        ")]:e._e()],2)]):e._e()})),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})],2)},[],!1,null,null,null);io.options.__file="modal.vue";var no,so,ao=io.exports,oo=i(69),ro=i.n(oo),lo=i(96),co=function(e,t){return(0,e.commit)("SET_ENDPOINT",t)},uo=function(e){return(0,e.commit)("REQUEST_REPORTS")},fo=function(){no=null},ho=function(){no&&no.stop()},po=function(){no&&no.restart()},mo=function(e){var t=e.state,i=e.dispatch;i("requestReports"),no=new lo.a({resource:{getReports:function(e){return Tt.a.get(e)}},data:t.endpoint,method:"getReports",successCallback:function(e){var t=e.data,n=e.status;return i("receiveReportsSuccess",{data:t,status:n})},errorCallback:function(){return i("receiveReportsError")}}),ro.a.hidden()?Tt.a.get(t.endpoint).then(function(e){var t=e.data,n=e.status;return i("receiveReportsSuccess",{data:t,status:n})}).catch(function(){return i("receiveReportsError")}):no.makeRequest(),ro.a.change(function(){ro.a.hidden()?i("stopPolling"):i("restartPolling")})},go=function(e,t){var i=e.commit;t.status===ln.a.OK&&i("RECEIVE_REPORTS_SUCCESS",t.data)},vo=function(e){return(0,e.commit)("RECEIVE_REPORTS_ERROR")},bo=function(e,t){(0,e.dispatch)("setModalData",t),l()("#modal-mrwidget-reports").modal("show")},_o=function(e,t){return(0,e.commit)("SET_ISSUE_MODAL_DATA",t)},yo=function(){},wo=function(e){return e.isLoading?"LOADING":e.hasError||"failed"===e.status?"ERROR":"SUCCESS"},Co=function(){};function ko(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var jo=(ko(so={},"SET_ENDPOINT",function(e,t){e.endpoint=t}),ko(so,"REQUEST_REPORTS",function(e){e.isLoading=!0}),ko(so,"RECEIVE_REPORTS_SUCCESS",function(e,t){e.hasError=!1,e.isLoading=!1,e.summary.total=t.summary.total,e.summary.resolved=t.summary.resolved,e.summary.failed=t.summary.failed,e.status=t.status,e.reports=t.suites}),ko(so,"RECEIVE_REPORTS_ERROR",function(e){e.isLoading=!1,e.hasError=!0,e.reports=[],e.summary={total:0,resolved:0,failed:0},e.status=null}),ko(so,"SET_ISSUE_MODAL_DATA",function(e,t){e.modal.title=t.issue.name,Object.keys(t.issue).forEach(function(i){Object.prototype.hasOwnProperty.call(e.modal.data,i)&&(e.modal.data[i]=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){ko(e,t,i[t])})}return e}({},e.modal.data[i],{value:t.issue[i]}))})}),so);c.default.use(u.a);var So=function(e){var t=e.failed,i=e.resolved,n=e.total,s=t?Object(f.d)("%d failed test result","%d failed test results",t):null,a=i?Object(f.d)("%d fixed test result","%d fixed test results",i):null,o=n?Object(f.d)("out of %d total test","out of %d total tests",n):null,r=Object(f.e)("Reports|no changed test results");return t?r=i?Object(f.f)(Object(f.e)("Reports|%{failedString} and %{resolvedString}"),{failedString:s,resolvedString:a}):s:i&&(r=a),"".concat(r," ").concat(o)};function Oo(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){xo(e,t,i[t])})}return e}function xo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Do={name:"GroupedTestReportsApp",store:new u.a.Store({actions:a,mutations:jo,getters:o,state:{endpoint:null,isLoading:!1,hasError:!1,status:null,summary:{total:0,resolved:0,failed:0},reports:[],modal:{title:null,data:{class:{value:null,text:Object(f.e)("Reports|Class"),type:Ea.link},execution_time:{value:null,text:Object(f.e)("Reports|Execution time"),type:Ea.miliseconds},failure:{value:null,text:Object(f.e)("Reports|Failure"),type:Ea.codeBock},system_output:{value:null,text:Object(f.e)("Reports|System output"),type:Ea.codeBock}}}}}),components:{ReportSection:Ga,SummaryRow:Ka,IssuesList:Wa,Modal:ao},props:{endpoint:{type:String,required:!0}},componentNames:ka,computed:Oo({},Object(u.d)(["reports","isLoading","hasError","summary"]),Object(u.d)({modalTitle:function(e){return e.modal.title||""},modalData:function(e){return e.modal.data||{}}}),Object(u.c)(["summaryStatus"]),{groupedSummaryText:function(){return this.isLoading?Object(f.e)("Reports|Test summary results are being parsed"):this.hasError?Object(f.e)("Reports|Test summary failed loading results"):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=So(t);return"".concat(e," contained ").concat(i)}(Object(f.e)("Reports|Test summary"),this.summary)}}),created:function(){this.setEndpoint(this.endpoint),this.fetchReports()},methods:Oo({},Object(u.b)(["setEndpoint","fetchReports"]),{reportText:function(e){var t=e.summary||{};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=So(t);return"".concat(e," found ").concat(i)}(e.name,t)},getReportIcon:function(e){return"failed"===(t=e.status)?"warning":"success"===t?"success":"notfound";var t},shouldRenderIssuesList:function(e){return e.existing_failures.length>0||e.new_failures.length>0||e.resolved_failures.length>0}})},To=Object(y.a)(Do,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("report-section",{staticClass:"mr-widget-section grouped-security-reports mr-report",attrs:{status:e.summaryStatus,"success-text":e.groupedSummaryText,"loading-text":e.groupedSummaryText,"error-text":e.groupedSummaryText,"has-issues":e.reports.length>0}},[i("div",{staticClass:"mr-widget-grouped-section report-block",attrs:{slot:"body"},slot:"body"},[e._l(e.reports,function(t,n){return[i("summary-row",{key:"summary-row-"+n,attrs:{summary:e.reportText(t),"status-icon":e.getReportIcon(t)}}),e._v(" "),e.shouldRenderIssuesList(t)?i("issues-list",{key:"issues-list-"+n,staticClass:"report-block-group-list",attrs:{"unresolved-issues":t.existing_failures,"new-issues":t.new_failures,"resolved-issues":t.resolved_failures,component:e.$options.componentNames.TestIssueBody}}):e._e()]}),e._v(" "),i("modal",{attrs:{title:e.modalTitle,"modal-data":e.modalData}})],2)])},[],!1,null,null,null);function Eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}To.options.__file="grouped_test_reports_app.vue";var Po={el:"#js-vue-mr-widget",name:"MRWidget",components:{"mr-widget-header":Xi,"mr-widget-merge-help":tn,MrWidgetPipelineContainer:Ln,Deployment:xn,"mr-widget-related-links":An,"mr-widget-merged":Gn,"mr-widget-closed":Kn,"mr-widget-merging":Zn,"mr-widget-failed-to-merge":Ys,"mr-widget-wip":os,"mr-widget-archived":cs,"mr-widget-conflicts":fs,"mr-widget-nothing-to-merge":vs,"mr-widget-not-allowed":ks,"mr-widget-missing-branch":ys,"mr-widget-ready-to-merge":Ns,"sha-mismatch":Ms,"mr-widget-squash-before-merge":Es,"mr-widget-checking":na,"mr-widget-unresolved-discussions":Bs,"mr-widget-pipeline-blocked":Hs,"mr-widget-pipeline-failed":Vs,"mr-widget-merge-when-pipeline-succeeds":Qs,"mr-widget-auto-merge-failed":ea,"mr-widget-rebase":ns,SourceBranchRemovalStatus:va,GroupedTestReportsApp:To.exports},props:{mrData:{type:Object,required:!1,default:null}},data:function(){var e=new ua(this.mrData||window.gl.mrWidgetData),t=this.createService(e);return{mr:e,state:e.state,service:t}},computed:{componentName:function(){return fa.stateToComponentMap[this.mr.state]},shouldRenderMergeHelp:function(){return fa.statesToShowHelpWidget.indexOf(this.mr.state)>-1},shouldRenderPipelines:function(){return this.mr.hasCI},shouldRenderRelatedLinks:function(){return!!this.mr.relatedLinks&&!this.mr.isNothingToMergeState},shouldRenderSourceBranchRemovalStatus:function(){return!this.mr.canRemoveSourceBranch&&this.mr.shouldRemoveSourceBranch&&!this.mr.isNothingToMergeState&&!this.mr.isMergedState},shouldRenderCollaborationStatus:function(){return this.mr.allowCollaboration&&this.mr.isOpen},shouldRenderMergedPipeline:function(){return"merged"===this.mr.state&&!D.a.isEmpty(this.mr.mergePipeline)}},watch:{state:function(e,t){e!==t&&this.shouldRenderMergedPipeline&&this.initPostMergeDeploymentsPolling()}},created:function(){this.initPolling(),this.bindEventHubListeners(),Wn.a.$on("mr.discussion.updated",this.checkStatus)},mounted:function(){this.setFaviconHelper(),this.initDeploymentsPolling(),this.shouldRenderMergedPipeline&&this.initPostMergeDeploymentsPolling()},beforeDestroy:function(){Wn.a.$off("mr.discussion.updated",this.checkStatus),this.pollingInterval.destroy(),this.deploymentsInterval.destroy(),this.postMergeDeploymentsInterval&&this.postMergeDeploymentsInterval.destroy()},methods:{createService:function(e){var t={mergePath:e.mergePath,mergeCheckPath:e.mergeCheckPath,cancelAutoMergePath:e.cancelAutoMergePath,removeWIPPath:e.removeWIPPath,sourceBranchPath:e.sourceBranchPath,ciEnvironmentsStatusPath:e.ciEnvironmentsStatusPath,statusPath:e.statusPath,mergeActionsContentPath:e.mergeActionsContentPath,rebasePath:e.rebasePath};return new da(t)},checkStatus:function(e,t){var i=this;return this.service.checkStatus().then(function(e){return e.data}).then(function(n){i.handleNotification(n),i.mr.setData(n,t),i.setFaviconHelper(),e&&e.call(null,n)}).catch(function(){return Object(h.a)(Object(f.a)("Something went wrong. Please try again."))})},setFaviconHelper:function(){return this.mr.ciStatusFaviconPath?Object(nt.I)(this.mr.ciStatusFaviconPath):Promise.resolve()},initPolling:function(){this.pollingInterval=new Wi.a({callback:this.checkStatus,startingInterval:1e4,maxInterval:3e4,hiddenInterval:12e4,incrementByFactorOf:5e3})},initDeploymentsPolling:function(){this.deploymentsInterval=this.deploymentsPoll(this.fetchPreMergeDeployments)},initPostMergeDeploymentsPolling:function(){this.postMergeDeploymentsInterval=this.deploymentsPoll(this.fetchPostMergeDeployments)},deploymentsPoll:function(e){return new Wi.a({callback:e,startingInterval:3e4,maxInterval:12e4,hiddenInterval:24e4,incrementByFactorOf:15e3,immediateExecution:!0})},fetchDeployments:function(e){return this.service.fetchDeployments(e)},fetchPreMergeDeployments:function(){var e=this;return this.fetchDeployments().then(function(t){var i=t.data;i.length&&(e.mr.deployments=i)}).catch(function(){return e.throwDeploymentsError()})},fetchPostMergeDeployments:function(){var e=this;return this.fetchDeployments("merge_commit").then(function(t){var i=t.data;i.length&&(e.mr.postMergeDeployments=i)}).catch(function(){return e.throwDeploymentsError()})},throwDeploymentsError:function(){Object(h.a)(Object(f.a)("Something went wrong while fetching the environments for this merge request. Please try again."))},fetchActionsContent:function(){this.service.fetchMergeActionsContent().then(function(e){if(e.data){var t=document.createElement("div");t.innerHTML=e.data,document.body.appendChild(t),Ui.a.initRefSwitcher()}}).catch(function(){return Object(h.a)(Object(f.a)("Something went wrong. Please try again."))})},handleNotification:function(e){if(e.ci_status!==this.mr.ciStatus&&e.pipeline){var t=e.pipeline.details.status.label,i="Pipeline ".concat(t),n="Pipeline ".concat(t,' for "').concat(e.title,'"');pa.notifyMe(i,n,this.mr.gitlabLogo)}},resumePolling:function(){this.pollingInterval.resume()},stopPolling:function(){this.pollingInterval.stopTimer()},bindEventHubListeners:function(){var e=this;Wn.a.$on("MRWidgetUpdateRequested",function(t){e.checkStatus(t)}),Wn.a.$on("MRWidgetRebaseSuccess",function(t){e.checkStatus(t,!0)}),Wn.a.$on("SetBranchRemoveFlag",function(t){var i=Eo(t,1);e.mr.isRemovingSourceBranch=i[0]}),Wn.a.$on("FailedToMerge",function(t){e.mr.state="failedToMerge",e.mr.mergeError=t}),Wn.a.$on("UpdateWidgetData",function(t){e.mr.setData(t)}),Wn.a.$on("FetchActionsContent",function(){e.fetchActionsContent()}),Wn.a.$on("EnablePolling",function(){e.resumePolling()}),Wn.a.$on("DisablePolling",function(){e.stopPolling()})}}},Io=Object(y.a)(Po,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-state-widget prepend-top-default"},[i("mr-widget-header",{attrs:{mr:e.mr}}),e._v(" "),e.shouldRenderPipelines?i("mr-widget-pipeline-container",{staticClass:"mr-widget-workflow",attrs:{mr:e.mr}}):e._e(),e._v(" "),i("div",{staticClass:"mr-section-container mr-widget-workflow"},[e.mr.testResultsPath?i("grouped-test-reports-app",{staticClass:"js-reports-container",attrs:{endpoint:e.mr.testResultsPath}}):e._e(),e._v(" "),i("div",{staticClass:"mr-widget-section"},[i(e.componentName,{tag:"component",attrs:{mr:e.mr,service:e.service}}),e._v(" "),e.shouldRenderCollaborationStatus?i("section",{staticClass:"mr-info-list mr-links"},[e._v("\n        "+e._s(e.s__("mrWidget|Allows commits from members who can merge to the target branch"))+"\n      ")]):e._e(),e._v(" "),e.shouldRenderRelatedLinks?i("mr-widget-related-links",{attrs:{state:e.mr.state,"related-links":e.mr.relatedLinks}}):e._e(),e._v(" "),e.shouldRenderSourceBranchRemovalStatus?i("source-branch-removal-status"):e._e()],1),e._v(" "),e.shouldRenderMergeHelp?i("div",{staticClass:"mr-widget-footer"},[i("mr-widget-merge-help")],1):e._e()],1),e._v(" "),e.shouldRenderMergedPipeline?i("mr-widget-pipeline-container",{staticClass:"js-post-merge-pipeline mr-widget-workflow",attrs:{mr:e.mr,"is-post-merge":!0}}):e._e()],1)},[],!1,null,null,null);Io.options.__file="mr_widget_options.vue";var No=Io.exports,Lo=i(78);c.default.use(Lo.a);var qo=function(){var e;new Bi.a,Object(Ri.a)(),Object(Hi.a)(),new $i.a(!0),Object(nt.m)(),(e=l()("#modal_merge_info"))&&(e.modal({modal:!0,show:!1}),l()(".how_to_merge_link").on("click",e.show),l()(".modal-header .close").on("click",e.hide)),function(){gl.mrWidgetData.gitlabLogo=gon.gitlab_logo;var e=new c.default(No);window.gl.mrWidget={checkStatus:e.checkStatus}}()};document.addEventListener("DOMContentLoaded",function(){var e;qo(),Object(Fi.a)(),e=document.querySelector(".merge-request"),new qi.a({action:e.dataset.mrAction}),new c.default({el:"#js-vue-mr-discussions",name:"MergeRequestDiscussions",components:{notesApp:yt.a},store:Li,data:function(){var e=document.getElementById("js-vue-mr-discussions").dataset,t=JSON.parse(e.noteableData);return t.noteableType=e.noteableType,t.targetType=e.targetType,{noteableData:t,currentUserData:JSON.parse(e.currentUserData),notesData:JSON.parse(e.notesData),helpPagePath:e.helpPagePath}},computed:Mi({},Object(u.c)(["discussionTabCounter"]),Object(u.d)({activeTab:function(e){return e.page.activeTab}})),watch:{discussionTabCounter:function(){this.updateDiscussionTabCounter()}},created:function(){this.setActiveTab(window.mrTabs.getCurrentAction())},mounted:function(){this.notesCountBadge=l()(".issuable-details").find(".notes-tab .badge"),l()(document).on("visibilitychange",this.updateDiscussionTabCounter),window.mrTabs.eventHub.$on("MergeRequestTabChange",this.setActiveTab)},beforeDestroy:function(){l()(document).off("visibilitychange",this.updateDiscussionTabCounter),window.mrTabs.eventHub.$off("MergeRequestTabChange",this.setActiveTab)},methods:Mi({},Object(u.b)(["setActiveTab"]),{updateDiscussionTabCounter:function(){this.notesCountBadge.text(this.discussionTabCounter)}}),render:function(e){return e("notes-app",{props:{noteableData:this.noteableData,notesData:this.notesData,userData:this.currentUserData,shouldShow:"show"===this.activeTab,helpPagePath:this.helpPagePath}})}}),new c.default({el:"#js-vue-discussion-counter",name:"DiscussionCounter",components:{discussionCounter:Ot},store:Li,render:function(e){return e("discussion-counter")}}),Object(xt.a)(Li),_t(Li)})},143:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),s=i.n(n),a=(i(261),i(6)),o=i(7);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector=t.selector,this.dataType=t.dataType,this.fieldName=t.fieldName,this.onSuccess=t.onSuccess||function(){},this.onError=function(e){var t="";return e.response.data&&"object"===r(e.response.data)&&(t=e.response.data.errors.join(" ")),new o.a(t||"Update failed","alert")},this.init()}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.disable(),s()("".concat(this.selector," .js-task-list-container")).taskList("enable"),s()(document).on("tasklist:changed","".concat(this.selector," .js-task-list-container"),this.update.bind(this))}},{key:"disable",value:function(){s()("".concat(this.selector," .js-task-list-container")).taskList("disable"),s()(document).off("tasklist:changed","".concat(this.selector," .js-task-list-container"))}},{key:"update",value:function(e){var t,i,n,o=this,r=s()(e.target),l={};return l[this.dataType]=(t={},i=this.fieldName,n=r.val(),i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t),a.a.patch(r.data("updateUrl")||s()("form.js-issuable-update").attr("action"),l).then(function(e){var t=e.data;return o.onSuccess(t)}).catch(function(e){return o.onError(e)})}}])&&l(t.prototype,i),n&&l(t,n),e}()},145:function(e,t,i){"use strict";var n={name:"TimelineEntryItem"},s=i(3),a=Object(s.a)(n,function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"timeline-entry"},[t("div",{staticClass:"timeline-entry-inner"},[this._t("default")],2)])},[],!1,null,null,null);a.options.__file="timeline_entry_item.vue";t.a=a.exports},148:function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return o}),i.d(t,"c",function(){return r});var n=i(50);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){var t=0,i="";if(!Number.isNaN(Number(e))){switch(s(e.toString().split("."),1)[0].length){case 1:t=3;break;case 2:t=2;break;case 3:t=1;break;default:t=4}i=Number(e).toFixed(t)}return i}function o(e){return e/(n.a*n.a)}function r(e){return e<n.a?"".concat(e," bytes"):e<n.a*n.a?"".concat((t=e,t/n.a).toFixed(2)," KiB"):e<n.a*n.a*n.a?"".concat(o(e).toFixed(2)," MiB"):"".concat(function(e){return e/(n.a*n.a*n.a)}(e).toFixed(2)," GiB");var t}},149:function(e,t,i){"use strict";var n=i(5),s=i.n(n),a=i(148),o={props:{path:{type:String,required:!0},fileSize:{type:Number,required:!1,default:0},renderInfo:{type:Boolean,default:!0},innerCssClasses:{type:[Array,Object,String],required:!1,default:""}},data:function(){return{width:0,height:0,isLoaded:!1}},computed:{fileSizeReadable:function(){return Object(a.c)(this.fileSize)},hasFileSize:function(){return this.fileSize>0},hasDimensions:function(){return this.width&&this.height}},beforeDestroy:function(){window.removeEventListener("resize",this.resizeThrottled,!1)},mounted:function(){this.onImgLoad(),this.resizeThrottled=s.a.throttle(this.onImgLoad,400),window.addEventListener("resize",this.resizeThrottled,!1)},methods:{onImgLoad:function(){requestIdleCallback(this.calculateImgSize,{timeout:1e3})},calculateImgSize:function(){var e=this,t=this.$refs.contentImg;t&&(this.width=t.naturalWidth,this.height=t.naturalHeight,this.$nextTick(function(){e.isLoaded=!0,e.$emit("imgLoaded",{width:e.width,height:e.height,renderedWidth:t.clientWidth,renderedHeight:t.clientHeight})}))}}},r=i(3),l=Object(r.a)(o,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"position-relative",class:e.innerCssClasses},[i("img",{ref:"contentImg",attrs:{src:e.path},on:{load:e.onImgLoad}}),e._v(" "),e._t("image-overlay")],2),e._v(" "),e.renderInfo?i("p",{staticClass:"image-info"},[e.hasFileSize?[e._v("\n      "+e._s(e.fileSizeReadable)+"\n    ")]:e._e(),e._v(" "),e.hasFileSize&&e.hasDimensions?[e._v("\n      |\n    ")]:e._e(),e._v(" "),e.hasDimensions?[i("strong",[e._v("W")]),e._v(": "+e._s(e.width)+" | "),i("strong",[e._v("H")]),e._v(": "+e._s(e.height)+"\n    ")]:e._e()],2):e._e()])},[],!1,null,null,null);l.options.__file="image_viewer.vue";t.a=l.exports},156:function(e,t,i){"use strict";var n={init:function(e){this.hook=e,this.destroyed=!1,this.config=e.config.InputSetter||(this.hook.config.InputSetter={}),this.eventWrapper={},this.addEvents()},addEvents:function(){this.eventWrapper.setInputs=this.setInputs.bind(this),this.hook.list.list.addEventListener("click.dl",this.eventWrapper.setInputs)},removeEvents:function(){this.hook.list.list.removeEventListener("click.dl",this.eventWrapper.setInputs)},setInputs:function(e){var t=this;if(!this.destroyed){var i=e.detail.selected;Array.isArray(this.config)||(this.config=[this.config]),this.config.forEach(function(e){return t.setInput(e,i)})}},setInput:function(e,t){var i=e.input||this.hook.trigger,n=t.getAttribute(e.valueAttribute),s=e.inputAttribute;return i.hasAttribute(s)?i.setAttribute(s,n):"INPUT"===i.tagName?i.value=n:i.textContent=n},destroy:function(){this.destroyed=!0,this.removeEvents()}};t.a=n},157:function(e,t,i){"use strict";var n=i(10),s=i(6),a=i(51),o=i(1),r=i(7),l={components:{Icon:i(15).a,GlButton:n.b},directives:{GlTooltip:n.n},props:{tooltipText:{type:String,required:!0},link:{type:String,required:!0},actionIcon:{type:String,required:!0}},data:function(){return{isDisabled:!1}},computed:{cssClass:function(){var e=Object(a.e)(this.actionIcon);return"".concat(e," js-icon-").concat(e)}},methods:{onClickAction:function(){var e=this;this.$root.$emit("bv::hide::tooltip","js-ci-action-".concat(this.link)),this.isDisabled=!0,s.a.post("".concat(this.link,".json")).then(function(){e.isDisabled=!1,e.$emit("pipelineActionRequestComplete")}).catch(function(){e.isDisabled=!1,Object(r.a)(Object(o.a)("An error occurred while making the request."))})}}},c=i(3),u=Object(c.a)(l,function(){var e=this.$createElement,t=this._self._c||e;return t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{boundary:"viewport"},expression:"{ boundary: 'viewport' }"}],staticClass:"js-ci-action btn btn-blank\nbtn-transparent ci-action-icon-container ci-action-icon-wrapper",class:this.cssClass,attrs:{id:"js-ci-action-"+this.link,title:this.tooltipText,disabled:this.isDisabled},on:{click:this.onClickAction}},[t("icon",{attrs:{name:this.actionIcon}})],1)},[],!1,null,null,null);u.options.__file="action_component.vue";var d=u.exports,f={components:{ciIcon:i(89).a},props:{name:{type:String,required:!0},status:{type:Object,required:!0}}},h=Object(c.a)(f,function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"ci-job-name-component"},[t("ci-icon",{attrs:{status:this.status}}),this._v(" "),t("span",{staticClass:"ci-status-text"},[this._v(" "+this._s(this.name)+" ")])],1)},[],!1,null,null,null);h.options.__file="job_name_component.vue";var p=h.exports,m=i(189),g={components:{ActionComponent:d,JobNameComponent:p,GlLink:n.d},directives:{GlTooltip:n.n},mixins:[m.a],props:{job:{type:Object,required:!0},cssClassJobName:{type:String,required:!1,default:""},dropdownLength:{type:Number,required:!1,default:1/0}},computed:{status:function(){return this.job&&this.job.status?this.job.status:{}},tooltipText:function(){var e=[],t=this.job.name;t&&e.push(t);var i=this.status.tooltip;return t&&i&&e.push("-"),i&&(this.isDelayedJob?e.push(Object(o.f)(i,{remainingTime:this.remainingTime})):e.push(i)),e.join(" ")},hasAction:function(){return this.job.status&&this.job.status.action&&this.job.status.action.path}},methods:{pipelineActionRequestComplete:function(){this.$emit("pipelineActionRequestComplete")}}},v=Object(c.a)(g,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ci-job-component"},[e.status.has_details?i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-graph-job-link",class:e.cssClassJobName,attrs:{href:e.status.details_path,title:e.tooltipText}},[i("job-name-component",{attrs:{name:e.job.name,status:e.job.status}})],1):i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-job-component-tooltip non-details-job-component",class:e.cssClassJobName,attrs:{title:e.tooltipText}},[i("job-name-component",{attrs:{name:e.job.name,status:e.job.status}})],1),e._v(" "),e.hasAction?i("action-component",{attrs:{"tooltip-text":e.status.action.title,link:e.status.action.path,"action-icon":e.status.action.icon},on:{pipelineActionRequestComplete:e.pipelineActionRequestComplete}}):e._e()],1)},[],!1,null,null,null);v.options.__file="job_item.vue";t.a=v.exports},159:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(5),o=i.n(a),r=i(14),l=i.n(r),c=i(7),u=i(6),d=i(1);function f(e){this.toggleTodo=this.toggleTodo.bind(this),this.sidebar=s()("aside"),this.removeListeners(),this.addEventListeners()}f.initialize=function(e){this.instance||(this.instance=new f(e))},f.prototype.removeListeners=function(){this.sidebar.off("click",".sidebar-collapsed-icon"),this.sidebar.off("hidden.gl.dropdown"),s()(".dropdown").off("loading.gl.dropdown"),s()(".dropdown").off("loaded.gl.dropdown"),s()(document).off("click",".js-sidebar-toggle")},f.prototype.addEventListeners=function(){var e=s()(document);return this.sidebar.on("click",".sidebar-collapsed-icon",this,this.sidebarCollapseClicked),this.sidebar.on("hidden.gl.dropdown",this,this.onSidebarDropdownHidden),s()(".dropdown").on("loading.gl.dropdown",this.sidebarDropdownLoading),s()(".dropdown").on("loaded.gl.dropdown",this.sidebarDropdownLoaded),e.on("click",".js-sidebar-toggle",this.sidebarToggleClicked),s()(document).off("click",".js-issuable-todo").on("click",".js-issuable-todo",this.toggleTodo)},f.prototype.sidebarToggleClicked=function(e,t){var i,n,a,o;e.preventDefault(),o=(a=(n=s()(this)).find("i").hasClass("fa-angle-double-right"))?Object(d.a)("Expand sidebar"):Object(d.a)("Collapse sidebar"),i=s()(".js-sidebar-toggle i"),a?(i.removeClass("fa-angle-double-right").addClass("fa-angle-double-left"),s()("aside.right-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed"),s()(".layout-page").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed")):(i.removeClass("fa-angle-double-left").addClass("fa-angle-double-right"),s()("aside.right-sidebar").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),s()(".layout-page").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded")),n.attr("data-original-title",o),t||l.a.set("collapsed_gutter",s()(".right-sidebar").hasClass("right-sidebar-collapsed"))},f.prototype.toggleTodo=function(e){var t,i,n,a=this;t=s()(e.currentTarget),i=t.data("deletePath")?"delete":"post",n=t.data("deletePath")?""+t.data("deletePath"):""+t.data("createPath"),t.tooltip("hide"),s()(".js-issuable-todo").disable().addClass("is-loading"),u.a[i](n,{issuable_id:t.data("issuableId"),issuable_type:t.data("issuableType")}).then(function(e){var t=e.data;a.todoUpdateDone(t)}).catch(function(){return Object(c.a)("There was an error ".concat("post"===i?"adding a":"deleting the"," todo."))})},f.prototype.todoUpdateDone=function(e){var t=e.delete_path?e.delete_path:null,i=t?"mark":"todo",n=s()(".js-issuable-todo");s()(document).trigger("todo:toggle",e.count),n.each(function(e,n){var a=s()(n),o=a.find(".js-issuable-todo-inner");a.removeClass("is-loading").enable().attr("aria-label",a.data("".concat(i,"Text"))).attr("title",a.data("".concat(i,"Text"))).data("deletePath",t),a.hasClass("has-tooltip")&&a.tooltip("_fixTitle"),void 0!==a.data("isCollapsed")?o.html(a.data("".concat(i,"Icon"))):o.text(a.data("".concat(i,"Text")))})},f.prototype.sidebarDropdownLoading=function(e){var t,i,n,a;return a=(i=s()(this).closest(".block").find(".sidebar-collapsed-icon")).find("img"),n=i.find("i"),t=s()('<i class="fa fa-spinner fa-spin"></i>'),a.length?(a.before(t),a.hide()):n.length?(n.before(t),n.hide()):void 0},f.prototype.sidebarDropdownLoaded=function(e){var t,i,n;return n=(t=s()(this).closest(".block").find(".sidebar-collapsed-icon")).find("img"),t.find("i.fa-spin").remove(),i=t.find("i"),n.length?n.show():i.show()},f.prototype.sidebarCollapseClicked=function(e){var t,i;if(!s()(e.currentTarget).hasClass("dont-change-state"))return i=e.data,e.preventDefault(),t=s()(this).closest(".block"),i.openDropdown(t)},f.prototype.openDropdown=function(e){var t;t=o.a.isString(e)?this.getBlock(e):e,this.isOpen()||(this.setCollapseAfterUpdate(t),this.toggleSidebar("open")),setTimeout(function(){t.find(".js-sidebar-dropdown-toggle").trigger("click")})},f.prototype.setCollapseAfterUpdate=function(e){return e.addClass("collapse-after-update"),s()(".layout-page").addClass("with-overlay")},f.prototype.onSidebarDropdownHidden=function(e){var t,i;return i=e.data,e.preventDefault(),t=s()(e.target).closest(".block"),i.sidebarDropdownHidden(t)},f.prototype.sidebarDropdownHidden=function(e){if(e.hasClass("collapse-after-update"))return e.removeClass("collapse-after-update"),s()(".layout-page").removeClass("with-overlay"),this.toggleSidebar("hide")},f.prototype.triggerOpenSidebar=function(){return this.sidebar.find(".js-sidebar-toggle").trigger("click")},f.prototype.toggleSidebar=function(e){if(null==e&&(e="toggle"),"toggle"===e&&this.triggerOpenSidebar(),"open"===e&&(this.isOpen()||this.triggerOpenSidebar()),"hide"===e&&this.isOpen())return this.triggerOpenSidebar()},f.prototype.isOpen=function(){return this.sidebar.is(".right-sidebar-expanded")},f.prototype.getBlock=function(e){return this.sidebar.find(".block."+e)},t.a=f},160:function(e,t,i){"use strict";i.d(t,"b",function(){return o}),i.d(t,"a",function(){return r});var n=i(212),s=i.n(n),a=function(e,t,i,n){var s=Math.floor(e.offsetTop-t);if(s<=i&&!e.classList.contains("is-stuck")){var a=n?function(){var e=document.createElement("div");return e.classList.add("sticky-placeholder"),e}():null,o=e.offsetHeight;e.classList.add("is-stuck"),n&&(e.parentNode.insertBefore(a,e.nextElementSibling),a.style.height="".concat(o-e.offsetHeight,"px"))}else s>i&&e.classList.contains("is-stuck")&&(e.classList.remove("is-stuck"),n&&e.nextElementSibling&&e.nextElementSibling.classList.contains("sticky-placeholder")&&e.nextElementSibling.remove())},o=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e&&"undefined"!=typeof CSS&&CSS.supports("(position: -webkit-sticky) or (position: sticky)")&&document.addEventListener("scroll",function(){return a(e,window.scrollY,t,i)},{passive:!0})},r=function(e){s.a.add(e)}},164:function(e,t,i){"use strict";var n=i(10),s=i(1),a=i(15),o=Object(s.e)("ToggleButton|Toggle Status: ON"),r=Object(s.e)("ToggleButton|Toggle Status: OFF"),l={components:{icon:a.a,GlLoadingIcon:n.e},model:{prop:"value",event:"change"},props:{name:{type:String,required:!1,default:null},value:{type:Boolean,required:!1,default:null},disabledInput:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1}},computed:{toggleIcon:function(){return this.value?"status_success_borderless":"status_failed_borderless"},ariaLabel:function(){return this.value?o:r}},methods:{toggleFeature:function(){this.disabledInput||this.$emit("change",!this.value)}}},c=i(3),u=Object(c.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"toggle-wrapper"},[e.name?i("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.value}}):e._e(),e._v(" "),i("button",{staticClass:"project-feature-toggle",class:{"is-checked":e.value,"is-disabled":e.disabledInput,"is-loading":e.isLoading},attrs:{"aria-label":e.ariaLabel,type:"button"},on:{click:e.toggleFeature}},[i("gl-loading-icon",{staticClass:"loading-icon"}),e._v(" "),i("span",{staticClass:"toggle-icon"},[i("icon",{attrs:{name:e.toggleIcon,"css-classes":"toggle-icon-svg"}})],1)],1)])},[],!1,null,null,null);u.options.__file="toggle_button.vue";t.a=u.exports},174:function(e,t,i){"use strict";var n=i(10),s=i(15),a={name:"ClipboardButton",directives:{GlTooltip:n.n},components:{GlButton:n.b,Icon:s.a},props:{text:{type:String,required:!0},gfm:{type:String,required:!1,default:null},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:[String,Boolean],required:!1,default:!1},cssClass:{type:String,required:!1,default:"btn-default"}},computed:{clipboardText:function(){return null!==this.gfm?JSON.stringify({text:this.text,gfm:this.gfm}):this.text}}},o=i(3),r=Object(o.a)(a,function(){var e=this.$createElement,t=this._self._c||e;return t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:this.tooltipPlacement,container:this.tooltipContainer},expression:"{ placement: tooltipPlacement, container: tooltipContainer }"}],class:this.cssClass,attrs:{title:this.title,"data-clipboard-text":this.clipboardText}},[t("icon",{attrs:{name:"duplicate"}})],1)},[],!1,null,null,null);r.options.__file="clipboard_button.vue";t.a=r.exports},178:function(e,t,i){"use strict";i.d(t,"c",function(){return d}),i.d(t,"h",function(){return f}),i.d(t,"d",function(){return h}),i.d(t,"k",function(){return m}),i.d(t,"b",function(){return g}),i.d(t,"a",function(){return v}),i.d(t,"j",function(){return _}),i.d(t,"g",function(){return y}),i.d(t,"i",function(){return w}),i.d(t,"e",function(){return C}),i.d(t,"f",function(){return k});var n=i(5),s=i.n(n),a=i(52),o=i(70);function r(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){c(e,t,i[t])})}return e}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){return e.filter(function(e){return e.file_hash===t})[0]}function f(e){var t=function(e){var t=e.commit,i=e.note,n=e.noteableType,s=e.noteableData,a=e.diffFile,r=e.noteTargetLine,l=e.diffViewType,c=e.linePosition,u=e.positionType,d=JSON.stringify({base_sha:a.diff_refs.base_sha,start_sha:a.diff_refs.start_sha,head_sha:a.diff_refs.head_sha,old_path:a.old_path,new_path:a.new_path,position_type:u||o.x,old_line:r?r.old_line:null,new_line:r?r.new_line:null,x:e.x,y:e.y,width:e.width,height:e.height});return{view:l,line_type:c===o.n?o.s:o.u,merge_request_diff_head_sha:a.diff_refs.head_sha,in_reply_to_discussion_id:"",note_project_id:"",target_type:s.targetType,target_id:s.id,return_discussion:!0,note:{note:i,position:d,noteable_type:n,noteable_id:s.id,commit_id:t&&t.id,type:a.diff_refs.start_sha&&a.diff_refs.head_sha?o.d:o.i,line_code:r?r.line_code:null}}}(e);return{endpoint:e.noteableData.create_note_path,data:t}}var h=function(e,t){var i=t.oldLineNumber,n=t.newLineNumber;return s.a.findIndex(e,function(e){return e.old_line===i&&e.new_line===n})},p=function(e,t){var i=t.oldLineNumber,n=t.newLineNumber;return s.a.findIndex(e,function(e){return e.left&&e.right&&e.left.old_line===i&&e.right.new_line===n})};function m(e,t,i){var n=h(e.highlighted_diff_lines,t),s=p(e.parallel_diff_lines,t),a=i?1:-1;e.highlighted_diff_lines.splice(n+a,1),e.parallel_diff_lines.splice(s+a,1)}function g(e,t,i){var n=t.oldLineNumber,s=t.newLineNumber,a=e.length,r=-1,l=e.map(function(e,t){return e.type===o.p?r=t:Object.assign(e,{old_line:i?n+t+1:n+t-a,new_line:i?s+t+1:s+t-a}),e});if(r>-1){var c=l[r],u=i?l[r-1]:l[r+1];Object.assign(c,{meta_data:{old_pos:u.old_line,new_pos:u.new_line}})}return l}function v(e){var t=e.inlineLines,i=e.parallelLines,n=e.contextLines,s=e.lineNumbers,a=n.map(function(e){return{left:e,right:e}});if(e.bottom)t.push.apply(t,u(n)),i.push.apply(i,u(a));else{var o=h(t,s),r=p(i,s);t.splice.apply(t,[o,0].concat(u(n))),i.splice.apply(i,[r,0].concat(u(a)))}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};delete e.text,e.discussions=[];var t=Object.assign({},e);if(e.rich_text){var i=t.rich_text.charAt(0);" "!==i&&"+"!==i&&"-"!==i||(t.rich_text=e.rich_text.substring(1))}return t}function _(e){for(var t,i,n,s,a=e.diff_files.length,r=0,c=0;c<a;c+=1){var u=e.diff_files[c];if(u.parallel_diff_lines)for(var d=u.parallel_diff_lines.length,f=0;f<d;f+=1){var h=u.parallel_diff_lines[f];h.line_code=(i=f,void 0,void 0,n=(t=h).left,s=t.right,n&&n.line_code?n.line_code:s&&s.line_code?s.line_code:i),h.left&&(h.left=b(h.left),h.left.hasForm=!1),h.right&&(h.right=b(h.right),h.right.hasForm=!1)}if(u.highlighted_diff_lines){for(var p=u.highlighted_diff_lines.length,m=0;m<p;m+=1){var g=u.highlighted_diff_lines[m];Object.assign(g,l({},b(g),{hasForm:!1}))}r+=u.parallel_diff_lines.length}Object.assign(u,{renderIt:r<o.k,collapsed:u.text&&r>o.q,discussions:[]})}}function y(e){return e.reduce(function(e,t){return t.highlighted_diff_lines&&t.highlighted_diff_lines.forEach(function(i){i.line_code&&(e[i.line_code]={base_sha:t.diff_refs.base_sha,head_sha:t.diff_refs.head_sha,start_sha:t.diff_refs.start_sha,new_path:t.new_path,old_path:t.old_path,old_line:i.old_line,new_line:i.new_line,line_code:i.line_code,position_type:"text"})}),e},{})}function w(e){var t=e.discussion,i=e.diffPosition,n=e.latestDiff,a=i.line_code,o=r(i,["line_code"]);if(t.original_position&&t.position){var l=t.original_position,c=t.position;return s.a.isEqual(c,o)||s.a.isEqual(l,o)}return n&&t.active&&a===t.line_code}var C=function(e){return e.reduce(function(e,t){var i=t.new_path.split("/");return i.forEach(function(n,s){var a=e.treeEntries[i.slice(0,s).join("/")],o="".concat(a?"".concat(a.path,"/"):"").concat(n);if(!e.treeEntries[o]){var r=o===t.new_path?"blob":"tree";e.treeEntries[o]={key:o,path:o,name:n,type:r,tree:[]};var l=e.treeEntries[o];"blob"===r?Object.assign(l,{changed:!0,tempFile:t.new_file,deleted:t.deleted_file,fileHash:t.file_hash,addedLines:t.added_lines,removedLines:t.removed_lines}):Object.assign(l,{opened:!0}),(a?a.tree:e.tree).push(l)}}),e},{treeEntries:{},tree:[]})},k=function(e){var t=Object.keys(a.i).find(function(t){return e["".concat(t,"_file")]});return a.i[t]||e.mode_changed&&a.i.mode_changed||a.i.replaced}},184:function(e,t,i){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){s(e,t,i[t])})}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,"e",function(){return a}),i.d(t,"a",function(){return o}),i.d(t,"b",function(){return r}),i.d(t,"f",function(){return c}),i.d(t,"c",function(){return u}),i.d(t,"d",function(){return d});var a=function(e){document.title=e},o=function(e){var t,i=e.branch,s=e.getters,a=e.newBranch,o=e.state,r=e.rootState;return{branch:i,commit_message:o.commitMessage||s.preBuiltCommitMessage,actions:(t=r.stagedFiles,t.reduce(function(e,t){return t.moved?e:e.concat(n({},t))},[])).map(function(e){return{action:(t=e,t.prevPath?"move":t.deleted?"delete":t.tempFile?"create":"update"),file_path:e.path,previous_path:""===e.prevPath?void 0:e.prevPath,content:e.content||void 0,encoding:e.base64?"base64":"text",last_commit_id:a||e.deleted||e.prevPath?void 0:e.lastCommitSha};var t}),start_branch:a?r.currentBranchId:void 0}},r=function(e,t,i){return"".concat(e,"/merge_requests/new?merge_request[source_branch]=").concat(t,"&merge_request[target_branch]=").concat(i)},l=function(e,t){return"tree"===e.type&&"blob"===t.type?-1:"blob"===e.type&&"tree"===t.type?1:e.name<t.name?-1:e.name>t.name?1:0},c=function e(t){return t.map(function(t){return Object.assign(t,{tree:t.tree.length?e(t.tree):[]})}).sort(l)},u=function(e,t){return 0===e.indexOf("".concat(t,"/"))},d=function(e,t){return e.filter(function(e){return u(e.path,t)}).length}},189:function(e,t,i){"use strict";var n=i(20);t.a={data:function(){return{remainingTime:Object(n.e)(0),remainingTimeIntervalId:null}},mounted:function(){this.startRemainingTimeInterval()},beforeDestroy:function(){this.remainingTimeIntervalId&&clearInterval(this.remainingTimeIntervalId)},computed:{isDelayedJob:function(){return this.job&&this.job.scheduled}},watch:{isDelayedJob:function(){this.startRemainingTimeInterval()}},methods:{startRemainingTimeInterval:function(){var e=this;this.remainingTimeIntervalId&&clearInterval(this.remainingTimeIntervalId),this.isDelayedJob&&(this.updateRemainingTime(),this.remainingTimeIntervalId=setInterval(function(){return e.updateRemainingTime()},1e3))},updateRemainingTime:function(){var e=Object(n.b)(this.job.scheduled_at);this.remainingTime=Object(n.e)(e)}}}},193:function(e,t,i){!function(t){"use strict";var n=-1,s=function(e){return e.every=function(t,i,s){e._time(),s||(s=i,i=null);var a=n+=1;return e._timers[a]={visible:t,hidden:i,callback:s},e._run(a,!1),e.isSupported()&&e._listen(),a},e.stop=function(t){return!!e._timers[t]&&(e._stop(t),delete e._timers[t],!0)},e._timers={},e._time=function(){e._timed||(e._timed=!0,e._wasHidden=e.hidden(),e.change(function(){e._stopRun(),e._wasHidden=e.hidden()}))},e._run=function(i,n){var s,a=e._timers[i];if(e.hidden()){if(null===a.hidden)return;s=a.hidden}else s=a.visible;var o=function(){a.last=new Date,a.callback.call(t)};if(n){var r=new Date-a.last;s>r?a.delay=setTimeout(function(){a.id=setInterval(o,s),o()},s-r):(a.id=setInterval(o,s),o())}else a.id=setInterval(o,s)},e._stop=function(t){var i=e._timers[t];clearInterval(i.id),clearTimeout(i.delay),delete i.id,delete i.delay},e._stopRun=function(t){var i=e.hidden(),n=e._wasHidden;if(i&&!n||!i&&n)for(var s in e._timers)e._stop(s),e._run(s,!i)},e};void 0!==e&&e.exports?e.exports=s(i(194)):s(t.Visibility)}(window)},194:function(e,t){!function(t){"use strict";var i=-1,n={onVisible:function(e){var t=n.isSupported();if(!t||!n.hidden())return e(),t;var i=n.change(function(t,s){n.hidden()||(n.unbind(i),e())});return i},change:function(e){if(!n.isSupported())return!1;var t=i+=1;return n._callbacks[t]=e,n._listen(),t},unbind:function(e){delete n._callbacks[e]},afterPrerendering:function(e){var t=n.isSupported();if(!t||"prerender"!=n.state())return e(),t;var i=n.change(function(t,s){"prerender"!=s&&(n.unbind(i),e())});return i},hidden:function(){return!(!n._doc.hidden&&!n._doc.webkitHidden)},state:function(){return n._doc.visibilityState||n._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!n._doc.visibilityState&&!n._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var t=n.state();for(var i in n._callbacks)n._callbacks[i].call(n._doc,e,t)},_listen:function(){if(!n._init){var e="visibilitychange";n._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){n._change.apply(n,arguments)};n._doc.addEventListener?n._doc.addEventListener(e,t):n._doc.attachEvent(e,t),n._init=!0}}};void 0!==e&&e.exports?e.exports=n:t.Visibility=n}(this)},195:function(e,t,i){"use strict";var n=i(1),s=Object(n.e)("Pagination|Prev"),a=Object(n.e)("Pagination|Next"),o=Object(n.e)("Pagination|« First"),r=Object(n.e)("Pagination|Last »"),l={props:{change:{type:Function,required:!0},pageInfo:{type:Object,required:!0}},computed:{prev:function(){return this.pageInfo.previousPage},next:function(){return this.pageInfo.nextPage},getItems:function(){var e=this.pageInfo.totalPages,t=this.pageInfo.page,i=[];t>1&&i.push({title:o,first:!0}),t>1?i.push({title:s,prev:!0}):i.push({title:s,disabled:!0,prev:!0}),t>6&&i.push({title:"...",separator:!0});for(var n=Math.max(t-4,1),l=Math.min(t+4,e),c=n;c<=l;c+=1){var u=c===t;i.push({title:c,active:u,page:!0})}return e-t>4&&i.push({title:"...",separator:!0,page:!0}),t===e?i.push({title:a,disabled:!0,next:!0}):e-t>=1&&i.push({title:a,next:!0}),e-t>=1&&i.push({title:r,last:!0}),i},showPagination:function(){return this.pageInfo.totalPages>1}},methods:{changePage:function(e,t){if(!t){var i=this.pageInfo,n=i.totalPages,l=i.nextPage,c=i.previousPage;switch(e){case"...":break;case r:this.change(n);break;case a:this.change(l);break;case s:this.change(c);break;case o:this.change(1);break;default:this.change(+e)}}},hideOnSmallScreen:function(e){return!(e.first||e.last||e.next||e.prev||e.active)}}},c=i(3),u=Object(c.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showPagination?i("div",{staticClass:"gl-pagination prepend-top-default"},[i("ul",{staticClass:"pagination justify-content-center"},e._l(e.getItems,function(t,n){return i("li",{key:n,staticClass:"page-item",class:{page:t.page,"js-previous-button":t.prev,"js-next-button":t.next,"js-last-button":t.last,"js-first-button":t.first,"d-none d-md-block":e.hideOnSmallScreen(t),separator:t.separator,active:t.active,disabled:t.disabled||t.separator}},[i("a",{staticClass:"page-link",on:{click:function(i){i.preventDefault(),e.changePage(t.title,t.disabled)}}},[e._v("\n        "+e._s(t.title)+"\n      ")])])}),0)]):e._e()},[],!1,null,null,null);u.options.__file="table_pagination.vue";t.a=u.exports},196:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(6),o=i(7),r=i(1),l=i(19),c=i(14),u=i.n(c),d=".".concat("diff-line-num",", .line_content"),f={init:function(e){var t=this;this.userCanCreateNote||(this.userCanCreateNote=""===e.closest(".files").data("canCreateNote")),this.isParallelView="parallel"===u.a.get("diff_view"),this.userCanCreateNote&&e.on("mouseover",d,function(e){return t.showButton(t.isParallelView,e)}).on("mouseleave",d,function(e){return t.hideButton(t.isParallelView,e)})},showButton:function(e,t){var i=this.getButtonParent(t.currentTarget,e);this.validateButtonParent(i)&&(i.classList.add("is-over"),i.nextElementSibling.classList.add("is-over"))},hideButton:function(e,t){var i=this.getButtonParent(t.currentTarget,e);i.classList.remove("is-over"),i.nextElementSibling.classList.remove("is-over")},getButtonParent:function(e,t){if(t){if(!e.classList.contains("diff-line-num"))return e.previousElementSibling}else if(!e.classList.contains("old_line"))return e.parentNode.querySelector(".".concat("old_line"));return e},validateButtonParent:function(e){return!(e.classList.contains("empty-cell")||e.classList.contains("js-unfold")||e.classList.contains("no-comment-btn")||e.parentNode.classList.contains("diff-expanded"))}},h=i(125),p=i(140);function m(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g='<div class="diff-content"></div>',v='<i class="fa fa-spinner fa-spin"></i>',b='<div class="nothing-here-block diff-collapsed">This diff is collapsed. <button class="click-to-expand btn btn-link">Click to expand it.</button></div>',_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.file=t,this.toggleDiff=this.toggleDiff.bind(this),this.content=s()(".diff-content",this.file),this.$toggleIcon=s()(".diff-toggle-caret",this.file),this.diffForPath=this.content.find("[data-diff-for-path]").data("diffForPath"),this.isOpen=!this.diffForPath,this.diffForPath?(this.collapsedContent=this.content,this.loadingContent=s()(g).addClass("loading").html(v).hide(),this.content=null,this.collapsedContent.after(this.loadingContent),this.$toggleIcon.addClass("fa-caret-right")):(this.collapsedContent=s()(g).html(b).hide(),this.content.after(this.collapsedContent),this.$toggleIcon.addClass("fa-caret-down")),s()(".js-file-title, .click-to-expand",this.file).on("click",function(e){this.toggleDiff(s()(e.target))}.bind(this))}var t,i,n;return t=e,(i=[{key:"toggleDiff",value:function(e,t){if(e.hasClass("js-file-title")||e.hasClass("click-to-expand")||e.hasClass("diff-toggle-caret"))if(this.isOpen=!this.isOpen,this.isOpen||this.hasError){if(!this.content)return this.$toggleIcon.addClass("fa-caret-down").removeClass("fa-caret-right"),this.getContentHTML(t);this.collapsedContent.hide(),this.content.show(),this.$toggleIcon.addClass("fa-caret-down").removeClass("fa-caret-right"),void 0!==gl.diffNotesCompileComponents&&gl.diffNotesCompileComponents()}else this.content.hide(),this.$toggleIcon.addClass("fa-caret-right").removeClass("fa-caret-down"),this.collapsedContent.show(),void 0!==gl.diffNotesCompileComponents&&gl.diffNotesCompileComponents()}},{key:"getContentHTML",value:function(e){var t=this;this.collapsedContent.hide(),this.loadingContent.show(),a.a.get(this.diffForPath).then(function(i){var n=i.data;t.loadingContent.hide(),n.html?(t.content=s()(n.html),Object(p.a)(t.content)):(t.hasError=!0,t.content=s()('<div class="nothing-here-block"><i class="fa fa-warning"></i> Could not load diff</div>')),t.collapsedContent.after(t.content),void 0!==gl.diffNotesCompileComponents&&gl.diffNotesCompileComponents();var a=s()(t.file);f.init(a);var o=a.closest(".files").is("[data-can-create-note]");h.a.initImageDiff(a[0],o),e&&e()}).catch(function(){Object(o.a)(Object(r.a)("An error occurred while retrieving diff"))})}}])&&m(t.prototype,i),n&&m(t,n),e}();function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function w(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.d(t,"a",function(){return k});var C=!1,k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=s()(".files .diff-file");t.each(function(e,t){s.a.data(t,"singleFileDiff")||s.a.data(t,"singleFileDiff",new _(t))});var i=document.getElementById("diffs");(!i||i&&i.dataset&&""!==i.dataset.isLocked)&&f.init(t);var n=s()(".files").first().get(0),a=n&&n.hasAttribute("data-can-create-note");t.each(function(e,t){return h.a.initImageDiff(t,a)}),C||(s()(document).on("click",".js-unfold",this.handleClickUnfold.bind(this)).on("click",".diff-line-num a",this.handleClickLineNum.bind(this)).on("mousedown","td.line_content.parallel",this.handleParallelLineDown.bind(this)),C=!0),Object(l.a)()&&this.highlightSelectedLine(),this.openAnchoredDiff()}var t,i,n;return t=e,(i=[{key:"handleClickUnfold",value:function(e){var t,i,n=s()(e.target),l=y(this.lineNumbers(n.parent()),2),c=l[0],u=l[1],d=u-c,f=n.hasClass("js-unfold-bottom"),h=!0;if(f){var p=u+1;t=p,i=p+20}else{var m=u-1;t=m-20,i=m;var g=this.lineNumbers(n.parent().prev())[1];t<=g+1&&(t=g+1,h=!1)}var v=n.parents(".diff-file"),b=v.data("blobDiffPath"),_={since:t,to:i,bottom:f,offset:d,unfold:h,view:v.data("view")};a.a.get(b,{params:_}).then(function(e){var t=e.data;return n.parent().replaceWith(t)}).catch(function(){return Object(o.a)(Object(r.a)("An error occurred while loading diff"))})}},{key:"openAnchoredDiff",value:function(e){var t=this,i=Object(l.a)(),n=i&&i.split("_")[0];if(n){var a=s()("#".concat(n)).closest(".diff-file");if(s()(".nothing-here-block:visible",a).length){var o=s()(".js-file-title, .click-to-expand",a);a.data("singleFileDiff").toggleDiff(o,function(){t.highlightSelectedLine(),e&&e()})}else e&&e()}}},{key:"handleClickLineNum",value:function(e){var t=s()(e.currentTarget).attr("href");e.preventDefault(),window.history.pushState?window.history.pushState(null,null,t):window.location.hash=t,this.highlightSelectedLine()}},{key:"handleParallelLineDown",value:function(e){var t=s()(e.currentTarget),i=t.closest("table");i.removeClass("left-side-selected right-side-selected");var n=["left-side","right-side"].filter(function(e){return t.hasClass(e)})[0];n&&i.addClass("".concat(n,"-selected"))}},{key:"diffViewType",value:function(){return s()(".inline-parallel-buttons a.active").data("viewType")}},{key:"lineNumbers",value:function(e){var t=e.find(".diff-line-num").toArray();return 2!==t.length?[0,0]:t.map(function(e){return parseInt(s()(e).data("linenumber"),10)||0})}},{key:"highlightSelectedLine",value:function(){var e=Object(l.a)(),t=s()(".diff-file");t.find(".hll").removeClass("hll"),e&&t.find("tr#".concat(e,":not(.match) td, td#").concat(e,', td[data-line-code="').concat(e,'"]')).addClass("hll")}}])&&w(t.prototype,i),n&&w(t,n),e}()},203:function(e,t,i){"use strict";t.a={props:{issuableType:{required:!0,type:String}},computed:{issuableDisplayName:function(){return this.issuableType.replace(/_/g," ")}}}},204:function(e,t,i){"use strict";var n=i(10),s={html:"html",htm:"html",html_vm:"html",asp:"html",jade:"pug",pug:"pug",md:"markdown","md.rendered":"markdown",markdown:"markdown","markdown.rendered":"markdown",rst:"markdown",blink:"blink",css:"css",scss:"sass",sass:"sass",less:"less",json:"json",yaml:"yaml","YAML-tmLanguage":"yaml",yml:"yaml",xml:"xml",plist:"xml",xsd:"xml",dtd:"xml",xsl:"xml",xslt:"xml",resx:"xml",iml:"xml",xquery:"xml",tmLanguage:"xml",manifest:"xml",project:"xml",png:"image",jpeg:"image",jpg:"image",gif:"image",svg:"image",ico:"image",tif:"image",tiff:"image",psd:"image",psb:"image",ami:"image",apx:"image",bmp:"image",bpg:"image",brk:"image",cur:"image",dds:"image",dng:"image",exr:"image",fpx:"image",gbr:"image",img:"image",jbig2:"image",jb2:"image",jng:"image",jxr:"image",pbm:"image",pgf:"image",pic:"image",raw:"image",webp:"image",js:"javascript",ejs:"javascript",esx:"javascript",jsx:"react",tsx:"react",ini:"settings",dlc:"settings",dll:"settings",config:"settings",conf:"settings",properties:"settings",prop:"settings",settings:"settings",option:"settings",props:"settings",toml:"settings",prefs:"settings","sln.dotsettings":"settings","sln.dotsettings.user":"settings",ts:"typescript","d.ts":"typescript-def",marko:"markojs",pdf:"pdf",xlsx:"table",xls:"table",csv:"table",tsv:"table",vscodeignore:"vscode",vsixmanifest:"vscode",vsix:"vscode","code-workplace":"vscode",suo:"visualstudio",sln:"visualstudio",csproj:"visualstudio",vb:"visualstudio",pdb:"database",sql:"database",pks:"database",pkb:"database",accdb:"database",mdb:"database",sqlite:"database",cs:"csharp",zip:"zip",tar:"zip",gz:"zip",xz:"zip",bzip2:"zip",gzip:"zip","7z":"zip",rar:"zip",tgz:"zip",exe:"exe",msi:"exe",java:"java",jar:"java",jsp:"java",c:"c",m:"c",h:"h",cc:"cpp",cpp:"cpp",mm:"cpp",cxx:"cpp",hpp:"hpp",go:"go",py:"python",url:"url",sh:"console",ksh:"console",csh:"console",tcsh:"console",zsh:"console",bash:"console",bat:"console",cmd:"console",ps1:"powershell",psm1:"powershell",psd1:"powershell",ps1xml:"powershell",psc1:"powershell",pssc:"powershell",gradle:"gradle",doc:"word",docx:"word",rtf:"word",cer:"certificate",cert:"certificate",crt:"certificate",pub:"key",key:"key",pem:"key",asc:"key",gpg:"key",woff:"font",woff2:"font",ttf:"font",eot:"font",suit:"font",otf:"font",bmap:"font",fnt:"font",odttf:"font",ttc:"font",font:"font",fonts:"font",sui:"font",ntf:"font",mrf:"font",lib:"lib",bib:"lib",rb:"ruby",erb:"ruby",fs:"fsharp",fsx:"fsharp",fsi:"fsharp",fsproj:"fsharp",swift:"swift",ino:"arduino",dockerignore:"docker",dockerfile:"docker",tex:"tex",cls:"tex",sty:"tex",pptx:"powerpoint",ppt:"powerpoint",pptm:"powerpoint",potx:"powerpoint",pot:"powerpoint",potm:"powerpoint",ppsx:"powerpoint",ppsm:"powerpoint",pps:"powerpoint",ppam:"powerpoint",ppa:"powerpoint",webm:"movie",mkv:"movie",flv:"movie",vob:"movie",ogv:"movie",ogg:"movie",gifv:"movie",avi:"movie",mov:"movie",qt:"movie",wmv:"movie",yuv:"movie",rm:"movie",rmvb:"movie",mp4:"movie",m4v:"movie",mpg:"movie",mp2:"movie",mpeg:"movie",mpe:"movie",mpv:"movie",m2v:"movie",vdi:"virtual",vbox:"virtual","vbox-prev":"virtual",ics:"email",mp3:"music",flac:"music",m4a:"music",wma:"music",aiff:"music",coffee:"coffee",txt:"document",graphql:"graphql",rs:"rust",raml:"raml",xaml:"xaml",hs:"haskell",kt:"kotlin",kts:"kotlin",patch:"git",lua:"lua",clj:"clojure",cljs:"clojure",groovy:"groovy",r:"r",rmd:"r",dart:"dart",as:"actionscript",mxml:"mxml",ahk:"autohotkey",swf:"flash",swc:"swc",cmake:"cmake",asm:"assembly",a51:"assembly",inc:"assembly",nasm:"assembly",s:"assembly",ms:"assembly",agc:"assembly",ags:"assembly",aea:"assembly",argus:"assembly",mitigus:"assembly",binsource:"assembly",vue:"vue",ml:"ocaml",mli:"ocaml",cmx:"ocaml","js.map":"javascript-map","css.map":"css-map",lock:"lock",hbs:"handlebars",mustache:"handlebars",pl:"perl",pm:"perl",hx:"haxe","spec.ts":"test-ts","test.ts":"test-ts","ts.snap":"test-ts","spec.tsx":"test-jsx","test.tsx":"test-jsx","tsx.snap":"test-jsx","spec.jsx":"test-jsx","test.jsx":"test-jsx","jsx.snap":"test-jsx","spec.js":"test-js","test.js":"test-js","js.snap":"test-js","routing.ts":"angular-routing","routing.js":"angular-routing","module.ts":"angular","module.js":"angular","ng-template":"angular","component.ts":"angular-component","component.js":"angular-component","guard.ts":"angular-guard","guard.js":"angular-guard","service.ts":"angular-service","service.js":"angular-service","pipe.ts":"angular-pipe","pipe.js":"angular-pipe","filter.js":"angular-pipe","directive.ts":"angular-directive","directive.js":"angular-directive","resolver.ts":"angular-resolver","resolver.js":"angular-resolver",pp:"puppet",ex:"elixir",exs:"elixir",ls:"livescript",erl:"erlang",twig:"twig",jl:"julia",elm:"elm",pure:"purescript",tpl:"smarty",styl:"stylus",re:"reason",rei:"reason",cmj:"bucklescript",merlin:"merlin",v:"verilog",vhd:"verilog",sv:"verilog",svh:"verilog",nb:"mathematica",wl:"wolframlanguage",wls:"wolframlanguage",njk:"nunjucks",nunjucks:"nunjucks",robot:"robot",sol:"solidity",au3:"autoit",haml:"haml",yang:"yang",tf:"terraform","tf.json":"terraform",tfvars:"terraform",tfstate:"terraform","blade.php":"laravel","inky.php":"laravel",applescript:"applescript",cake:"cake",feature:"cucumber",nim:"nim",nimble:"nim",apib:"apiblueprint",apiblueprint:"apiblueprint",tag:"riot",vfl:"vfl",kl:"kl",pcss:"postcss",sss:"postcss",todo:"todo",cfml:"coldfusion",cfc:"coldfusion",lucee:"coldfusion",cabal:"cabal",nix:"nix",slim:"slim",http:"http",rest:"http",rql:"restql",restql:"restql",kv:"kivy",graphcool:"graphcool",sbt:"sbt","reducer.ts":"ngrx-reducer","rootReducer.ts":"ngrx-reducer","state.ts":"ngrx-state","actions.ts":"ngrx-actions","effects.ts":"ngrx-effects",cr:"crystal","drone.yml":"drone",cu:"cuda",cuh:"cuda",log:"log"},a={".jscsrc":"json",".jshintrc":"json","tsconfig.json":"json","tslint.json":"json","composer.lock":"json",".jsbeautifyrc":"json",".esformatter":"json","cdp.pid":"json",".htaccess":"xml",".jshintignore":"settings",".buildignore":"settings",makefile:"settings",".mrconfig":"settings",".yardopts":"settings","gradle.properties":"gradle",gradlew:"gradle","gradle-wrapper.properties":"gradle",license:"certificate","license.md":"certificate","license.md.rendered":"certificate","license.txt":"certificate",licence:"certificate","licence.md":"certificate","licence.md.rendered":"certificate","licence.txt":"certificate",dockerfile:"docker","docker-compose.yml":"docker",".mailmap":"email",".gitignore":"git",".gitconfig":"git",".gitattributes":"git",".gitmodules":"git",".gitkeep":"git","git-history":"git",".Rhistory":"r","cmakelists.txt":"cmake","cmakecache.txt":"cmake","angular-cli.json":"angular",".angular-cli.json":"angular",".vfl":"vfl",".kl":"kl","postcss.config.js":"postcss",".postcssrc.js":"postcss","project.graphcool":"graphcool","webpack.js":"webpack","webpack.ts":"webpack","webpack.base.js":"webpack","webpack.base.ts":"webpack","webpack.config.js":"webpack","webpack.config.ts":"webpack","webpack.common.js":"webpack","webpack.common.ts":"webpack","webpack.config.common.js":"webpack","webpack.config.common.ts":"webpack","webpack.config.common.babel.js":"webpack","webpack.config.common.babel.ts":"webpack","webpack.dev.js":"webpack","webpack.dev.ts":"webpack","webpack.config.dev.js":"webpack","webpack.config.dev.ts":"webpack","webpack.config.dev.babel.js":"webpack","webpack.config.dev.babel.ts":"webpack","webpack.prod.js":"webpack","webpack.prod.ts":"webpack","webpack.server.js":"webpack","webpack.server.ts":"webpack","webpack.client.js":"webpack","webpack.client.ts":"webpack","webpack.config.server.js":"webpack","webpack.config.server.ts":"webpack","webpack.config.client.js":"webpack","webpack.config.client.ts":"webpack","webpack.config.production.babel.js":"webpack","webpack.config.production.babel.ts":"webpack","webpack.config.prod.babel.js":"webpack","webpack.config.prod.babel.ts":"webpack","webpack.config.prod.js":"webpack","webpack.config.prod.ts":"webpack","webpack.config.production.js":"webpack","webpack.config.production.ts":"webpack","webpack.config.staging.js":"webpack","webpack.config.staging.ts":"webpack","webpack.config.babel.js":"webpack","webpack.config.babel.ts":"webpack","webpack.config.base.babel.js":"webpack","webpack.config.base.babel.ts":"webpack","webpack.config.base.js":"webpack","webpack.config.base.ts":"webpack","webpack.config.staging.babel.js":"webpack","webpack.config.staging.babel.ts":"webpack","webpack.config.coffee":"webpack","webpack.config.test.js":"webpack","webpack.config.test.ts":"webpack","webpack.config.vendor.js":"webpack","webpack.config.vendor.ts":"webpack","webpack.config.vendor.production.js":"webpack","webpack.config.vendor.production.ts":"webpack","webpack.test.js":"webpack","webpack.test.ts":"webpack","webpack.dist.js":"webpack","webpack.dist.ts":"webpack","webpackfile.js":"webpack","webpackfile.ts":"webpack","ionic.config.json":"ionic",".io-config.json":"ionic","gulpfile.js":"gulp","gulpfile.ts":"gulp","gulpfile.babel.js":"gulp","package.json":"nodejs","package-lock.json":"nodejs",".nvmrc":"nodejs",".npmignore":"npm",".npmrc":"npm",".yarnrc":"yarn","yarn.lock":"yarn",".yarnclean":"yarn",".yarn-integrity":"yarn","yarn-error.log":"yarn","androidmanifest.xml":"android",".env":"tune",".env.example":"tune",".babelrc":"babel","contributing.md":"contributing","contributing.md.rendered":"contributing","readme.md":"readme","readme.md.rendered":"readme",changelog:"changelog","changelog.md":"changelog","changelog.md.rendered":"changelog",CREDITS:"credits","credits.txt":"credits","credits.md":"credits","credits.md.rendered":"credits",".flowconfig":"flow","favicon.png":"favicon","karma.conf.js":"karma","karma.conf.ts":"karma","karma.conf.coffee":"karma","karma.config.js":"karma","karma.config.ts":"karma","karma-main.js":"karma","karma-main.ts":"karma",".bithoundrc":"bithound","appveyor.yml":"appveyor",".travis.yml":"travis","protractor.conf.js":"protractor","protractor.conf.ts":"protractor","protractor.conf.coffee":"protractor","protractor.config.js":"protractor","protractor.config.ts":"protractor","fuse.js":"fusebox",procfile:"heroku",".editorconfig":"editorconfig",".gitlab-ci.yml":"gitlab",".bowerrc":"bower","bower.json":"bower",".eslintrc.js":"eslint",".eslintrc.yaml":"eslint",".eslintrc.yml":"eslint",".eslintrc.json":"eslint",".eslintrc":"eslint",".eslintignore":"eslint","code_of_conduct.md":"conduct","code_of_conduct.md.rendered":"conduct",".watchmanconfig":"watchman","aurelia.json":"aurelia","mocha.opts":"mocha",jenkinsfile:"jenkins","firebase.json":"firebase",".firebaserc":"firebase",Rakefile:"ruby","rollup.config.js":"rollup","rollup.config.ts":"rollup","rollup-config.js":"rollup","rollup-config.ts":"rollup","rollup.config.prod.js":"rollup","rollup.config.prod.ts":"rollup","rollup.config.dev.js":"rollup","rollup.config.dev.ts":"rollup","rollup.config.prod.vendor.js":"rollup","rollup.config.prod.vendor.ts":"rollup",".hhconfig":"hack",".stylelintrc":"stylelint","stylelint.config.js":"stylelint",".stylelintrc.json":"stylelint",".stylelintrc.yaml":"stylelint",".stylelintrc.yml":"stylelint",".stylelintrc.js":"stylelint",".stylelintignore":"stylelint",".codeclimate.yml":"code-climate",".prettierrc":"prettier","prettier.config.js":"prettier",".prettierrc.js":"prettier",".prettierrc.json":"prettier",".prettierrc.yaml":"prettier",".prettierrc.yml":"prettier","nodemon.json":"nodemon",".sonarrc":"sonar",browserslist:"browserlist",".browserslistrc":"browserlist",".snyk":"snyk",".drone.yml":"drone"};var o={components:{icon:i(15).a,GlLoadingIcon:n.e},props:{fileName:{type:String,required:!0},folder:{type:Boolean,required:!1,default:!1},opened:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},size:{type:Number,required:!1,default:16},cssClasses:{type:String,required:!1,default:""}},computed:{spriteHref:function(){var e,t=(e=this.fileName,a[e]||s[e?e.split(".").pop():""]||""||"file");return"".concat(gon.sprite_file_icons,"#").concat(t)},folderIconName:function(){return this.opened?"folder-open":"folder"},iconSizeClass:function(){return this.size?"s".concat(this.size):""}}},r=i(3),l=Object(r.a)(o,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e.loading||e.folder?e._e():i("svg",{class:[e.iconSizeClass,e.cssClasses]},[i("use",e._b({},"use",{"xlink:href":e.spriteHref},!1))]),e._v(" "),!e.loading&&e.folder?i("icon",{attrs:{name:e.folderIconName,size:e.size,"css-classes":"folder-icon"}}):e._e(),e._v(" "),e.loading?i("gl-loading-icon",{attrs:{inline:!0}}):e._e()],1)},[],!1,null,null,null);l.options.__file="file_icon.vue";t.a=l.exports},205:function(e,t,i){"use strict";var n=i(10),s={components:{CiIcon:i(89).a},directives:{GlTooltip:n.n},props:{status:{type:Object,required:!0},showText:{type:Boolean,required:!1,default:!0}},computed:{cssClass:function(){var e=this.status.group;return e?"ci-status ci-".concat(e," qa-status-badge"):"ci-status qa-status-badge"}}},a=i(3),o=Object(a.a)(s,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],class:e.cssClass,attrs:{href:e.status.details_path,title:e.showText?"":e.status.text}},[i("ci-icon",{attrs:{status:e.status}}),e._v(" "),e.showText?[e._v("\n    "+e._s(e.status.text)+"\n  ")]:e._e()],2)},[],!1,null,null,null);o.options.__file="ci_badge_link.vue";t.a=o.exports},21:function(e,t,i){"use strict";i.d(t,"b",function(){return f}),i.d(t,"a",function(){return h});var n=i(0),s=i.n(n),a=i(5),o=i.n(a),r=i(11),l=i(14),c=i.n(l),u=i(13),d={disabled:!1,filter:{path:""},state:{},detail:{issue:{}},moving:{issue:{},list:{}},create:function(){this.state.lists=[],this.filter.path=Object(u.l)().join("&"),this.detail={issue:{}}},addList:function(e,t){var i=new List(e,t);return this.state.lists.push(i),i},new:function(e){var t=this,i=this.addList(e),n=this.findList("type","backlog","backlog");i.save().then(function(){i.issues.forEach(n.removeIssue.bind(n)),t.state.lists=o.a.sortBy(t.state.lists,"position")}).catch(function(){}),this.removeBlankState()},updateNewListDropdown:function(e){s()(".js-board-list-".concat(e)).removeClass("is-active")},shouldAddBlankState:function(){return!this.state.lists.filter(function(e){return"backlog"!==e.type&&"closed"!==e.type})[0]},addBlankState:function(){!this.shouldAddBlankState()||this.welcomeIsHidden()||this.disabled||(this.addList({id:"blank",list_type:"blank",title:"Welcome to your Issue Board!",position:0}),this.state.lists=o.a.sortBy(this.state.lists,"position"))},removeBlankState:function(){this.removeList("blank"),c.a.set("issue_board_welcome_hidden","true",{expires:3650,path:""})},welcomeIsHidden:function(){return Object(u.A)(c.a.get("issue_board_welcome_hidden"))},removeList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank";this.findList("id",e,t)&&(this.state.lists=this.state.lists.filter(function(t){return t.id!==e}))},moveList:function(e,t){var i=this;t.forEach(function(e,t){i.findList("id",parseInt(e,10)).position=t}),e.update()},moveIssueToList:function(e,t,i,n){var s=t.findIssue(i.id),a=i.getLists(),o=a.map(function(e){return e.label});if(s)t.updateIssueLabel(i,e),s.removeLabel(e.label);else if("assignee"===t.type&&"assignee"===e.type&&i.findAssignee(t.assignee))t.findIssue(i.id).removeAssignee(e.assignee);else if("milestone"===t.type){var r=i.milestone,l=this.state.lists.filter(function(e){return"milestone"===e.type&&e.id!==t.id}).filter(function(e){return e.issues.some(function(e){return i.id===e.id})});i.removeMilestone(r),i.addMilestone(t.milestone),l.forEach(function(e){return e.removeIssue(i)}),t.addIssue(i,e,n)}else t.addIssue(i,e,n);"closed"===t.type&&"backlog"!==e.type?(a.forEach(function(e){e.removeIssue(i)}),i.removeLabels(o)):"backlog"===t.type&&"assignee"===e.type?(i.removeAssignee(e.assignee),e.removeIssue(i)):"backlog"===t.type&&"milestone"===e.type?(i.removeMilestone(e.milestone),e.removeIssue(i)):this.shouldRemoveIssue(e,t)&&e.removeIssue(i)},shouldRemoveIssue:function(e,t){return"label"!==t.type&&"assignee"===e.type||"assignee"!==t.type&&"label"===e.type||"backlog"===e.type},moveIssueInList:function(e,t,i,n,s){var a=parseInt(s[n-1],10)||null,o=parseInt(s[n+1],10)||null;e.moveIssue(t,i,n,a,o)},findList:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";return this.state.lists.filter(function(n){var s=!i||(n.type===i||"assignee"===n.type||"milestone"===n.type);return n[e]===t&&s})[0]},findListByLabelId:function(e){return this.state.lists.find(function(t){return"label"===t.type&&t.label.id===e})},updateFiltersUrl:function(){window.history.pushState(null,null,"?".concat(this.filter.path))}};function f(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.default.set.apply(r.default,[d.detail.issue].concat(t))}function h(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.default.delete.apply(r.default,[d.detail.issue].concat(t))}t.c=d},212:function(e,t){!function(t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var s=!1;if(t.getComputedStyle){var a=i.createElement("div");["","-webkit-","-moz-","-ms-"].some(function(e){try{a.style.position=e+"sticky"}catch(e){}return""!=a.style.position})&&(s=!0)}else s=!0;var o="undefined"!=typeof ShadowRoot,r={top:null,left:null},l=[];function c(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}function u(e){return parseFloat(e)||0}function d(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t}var f=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(t instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(l.some(function(e){return e._node===t}))throw new Error("Stickyfill is already applied to this node");this._node=t,this._stickyMode=null,this._active=!1,l.push(this),this.refresh()}return n(e,[{key:"refresh",value:function(){if(!s&&!this._removed){this._active&&this._deactivate();var e=this._node,n=getComputedStyle(e),a={top:n.top,display:n.display,marginTop:n.marginTop,marginBottom:n.marginBottom,marginLeft:n.marginLeft,marginRight:n.marginRight,cssFloat:n.cssFloat};if(!isNaN(parseFloat(a.top))&&"table-cell"!=a.display&&"none"!=a.display){this._active=!0;var r=e.parentNode,l=o&&r instanceof ShadowRoot?r.host:r,f=e.getBoundingClientRect(),h=l.getBoundingClientRect(),p=getComputedStyle(l);this._parent={node:l,styles:{position:l.style.position},offsetHeight:l.offsetHeight},this._offsetToWindow={left:f.left,right:i.documentElement.clientWidth-f.right},this._offsetToParent={top:f.top-h.top-u(p.borderTopWidth),left:f.left-h.left-u(p.borderLeftWidth),right:-f.right+h.right-u(p.borderRightWidth)},this._styles={position:e.style.position,top:e.style.top,bottom:e.style.bottom,left:e.style.left,right:e.style.right,width:e.style.width,marginTop:e.style.marginTop,marginLeft:e.style.marginLeft,marginRight:e.style.marginRight};var m=u(a.top);this._limits={start:f.top+t.pageYOffset-m,end:h.top+t.pageYOffset+l.offsetHeight-u(p.borderBottomWidth)-e.offsetHeight-m-u(a.marginBottom)};var g=p.position;"absolute"!=g&&"relative"!=g&&(l.style.position="relative"),this._recalcPosition();var v=this._clone={};v.node=i.createElement("div"),c(v.node.style,{width:f.right-f.left+"px",height:f.bottom-f.top+"px",marginTop:a.marginTop,marginBottom:a.marginBottom,marginLeft:a.marginLeft,marginRight:a.marginRight,cssFloat:a.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"}),r.insertBefore(v.node,e),v.docOffsetTop=d(v.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var e=r.top<=this._limits.start?"start":r.top>=this._limits.end?"end":"middle";if(this._stickyMode!=e){switch(e){case"start":c(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":c(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":c(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=e}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(Math.abs(d(this._clone.node)-this._clone.docOffsetTop)>1||Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight)>1)&&this.refresh()}},{key:"_deactivate",value:function(){var e=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,c(this._node.style,this._styles),delete this._styles,l.some(function(t){return t!==e&&t._parent&&t._parent.node===e._parent.node})||c(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var e=this;this._deactivate(),l.some(function(t,i){if(t._node===e._node)return l.splice(i,1),!0}),this._removed=!0}}]),e}(),h={stickies:l,Sticky:f,addOne:function(e){if(!(e instanceof HTMLElement)){if(!e.length||!e[0])return;e=e[0]}for(var t=0;t<l.length;t++)if(l[t]._node===e)return l[t];return new f(e)},add:function(e){if(e instanceof HTMLElement&&(e=[e]),e.length){for(var t=[],i=function(i){var n=e[i];return n instanceof HTMLElement?l.some(function(e){if(e._node===n)return t.push(e),!0})?"continue":void t.push(new f(n)):(t.push(void 0),"continue")},n=0;n<e.length;n++)i(n);return t}},refreshAll:function(){l.forEach(function(e){return e.refresh()})},removeOne:function(e){if(!(e instanceof HTMLElement)){if(!e.length||!e[0])return;e=e[0]}l.some(function(t){if(t._node===e)return t.remove(),!0})},remove:function(e){if(e instanceof HTMLElement&&(e=[e]),e.length)for(var t=function(t){var i=e[t];l.some(function(e){if(e._node===i)return e.remove(),!0})},i=0;i<e.length;i++)t(i)},removeAll:function(){for(;l.length;)l[0].remove()}};s||function(){function e(){t.pageXOffset!=r.left?(r.top=t.pageYOffset,r.left=t.pageXOffset,h.refreshAll()):t.pageYOffset!=r.top&&(r.top=t.pageYOffset,r.left=t.pageXOffset,l.forEach(function(e){return e._recalcPosition()}))}e(),t.addEventListener("scroll",e),t.addEventListener("resize",h.refreshAll),t.addEventListener("orientationchange",h.refreshAll);var n=void 0;function s(){n=setInterval(function(){l.forEach(function(e){return e._fastCheck()})},500)}var a=void 0,o=void 0;"hidden"in i?(a="hidden",o="visibilitychange"):"webkitHidden"in i&&(a="webkitHidden",o="webkitvisibilitychange"),o?(i[a]||s(),i.addEventListener(o,function(){i[a]?clearInterval(n):s()})):s()}(),void 0!==e&&e.exports?e.exports=h:t.Stickyfill=h}(window,document)},223:function(e,t,i){"use strict";var n=i(13);t.a={methods:{onChangeTab:function(e){this.updateContent({scope:e,page:"1"})},onChangePage:function(e){var t={page:Number(e).toString()};this.scope&&(t.scope=this.scope),this.updateContent(t)},updateInternalState:function(e){var t=this;this.poll.stop();var i=Object.keys(e).map(function(i){var n=e[i];return t[i]=n,"".concat(i,"=").concat(encodeURIComponent(n))}).join("&");this.requestData=e,Object(n.n)(Object(n.e)("?".concat(i))),this.isLoading=!0}}}},224:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(5),o=i.n(a),r=i(14),l=i.n(r),c=i(62),u=i.n(c),d=(i(410),i(411),i(152)),f=i(11),h=i(140),p=i(10),m=i(6),g=i(19),v=i(7),b=i(66),_=i(175),y=i(156);function w(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var C=Object.assign({},y.a),k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dropdownTrigger=t.dropdownTrigger,this.dropdownList=t.dropdownList,this.noteTypeInput=t.noteTypeInput,this.submitButton=t.submitButton,this.closeButton=t.closeButton,this.reopenButton=t.reopenButton}var t,i,n;return t=e,(i=[{key:"initDroplab",value:function(){this.droplab=new _.a;var e=this.setConfig();this.droplab.init(this.dropdownTrigger,this.dropdownList,[C],e)}},{key:"setConfig",value:function(){var e={InputSetter:[{input:this.noteTypeInput,valueAttribute:"data-value"},{input:this.submitButton,valueAttribute:"data-submit-text"}]};return this.closeButton&&e.InputSetter.push({input:this.closeButton,valueAttribute:"data-close-text"},{input:this.closeButton,valueAttribute:"data-close-text",inputAttribute:"data-alternative-text"}),this.reopenButton&&e.InputSetter.push({input:this.reopenButton,valueAttribute:"data-reopen-text"},{input:this.reopenButton,valueAttribute:"data-reopen-text",inputAttribute:"data-alternative-text"}),e}}])&&w(t.prototype,i),n&&w(t,n),e}(),j=i(79),S=i(190),O=i(109),x=i(143),D=i(13),T=(i(125),i(20));function E(e,t,i){return(E=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,i){var n=[null];n.push.apply(n,t);var s=new(Function.bind.apply(e,n));return i&&P(s,i.prototype),s}).apply(null,arguments)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t,i){return t&&I(e.prototype,t),i&&I(e,i),e}function L(e){return e.replace(/\r\n/g,"\n")}i.d(t,"a",function(){return M}),window.autosize=u.a;var q=/^\/\w+.*$/gm,M=function(){function e(t,i,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:b.b;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateTargetButtons=this.updateTargetButtons.bind(this),this.updateComment=this.updateComment.bind(this),this.visibilityChange=this.visibilityChange.bind(this),this.cancelDiscussionForm=this.cancelDiscussionForm.bind(this),this.onAddDiffNote=this.onAddDiffNote.bind(this),this.onAddImageDiffNote=this.onAddImageDiffNote.bind(this),this.setupDiscussionNoteForm=this.setupDiscussionNoteForm.bind(this),this.onReplyToDiscussionNote=this.onReplyToDiscussionNote.bind(this),this.removeNote=this.removeNote.bind(this),this.cancelEdit=this.cancelEdit.bind(this),this.updateNote=this.updateNote.bind(this),this.addDiscussionNote=this.addDiscussionNote.bind(this),this.addNoteError=this.addNoteError.bind(this),this.addNote=this.addNote.bind(this),this.resetMainTargetForm=this.resetMainTargetForm.bind(this),this.refresh=this.refresh.bind(this),this.keydownNoteText=this.keydownNoteText.bind(this),this.toggleCommitList=this.toggleCommitList.bind(this),this.postComment=this.postComment.bind(this),this.clearFlashWrapper=this.clearFlash.bind(this),this.onHashChange=this.onHashChange.bind(this),this.notes_url=t,this.note_ids=i,this.enableGFM=o,this.updatedNotesTrackingMap={},this.last_fetched_at=n,this.noteable_url=document.URL,this.notesCountBadge||(this.notesCountBadge=s()(".issuable-details").find(".notes-tab .badge")),this.basePollingInterval=15e3,this.maxPollingSteps=4,this.$wrapperEl=Object(D.s)()?s()(document).find(".diffs"):s()(document),this.cleanBinding(),this.addBinding(),this.setPollingInterval(),this.setupMainTargetNoteForm(o),this.taskList=new x.a({dataType:"note",fieldName:"note",selector:".notes"}),this.collapseLongCommitList(),this.setViewType(a),"merge_requests"===Object(D.h)(1)&&s()(".note-edit-form").clone().addClass("mr-note-edit-form").insertAfter(".note-edit-form");var r=Object(g.a)(),l=r&&document.getElementById(r);l&&this.loadLazyDiff({currentTarget:l})}return N(e,null,[{key:"initialize",value:function(t,i,n,s,a){this.instance||(this.instance=new e(t,i,n,s,a))}},{key:"getInstance",value:function(){return this.instance}}]),N(e,[{key:"setViewType",value:function(e){this.view=l.a.get("diff_view")||e}},{key:"addBinding",value:function(){this.$wrapperEl.on("click",".js-note-edit",this.showEditForm.bind(this)),this.$wrapperEl.on("click",".note-edit-cancel",this.cancelEdit),this.$wrapperEl.on("click",".js-comment-submit-button",this.postComment),this.$wrapperEl.on("click",".js-comment-save-button",this.updateComment),this.$wrapperEl.on("keyup input",".js-note-text",this.updateTargetButtons),this.$wrapperEl.on("click",".js-comment-resolve-button",this.postComment),this.$wrapperEl.on("click",".js-note-delete",this.removeNote),this.$wrapperEl.on("click",".js-note-attachment-delete",this.removeAttachment),this.$wrapperEl.on("change",".js-note-attachment-input",this.updateFormAttachment),this.$wrapperEl.on("click",".js-discussion-reply-button",this.onReplyToDiscussionNote),this.$wrapperEl.on("click",".js-add-diff-note-button",this.onAddDiffNote),this.$wrapperEl.on("click",".js-add-image-diff-note-button",this.onAddImageDiffNote),this.$wrapperEl.on("click",".js-close-discussion-note-form",this.cancelDiscussionForm),this.$wrapperEl.on("click",".system-note-commit-list-toggler",this.toggleCommitList),this.$wrapperEl.on("click",".js-toggle-lazy-diff",this.loadLazyDiff),this.$wrapperEl.on("click",".js-toggle-lazy-diff-retry-button",this.onClickRetryLazyLoad.bind(this)),this.$wrapperEl.on("visibilitychange",this.visibilityChange),this.$wrapperEl.on("issuable:change",this.refresh),this.$wrapperEl.on("ajax:success",".js-main-target-form",this.addNote),this.$wrapperEl.on("ajax:success",".js-discussion-note-form",this.addDiscussionNote),this.$wrapperEl.on("ajax:success",".js-main-target-form",this.resetMainTargetForm),this.$wrapperEl.on("ajax:complete",".js-main-target-form",this.reenableTargetFormSubmitButton),this.$wrapperEl.on("keydown",".js-note-text",this.keydownNoteText),s()(window).on("hashchange",this.onHashChange)}},{key:"cleanBinding",value:function(){this.$wrapperEl.off("click",".js-note-edit"),this.$wrapperEl.off("click",".note-edit-cancel"),this.$wrapperEl.off("click",".js-note-delete"),this.$wrapperEl.off("click",".js-note-attachment-delete"),this.$wrapperEl.off("click",".js-discussion-reply-button"),this.$wrapperEl.off("click",".js-add-diff-note-button"),this.$wrapperEl.off("click",".js-add-image-diff-note-button"),this.$wrapperEl.off("visibilitychange"),this.$wrapperEl.off("keyup input",".js-note-text"),this.$wrapperEl.off("click",".js-note-target-reopen"),this.$wrapperEl.off("click",".js-note-target-close"),this.$wrapperEl.off("keydown",".js-note-text"),this.$wrapperEl.off("click",".js-comment-resolve-button"),this.$wrapperEl.off("click",".system-note-commit-list-toggler"),this.$wrapperEl.off("click",".js-toggle-lazy-diff"),this.$wrapperEl.off("click",".js-toggle-lazy-diff-retry-button"),this.$wrapperEl.off("ajax:success",".js-main-target-form"),this.$wrapperEl.off("ajax:success",".js-discussion-note-form"),this.$wrapperEl.off("ajax:complete",".js-main-target-form"),s()(window).off("hashchange",this.onHashChange)}},{key:"keydownNoteText",value:function(e){var t,i,n,a;if(!Object(D.w)(e))switch(t=s()(e.target),e.which){case 38:if(""!==t.val())return;if((a=s()("li.note[data-author-id='".concat(gon.current_user_id,"'][data-editable]:last"),t.closest(".note, .notes_holder, #notes"))).length)return a.find(".js-note-edit").trigger("click",[!0,a]);break;case 27:if((i=t.closest(".js-discussion-note-form")).length){if(""!==t.val()&&!window.confirm("Are you sure you want to cancel creating this comment?"))return;return void this.removeDiscussionNoteForm(i)}if((n=t.closest(".note")).length){if(t.closest("form").data("originalNote")!==t.val()&&!window.confirm("Are you sure you want to cancel editing this comment?"))return;return this.removeNoteEditForm(n)}}}},{key:"initRefresh",value:function(){return e.interval&&clearInterval(e.interval),e.interval=setInterval((t=this,function(){return t.refresh()}),this.pollingInterval);var t}},{key:"refresh",value:function(){if(!document.hidden)return this.getContent()}},{key:"getContent",value:function(){var e=this;this.refreshing||(this.refreshing=!0,m.a.get("".concat(this.notes_url,"?html=true"),{headers:{"X-Last-Fetched-At":this.last_fetched_at}}).then(function(t){var i=t.data,n=i.notes;e.last_fetched_at=i.last_fetched_at,e.setPollingInterval(i.notes.length),s.a.each(n,function(t,i){return e.renderNote(i)}),e.refreshing=!1}).catch(function(){e.refreshing=!1}))}},{key:"setPollingInterval",value:function(e){var t;return null==e&&(e=!0),t=this.basePollingInterval*Math.pow(2,this.maxPollingSteps-1),e?this.pollingInterval=this.basePollingInterval:this.pollingInterval<t&&(this.pollingInterval*=2),this.initRefresh()}},{key:"handleQuickActions",value:function(t){var i;t.commands_changes&&("merge"in t.commands_changes&&e.checkMergeRequestStatus(),"emoji_award"in t.commands_changes&&(i=s()(".js-awards-block").eq(0),Object(S.b)().then(function(e){e.addAwardToEmojiBar(i,t.commands_changes.emoji_award),e.scrollToAwards()}).catch(function(){})))}},{key:"setupNewNote",value:function(t){Object(T.i)(t.find(".js-timeago"),!1),this.collapseLongCommitList(),this.taskList.init(),e.updateNoteTargetSelector(t),this.$noteToCleanHighlight=t}},{key:"onHashChange",value:function(){this.$noteToCleanHighlight&&e.updateNoteTargetSelector(this.$noteToCleanHighlight),this.$noteToCleanHighlight=null}},{key:"renderNote",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s()(".main-notes-list");if(t.discussion_html)return this.renderDiscussionNote(t,i);if(t.valid){var a=n.find("#note_".concat(t.id));if(e.isNewNote(t,this.note_ids)){if(Object(D.s)())return;this.note_ids.push(t.id),n.length&&n.find(".system-note.being-posted").remove();var o=e.animateAppendNote(t.html,n);return this.setupNewNote(o),this.refresh(),this.updateNotesCount(1)}if(e.isUpdatedNote(t,a)){var r=a.hasClass("is-editing"),l=L(a.find(".original-note-content").text().trim()),c=a.find(".js-note-text"),u=c.val(),d=L(t.note),f=u===l||u===d;if(r&&f)c.val(t.note),this.updatedNotesTrackingMap[t.id]=t;else if(r&&!f)this.putConflictEditWarningInPlace(t,a),this.updatedNotesTrackingMap[t.id]=t;else{var h=e.animateUpdateNote(t.html,a);this.setupNewNote(h)}}}else t.errors&&t.errors.commands_only&&(t.commands_changes&&Object.keys(t.commands_changes).length>0&&n.find(".system-note.being-posted").remove(),this.addFlash(t.errors.commands_only,"notice",this.parentTimeline.get(0)),this.refresh())}},{key:"isParallelView",value:function(){return"parallel"===l.a.get("diff_view")}},{key:"renderDiscussionNote",value:function(t,i){var n,a,o,r,l;if(e.isNewNote(t,this.note_ids)){if(this.note_ids.push(t.id),o=(a=i||s()('.js-discussion-note-form[data-discussion-id="'.concat(t.discussion_id,'"]'))).length||!t.discussion_line_code?a.closest("tr"):s()("#".concat(t.discussion_line_code)),t.on_image&&(o=a),r=this.isParallelView()?a.find("#line_type").val():"old",l=o.prevAll(".line_holder").first().find(".js-avatar-container."+r+"_line"),(n=s()('.notes[data-discussion-id="'.concat(t.discussion_id,'"]'))).length||(n=a.closest(".discussion").find(".notes")),0===n.length)if(t.diff_discussion_html){var c=s()(t.diff_discussion_html).renderGFM();if(!this.isParallelView()||o.hasClass("js-temp-notes-holder")||t.on_image)o.after(c);else{var u=c.find('.notes[data-discussion-id="'.concat(t.discussion_id,'"]')),d="."+u.closest(".notes_content").attr("class").split(" ").join(".");o.find(d+" .content").append(u.closest(".content").children())}}else e.animateAppendNote(t.discussion_html,s()(".main-notes-list"));else e.animateAppendNote(t.html,n);return void 0!==gl.diffNotesCompileComponents&&t.discussion_resolvable&&(gl.diffNotesCompileComponents(),this.renderDiscussionAvatar(l,t)),Object(T.i)(s()(".js-timeago"),!1),e.checkMergeRequestStatus(),this.updateNotesCount(1)}}},{key:"getLineHolder",value:function(e){return s()(e).closest(".notes_holder").prevAll(".line_holder").first().get(0)}},{key:"renderDiscussionAvatar",value:function(e,t){var i=e.find(".diff-comment-avatar-holders");i.length||((i=document.createElement("diff-note-avatars")).setAttribute("discussion-id",t.discussion_id),e.append(i),gl.diffNotesCompileComponents())}},{key:"resetMainTargetForm",value:function(e){var t;(t=s()(".js-main-target-form")).find(".js-errors").remove(),t.find(".js-md-write-button").click(),t.find(".js-note-text").val("").trigger("input"),t.find(".js-note-text").data("autosave").reset();var i=document.createEvent("Event");i.initEvent("autosize:update",!0,!1),t.find(".js-autosize")[0].dispatchEvent(i),this.updateTargetButtons(e)}},{key:"reenableTargetFormSubmitButton",value:function(){return s()(".js-main-target-form").find(".js-note-text").trigger("input")}},{key:"setupMainTargetNoteForm",value:function(t){var i;i=s()(".js-new-note-form"),this.formClone=i.clone(),this.setupNoteForm(i,t),i.removeClass("js-new-note-form"),i.addClass("js-main-target-form"),i.find("#note_line_code").remove(),i.find("#note_position").remove(),i.find("#note_type").val(""),i.find("#note_project_id").remove(),i.find("#in_reply_to_discussion_id").remove(),i.find(".js-comment-resolve-button").closest("comment-and-resolve-btn").remove(),this.parentTimeline=i.parents(".timeline"),i.length&&e.initCommentTypeToggle(i.get(0))}},{key:"setupNoteForm",value:function(e){var t,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.b;return this.glForm=new j.a(e,n),t=e.find(".js-note-text"),i=["Note",e.find("#note_noteable_type").val(),e.find("#note_noteable_id").val(),e.find("#note_commit_id").val(),e.find("#note_type").val(),e.find("#note_project_id").val(),e.find("#in_reply_to_discussion_id").val(),e.find("#note_line_code").val(),e.find("#note_position").val()],new O.a(t,i)}},{key:"addNote",value:function(e,t){return this.renderNote(t)}},{key:"addNoteError",value:function(e){var t;return e.hasClass("js-main-target-form")?t=e.parents(".timeline"):e.hasClass("js-discussion-note-form")&&(t=e.closest(".discussion-notes").find(".notes")),this.addFlash("Your comment could not be submitted! Please check your network connection and try again.","alert",t.get(0))}},{key:"updateNoteError",value:function(e){new v.a("Your comment could not be updated! Please check your network connection and try again.")}},{key:"addDiscussionNote",value:function(e,t,i){if(null!=e.attr("data-resolve-all")){e.data("projectPath");var n=e.data("discussionId"),s=e.data("noteableIid");null!=ResolveService&&ResolveService.toggleResolveForDiscussion(s,n)}this.renderNote(t,e),i&&this.removeDiscussionNoteForm(e)}},{key:"updateNote",value:function(e,t){var i;i=s()(e.html),this.revertNoteEditForm(t),i.renderGFM(),s()(".note-row-"+e.id).replaceWith(i),this.setupNewNote(i),void 0!==gl.diffNotesCompileComponents&&gl.diffNotesCompileComponents()}},{key:"checkContentToAllowEditing",value:function(e){var t=e.find(".original-note-content").text().trim(),i=!0;if(e.find(".js-note-text").val()===t)this.removeNoteEditForm(e);else{e.find(".note-form-actions");Object(D.u)(e.get(0))||Object(D.G)(e),e.find(".js-finish-edit-warning").show(),i=!1}return i}},{key:"showEditForm",value:function(e,t,i){e.preventDefault();var n=s()(e.target),a=s()(this.getEditFormSelector(n)),o=n.closest(".note"),r=s()(".note.is-editing:visible");if(r.length&&!this.checkContentToAllowEditing(r))return;o.find(".js-note-attachment-delete").show(),a.addClass("current-note-edit-form"),o.addClass("is-editing"),this.putEditFormInPlace(n)}},{key:"cancelEdit",value:function(e){e.preventDefault();var t=s()(e.target),i=t.closest(".note"),n=i.attr("data-note-id");if(this.revertNoteEditForm(t),this.updatedNotesTrackingMap[n]){var a=s()(this.updatedNotesTrackingMap[n].html);i.replaceWith(a),this.setupNewNote(a),delete this.updatedNotesTrackingMap[n]}else i.find(".js-finish-edit-warning").hide(),this.removeNoteEditForm(i)}},{key:"revertNoteEditForm",value:function(e){e=e||s()(".note.is-editing:visible");var t=this.getEditFormSelector(e),i=s()(t);i.insertBefore(".diffs"),i.find(".js-comment-save-button").enable(),i.find(".js-finish-edit-warning").hide()}},{key:"getEditFormSelector",value:function(e){var t=".note-edit-form:not(.mr-note-edit-form)";return e.parents("#diffs").length&&(t=".note-edit-form.mr-note-edit-form"),t}},{key:"removeNoteEditForm",value:function(e){var t=e.find(".diffs .current-note-edit-form");return e.removeClass("is-editing"),t.removeClass("current-note-edit-form"),t.find(".js-finish-edit-warning").hide(),t.find(".js-note-text").val(t.find("form.edit-note").data("originalNote"))}},{key:"removeNote",value:function(t){var i,n;return n=s()(t.currentTarget).closest(".note"),i=n.attr("id"),n.attr("data-note-id"),s()(t.currentTarget).closest(".notes[data-discussion-id]").closest(".notes_holder").prev(".line_holder"),s()('.note[id="'.concat(i,'"]')).each(function(e,t){var n,a;a=(n=s()(t)).closest(".discussion-notes");var o=s()(".notes",a).data("discussionId");if(void 0!==gl.diffNotesCompileComponents&&gl.diffNoteApps[i]&&gl.diffNoteApps[i].$destroy(),n.remove(),0===a.find(".note").length){var r=a.closest("tr");if(a.closest(".timeline-entry").remove(),s()(".js-diff-avatars-".concat(o)).trigger("remove.vue"),r.find(".discussion-notes").length>1||0===r.length){var l=a.closest(".diff-file");if(l.length>0){var c=new CustomEvent("removeBadge.imageDiff",{detail:{badgeNumber:a.index()+1}});l[0].dispatchEvent(c)}a.remove()}else r.length>0&&r.remove()}}),e.checkMergeRequestStatus(),this.updateNotesCount(-1)}},{key:"removeAttachment",value:function(){var e=s()(this).closest(".note");return e.find(".note-attachment").remove(),e.find(".note-body > .note-text").show(),e.find(".note-header").show(),e.find(".diffs .current-note-edit-form").remove()}},{key:"onReplyToDiscussionNote",value:function(e){this.replyToDiscussionNote(e.target)}},{key:"replyToDiscussionNote",value:function(e){var t,i;return t=this.cleanForm(this.formClone.clone()),(i=s()(e).closest(".js-discussion-reply-button")).closest(".discussion-reply-holder").hide().after(t),this.setupDiscussionNoteForm(i,t)}},{key:"setupDiscussionNoteForm",value:function(e,t){var i=e.closest(".text-file");0===i.length&&(i=e.closest(".image"));var n=e.data("discussionId");(n&&(t.attr("data-discussion-id",n),t.find("#in_reply_to_discussion_id").val(n)),t.find("#note_project_id").val(e.data("discussionProjectId")),t.attr("data-line-code",e.data("lineCode")),t.find("#line_type").val(e.data("lineType")),t.find("#note_noteable_type").val(i.data("noteableType")),t.find("#note_noteable_id").val(i.data("noteableId")),t.find("#note_commit_id").val(i.data("commitId")),t.find("#note_type").val(e.data("noteType")),t.find("#note_line_code").val(e.data("lineCode")),t.find("#note_position").val(e.attr("data-position")),t.find(".js-close-discussion-note-form").show().removeClass("hide"),t.find(".js-note-target-close").remove(),t.find(".js-note-new-discussion").remove(),this.setupNoteForm(t),t.removeClass("js-main-target-form").addClass("discussion-form js-discussion-note-form"),void 0!==gl.diffNotesCompileComponents)&&(t.find("comment-and-resolve-btn").attr(":discussion-id","'".concat(n,"'")),gl.diffNotesCompileComponents());t.find(".js-note-text").focus(),t.find(".js-comment-resolve-button").attr("data-discussion-id",n)}},{key:"onAddDiffNote",value:function(e){e.preventDefault();var t=e.currentTarget||e.target,i=s()(t),n=!i.hasClass("js-diff-comment-avatar");this.toggleDiffNote({target:i,lineType:t.dataset.lineType,showReplyInput:n})}},{key:"onAddImageDiffNote",value:function(e){var t,i=s()(e.currentTarget||e.target),n=i.closest(".diff-file"),a=new CustomEvent("click.imageDiff",{detail:e});n[0].dispatchEvent(a);var o=i.closest(".diff-viewer").find(".note-container"),r=o.find("> .discussion-form");0===r.length?(t=this.cleanForm(this.formClone.clone())).appendTo(o):t=r,this.setupDiscussionNoteForm(i,t)}},{key:"toggleDiffNote",value:function(e){var t,i,n,a,o,r,l,c=e.target,u=e.lineType,d=e.forceShow,f=e.showReplyInput,h=void 0!==f&&f,p=(r=(t=s()(c)).closest("tr")).next(),m=r;p.is(".notes_holder")&&(m=p),n=p.is(".notes_holder"),i=!1;var g="";l='<tr class="notes_holder js-temp-notes-holder"><td class="notes_content" colspan="3"><div class="content"></div></td></tr>',this.isParallelView()&&(g=".".concat(u),l='<tr class="notes_holder js-temp-notes-holder"><td class="notes_line old"></td><td class="notes_content parallel old"><div class="content"></div></td><td class="notes_line new"></td><td class="notes_content parallel new"><div class="content"></div></td></tr>');var v=".notes_content".concat(g," .content"),b=m.find(v);if(n&&h)m.show(),(b=m.find(v)).length&&(b.show(),(o=b.find(".js-discussion-reply-button:visible")).length?this.replyToDiscussionNote(o[0]):0===b.find(".js-discussion-note-form").length&&(i=!0));else if(h)r.after(l),b=(m=r.next()).find(v),i=!0;else{var _=m.find(".content:not(:empty)").is(":visible"),y=!0===d||!_&&!(!0===d||!1===d);m.toggleClass("hide",!y),b.toggleClass("hide",!y)}if(i)return(a=this.cleanForm(this.formClone.clone())).appendTo(b),this.setupDiscussionNoteForm(t,a)}},{key:"removeDiscussionNoteForm",value:function(e){var t;return t=e.closest("tr"),e.data("glForm").destroy(),e.find(".js-note-text").data("autosave").reset(),e.prev(".discussion-reply-holder").show(),t.is(".js-temp-notes-holder")?t.remove():e.remove()}},{key:"cancelDiscussionForm",value:function(e){e.preventDefault();var t=s()(e.target).closest(".js-discussion-note-form");if(0===s()(e.target).closest(".discussion-notes").length){var i=t.closest(".diff-file");if(i.length>0){var n=new CustomEvent("blur.imageDiff",{detail:e});i[0].dispatchEvent(n)}}return this.removeDiscussionNoteForm(t)}},{key:"updateFormAttachment",value:function(){var e,t;return t=s()(this).closest("form"),e=s()(this).val().replace(/^.*[\\\/]/,""),t.find(".js-attachment-filename").text(e)}},{key:"visibilityChange",value:function(){return this.refresh()}},{key:"updateTargetButtons",value:function(e){var t,i,n,a,o,r;a=(n=(r=s()(e.target)).parents("form")).find(".js-note-target-reopen"),t=n.find(".js-note-target-close"),r.val().trim().length>0?(o=a.attr("data-alternative-text"),i=t.attr("data-alternative-text"),a.text()!==o&&a.text(o),t.text()!==i&&t.text(i),a.is(":not(.btn-comment-and-reopen)")&&a.addClass("btn-comment-and-reopen"),t.is(":not(.btn-comment-and-close)")&&t.addClass("btn-comment-and-close")):(o=a.data("originalText"),i=t.data("originalText"),a.text()!==o&&a.text(o),t.text()!==i&&t.text(i),a.is(".btn-comment-and-reopen")&&a.removeClass("btn-comment-and-reopen"),t.is(".btn-comment-and-close")&&t.removeClass("btn-comment-and-close"))}},{key:"putEditFormInPlace",value:function(e){var t=s()(this.getEditFormSelector(e)),i=e.closest(".note");t.insertAfter(i.find(".note-text"));var n=i.find(".original-note-content"),a=n.text().trim(),o=n.data("postUrl"),r=n.data("targetId"),l=n.data("targetType"),c=n.data("markdownVersion");this.glForm=new j.a(t.find("form"),this.enableGFM),t.find("form").attr("action","".concat(o,"?html=true")).attr("data-remote","true").attr("data-markdown-version",c),t.find(".js-form-target-id").val(r),t.find(".js-form-target-type").val(l),t.find(".js-note-text").focus().val(a),t.find(".js-md-write-button").trigger("click"),t.find(".referenced-users").hide()}},{key:"putConflictEditWarningInPlace",value:function(e,t){0===t.find(".js-conflict-edit-warning").length&&s()('<div class="js-conflict-edit-warning alert alert-danger">\n        This comment has changed since you started editing, please review the\n        <a href="#note_'.concat(e.id,'" target="_blank" rel="noopener noreferrer">\n          updated comment\n        </a>\n        to ensure information is not lost\n      </div>')).insertAfter(t.find(".note-text"))}},{key:"updateNotesCount",value:function(e){return this.notesCountBadge.text(parseInt(this.notesCountBadge.text(),10)+e)}},{key:"onClickRetryLazyLoad",value:function(e){var t=s()(e.currentTarget);return t.prop("disabled",!0),this.loadLazyDiff(e).then(function(){t.prop("disabled",!1)})}},{key:"loadLazyDiff",value:function(t){var i=s()(t.currentTarget).closest(".js-toggle-container");if(e.renderPlaceholderComponent(i),i.find(".js-toggle-lazy-diff").removeClass("js-toggle-lazy-diff"),0!==i.find("tbody").length){var n=i.find(".file-holder").data("linesPath"),a=i.find(".js-error-lazy-load-diff"),o=i.find(".js-success-lazy-load");return n?m.a.get(n).then(function(t){var n=t.data;o.removeClass("hidden"),a.addClass("hidden"),e.renderDiffContent(i,n)}).catch(function(){o.addClass("hidden"),a.removeClass("hidden")}):Promise.resolve()}}},{key:"toggleCommitList",value:function(e){var t=s()(e.currentTarget),i=t.siblings(".system-note-commit-list");t.find(".fa").toggleClass("fa-angle-down").toggleClass("fa-angle-up"),i.toggleClass("hide-shade")}},{key:"collapseLongCommitList",value:function(){var e=s()("#notes-list").find("li.system-note").has("ul");s.a.each(e,function(e,t){var i=s()(t),n=i.find(".note-text").find("p:first").text().replace(":","");i.find(".note-header .system-note-message").html(n),i.find("li").length>3?(i.find(".note-text").addClass("system-note-commit-list"),i.find(".system-note-commit-list-toggler").show()):i.find(".note-text").addClass("system-note-commit-list hide-shade")})}},{key:"addFlash",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.flashContainer=E(v.a,t)}},{key:"clearFlash",value:function(){this.flashContainer&&(this.flashContainer.style.display="none",this.flashContainer=null)}},{key:"cleanForm",value:function(e){return e.find(".js-comment-type-dropdown").removeClass("btn-group"),e.find(".dropdown-menu").remove(),e}},{key:"getFormData",value:function(e){var t=e.find(".js-note-text").val();return{formData:e.serialize(),formContent:o.a.escape(t),formAction:e.attr("action"),formContentOriginal:t}}},{key:"hasQuickActions",value:function(e){return q.test(e)}},{key:"stripQuickActions",value:function(e){return e.replace(q,"").trim()}},{key:"getQuickActionDescription",value:function(e){var t,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter(function(t,i){return new RegExp("/".concat(t.name)).test(e)});if(i&&i.length)if(i.length>1)t="Applying multiple commands";else{var n=i[0].description.toLowerCase();t="Applying command to ".concat(n)}else t="Applying command";return t}},{key:"createPlaceholderNote",value:function(e){var t=e.formContent,i=e.uniqueId,n=e.isDiscussionNote,a=e.currentUsername,r=e.currentUserFullname,l=e.currentUserAvatar,c=n?"discussion":"",u=s()('<li id="'.concat(i,'" class="note being-posted fade-in-half timeline-entry">\n         <div class="timeline-entry-inner">\n            <div class="timeline-icon">\n               <a href="/').concat(o.a.escape(a),'">\n                 <img class="avatar s40" src="').concat(l,'" />\n               </a>\n            </div>\n            <div class="timeline-content ').concat(c,'">\n               <div class="note-header">\n                  <div class="note-header-info">\n                     <a href="/').concat(o.a.escape(a),'">\n                       <span class="d-none d-sm-inline-block">').concat(o.a.escape(a),'</span>\n                       <span class="note-headline-light">').concat(o.a.escape(a),'</span>\n                     </a>\n                  </div>\n               </div>\n               <div class="note-body">\n                 <div class="note-text">\n                   <p>').concat(t,"</p>\n                 </div>\n               </div>\n            </div>\n         </div>\n      </li>"));return u.find(".d-none.d-sm-inline-block").text(o.a.escape(r)),u.find(".note-headline-light").text("@".concat(o.a.escape(a))),u}},{key:"createPlaceholderSystemNote",value:function(e){var t=e.formContent,i=e.uniqueId;return s()('<li id="'.concat(i,'" class="note system-note timeline-entry being-posted fade-in-half">\n         <div class="timeline-entry-inner">\n           <div class="timeline-content">\n             <i>').concat(t,"</i>\n           </div>\n         </div>\n       </li>"))}},{key:"postComment",value:function(e){var t=this;e.preventDefault();var i=s()(e.target);i.prop("disabled",!0);var n,a,r,l,c=i.parents("form"),u=c.find(".js-note-target-close"),f="discussion"===i.parent().find("li.droplab-item-selected").attr("id"),h=c.hasClass("js-main-target-form"),p=c.hasClass("js-discussion-note-form"),g=i.hasClass("js-comment-resolve-button"),v=this.getFormData(c),b=v.formData,_=v.formContent,y=v.formAction,w=v.formContentOriginal,C=!1;return p?r=c.parent(".discussion-notes").find(".notes"):h&&(r=s()("ul.main-notes-list")),g&&c.find(".js-comment-submit-button").disable(),l=_,this.hasQuickActions(_)&&(l=this.stripQuickActions(_),C=!0),l&&(n=o.a.uniqueId("tempNote_"),r.append(this.createPlaceholderNote({formContent:l,uniqueId:n,isDiscussionNote:f,currentUsername:gon.current_username,currentUserFullname:gon.current_user_fullname,currentUserAvatar:gon.current_user_avatar_url}))),C&&(a=o.a.uniqueId("tempSystemNote_"),r.append(this.createPlaceholderSystemNote({formContent:this.getQuickActionDescription(_,d.a.get(gl.GfmAutoComplete.dataSources.commands)),uniqueId:a}))),r.length&&(h?this.resetMainTargetForm(e):p&&this.removeDiscussionNoteForm(c)),u.text(u.data("originalText")),m.a.post("".concat(y,"?html=true"),b).then(function(s){var a=s.data;i.prop("disabled",!1),r.find("#".concat(n)).remove();var o=c.closest(".diff-file");if(o.length>0){var l=new CustomEvent("blur.imageDiff",{detail:e});o[0].dispatchEvent(l)}if(C&&c.find("textarea.js-note-text").trigger("clear-commands-cache.atwho"),t.clearFlashWrapper(),p){r.find(".flash-container").remove(),g&&c.attr("data-discussion-id",i.data("discussionId")).attr("data-resolve-all","true").attr("data-project-path",i.data("projectPath"));var u=0===r.length;if(t.addDiscussionNote(c,a,u),u){var d=c.find("#note_position").val();if(o.length>0&&d.length>0){var f=JSON.parse(d),m=f.x,v=f.y,b=f.width,_=f.height,y=new CustomEvent("addBadge.imageDiff",{detail:{x:m,y:v,width:b,height:_,noteId:"note_".concat(a.id),discussionId:a.discussion_id}});o[0].dispatchEvent(y)}}r.length&&r.append('<div class="flash-container" style="display: none;"></div>')}else h&&(t.addNote(c,a),t.reenableTargetFormSubmitButton(e));a.commands_changes&&t.handleQuickActions(a),c.trigger("ajax:success",[a])}).catch(function(){r.find("#".concat(n)).remove(),i.prop("disabled",!1);var s=new CustomEvent("blur.imageDiff",{detail:e}),o=c.closest(".diff-file");if(o.length&&o[0].dispatchEvent(s),C&&r.find("#".concat(a)).remove(),p&&r.length){var l=r.parent().find(".js-discussion-reply-button");t.replyToDiscussionNote(l[0]),c=r.parent().find("form")}c.find(".js-note-text").val(w),t.reenableTargetFormSubmitButton(e),t.addNoteError(c)})}},{key:"updateComment",value:function(e){var t=this;e.preventDefault();var i=s()(e.target).parents("form"),n=i.find(".js-note-target-close"),a=i.parents(".note.is-editing"),r=a.find(".js-task-list-container").find(".note-text"),l=this.getFormData(i),c=l.formData,u=l.formContent,d=l.formAction,f=(i.closest(".diff-file"),i.closest(".notes"),r.html());return r.html(u),a.removeClass("is-editing fade-in-full").addClass("being-posted fade-in-half"),a.find(".note-headline-meta a").html('<i class="fa fa-spinner fa-spin" aria-label="Comment is being updated" aria-hidden="true"></i>'),m.a.post("".concat(d,"?html=true"),c).then(function(e){var i=e.data;t.updateNote(i,a)}).catch(function(){r.html(o.a.escape(f)),a.removeClass("being-posted fade-in"),a.find(".fa.fa-spinner").remove(),t.updateNoteError()}),n.text(n.data("originalText"))}}],[{key:"initCommentTypeToggle",value:function(e){var t=e.querySelector(".js-comment-type-dropdown .dropdown-toggle"),i=e.querySelector(".js-comment-type-dropdown .dropdown-menu"),n=e.querySelector("#note_type"),s=e.querySelector(".js-comment-type-dropdown .js-comment-submit-button"),a=e.querySelector(".js-note-target-close"),o=e.querySelector(".js-note-target-reopen");new k({dropdownTrigger:t,dropdownList:i,noteTypeInput:n,submitButton:s,closeButton:a,reopenButton:o}).initDroplab()}},{key:"updateNoteTargetSelector",value:function(e){var t=Object(g.a)(),i=Boolean(t&&e.filter("#".concat(t)).length>0);e.toggleClass("target",i)}},{key:"renderPlaceholderComponent",value:function(e){var t=e.find(".js-code-placeholder").get(0);new f.default({el:t,components:{GlSkeletonLoading:p.k},render:function(e){return e("gl-skeleton-loading")}})}},{key:"renderDiffContent",value:function(e,t){var i=t.discussion_html,n=s()(i).find(".line_holder");n.addClass("fade-in"),e.find(".diff-content > table > tbody").prepend(n);var a=e.find(".file-holder");e.find(".line-holder-placeholder").remove(),Object(h.a)(a)}},{key:"isNewNote",value:function(e,t){return-1===s.a.inArray(e.id,t)}},{key:"isUpdatedNote",value:function(e,t){return L(e.note.trim())!==L(t.find(".original-note-content").first().text().trim())}},{key:"checkMergeRequestStatus",value:function(){"merge_requests"===Object(D.h)(1)&&gl.mrWidget&&gl.mrWidget.checkStatus()}},{key:"animateAppendNote",value:function(e,t){var i=s()(e);return i.addClass("fade-in-full").renderGFM(),t.append(i),i}},{key:"animateUpdateNote",value:function(e,t){var i=s()(e);return i.addClass("fade-in").renderGFM(),t.replaceWith(i),i}}]),e}();window.Notes=M},238:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),s=i.n(n),a=i(14),o=i.n(a),r=i(101),l=i(105);var c=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userSelect=new l.a(t),s()("select.select2").select2({width:"resolve",dropdownAutoWidth:!0}),s()(".issuable-sidebar .inline-update").on("change","select",function(){return s()(this).submit()}),s()(".issuable-sidebar .inline-update").on("change",".js-assignee",function(){return s()(this).submit()}),s()(document).off("click",".issuable-sidebar .dropdown-content a").on("click",".issuable-sidebar .dropdown-content a",function(e){return e.preventDefault()}),s()(document).off("click",".edit-link").on("click",".edit-link",function(e){e.preventDefault();var t=s()(this).parents(".block"),i=t.find(".selectbox");i.is(":visible")?(i.hide(),t.find(".value:not(.dont-hide)").show()):(i.show(),t.find(".value:not(.dont-hide)").hide()),i.is(":visible")&&setTimeout(function(){return t.find(".dropdown-menu-toggle").trigger("click")},0)}),window.addEventListener("beforeunload",function(){var e=r.a.getBreakpointSize();"xs"!==e&&"sm"!==e||o.a.set("collapsed_gutter",!0)})}},239:function(e,t,i){"use strict";var n=i(0),s=i.n(n);t.a={bind:function(e,t){s()(e).popover(t.value)},unbind:function(e){s()(e).popover("dispose")}}},241:function(e,t,i){"use strict";var n={name:"AssigneeTitle",props:{loading:{type:Boolean,required:!1,default:!1},numberOfAssignees:{type:Number,required:!0},editable:{type:Boolean,required:!0},showToggle:{type:Boolean,required:!1,default:!1}},computed:{assigneeTitle:function(){var e=this.numberOfAssignees;return e>1?"".concat(e," Assignees"):"Assignee"}}},s=i(3),a=Object(s.a)(n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title hide-collapsed"},[e._v("\n  "+e._s(e.assigneeTitle)+"\n  "),e.loading?i("i",{staticClass:"fa fa-spinner fa-spin block-loading",attrs:{"aria-hidden":"true"}}):e._e(),e._v(" "),e.editable?i("a",{staticClass:"js-sidebar-dropdown-toggle edit-link float-right",attrs:{href:"#"}},[e._v("\n    "+e._s(e.__("Edit"))+"\n  ")]):e._e(),e._v(" "),e.showToggle?i("a",{staticClass:"gutter-toggle float-right js-sidebar-toggle",attrs:{"aria-label":"Toggle sidebar",href:"#",role:"button"}},[i("i",{staticClass:"fa fa-angle-double-right",attrs:{"aria-hidden":"true","data-hidden":"true"}})]):e._e()])},[],!1,null,null,null);a.options.__file="assignee_title.vue";t.a=a.exports},242:function(e,t,i){"use strict";var n=i(20),s={directives:{GlTooltip:i(10).n},props:{endDateString:{type:String,required:!0,validator:function(e){return!Number.isNaN(new Date(e).getTime())}}},data:function(){return{remainingTime:Object(n.e)(0),countdownUpdateIntervalId:null}},mounted:function(){var e=this,t=function(){var t=Object(n.b)(e.endDateString);e.remainingTime=Object(n.e)(t)};t(),this.countdownUpdateIntervalId=window.setInterval(t,1e3)},beforeDestroy:function(){window.clearInterval(this.countdownUpdateIntervalId)}},a=i(3),o=Object(a.a)(s,function(){var e=this.$createElement;return(this._self._c||e)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{datetime:this.endDateString,title:this.endDateString}},[this._v(" "+this._s(this.remainingTime)+" ")])},[],!1,null,null,null);o.options.__file="gl_countdown.vue";t.a=o.exports},243:function(e,t,i){"use strict";var n={name:"PipelinesEmptyState",components:{GlButton:i(10).b},props:{helpPagePath:{type:String,required:!0},emptyStateSvgPath:{type:String,required:!0},canSetCi:{type:Boolean,required:!0}}},s=i(3),a=Object(s.a)(n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row empty-state js-empty-state"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"svg-content svg-250"},[i("img",{attrs:{src:e.emptyStateSvgPath}})])]),e._v(" "),i("div",{staticClass:"col-12"},[i("div",{staticClass:"text-content"},[e.canSetCi?[i("h4",{staticClass:"text-center"},[e._v(e._s(e.s__("Pipelines|Build with confidence")))]),e._v(" "),i("p",[e._v("\n          "+e._s(e.s__("Pipelines|Continuous Integration can help\n              catch bugs by running your tests automatically,\n              while Continuous Deployment can help you deliver\n              code to your product environment."))+"\n        ")]),e._v(" "),i("div",{staticClass:"text-center"},[i("gl-button",{staticClass:"js-get-started-pipelines",attrs:{href:e.helpPagePath,variant:"primary"}},[e._v("\n            "+e._s(e.s__("Pipelines|Get started with Pipelines"))+"\n          ")])],1)]:i("p",{staticClass:"text-center"},[e._v("\n        "+e._s(e.s__("Pipelines|This project is not currently set up to run pipelines."))+"\n      ")])],2)])])},[],!1,null,null,null);a.options.__file="empty_state.vue";t.a=a.exports},244:function(e,t,i){"use strict";var n=i(10),s=i(91),a=i(15),o={directives:{GlTooltip:n.n},components:{UserAvatarLink:s.a,Icon:a.a},props:{tag:{type:Boolean,required:!1,default:!1},commitRef:{type:Object,required:!1,default:function(){return{}}},commitUrl:{type:String,required:!1,default:""},shortSha:{type:String,required:!1,default:""},title:{type:String,required:!1,default:""},author:{type:Object,required:!1,default:function(){return{}}},showBranch:{type:Boolean,required:!1,default:!0}},computed:{hasCommitRef:function(){return this.commitRef&&this.commitRef.name&&this.commitRef.ref_url},hasAuthor:function(){return this.author&&this.author.avatar_url&&this.author.path&&this.author.username},userImageAltDescription:function(){return this.author&&this.author.username?"".concat(this.author.username,"'s avatar"):null}}},r=i(3),l=Object(r.a)(o,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"branch-commit"},[e.hasCommitRef&&e.showBranch?[i("div",{staticClass:"icon-container"},[e.tag?i("i",{staticClass:"fa fa-tag",attrs:{"aria-hidden":"true"}}):e._e(),e._v(" "),e.tag?e._e():i("icon",{attrs:{name:"fork"}})],1),e._v(" "),i("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"ref-name",attrs:{href:e.commitRef.ref_url,title:e.commitRef.name}},[e._v("\n      "+e._s(e.commitRef.name)+"\n    ")])]:e._e(),e._v(" "),i("icon",{staticClass:"commit-icon js-commit-icon",attrs:{name:"commit"}}),e._v(" "),i("a",{staticClass:"commit-sha",attrs:{href:e.commitUrl}},[e._v(" "+e._s(e.shortSha)+" ")]),e._v(" "),i("div",{staticClass:"commit-title flex-truncate-parent"},[e.title?i("span",{staticClass:"flex-truncate-child"},[e.hasAuthor?i("user-avatar-link",{staticClass:"avatar-image-container",attrs:{"link-href":e.author.path,"img-src":e.author.avatar_url,"img-alt":e.userImageAltDescription,"tooltip-text":e.author.username}}):e._e(),e._v(" "),i("a",{staticClass:"commit-row-message",attrs:{href:e.commitUrl}},[e._v(" "+e._s(e.title)+" ")])],1):i("span",[e._v(" Can't find HEAD commit for this branch ")])])],2)},[],!1,null,null,null);l.options.__file="commit.vue";t.a=l.exports},245:function(e,t,i){"use strict";var n=i(1),s=i(15),a=i(164),o=i(41),r=i(57),l=Object(n.a)("Notifications on"),c=Object(n.a)("Notifications off"),u={directives:{tooltip:o.a},components:{icon:s.a,toggleButton:a.a},props:{loading:{type:Boolean,required:!1,default:!1},subscribed:{type:Boolean,required:!1,default:null},id:{type:Number,required:!1,default:null}},computed:{showLoadingState:function(){return null===this.subscribed},notificationIcon:function(){return this.subscribed?"notifications":"notifications-off"},notificationTooltip:function(){return this.subscribed?l:c}},methods:{toggleSubscription:function(){r.a.$emit("toggleSubscription",this.id),this.$emit("toggleSubscription",this.id)},onClickCollapsedIcon:function(){this.$emit("toggleSidebar")}}},d=i(3),f=Object(d.a)(u,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"sidebar-collapsed-icon",on:{click:e.onClickCollapsedIcon}},[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:e.notificationTooltip,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[i("icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.notificationIcon,size:16,"aria-hidden":"true"}})],1)]),e._v(" "),i("span",{staticClass:"issuable-header-text hide-collapsed float-left"},[e._v(" "+e._s(e.__("Notifications"))+" ")]),e._v(" "),i("toggle-button",{ref:"toggleButton",staticClass:"float-right hide-collapsed js-issuable-subscribe-button",attrs:{"is-loading":e.showLoadingState,value:e.subscribed},on:{change:e.toggleSubscription}})],1)},[],!1,null,null,null);f.options.__file="subscriptions.vue";t.a=f.exports},246:function(e,t,i){"use strict";var n=i(1),s={name:"Assignees",directives:{tooltip:i(41).a},props:{rootPath:{type:String,required:!0},users:{type:Array,required:!0},editable:{type:Boolean,required:!0},issuableType:{type:String,require:!0,default:"issue"}},data:function(){return{defaultRenderCount:5,defaultMaxCounter:99,showLess:!0}},computed:{firstUser:function(){return this.users[0]},hasMoreThanTwoAssignees:function(){return this.users.length>2},hasMoreThanOneAssignee:function(){return this.users.length>1},hasAssignees:function(){return this.users.length>0},hasNoUsers:function(){return!this.users.length},hasOneUser:function(){return 1===this.users.length},renderShowMoreSection:function(){return this.users.length>this.defaultRenderCount},numberOfHiddenAssignees:function(){return this.users.length-this.defaultRenderCount},isHiddenAssignees:function(){return this.numberOfHiddenAssignees>0},hiddenAssigneesLabel:function(){return"+ ".concat(this.numberOfHiddenAssignees," more")},collapsedTooltipTitle:function(){var e=Math.min(this.defaultRenderCount,this.users.length),t=this.users.slice(0,e).map(function(e){return e.name});if(this.users.length>e&&t.push("+ ".concat(this.users.length-e," more")),!this.users.length){var i="issue"===this.issuableType?Object(n.a)("Assignee(s)"):Object(n.a)("Assignee");t.push(i)}return t.join(", ")},sidebarAvatarCounter:function(){var e="+".concat(this.users.length-1);return this.users.length>this.defaultMaxCounter&&(e="".concat(this.defaultMaxCounter,"+")),e}},methods:{assignSelf:function(){this.$emit("assign-self")},toggleShowLess:function(){this.showLess=!this.showLess},renderAssignee:function(e){return!this.showLess||e<this.defaultRenderCount&&this.showLess},avatarUrl:function(e){return e.avatar||e.avatar_url||gon.default_avatar_url},assigneeUrl:function(e){return"".concat(this.rootPath).concat(e.username)},assigneeAlt:function(e){return"".concat(e.name,"'s avatar")},assigneeUsername:function(e){return"@".concat(e.username)},shouldRenderCollapsedAssignee:function(e){var t=this.users.length<=2&&e<=2;return 0===e||t}}},a=i(3),o=Object(a.a)(s,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-user",class:{"multiple-users":e.hasMoreThanOneAssignee},attrs:{title:e.collapsedTooltipTitle,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[e.hasNoUsers?i("i",{staticClass:"fa fa-user",attrs:{"aria-label":"No Assignee"}}):e._e(),e._v(" "),e._l(e.users,function(t,n){return e.shouldRenderCollapsedAssignee(n)?i("button",{key:t.id,staticClass:"btn-link",attrs:{type:"button"}},[i("img",{staticClass:"avatar avatar-inline s24",attrs:{alt:e.assigneeAlt(t),src:e.avatarUrl(t),width:"24"}}),e._v(" "),i("span",{staticClass:"author"},[e._v(" "+e._s(t.name)+" ")])]):e._e()}),e._v(" "),e.hasMoreThanTwoAssignees?i("button",{staticClass:"btn-link",attrs:{type:"button"}},[i("span",{staticClass:"avatar-counter sidebar-avatar-counter"},[e._v(" "+e._s(e.sidebarAvatarCounter)+" ")])]):e._e()],2),e._v(" "),i("div",{staticClass:"value hide-collapsed"},[e.hasNoUsers?[i("span",{staticClass:"assign-yourself no-value"},[e._v("\n        No assignee\n        "),e.editable?[e._v("\n          - "),i("button",{staticClass:"btn-link",attrs:{type:"button"},on:{click:e.assignSelf}},[e._v("assign yourself")])]:e._e()],2)]:e.hasOneUser?[i("a",{staticClass:"author-link bold",attrs:{href:e.assigneeUrl(e.firstUser)}},[i("img",{staticClass:"avatar avatar-inline s32",attrs:{alt:e.assigneeAlt(e.firstUser),src:e.avatarUrl(e.firstUser),width:"32"}}),e._v(" "),i("span",{staticClass:"author"},[e._v(" "+e._s(e.firstUser.name)+" ")]),e._v(" "),i("span",{staticClass:"username"},[e._v(" "+e._s(e.assigneeUsername(e.firstUser))+" ")])])]:[i("div",{staticClass:"user-list"},e._l(e.users,function(t,n){return e.renderAssignee(n)?i("div",{key:t.id,staticClass:"user-item"},[i("a",{staticClass:"user-link has-tooltip",attrs:{href:e.assigneeUrl(t),"data-title":t.name,"data-container":"body","data-placement":"bottom"}},[i("img",{staticClass:"avatar avatar-inline s32",attrs:{alt:e.assigneeAlt(t),src:e.avatarUrl(t),width:"32"}})])]):e._e()}),0),e._v(" "),e.renderShowMoreSection?i("div",{staticClass:"user-list-more"},[i("button",{staticClass:"btn-link",attrs:{type:"button"},on:{click:e.toggleShowLess}},[e.showLess?[e._v("\n            "+e._s(e.hiddenAssigneesLabel)+"\n          ")]:[e._v("\n            - show less\n          ")]],2)]):e._e()]],2)])},[],!1,null,null,null);o.options.__file="assignees.vue";t.a=o.exports},261:function(e,t,i){(function(t){var i;i=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,i){var n,s,a,o,r=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1};n=function(e){return Array.prototype.slice.apply(e)},a=function(e,t){for(;e&&!e.classList.contains(t);)e=e.parentNode;return e},o=function(e,t){var i;return"function"==typeof Event?(i=new Event(e,{bubbles:!0,cancelable:!0})).detail=t:(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),i},s=function(){function e(e){var t;this.el=e,this.container=a(this.el,"js-task-list-container"),this.field=this.container.querySelector(".js-task-list-field"),this.container.addEventListener("change",(t=this,function(e){if(e.target.classList.contains("task-list-item-checkbox"))return t.updateTaskList(e.target)})),this.enable()}return e.prototype.enable=function(){var e;if(this.container.querySelectorAll(".js-task-list-field").length>0)return n(this.container.querySelectorAll(".task-list-item")).forEach(function(e){return e.classList.add("enabled")}),n(this.container.querySelectorAll(".task-list-item-checkbox")).forEach(function(e){return e.disabled=!1}),this.container.classList.add("is-task-list-enabled"),e=o("tasklist:enabled"),this.container.dispatchEvent(e)},e.prototype.disable=function(){var e;return n(this.container.querySelectorAll(".task-list-item")).forEach(function(e){return e.classList.remove("enabled")}),n(this.container.querySelectorAll(".task-list-item-checkbox")).forEach(function(e){return e.disabled=!0}),this.container.classList.remove("is-task-list-enabled"),e=o("tasklist:disabled"),this.container.dispatchEvent(e)},e.prototype.updateTaskList=function(t){var i,s,a,r;if(a=this.container.querySelectorAll(".task-list-item-checkbox"),r=1+n(a).indexOf(t),i=o("tasklist:change",{index:r,checked:t.checked}),this.field.dispatchEvent(i),!i.defaultPrevented)return this.field.value=e.updateSource(this.field.value,r,t.checked),i=o("change"),this.field.dispatchEvent(i),s=o("tasklist:changed",{index:r,checked:t.checked}),this.field.dispatchEvent(s)},e.incomplete="[ ]",e.complete="[x]",e.escapePattern=function(e){return e.replace(/([\[\]])/g,"\\$1").replace(/\s/,"\\s").replace("x","[xX]")},e.incompletePattern=RegExp(""+e.escapePattern(e.incomplete)),e.completePattern=RegExp(""+e.escapePattern(e.complete)),e.itemPattern=RegExp("^(?:\\s*(?:>\\s*)*(?:[-+*]|(?:\\d+\\.)))\\s*("+e.escapePattern(e.complete)+"|"+e.escapePattern(e.incomplete)+")\\s+(?!\\(.*?\\))(?=(?:\\[.*?\\]\\s*(?:\\[.*?\\]|\\(.*?\\))\\s*)*(?:[^\\[]|$))"),e.startFencesPattern=/^`{3}.*$/,e.endFencesPattern=/^`{3}$/,e.itemsInParasPattern=RegExp("^("+e.escapePattern(e.complete)+"|"+e.escapePattern(e.incomplete)+").+$","g"),e.updateSource=function(e,t,i){var n,s,a,o;return n=e.replace(/\r/g,"").replace(this.itemsInParasPattern,"").split("\n"),a=0,s=!1,function(){var l,c,u,d;for(d=[],l=0,c=(u=e.split("\n")).length;l<c;l++)o=u[l],s?o.match(this.endFencesPattern)&&(s=!1):o.match(this.startFencesPattern)?s=!0:r.call(n,o)>=0&&o.match(this.itemPattern)&&(a+=1)===t&&(o=i?o.replace(this.incompletePattern,this.complete):o.replace(this.completePattern,this.incomplete)),d.push(o);return d}.call(this).join("\n")},e}(),void 0!==t&&(t.fn.taskList=function(e){return this.each(function(i,n){var a;if((a=t(n).data("task-list"))||(a=new s(n),t(n).data("task-list",a),e&&"enable"!==e))return a[e||"enable"]()})}),e.exports=s}])},e.exports=i()}).call(this,i(0))},262:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(10),o=i(1),r=i(7),l=i(6),c=i(59),u=i(15),d=i(157),f=i(135),h={components:{Icon:u.a,JobItem:d.a,GlLoadingIcon:a.e},directives:{GlTooltip:a.n},props:{stage:{type:Object,required:!0},updateDropdown:{type:Boolean,required:!1,default:!1},type:{type:String,required:!1,default:""}},data:function(){return{isLoading:!1,dropdownContent:""}},computed:{dropdownClass:function(){return this.dropdownContent.length>0?"js-builds-dropdown-container":"js-builds-dropdown-loading"},triggerButtonClass:function(){return"ci-status-icon-".concat(this.stage.status.group)},borderlessIcon:function(){return"".concat(this.stage.status.icon,"_borderless")}},watch:{updateDropdown:function(){this.updateDropdown&&this.isDropdownOpen()&&!this.isLoading&&this.fetchJobs()}},updated:function(){this.dropdownContent.length>0&&this.stopDropdownClickPropagation()},methods:{onClickStage:function(){this.isDropdownOpen()||(c.a.$emit("clickedDropdown"),this.isLoading=!0,this.fetchJobs())},fetchJobs:function(){var e=this;l.a.get(this.stage.dropdown_path).then(function(t){var i=t.data;e.dropdownContent=i.latest_statuses,e.isLoading=!1}).catch(function(){e.closeDropdown(),e.isLoading=!1,Object(r.a)(Object(o.a)("Something went wrong on our end."))})},stopDropdownClickPropagation:function(){s()(".js-builds-dropdown-list button, .js-builds-dropdown-list a.mini-pipeline-graph-dropdown-item",this.$el).on("click",function(e){e.stopPropagation()})},closeDropdown:function(){this.isDropdownOpen()&&s()(this.$refs.dropdown).dropdown("toggle")},isDropdownOpen:function(){return this.$el.classList.contains("open")},pipelineActionRequestComplete:function(){this.type===f.b?c.a.$emit("refreshPipelinesTable"):s()(this.$refs.dropdown).dropdown("toggle")}}},p=i(3),m=Object(p.a)(h,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown"},[i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],ref:"dropdown",staticClass:"mini-pipeline-graph-dropdown-toggle js-builds-dropdown-button",class:e.triggerButtonClass,attrs:{id:"stageDropdown",title:e.stage.title,"data-toggle":"dropdown","data-display":"static",type:"button","aria-haspopup":"true","aria-expanded":"false"},on:{click:e.onClickStage}},[i("span",{staticClass:"no-pointer-events",attrs:{"aria-label":e.stage.title,"aria-hidden":"true"}},[i("icon",{attrs:{name:e.borderlessIcon}})],1),e._v(" "),i("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}})]),e._v(" "),i("div",{staticClass:"dropdown-menu mini-pipeline-graph-dropdown-menu js-builds-dropdown-container",attrs:{"aria-labelledby":"stageDropdown"}},[e.isLoading?i("gl-loading-icon"):i("ul",{staticClass:"js-builds-dropdown-list scrollable-menu"},e._l(e.dropdownContent,function(t){return i("li",{key:t.id},[i("job-item",{attrs:{"dropdown-length":e.dropdownContent.length,job:t,"css-class-job-name":"mini-pipeline-graph-dropdown-item"},on:{pipelineActionRequestComplete:e.pipelineActionRequestComplete}})],1)}),0)],1)])},[],!1,null,null,null);m.options.__file="stage.vue";t.a=m.exports},263:function(e,t,i){"use strict";var n=i(7),s=i(1);t.a={computed:{discussionResolved:function(){if(this.discussion){var e=this.discussion,t=e.notes,i=e.resolved;return t?t.filter(function(e){return!e.system}).every(function(e){return e.resolved}):i}return this.note.resolved},resolveButtonTitle:function(){return this.updatedNoteBody?this.discussionResolved?Object(s.a)("Comment & unresolve discussion"):Object(s.a)("Comment & resolve discussion"):this.discussionResolved?Object(s.a)("Unresolve discussion"):Object(s.a)("Resolve discussion")}},methods:{resolveHandler:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isResolving=!0;var i=this.discussionResolved||t,a=this.resolveAsThread,o=a?this.discussion.resolve_path:"".concat(this.note.path,"/resolve");return this.toggleResolveNote({endpoint:o,isResolved:i,discussion:a}).then(function(){e.isResolving=!1}).catch(function(){e.isResolving=!1;var t=Object(s.a)("Something went wrong while resolving this discussion. Please try again.");Object(n.a)(t,"alert",e.$el)})}}}},264:function(e,t,i){"use strict";var n=i(19),s=i(18),a=i(131),o=i(339),r=i(305),l=i(335),c=i(263);function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){d(e,t,i[t])})}return e}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var f={name:"NoteForm",components:{issueWarning:o.a,markdownField:r.a},mixins:[l.a,c.a],props:{noteBody:{type:String,required:!1,default:""},noteId:{type:[String,Number],required:!1,default:""},markdownVersion:{type:Number,required:!1,default:0},saveButtonTitle:{type:String,required:!1,default:"Save comment"},discussion:{type:Object,required:!1,default:function(){return{}}},isEditing:{type:Boolean,required:!0},lineCode:{type:String,required:!1,default:""},resolveDiscussion:{type:Boolean,required:!1,default:!1},line:{type:Object,required:!1,default:null},note:{type:Object,required:!1,default:null},helpPagePath:{type:String,required:!1,default:""}},data:function(){return{updatedNoteBody:this.noteBody,conflictWhileEditing:!1,isSubmitting:!1,isResolving:this.resolveDiscussion,isUnresolving:!this.resolveDiscussion,resolveAsThread:!0}},computed:u({},Object(s.c)(["getDiscussionLastNote","getNoteableData","getNoteableDataByProp","getNotesDataByProp","getUserDataByProp"]),{noteHash:function(){return this.noteId?"#note_".concat(this.noteId):"#"},markdownPreviewPath:function(){var e=this.getNoteableDataByProp("preview_note_path");return Object(n.c)({preview_suggestions:!0},e)},markdownDocsPath:function(){return this.getNotesDataByProp("markdownDocsPath")},quickActionsDocsPath:function(){return this.isEditing?void 0:this.getNotesDataByProp("quickActionsDocsPath")},currentUserId:function(){return this.getUserDataByProp("id")},isDisabled:function(){return!this.updatedNoteBody.length||this.isSubmitting},discussionNote:function(){var e=this.discussion.id?this.getDiscussionLastNote(this.discussion):this.note;return e||{}},canSuggest:function(){return this.getNoteableData.can_receive_suggestion&&this.line&&this.line.can_receive_suggestion}}),watch:{noteBody:function(){this.updatedNoteBody===this.noteBody?this.updatedNoteBody=this.noteBody:this.conflictWhileEditing=!0}},mounted:function(){this.$refs.textarea.focus()},methods:u({},Object(s.b)(["toggleResolveNote"]),{shouldToggleResolved:function(e,t){var i=this.shouldBeResolved&&this.shouldBeResolved(e);return e||void 0!==i&&t!==i},handleKeySubmit:function(){this.handleUpdate()},handleUpdate:function(e){var t=this,i=this.discussionResolved;this.isSubmitting=!0,this.$emit("handleFormUpdate",this.updatedNoteBody,this.$refs.editNoteForm,function(){t.isSubmitting=!1,t.shouldToggleResolved(e,i)&&t.resolveHandler(i)})},editMyLastNote:function(){if(""===this.updatedNoteBody){var e=this.getDiscussionLastNote(this.discussion);e&&a.a.$emit("enterEditMode",{noteId:e.id})}},cancelHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("cancelForm",e,this.noteBody!==this.updatedNoteBody)}})},h=i(3),p=Object(h.a)(f,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"editNoteForm",staticClass:"note-edit-form current-note-edit-form js-discussion-note-form"},[e.conflictWhileEditing?i("div",{staticClass:"js-conflict-edit-warning alert alert-danger"},[e._v("\n    This comment has changed since you started editing, please review the\n    "),i("a",{attrs:{href:e.noteHash,target:"_blank",rel:"noopener noreferrer"}},[e._v("updated comment")]),e._v(" to ensure\n    information is not lost.\n  ")]):e._e(),e._v(" "),i("div",{staticClass:"flash-container timeline-content"}),e._v(" "),i("form",{staticClass:"edit-note common-note-form js-quick-submit gfm-form",attrs:{"data-line-code":e.lineCode}},[e.hasWarning(e.getNoteableData)?i("issue-warning",{attrs:{"is-locked":e.isLocked(e.getNoteableData),"is-confidential":e.isConfidential(e.getNoteableData)}}):e._e(),e._v(" "),i("markdown-field",{attrs:{"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"markdown-version":e.markdownVersion,"quick-actions-docs-path":e.quickActionsDocsPath,line:e.line,note:e.discussionNote,"can-suggest":e.canSuggest,"add-spacing-classes":!1,"help-page-path":e.helpPagePath}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.updatedNoteBody,expression:"updatedNoteBody"}],ref:"textarea",staticClass:"note-textarea js-gfm-input js-note-text js-autosize markdown-area js-vue-issue-note-form js-vue-textarea qa-reply-input",attrs:{slot:"textarea",id:"note_note","data-supports-quick-actions":!e.isEditing,name:"note[note]","aria-label":"Description",placeholder:"Write a comment or drag your files here…"},domProps:{value:e.updatedNoteBody},on:{keydown:[function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter"))&&t.metaKey?void e.handleKeySubmit():null},function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter"))&&t.ctrlKey?void e.handleKeySubmit():null},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;e.editMyLastNote()},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.cancelHandler(!0)}],input:function(t){t.target.composing||(e.updatedNoteBody=t.target.value)}},slot:"textarea"})]),e._v(" "),i("div",{staticClass:"note-form-actions clearfix"},[i("button",{staticClass:"js-vue-issue-save btn btn-success js-comment-button qa-reply-comment-button",attrs:{disabled:e.isDisabled,type:"button"},on:{click:function(t){e.handleUpdate()}}},[e._v("\n        "+e._s(e.saveButtonTitle)+"\n      ")]),e._v(" "),e.discussion.resolvable?i("button",{staticClass:"btn btn-nr btn-default append-right-10 js-comment-resolve-button",on:{click:function(t){t.preventDefault(),e.handleUpdate(!0)}}},[e._v("\n        "+e._s(e.resolveButtonTitle)+"\n      ")]):e._e(),e._v(" "),i("button",{staticClass:"btn btn-cancel note-edit-cancel js-close-discussion-note-form",attrs:{type:"button"},on:{click:function(t){e.cancelHandler()}}},[e._v("\n        Cancel\n      ")])])],1)])},[],!1,null,null,null);p.options.__file="note_form.vue";t.a=p.exports},265:function(e,t,i){"use strict";var n=i(18);function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a={components:{timeAgoTooltip:i(93).a},props:{author:{type:Object,required:!1,default:function(){return{}}},createdAt:{type:String,required:!1,default:null},actionText:{type:String,required:!1,default:""},noteId:{type:[String,Number],required:!1,default:null},includeToggle:{type:Boolean,required:!1,default:!1},expanded:{type:Boolean,required:!1,default:!0}},computed:{toggleChevronClass:function(){return this.expanded?"fa-chevron-up":"fa-chevron-down"},noteTimestampLink:function(){return"#note_".concat(this.noteId)},hasAuthor:function(){return this.author&&Object.keys(this.author).length}},methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){s(e,t,i[t])})}return e}({},Object(n.b)(["setTargetNoteHash"]),{handleToggle:function(){this.$emit("toggleHandler")},updateTargetNoteHash:function(){this.setTargetNoteHash(this.noteTimestampLink)}})},o=i(3),r=Object(o.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"note-header-info"},[e.includeToggle?i("div",{staticClass:"discussion-actions"},[i("button",{staticClass:"note-action-button discussion-toggle-button js-vue-toggle-button",attrs:{type:"button"},on:{click:e.handleToggle}},[i("i",{staticClass:"fa",class:e.toggleChevronClass,attrs:{"aria-hidden":"true"}}),e._v("\n      "+e._s(e.__("Toggle discussion"))+"\n    ")])]):e._e(),e._v(" "),e.hasAuthor?e._m(0):i("span",[e._v(" "+e._s(e.__("A deleted user"))+" ")]),e._v(" "),i("span",{staticClass:"note-headline-light"},[i("span",{staticClass:"note-headline-meta"},[i("span",{staticClass:"system-note-message"},[e._t("default")],2),e._v(" "),e.createdAt?[i("span",{staticClass:"system-note-separator"},[e.actionText?[e._v("\n            "+e._s(e.actionText)+"\n          ")]:e._e()],2),e._v(" "),i("a",{staticClass:"note-timestamp system-note-separator",attrs:{href:e.noteTimestampLink},on:{click:e.updateTargetNoteHash}},[i("time-ago-tooltip",{attrs:{time:e.createdAt,"tooltip-placement":"bottom"}})],1)]:e._e(),e._v(" "),i("i",{staticClass:"fa fa-spinner fa-spin editing-spinner",attrs:{"aria-label":"Comment is being updated","aria-hidden":"true"}})],2)])])},[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{staticClass:"js-user-link",attrs:{href:e.author.path,"data-user-id":e.author.id,"data-username":e.author.username}},[i("span",{staticClass:"note-header-author-name"},[e._v(e._s(e.author.name))]),e._v(" "),e.author.status_tooltip_html?i("span",{domProps:{innerHTML:e._s(e.author.status_tooltip_html)}}):e._e(),e._v(" "),i("span",{staticClass:"note-headline-light"},[e._v(" @"+e._s(e.author.username)+" ")])])}],!1,null,null,null);r.options.__file="note_header.vue";t.a=r.exports},266:function(e,t,i){"use strict";var n=i(10),s=i(15),a=i(51),o=i(1),r=i(307),l={components:{Icon:s.a},directives:{GlTooltip:n.n},props:{file:{type:Object,required:!0},showTooltip:{type:Boolean,required:!1,default:!1},showStagedIcon:{type:Boolean,required:!1,default:!1},forceModifiedIcon:{type:Boolean,required:!1,default:!1},size:{type:Number,required:!1,default:12}},computed:{changedIcon:function(){var e=this.file.changed||!this.file.staged||this.showStagedIcon?"":"-solid";return this.forceModifiedIcon?"file-modified".concat(e):"".concat(Object(r.b)(this.file).icon).concat(e)},changedIconClass:function(){return"".concat(this.changedIcon," float-left d-block")},tooltipTitle:function(){if(this.showTooltip){var e=this.file.tempFile?"addition":"modification";return this.file.changed&&!this.file.staged?Object(o.f)(Object(o.a)("Unstaged %{type}"),{type:e}):!this.file.changed&&this.file.staged?Object(o.f)(Object(o.a)("Staged %{type}"),{type:e}):this.file.changed&&this.file.staged?Object(o.f)(Object(o.a)("Unstaged and staged %{type}"),{type:Object(a.i)(e)}):void 0}},showIcon:function(){return this.file.changed||this.file.tempFile||this.file.staged||this.file.deleted}}},c=(i(601),i(3)),u=Object(c.a)(l,function(){var e=this.$createElement,t=this._self._c||e;return t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.right",modifiers:{right:!0}}],staticClass:"file-changed-icon ml-auto",attrs:{title:this.tooltipTitle}},[this.showIcon?t("icon",{attrs:{name:this.changedIcon,size:this.size,"css-classes":this.changedIconClass}}):this._e()],1)},[],!1,null,null,null);u.options.__file="changed_file_icon.vue";t.a=u.exports},27:function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(2),s=i.n(n),a=i(4),o=i(43);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=l(this,c(t).call(this)),s.a.bind("g p",function(){return Object(a.a)(".shortcuts-project")}),s.a.bind("g v",function(){return Object(a.a)(".shortcuts-project-activity")}),s.a.bind("g r",function(){return Object(a.a)(".shortcuts-project-releases")}),s.a.bind("g f",function(){return Object(a.a)(".shortcuts-tree")}),s.a.bind("g c",function(){return Object(a.a)(".shortcuts-commits")}),s.a.bind("g j",function(){return Object(a.a)(".shortcuts-builds")}),s.a.bind("g n",function(){return Object(a.a)(".shortcuts-network")}),s.a.bind("g d",function(){return Object(a.a)(".shortcuts-repository-charts")}),s.a.bind("g i",function(){return Object(a.a)(".shortcuts-issues")}),s.a.bind("g b",function(){return Object(a.a)(".shortcuts-issue-boards")}),s.a.bind("g m",function(){return Object(a.a)(".shortcuts-merge_requests")}),s.a.bind("g w",function(){return Object(a.a)(".shortcuts-wiki")}),s.a.bind("g s",function(){return Object(a.a)(".shortcuts-snippets")}),s.a.bind("g k",function(){return Object(a.a)(".shortcuts-kubernetes")}),s.a.bind("g e",function(){return Object(a.a)(".shortcuts-environments")}),s.a.bind("g l",function(){return Object(a.a)(".shortcuts-metrics")}),s.a.bind("i",function(){return Object(a.a)(".shortcuts-new-issue")}),e.enabledHelp.push(".hidden-shortcut.project"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["a"]),t}()},274:function(e,t,i){"use strict";var n=i(5),s=i.n(n),a={directives:{tooltip:i(41).a},props:{title:{type:String,required:!1,default:""},placement:{type:String,required:!1,default:"top"},truncateTarget:{type:[String,Function],required:!1,default:""}},data:function(){return{showTooltip:!1}},mounted:function(){var e=this.selectTarget();e&&e.scrollWidth>e.offsetWidth&&(this.showTooltip=!0)},methods:{selectTarget:function(){return s.a.isFunction(this.truncateTarget)?this.truncateTarget(this.$el):"child"===this.truncateTarget?this.$el.childNodes[0]:this.$el}}},o=i(3),r=Object(o.a)(a,function(){var e=this.$createElement,t=this._self._c||e;return this.showTooltip?t("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-show-tooltip",attrs:{title:this.title,"data-placement":this.placement}},[this._t("default")],2):t("span",[this._t("default")],2)},[],!1,null,null,null);r.options.__file="tooltip_on_truncate.vue";t.a=r.exports},28:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(12),o=i(31);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=s()(t),this.newItemBtn=s()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,i,n;return t=e,(i=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",function(t){return e.openDropdown(t)}),this.newItemBtn.on("click",function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))}),this.projectSelectInput.on("change",function(){return e.selectProject()})}},{key:"initLocalStorage",value:function(){o.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){s()(e.currentTarget).siblings(".project-item-select").select2("open")}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&r(t.prototype,i),n&&r(t,n),e}();function c(){s()(".ajax-project-select").each(function(e,t){var i,n,o=s()(t).data("simpleFilter")||!1;return this.groupId=s()(t).data("groupId"),this.includeGroups=s()(t).data("includeGroups"),this.allProjects=s()(t).data("allProjects")||!1,this.orderBy=s()(t).data("orderBy")||"id",this.withIssuesEnabled=s()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=s()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===s()(t).data("withShared")||s()(t).data("withShared"),this.includeProjectsInSubgroups=s()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=s()(t).data("allowClear")||!1,i="Search for project",this.includeGroups&&(i+=" or group"),s()(t).select2({placeholder:i,minimumInputLength:0,query:(n=this,function(e){var t,i;return t=function(t){var i;return i={results:t},e.callback(i)},i=n.includeGroups?function(i){var n;return n=function(e){var n;return n=e.concat(i),t(n)},a.a.groups(e.term,{},n)}:t,n.groupId?a.a.groupProjects(n.groupId,e.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups},i):a.a.projects(e.term,{order_by:n.orderBy,with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,membership:!n.allProjects},i)}),id:function(e){return o?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return a.a.project(e.val()).then(function(e){var i=e.data;return t(i)})},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),o?t:new l(t)})}i.d(t,"a",function(){return c})},29:function(e,t,i){"use strict";i.d(t,"a",function(){return h});var n=i(0),s=i.n(n),a=i(14),o=i.n(a),r=i(1),l=i(19),c=i(6),u=i(7),d=i(28);function f(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=s()("ul.clone-options-dropdown"),i=s()("#project_clone"),n=s()(".js-git-clone-holder .js-clone-dropdown-label"),a=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),r=n.text().trim();r.length>0&&s()("a:contains('".concat(r,"')"),t).addClass("is-active"),s()("a",t).on("click",function(e){e.preventDefault();var n=s()(e.currentTarget),o=n.attr("href"),r=n.data("cloneType");s()(".is-active",t).removeClass("is-active"),s()('a[data-clone-type="'.concat(r,'"]')).each(function(){var e=s()(this),t=e.find(".dropdown-menu-inner-title").text(),i=e.closest(".project-clone-holder").find(".js-clone-dropdown-label");e.toggleClass("is-active"),i.text(t)}),a?a.dataset.clipboardText=o:i.val(o),s()(".js-git-empty .js-clone").text(o)}),e.initRefSwitcher(),s()(".project-refs-select").on("change",function(){return s()(this).parents("form").submit()}),s()(".hide-no-ssh-message").on("click",function(e){return o.a.set("hide_no_ssh_message","false"),s()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()}),s()(".hide-no-password-message").on("click",function(e){return o.a.set("hide_no_password_message","false"),s()(this).parents(".no-password-message").remove(),e.preventDefault()}),s()(".hide-auto-devops-implicitly-enabled-banner").on("click",function(e){var t=s()(this).data("project-id"),i="hide_auto_devops_implicitly_enabled_banner_".concat(t);return o.a.set(i,"false"),s()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()}),e.projectSelectDropdown()}var t,i,n;return t=e,n=[{key:"projectSelectDropdown",value:function(){Object(d.a)(),s()(".project-item-select").on("click",function(t){return e.changeProject(s()(t.currentTarget).val())})}},{key:"changeProject",value:function(e){return window.location=e}},{key:"initRefSwitcher",value:function(){var e=document.createElement("li"),t=document.createElement("a");return t.href="#",s()(".js-project-refs-dropdown").each(function(){var i,n;return i=s()(this),n=i.data("selected"),i.glDropdown({data:function(e,t){c.a.get(i.data("refsUrl"),{params:{ref:i.data("ref"),search:e}}).then(function(e){var i=e.data;return t(i)}).catch(function(){return Object(u.a)(Object(r.a)("An error occurred while getting projects"))})},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:i.data("inputFieldName"),fieldName:i.data("fieldName"),renderRow:function(i){var s=e.cloneNode(!1);if(null!=i.header)s.className="dropdown-header",s.textContent=i.header;else{var a=t.cloneNode(!1);i===n&&(a.className="is-active"),a.textContent=i,a.dataset.ref=i,s.appendChild(a)}return s},id:function(e,t){return t.attr("data-ref")},toggleLabel:function(e,t){return t.text().trim()},clicked:function(e){if(e.e.preventDefault(),s()('input[name="ref"]').length){var t=i.closest("form"),n=i.data("visit"),a=!!n||n,o=t.attr("action"),r=-1===o.indexOf("?")?"?":"&";a&&Object(l.g)("".concat(o).concat(r).concat(t.serialize()))}}})})}}],(i=null)&&f(t.prototype,i),n&&f(t,n),e}()},291:function(e,t,i){"use strict";var n=i(0),s=i.n(n);function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o={openButtons:[],forkButtons:[],cancelButtons:[],suggestionSections:[],actionTextPieces:[]},r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elementMap=Object.assign({},o,t),this.onOpenButtonClick=this.onOpenButtonClick.bind(this),this.onCancelButtonClick=this.onCancelButtonClick.bind(this)}var t,i,n;return t=e,(i=[{key:"init",value:function(){return this.bindEvents(),this}},{key:"bindEvents",value:function(){s()(this.elementMap.openButtons).on("click",this.onOpenButtonClick),s()(this.elementMap.cancelButtons).on("click",this.onCancelButtonClick)}},{key:"showSuggestionSection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"edit";s()(this.elementMap.suggestionSections).removeClass("hidden"),s()(this.elementMap.forkButtons).attr("href",e),s()(this.elementMap.actionTextPieces).text(t)}},{key:"hideSuggestionSection",value:function(){s()(this.elementMap.suggestionSections).addClass("hidden")}},{key:"onOpenButtonClick",value:function(e){var t=s()(e.currentTarget).attr("data-fork-path"),i=s()(e.currentTarget).attr("data-action");this.showSuggestionSection(t,i)}},{key:"onCancelButtonClick",value:function(){this.hideSuggestionSection()}},{key:"destroy",value:function(){s()(this.elementMap.openButtons).off("click",this.onOpenButtonClick),s()(this.elementMap.cancelButtons).off("click",this.onCancelButtonClick)}}])&&a(t.prototype,i),n&&a(t,n),e}();t.a=r},292:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(6);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),-1===t.indexOf(".json")?this.endpoint="".concat(t,".json"):this.endpoint=t}var t,i,a;return t=e,(i=[{key:"getPipelines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scope,i=e.page,s=n.a.CancelToken;return this.cancelationSource=s.source(),n.a.get(this.endpoint,{params:{scope:t,page:i},cancelToken:this.cancelationSource.token})}},{key:"postAction",value:function(e){return n.a.post("".concat(e,".json"))}}])&&s(t.prototype,i),a&&s(t,a),e}()},293:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(13);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state={},this.state.pipelines=[],this.state.count={},this.state.pageInfo={}}var t,i,a;return t=e,(i=[{key:"storePipelines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.state.pipelines=e}},{key:"storeCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.count=e}},{key:"storePagination",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object.keys(t).length){var i=Object(n.y)(t);e=Object(n.B)(i)}else e=t;this.state.pageInfo=e}}])&&s(t.prototype,i),a&&s(t,a),e}()},294:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g fill="#8F8F8F" fill-rule="evenodd"><path d="M29.513 10.134A15.922 15.922 0 0 0 23 7.28V6h2.993C26.55 6 27 5.552 27 5V2a1 1 0 0 0-1.007-1H14.007C13.45 1 13 1.448 13 2v3a1 1 0 0 0 1.007 1H17v1.28C9.597 8.686 4 15.19 4 23c0 8.837 7.163 16 16 16s16-7.163 16-16c0-3.461-1.099-6.665-2.967-9.283l1.327-1.58a2.498 2.498 0 0 0-.303-3.53 2.499 2.499 0 0 0-3.528.315l-1.016 1.212zM20 34c6.075 0 11-4.925 11-11s-4.925-11-11-11S9 16.925 9 23s4.925 11 11 11z"/><path d="M19 21h-4.002c-.552 0-.998.452-.998 1.01v1.98c0 .567.447 1.01.998 1.01h7.004c.274 0 .521-.111.701-.291a.979.979 0 0 0 .297-.704v-8.01c0-.54-.452-.995-1.01-.995h-1.98a.997.997 0 0 0-1.01.995V21z"/></g></svg>\n'},295:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(160);t.a=function(e){Object(a.b)(document.querySelector(".js-diff-files-changed"),e),s()(".js-diff-stats-dropdown").glDropdown({filterable:!0,remoteFilter:!1})}},298:function(e,t,i){"use strict";var n=i(69),s=i.n(n),a=i(10),o=i(1),r=i(7),l=i(96),c=i(243),u={name:"PipelinesSvgState",props:{svgPath:{type:String,required:!0},message:{type:String,required:!0}}},d=i(3),f=Object(d.a)(u,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row empty-state"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"svg-content"},[t("img",{attrs:{src:this.svgPath}})])]),this._v(" "),t("div",{staticClass:"col-12 text-center"},[t("div",{staticClass:"text-content"},[t("h4",[this._v(this._s(this.message))])])])])},[],!1,null,null,null);f.options.__file="blank_state.vue";var h=f.exports,p=i(106),m=i(59),g=i(242),v=i(15),b={directives:{GlTooltip:a.n},components:{Icon:v.a,GlCountdown:g.a,GlButton:a.b,GlLoadingIcon:a.e},props:{actions:{type:Array,required:!0}},data:function(){return{isLoading:!1}},methods:{onClickAction:function(e){if(e.scheduled_at){var t=Object(o.f)(Object(o.e)("DelayedJobs|Are you sure you want to run %{jobName} immediately? Otherwise this job will run automatically after it's timer finishes."),{jobName:e.name});if(!window.confirm(t))return}this.isLoading=!0,m.a.$emit("postAction",e.path)},isActionDisabled:function(e){return void 0!==e.playable&&!e.playable}}},_=Object(d.a)(b,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"btn-group"},[i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"dropdown-new btn btn-default js-pipeline-dropdown-manual-actions",attrs:{disabled:e.isLoading,title:"Manual job","data-toggle":"dropdown","aria-label":"Manual job"}},[i("icon",{staticClass:"icon-play",attrs:{name:"play"}}),e._v(" "),i("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}}),e._v(" "),e.isLoading?i("gl-loading-icon"):e._e()],1),e._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},e._l(e.actions,function(t){return i("li",{key:t.path},[i("gl-button",{staticClass:"js-pipeline-action-link no-btn btn",class:{disabled:e.isActionDisabled(t)},attrs:{disabled:e.isActionDisabled(t)},on:{click:function(i){e.onClickAction(t)}}},[e._v("\n        "+e._s(t.name)+"\n        "),t.scheduled_at?i("span",{staticClass:"pull-right"},[i("icon",{attrs:{name:"clock"}}),e._v(" "),i("gl-countdown",{attrs:{"end-date-string":t.scheduled_at}})],1):e._e()])],1)}),0)],1)},[],!1,null,null,null);_.options.__file="pipelines_actions.vue";var y=_.exports,w={directives:{GlTooltip:a.n},components:{Icon:v.a,GlLink:a.d,GlButton:a.b},props:{artifacts:{type:Array,required:!0}}},C=Object(d.a)(w,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"btn-group",attrs:{role:"group"}},[i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"dropdown-toggle build-artifacts js-pipeline-dropdown-download",attrs:{title:"Artifacts","data-toggle":"dropdown","aria-label":"Artifacts"}},[i("icon",{attrs:{name:"download"}}),e._v(" "),i("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}})],1),e._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},e._l(e.artifacts,function(t,n){return i("li",{key:n},[i("gl-link",{attrs:{href:t.path,rel:"nofollow",download:""}},[e._v("\n        Download "+e._s(t.name)+" artifacts\n      ")])],1)}),0)],1)},[],!1,null,null,null);C.options.__file="pipelines_artifacts.vue";var k=C.exports,j=i(205),S=i(262),O=i(5),x=i.n(O),D=i(91),T=i(239),E=Object(o.f)(x.a.escape(Object(o.a)("This pipeline makes use of a predefined CI/CD configuration enabled by %{strongStart}Auto DevOps.%{strongEnd}")),{strongStart:"<b>",strongEnd:"</b>"},!1),P={components:{UserAvatarLink:D.a,GlLink:a.d},directives:{GlTooltip:a.n,popover:T.a},props:{pipeline:{type:Object,required:!0},autoDevopsHelpPath:{type:String,required:!0}},computed:{user:function(){return this.pipeline.user},popoverOptions:function(){return{html:!0,trigger:"focus",placement:"top",title:'<div class="autodevops-title">\n            '.concat(E,"\n          </div>"),content:'<a\n            class="autodevops-link"\n            href="'.concat(this.autoDevopsHelpPath,'"\n            target="_blank"\n            rel="noopener noreferrer nofollow">\n            ').concat(x.a.escape(Object(o.a)("Learn more about Auto DevOps")),"\n          </a>")}}}},I=Object(d.a)(P,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"table-section section-15 d-none d-sm-none d-md-block pipeline-tags"},[i("gl-link",{staticClass:"js-pipeline-url-link",attrs:{href:e.pipeline.path}},[i("span",{staticClass:"pipeline-id"},[e._v("#"+e._s(e.pipeline.id))])]),e._v(" "),i("span",[e._v("by")]),e._v(" "),e.user?i("user-avatar-link",{staticClass:"js-pipeline-url-user",attrs:{"link-href":e.user.path,"img-src":e.user.avatar_url,"tooltip-text":e.user.name}}):e._e(),e._v(" "),e.user?e._e():i("span",{staticClass:"js-pipeline-url-api api"},[e._v(" API ")]),e._v(" "),i("div",{staticClass:"label-container"},[e.pipeline.flags.latest?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-url-latest badge badge-success",attrs:{title:e.__("Latest pipeline for this branch")}},[e._v("\n      "+e._s(e.__("latest"))+"\n    ")]):e._e(),e._v(" "),e.pipeline.flags.yaml_errors?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-url-yaml badge badge-danger",attrs:{title:e.pipeline.yaml_errors}},[e._v("\n      "+e._s(e.__("yaml invalid"))+"\n    ")]):e._e(),e._v(" "),e.pipeline.flags.failure_reason?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-url-failure badge badge-danger",attrs:{title:e.pipeline.failure_reason}},[e._v("\n      "+e._s(e.__("error"))+"\n    ")]):e._e(),e._v(" "),e.pipeline.flags.auto_devops?i("gl-link",{directives:[{name:"popover",rawName:"v-popover",value:e.popoverOptions,expression:"popoverOptions"}],staticClass:"js-pipeline-url-autodevops badge badge-info autodevops-badge",attrs:{tabindex:"0",role:"button"}},[e._v("\n      Auto DevOps\n    ")]):e._e(),e._v(" "),e.pipeline.flags.stuck?i("span",{staticClass:"js-pipeline-url-stuck badge badge-warning"},[e._v("\n      "+e._s(e.__("stuck"))+"\n    ")]):e._e(),e._v(" "),e.pipeline.flags.merge_request?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-pipeline-url-mergerequest badge badge-info",attrs:{title:e.__("This pipeline is run in a merge request context")}},[e._v("\n      "+e._s(e.__("merge request"))+"\n    ")]):e._e()],1)],1)},[],!1,null,null,null);I.options.__file="pipeline_url.vue";var N=I.exports,L=i(294),q=i.n(L),M=(i(20),i(41)),A=i(84),F={directives:{tooltip:M.a},mixins:[A.a],props:{finishedTime:{type:String,required:!0},duration:{type:Number,required:!0}},data:function(){return{iconTimerSvg:q.a}},computed:{hasDuration:function(){return this.duration>0},hasFinishedTime:function(){return""!==this.finishedTime},durationFormated:function(){var e=new Date(1e3*this.duration),t=e.getUTCHours(),i=e.getUTCMinutes(),n=e.getSeconds();return t<10&&(t="0".concat(t)),i<10&&(i="0".concat(i)),n<10&&(n="0".concat(n)),"".concat(t,":").concat(i,":").concat(n)}}},B=Object(d.a)(F,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"table-section section-15 pipelines-time-ago"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("Pipeline|Duration")))]),e._v(" "),i("div",{staticClass:"table-mobile-content"},[e.hasDuration?i("p",{staticClass:"duration"},[i("span",{domProps:{innerHTML:e._s(e.iconTimerSvg)}}),e._v(" "+e._s(e.durationFormated)+"\n    ")]):e._e(),e._v(" "),e.hasFinishedTime?i("p",{staticClass:"finished-at d-none d-sm-none d-md-block"},[i("i",{staticClass:"fa fa-calendar",attrs:{"aria-hidden":"true"}}),e._v(" "),i("time",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:e.tooltipTitle(e.finishedTime),"data-placement":"top","data-container":"body"}},[e._v("\n        "+e._s(e.timeFormated(e.finishedTime))+"\n      ")])]):e._e()])])},[],!1,null,null,null);B.options.__file="time_ago.vue";var R=B.exports,$=i(244),H=i(108),U=i(135);function W(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var V={components:{PipelinesActionsComponent:y,PipelinesArtifactsComponent:k,CommitComponent:$.a,PipelineStage:S.a,PipelineUrl:N,CiBadge:j.a,PipelinesTimeago:R,LoadingButton:H.a,Icon:v.a},props:{pipeline:{type:Object,required:!0},updateGraphDropdown:{type:Boolean,required:!1,default:!1},autoDevopsHelpPath:{type:String,required:!0},viewType:{type:String,required:!0},cancelingPipeline:{type:Number,required:!1,default:null}},pipelinesTable:U.b,data:function(){return{isRetrying:!1}},computed:{actions:function(){if(!this.pipeline||!this.pipeline.details)return[];var e=this.pipeline.details;return W(e.manual_actions||[]).concat(W(e.scheduled_actions||[]))},commitAuthor:function(){var e;return this.pipeline&&this.pipeline.commit?(this.pipeline.commit.author?this.pipeline.commit.author.avatar_url?e=this.pipeline.commit.author:this.pipeline.commit.author_gravatar_url&&(e=Object.assign({},this.pipeline.commit.author,{avatar_url:this.pipeline.commit.author_gravatar_url})):e={avatar_url:this.pipeline.commit.author_gravatar_url,path:"mailto:".concat(this.pipeline.commit.author_email),username:this.pipeline.commit.author_name},e):null},commitTag:function(){if(this.pipeline.ref&&this.pipeline.ref.tag)return this.pipeline.ref.tag},commitRef:function(){var e=this;if(this.pipeline.ref)return Object.keys(this.pipeline.ref).reduce(function(t,i){return"path"===i?t.ref_url=e.pipeline.ref[i]:t[i]=e.pipeline.ref[i],t},{})},commitUrl:function(){if(this.pipeline.commit&&this.pipeline.commit.commit_path)return this.pipeline.commit.commit_path},commitShortSha:function(){if(this.pipeline.commit&&this.pipeline.commit.short_id)return this.pipeline.commit.short_id},commitTitle:function(){if(this.pipeline.commit&&this.pipeline.commit.title)return this.pipeline.commit.title},pipelineDuration:function(){return this.pipeline.details&&this.pipeline.details.duration?this.pipeline.details.duration:0},pipelineFinishedAt:function(){return this.pipeline.details&&this.pipeline.details.finished_at?this.pipeline.details.finished_at:""},pipelineStatus:function(){return this.pipeline.details&&this.pipeline.details.status?this.pipeline.details.status:{}},displayPipelineActions:function(){return this.pipeline.flags.retryable||this.pipeline.flags.cancelable||this.pipeline.details.manual_actions.length||this.pipeline.details.artifacts.length},isChildView:function(){return"child"===this.viewType},isCancelling:function(){return this.cancelingPipeline===this.pipeline.id}},methods:{handleCancelClick:function(){m.a.$emit("openConfirmationModal",{pipelineId:this.pipeline.id,endpoint:this.pipeline.cancel_path})},handleRetryClick:function(){this.isRetrying=!0,m.a.$emit("retryPipeline",this.pipeline.retry_path)}}},z=Object(d.a)(V,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"commit gl-responsive-table-row"},[i("div",{staticClass:"table-section section-10 commit-link"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("Pipeline|Status")))]),e._v(" "),i("div",{staticClass:"table-mobile-content"},[i("ci-badge",{attrs:{status:e.pipelineStatus,"show-text":!e.isChildView}})],1)]),e._v(" "),i("pipeline-url",{attrs:{pipeline:e.pipeline,"auto-devops-help-path":e.autoDevopsHelpPath}}),e._v(" "),i("div",{staticClass:"table-section section-20"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("Pipeline|Commit")))]),e._v(" "),i("div",{staticClass:"table-mobile-content"},[i("commit-component",{attrs:{tag:e.commitTag,"commit-ref":e.commitRef,"commit-url":e.commitUrl,"short-sha":e.commitShortSha,title:e.commitTitle,author:e.commitAuthor,"show-branch":!e.isChildView}})],1)]),e._v(" "),i("div",{staticClass:"table-section section-wrap section-20 stage-cell"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.s__("Pipeline|Stages")))]),e._v(" "),i("div",{staticClass:"table-mobile-content"},[e.pipeline.details.stages.length>0?e._l(e.pipeline.details.stages,function(t,n){return i("div",{key:n,staticClass:"stage-container dropdown js-mini-pipeline-graph"},[i("pipeline-stage",{attrs:{type:e.$options.pipelinesTable,stage:t,"update-dropdown":e.updateGraphDropdown}})],1)}):e._e()],2)]),e._v(" "),i("pipelines-timeago",{attrs:{duration:e.pipelineDuration,"finished-time":e.pipelineFinishedAt}}),e._v(" "),e.displayPipelineActions?i("div",{staticClass:"table-section section-20 table-button-footer pipeline-actions"},[i("div",{staticClass:"btn-group table-action-buttons"},[e.actions.length>0?i("pipelines-actions-component",{attrs:{actions:e.actions}}):e._e(),e._v(" "),e.pipeline.details.artifacts.length?i("pipelines-artifacts-component",{staticClass:"d-md-block",attrs:{artifacts:e.pipeline.details.artifacts}}):e._e(),e._v(" "),e.pipeline.flags.retryable?i("loading-button",{attrs:{loading:e.isRetrying,disabled:e.isRetrying,"container-class":"js-pipelines-retry-button btn btn-default btn-retry"},on:{click:e.handleRetryClick}},[i("icon",{attrs:{name:"repeat"}})],1):e._e(),e._v(" "),e.pipeline.flags.cancelable?i("loading-button",{attrs:{loading:e.isCancelling,disabled:e.isCancelling,"data-toggle":"modal","data-target":"#confirmation-modal","container-class":"js-pipelines-cancel-button btn btn-remove"},on:{click:e.handleCancelClick}},[i("icon",{attrs:{name:"close"}})],1):e._e()],1)]):e._e()],1)},[],!1,null,null,null);z.options.__file="pipelines_table_row.vue";var G={components:{PipelinesTableRowComponent:z.exports,Modal:p.a},props:{pipelines:{type:Array,required:!0},updateGraphDropdown:{type:Boolean,required:!1,default:!1},autoDevopsHelpPath:{type:String,required:!0},viewType:{type:String,required:!0}},data:function(){return{pipelineId:0,endpoint:"",cancelingPipeline:null}},computed:{modalTitle:function(){return Object(o.f)(Object(o.e)("Pipeline|Stop pipeline #%{pipelineId}?"),{pipelineId:"".concat(this.pipelineId)},!1)},modalText:function(){return Object(o.f)(Object(o.e)("Pipeline|You’re about to stop pipeline %{pipelineId}."),{pipelineId:"<strong>#".concat(this.pipelineId,"</strong>")},!1)}},created:function(){m.a.$on("openConfirmationModal",this.setModalData)},beforeDestroy:function(){m.a.$off("openConfirmationModal",this.setModalData)},methods:{setModalData:function(e){this.pipelineId=e.pipelineId,this.endpoint=e.endpoint},onSubmit:function(){m.a.$emit("postAction",this.endpoint),this.cancelingPipeline=this.pipelineId}}},Y=Object(d.a)(G,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ci-table"},[i("div",{staticClass:"gl-responsive-table-row table-row-header",attrs:{role:"row"}},[i("div",{staticClass:"table-section section-10 js-pipeline-status pipeline-status",attrs:{role:"rowheader"}},[e._v("\n      "+e._s(e.s__("Pipeline|Status"))+"\n    ")]),e._v(" "),i("div",{staticClass:"table-section section-15 js-pipeline-info pipeline-info",attrs:{role:"rowheader"}},[e._v("\n      "+e._s(e.s__("Pipeline|Pipeline"))+"\n    ")]),e._v(" "),i("div",{staticClass:"table-section section-20 js-pipeline-commit pipeline-commit",attrs:{role:"rowheader"}},[e._v("\n      "+e._s(e.s__("Pipeline|Commit"))+"\n    ")]),e._v(" "),i("div",{staticClass:"table-section section-20 js-pipeline-stages pipeline-stages",attrs:{role:"rowheader"}},[e._v("\n      "+e._s(e.s__("Pipeline|Stages"))+"\n    ")])]),e._v(" "),e._l(e.pipelines,function(t){return i("pipelines-table-row-component",{key:t.id,attrs:{pipeline:t,"update-graph-dropdown":e.updateGraphDropdown,"auto-devops-help-path":e.autoDevopsHelpPath,"view-type":e.viewType,"canceling-pipeline":e.cancelingPipeline}})}),e._v(" "),i("modal",{attrs:{id:"confirmation-modal","header-title-text":e.modalTitle,"footer-primary-button-text":e.s__("Pipeline|Stop pipeline"),"footer-primary-button-variant":"danger"},on:{submit:e.onSubmit}},[i("span",{domProps:{innerHTML:e._s(e.modalText)}})])],2)},[],!1,null,null,null);Y.options.__file="pipelines_table.vue";var J=Y.exports;t.a={components:{PipelinesTableComponent:J,SvgBlankState:h,EmptyState:c.a,GlLoadingIcon:a.e},data:function(){return{isLoading:!1,hasError:!1,isMakingRequest:!1,updateGraphDropdown:!1,hasMadeRequest:!1}},computed:{shouldRenderPagination:function(){return!this.isLoading&&this.state.pipelines.length&&this.state.pageInfo.total>this.state.pageInfo.perPage}},beforeMount:function(){var e=this;this.poll=new l.a({resource:this.service,method:"getPipelines",data:this.requestData?this.requestData:void 0,successCallback:this.successCallback,errorCallback:this.errorCallback,notificationCallback:this.setIsMakingRequest}),s.a.hidden()?this.fetchPipelines():(this.isLoading=!0,this.poll.makeRequest()),s.a.change(function(){s.a.hidden()?e.poll.stop():e.poll.restart()}),m.a.$on("postAction",this.postAction),m.a.$on("retryPipeline",this.postAction),m.a.$on("clickedDropdown",this.updateTable),m.a.$on("refreshPipelinesTable",this.fetchPipelines)},beforeDestroy:function(){m.a.$off("postAction",this.postAction),m.a.$off("retryPipeline",this.postAction),m.a.$off("clickedDropdown",this.updateTable),m.a.$off("refreshPipelinesTable",this.fetchPipelines)},destroyed:function(){this.poll.stop()},methods:{updateContent:function(e){var t=this;return this.updateInternalState(e),this.service.getPipelines(this.requestData).then(function(e){t.isLoading=!1,t.successCallback(e),t.poll.restart({data:t.requestData})}).catch(function(){t.isLoading=!1,t.errorCallback(),t.poll.restart({data:t.requestData})})},updateTable:function(){var e=this;return this.isMakingRequest&&this.service.cancelationSource.cancel(U.a),this.poll.stop(),this.getPipelines().then(function(){return e.poll.restart()})},fetchPipelines:function(){this.isMakingRequest||(this.isLoading=!0,this.getPipelines())},getPipelines:function(){var e=this;return this.service.getPipelines(this.requestData).then(function(t){return e.successCallback(t)}).catch(function(t){return e.errorCallback(t)})},setCommonData:function(e){this.store.storePipelines(e),this.isLoading=!1,this.updateGraphDropdown=!0,this.hasMadeRequest=!0,this.hasError&&(this.hasError=!1)},errorCallback:function(e){this.hasMadeRequest=!0,this.isLoading=!1,e&&e.message&&e.message!==U.a&&(this.hasError=!0,this.updateGraphDropdown=!1)},setIsMakingRequest:function(e){this.isMakingRequest=e,e&&(this.updateGraphDropdown=!1)},postAction:function(e){var t=this;this.service.postAction(e).then(function(){return t.fetchPipelines()}).catch(function(){return Object(r.a)(Object(o.a)("An error occurred while making the request."))})}}}},299:function(e,t,i){"use strict";var n=i(1),s={name:"TimeTrackingHelpState",props:{rootPath:{type:String,required:!0}},computed:{href:function(){return"".concat(this.rootPath,"help/workflow/time_tracking.md")},estimateText:function(){return Object(n.f)(Object(n.e)("estimateCommand|%{slash_command} will update the estimated time with the latest command."),{slash_command:"<code>/estimate</code>"},!1)},spendText:function(){return Object(n.f)(Object(n.e)("spendCommand|%{slash_command} will update the sum of the time spent."),{slash_command:"<code>/spend</code>"},!1)}}},a=i(3),o=Object(a.a)(s,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"time-tracking-help-state"},[i("div",{staticClass:"time-tracking-info"},[i("h4",[e._v(e._s(e.__("Track time with quick actions")))]),e._v(" "),i("p",[e._v(e._s(e.__("Quick actions can be used in the issues description and comment boxes.")))]),e._v(" "),i("p",{domProps:{innerHTML:e._s(e.estimateText)}}),e._v(" "),i("p",{domProps:{innerHTML:e._s(e.spendText)}}),e._v(" "),i("a",{staticClass:"btn btn-default learn-more-button",attrs:{href:e.href}},[e._v(" "+e._s(e.__("Learn more"))+" ")])])])},[],!1,null,null,null);o.options.__file="help_state.vue";var r=o.exports,l=i(20),c=i(15),u=i(41),d={name:"TimeTrackingCollapsedState",components:{icon:c.a},directives:{tooltip:u.a},props:{showComparisonState:{type:Boolean,required:!0},showSpentOnlyState:{type:Boolean,required:!0},showEstimateOnlyState:{type:Boolean,required:!0},showNoTimeTrackingState:{type:Boolean,required:!0},timeSpentHumanReadable:{type:String,required:!1,default:""},timeEstimateHumanReadable:{type:String,required:!1,default:""}},computed:{timeSpent:function(){return this.abbreviateTime(this.timeSpentHumanReadable)},timeEstimate:function(){return this.abbreviateTime(this.timeEstimateHumanReadable)},divClass:function(){return this.showComparisonState?"compare":this.showEstimateOnlyState?"estimate-only":this.showSpentOnlyState?"spend-only":this.showNoTimeTrackingState?"no-tracking":""},spanClass:function(){return this.showComparisonState?"":this.showEstimateOnlyState||this.showSpentOnlyState?"bold":this.showNoTimeTrackingState?"no-value":""},text:function(){return this.showComparisonState?"".concat(this.timeSpent," / ").concat(this.timeEstimate):this.showEstimateOnlyState?"-- / ".concat(this.timeEstimate):this.showSpentOnlyState?"".concat(this.timeSpent," / --"):this.showNoTimeTrackingState?"None":""},timeTrackedTooltipText:function(){var e;return this.showComparisonState?e=Object(n.a)("Time remaining"):this.showEstimateOnlyState?e=Object(n.a)("Estimated"):this.showSpentOnlyState&&(e=Object(n.a)("Time spent")),Object(n.f)("%{title}: %{text}",{title:e,text:this.text})},tooltipText:function(){return this.showNoTimeTrackingState?Object(n.a)("Time tracking"):this.timeTrackedTooltipText}},methods:{abbreviateTime:function(e){return Object(l.a)(e)}}},f=Object(a.a)(d,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:this.tooltipText,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[t("icon",{attrs:{name:"timer"}}),this._v(" "),t("div",{staticClass:"time-tracking-collapsed-summary"},[t("div",{class:this.divClass},[t("span",{class:this.spanClass},[this._v(" "+this._s(this.text)+" ")])])])],1)},[],!1,null,null,null);f.options.__file="collapsed_state.vue";var h=f.exports,p={name:"TimeTrackingSpentOnlyPane",props:{timeSpentHumanReadable:{type:String,required:!0}}},m=Object(a.a)(p,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"time-tracking-spend-only-pane"},[t("span",{staticClass:"bold"},[this._v("Spent:")]),this._v(" "+this._s(this.timeSpentHumanReadable)+"\n")])},[],!1,null,null,null);m.options.__file="spent_only_pane.vue";var g=m.exports,v={name:"TimeTrackingNoTrackingPane"},b=Object(a.a)(v,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"time-tracking-no-tracking-pane"},[t("span",{staticClass:"no-value"},[this._v(" "+this._s(this.__("No estimate or time spent"))+" ")])])},[],!1,null,null,null);b.options.__file="no_tracking_pane.vue";var _=b.exports,y={name:"TimeTrackingEstimateOnlyPane",props:{timeEstimateHumanReadable:{type:String,required:!0}}},w=Object(a.a)(y,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"time-tracking-estimate-only-pane"},[t("span",{staticClass:"bold"},[this._v(" "+this._s(this.s__("TimeTracking|Estimated:"))+" ")]),this._v(" "+this._s(this.timeEstimateHumanReadable)+"\n")])},[],!1,null,null,null);w.options.__file="estimate_only_pane.vue";var C=w.exports,k={name:"TimeTrackingComparisonPane",components:{GlProgressBar:i(10).j},directives:{tooltip:u.a},props:{timeSpent:{type:Number,required:!0},timeEstimate:{type:Number,required:!0},timeSpentHumanReadable:{type:String,required:!0},timeEstimateHumanReadable:{type:String,required:!0}},computed:{parsedTimeRemaining:function(){var e=this.timeEstimate-this.timeSpent;return Object(l.k)(e)},timeRemainingHumanReadable:function(){return Object(l.m)(this.parsedTimeRemaining)},timeRemainingTooltip:function(){var e=this.timeRemainingMinutes<0?"Over by":"Time remaining:";return"".concat(e," ").concat(this.timeRemainingHumanReadable)},timeRemainingMinutes:function(){return this.timeEstimate-this.timeSpent},timeRemainingPercent:function(){return Math.floor(this.timeSpent/this.timeEstimate*100)},timeRemainingStatusClass:function(){return this.timeEstimate>=this.timeSpent?"within_estimate":"over_estimate"},progressBarVariant:function(){return this.timeRemainingPercent>100?"danger":"primary"}}},j=Object(a.a)(k,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"time-tracking-comparison-pane"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"compare-meter",class:e.timeRemainingStatusClass,attrs:{title:e.timeRemainingTooltip,"data-toggle":"tooltip","data-placement":"top",role:"timeRemainingDisplay"}},[i("gl-progress-bar",{attrs:{value:e.timeRemainingPercent,variant:e.progressBarVariant}}),e._v(" "),i("div",{staticClass:"compare-display-container"},[i("div",{staticClass:"compare-display float-left"},[i("span",{staticClass:"compare-label"},[e._v(" "+e._s(e.s__("TimeTracking|Spent"))+" ")]),e._v(" "),i("span",{staticClass:"compare-value spent"},[e._v(" "+e._s(e.timeSpentHumanReadable)+" ")])]),e._v(" "),i("div",{staticClass:"compare-display estimated float-right"},[i("span",{staticClass:"compare-label"},[e._v(" "+e._s(e.s__("TimeTrackingEstimated|Est"))+" ")]),e._v(" "),i("span",{staticClass:"compare-value"},[e._v(" "+e._s(e.timeEstimateHumanReadable)+" ")])])])],1)])},[],!1,null,null,null);j.options.__file="comparison_pane.vue";var S=j.exports,O=i(57),x={name:"IssuableTimeTracker",components:{TimeTrackingCollapsedState:h,TimeTrackingEstimateOnlyPane:C,TimeTrackingSpentOnlyPane:g,TimeTrackingNoTrackingPane:_,TimeTrackingComparisonPane:S,TimeTrackingHelpState:r},props:{timeEstimate:{type:Number,required:!0},timeSpent:{type:Number,required:!0},humanTimeEstimate:{type:String,required:!1,default:""},humanTimeSpent:{type:String,required:!1,default:""},rootPath:{type:String,required:!0}},data:function(){return{showHelp:!1}},computed:{hasTimeSpent:function(){return!!this.timeSpent},hasTimeEstimate:function(){return!!this.timeEstimate},showComparisonState:function(){return this.hasTimeEstimate&&this.hasTimeSpent},showEstimateOnlyState:function(){return this.hasTimeEstimate&&!this.hasTimeSpent},showSpentOnlyState:function(){return this.hasTimeSpent&&!this.hasTimeEstimate},showNoTimeTrackingState:function(){return!this.hasTimeEstimate&&!this.hasTimeSpent},showHelpState:function(){return!!this.showHelp}},created:function(){O.a.$on("timeTracker:updateData",this.update)},methods:{toggleHelpState:function(e){this.showHelp=e},update:function(e){var t=e.timeEstimate,i=e.timeSpent,n=e.humanTimeEstimate,s=e.humanTimeSpent;this.timeEstimate=t,this.timeSpent=i,this.humanTimeEstimate=n,this.humanTimeSpent=s}}},D=Object(a.a)(x,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"time_tracker time-tracking-component-wrap"},[i("time-tracking-collapsed-state",{attrs:{"show-comparison-state":e.showComparisonState,"show-no-time-tracking-state":e.showNoTimeTrackingState,"show-help-state":e.showHelpState,"show-spent-only-state":e.showSpentOnlyState,"show-estimate-only-state":e.showEstimateOnlyState,"time-spent-human-readable":e.humanTimeSpent,"time-estimate-human-readable":e.humanTimeEstimate}}),e._v(" "),i("div",{staticClass:"title hide-collapsed"},[e._v("\n    "+e._s(e.__("Time tracking"))+"\n    "),e.showHelpState?e._e():i("div",{staticClass:"help-button float-right",on:{click:function(t){e.toggleHelpState(!0)}}},[i("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true"}})]),e._v(" "),e.showHelpState?i("div",{staticClass:"close-help-button float-right",on:{click:function(t){e.toggleHelpState(!1)}}},[i("i",{staticClass:"fa fa-close",attrs:{"aria-hidden":"true"}})]):e._e()]),e._v(" "),i("div",{staticClass:"time-tracking-content hide-collapsed"},[e.showEstimateOnlyState?i("time-tracking-estimate-only-pane",{attrs:{"time-estimate-human-readable":e.humanTimeEstimate}}):e._e(),e._v(" "),e.showSpentOnlyState?i("time-tracking-spent-only-pane",{attrs:{"time-spent-human-readable":e.humanTimeSpent}}):e._e(),e._v(" "),e.showNoTimeTrackingState?i("time-tracking-no-tracking-pane"):e._e(),e._v(" "),e.showComparisonState?i("time-tracking-comparison-pane",{attrs:{"time-estimate":e.timeEstimate,"time-spent":e.timeSpent,"time-spent-human-readable":e.humanTimeSpent,"time-estimate-human-readable":e.humanTimeEstimate}}):e._e(),e._v(" "),i("transition",{attrs:{name:"help-state-toggle"}},[e.showHelpState?i("time-tracking-help-state",{attrs:{"root-path":e.rootPath}}):e._e()],1)],1)],1)},[],!1,null,null,null);D.options.__file="time_tracker.vue";t.a=D.exports},304:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(109),o=i(51);t.a={methods:{initAutoSave:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=["Note",Object(o.b)(e.noteable_type||e.noteableType),e.id];t&&(i=i.concat(t)),this.autosave=new a.a(s()(this.$refs.noteForm.$refs.textarea),i)},resetAutoSave:function(){this.autosave.reset()},setAutoSave:function(){this.autosave.save()},disposeAutoSave:function(){this.autosave.dispose()}}}},305:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(5),o=i.n(a),r=i(1),l=i(51),c=i(7),u=i(79),d=i(10),f=i(15),h={components:{Icon:f.a},directives:{GlTooltip:d.n},props:{buttonTitle:{type:String,required:!0},icon:{type:String,required:!0},tag:{type:String,required:!0},tagBlock:{type:String,required:!1,default:""},tagSelect:{type:String,required:!1,default:""},prepend:{type:Boolean,required:!1,default:!1},tagContent:{type:String,required:!1,default:""},cursorOffset:{type:Number,required:!1,default:0}}},p=i(3),m=Object(p.a)(h,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"toolbar-btn js-md",attrs:{"data-md-tag":e.tag,"data-md-cursor-offset":e.cursorOffset,"data-md-select":e.tagSelect,"data-md-block":e.tagBlock,"data-md-tag-content":e.tagContent,"data-md-prepend":e.prepend,title:e.buttonTitle,"aria-label":e.buttonTitle,type:"button",tabindex:"-1","data-container":"body"}},[i("icon",{attrs:{name:e.icon}})],1)},[],!1,null,null,null);m.options.__file="toolbar_button.vue";var g={components:{ToolbarButton:m.exports,Icon:f.a},directives:{GlTooltip:d.n},props:{previewMarkdown:{type:Boolean,required:!0},lineContent:{type:String,required:!1,default:""},canSuggest:{type:Boolean,required:!1,default:!0}},computed:{mdTable:function(){return["| header | header |","| ------ | ------ |","| cell | cell |","| cell | cell |"].join("\n")},mdSuggestion:function(){return["```suggestion","{text}","```"].join("\n")}},mounted:function(){s()(document).on("markdown-preview:show.vue",this.previewMarkdownTab),s()(document).on("markdown-preview:hide.vue",this.writeMarkdownTab)},beforeDestroy:function(){s()(document).off("markdown-preview:show.vue",this.previewMarkdownTab),s()(document).off("markdown-preview:hide.vue",this.writeMarkdownTab)},methods:{isValid:function(e){return!e||e.find(".js-vue-markdown-field").length&&s()(this.$el).closest("form")[0]===e[0]},previewMarkdownTab:function(e,t){e.target.blur&&e.target.blur(),this.isValid(t)&&this.$emit("preview-markdown")},writeMarkdownTab:function(e,t){e.target.blur&&e.target.blur(),this.isValid(t)&&this.$emit("write-markdown")}}},v=Object(p.a)(g,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"md-header"},[i("ul",{staticClass:"nav-links clearfix"},[i("li",{staticClass:"md-header-tab",class:{active:!e.previewMarkdown}},[i("button",{staticClass:"js-write-link",attrs:{tabindex:"-1",type:"button"},on:{click:function(t){e.writeMarkdownTab(t)}}},[e._v("\n        Write\n      ")])]),e._v(" "),i("li",{staticClass:"md-header-tab",class:{active:e.previewMarkdown}},[i("button",{staticClass:"js-preview-link js-md-preview-button",attrs:{tabindex:"-1",type:"button"},on:{click:function(t){e.previewMarkdownTab(t)}}},[e._v("\n        Preview\n      ")])]),e._v(" "),i("li",{staticClass:"md-header-toolbar",class:{active:!e.previewMarkdown}},[i("toolbar-button",{attrs:{tag:"**","button-title":"Add bold text",icon:"bold"}}),e._v(" "),i("toolbar-button",{attrs:{tag:"*","button-title":"Add italic text",icon:"italic"}}),e._v(" "),i("toolbar-button",{attrs:{prepend:!0,tag:"> ","button-title":"Insert a quote",icon:"quote"}}),e._v(" "),i("toolbar-button",{attrs:{tag:"`","tag-block":"```","button-title":"Insert code",icon:"code"}}),e._v(" "),i("toolbar-button",{attrs:{tag:"[{text}](url)","tag-select":"url","button-title":"Add a link",icon:"link"}}),e._v(" "),i("toolbar-button",{attrs:{prepend:!0,tag:"* ","button-title":"Add a bullet list",icon:"list-bulleted"}}),e._v(" "),i("toolbar-button",{attrs:{prepend:!0,tag:"1. ","button-title":"Add a numbered list",icon:"list-numbered"}}),e._v(" "),i("toolbar-button",{attrs:{prepend:!0,tag:"* [ ] ","button-title":"Add a task list",icon:"task-done"}}),e._v(" "),i("toolbar-button",{attrs:{tag:e.mdTable,prepend:!0,"button-title":e.__("Add a table"),icon:"table"}}),e._v(" "),e.canSuggest?i("toolbar-button",{staticClass:"qa-suggestion-btn",attrs:{tag:e.mdSuggestion,prepend:!0,"button-title":e.__("Insert suggestion"),"cursor-offset":4,"tag-content":e.lineContent,icon:"doc-code"}}):e._e(),e._v(" "),i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"toolbar-btn toolbar-fullscreen-btn js-zen-enter",attrs:{"aria-label":"Go full screen","data-container":"body",tabindex:"-1",title:"Go full screen",type:"button"}},[i("icon",{attrs:{name:"screen-full"}})],1)],1)])])},[],!1,null,null,null);v.options.__file="header.vue";var b=v.exports,_={components:{GlLink:d.d},props:{markdownDocsPath:{type:String,required:!0},quickActionsDocsPath:{type:String,required:!1,default:""},canAttachFile:{type:Boolean,required:!1,default:!0}},computed:{hasQuickActionsDocsPath:function(){return""!==this.quickActionsDocsPath}}},y=Object(p.a)(_,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comment-toolbar clearfix"},[i("div",{staticClass:"toolbar-text"},[!e.hasQuickActionsDocsPath&&e.markdownDocsPath?[i("gl-link",{attrs:{href:e.markdownDocsPath,target:"_blank",tabindex:"-1"}},[e._v("\n        Markdown is supported\n      ")])]:e._e(),e._v(" "),e.hasQuickActionsDocsPath&&e.markdownDocsPath?[i("gl-link",{attrs:{href:e.markdownDocsPath,target:"_blank",tabindex:"-1"}},[e._v(" Markdown ")]),e._v("\n      and\n      "),i("gl-link",{attrs:{href:e.quickActionsDocsPath,target:"_blank",tabindex:"-1"}},[e._v("\n        quick actions\n      ")]),e._v("\n      are supported\n    ")]:e._e()],2),e._v(" "),e.canAttachFile?i("span",{staticClass:"uploading-container"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),i("button",{staticClass:"btn btn-default btn-sm hide button-cancel-uploading-files",attrs:{type:"button"}},[e._v("\n      Cancel\n    ")])]):e._e()])},[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"uploading-progress-container hide"},[t("i",{staticClass:"fa fa-file-image-o toolbar-button-icon",attrs:{"aria-hidden":"true"}}),this._v(" "),t("span",{staticClass:"attaching-file-message"}),this._v(" "),t("span",{staticClass:"uploading-progress"},[this._v("0%")]),this._v(" "),t("span",{staticClass:"uploading-spinner"},[t("i",{staticClass:"fa fa-spinner fa-spin toolbar-button-icon",attrs:{"aria-hidden":"true"}})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"uploading-error-container hide"},[t("span",{staticClass:"uploading-error-icon"},[t("i",{staticClass:"fa fa-file-image-o toolbar-button-icon",attrs:{"aria-hidden":"true"}})]),this._v(" "),t("span",{staticClass:"uploading-error-message"}),this._v(" "),t("button",{staticClass:"retry-uploading-link",attrs:{type:"button"}},[this._v("Try again")]),this._v(" or\n      "),t("button",{staticClass:"attach-new-file markdown-selector",attrs:{type:"button"}},[this._v("attach a new file")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"markdown-selector button-attach-file",attrs:{tabindex:"-1",type:"button"}},[t("i",{staticClass:"fa fa-file-image-o toolbar-button-icon",attrs:{"aria-hidden":"true"}}),this._v(" Attach a file\n    ")])}],!1,null,null,null);y.options.__file="toolbar.vue";var w=y.exports,C=i(337);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j={components:{markdownHeader:b,markdownToolbar:w,icon:f.a,Suggestions:C.a},props:{markdownPreviewPath:{type:String,required:!1,default:""},markdownDocsPath:{type:String,required:!0},markdownVersion:{type:Number,required:!1,default:0},addSpacingClasses:{type:Boolean,required:!1,default:!0},quickActionsDocsPath:{type:String,required:!1,default:""},canAttachFile:{type:Boolean,required:!1,default:!0},enableAutocomplete:{type:Boolean,required:!1,default:!0},line:{type:Object,required:!1,default:null},note:{type:Object,required:!1,default:function(){return{}}},canSuggest:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},data:function(){return{markdownPreview:"",referencedCommands:"",referencedUsers:"",hasSuggestion:!1,markdownPreviewLoading:!1,previewMarkdown:!1}},computed:{shouldShowReferencedUsers:function(){return this.referencedUsers.length>=10},lineContent:function(){var e=k(this.suggestions,1)[0];if(e)return e.from_content;if(this.line){var t=this.line,i=t.rich_text,n=t.text;return n||o.a.unescape(Object(l.l)(i).replace(/\n/g,""))}return""},lineNumber:function(){var e;if(this.line){var t=this.line,i=t.new_line,n=t.old_line;e=i||n}return e},suggestions:function(){return this.note.suggestions||[]},lineType:function(){return this.line?this.line.type:""}},mounted:function(){return new u.a(s()(this.$refs["gl-form"]),{emojis:this.enableAutocomplete,members:this.enableAutocomplete,issues:this.enableAutocomplete,mergeRequests:this.enableAutocomplete,epics:this.enableAutocomplete,milestones:this.enableAutocomplete,labels:this.enableAutocomplete,snippets:this.enableAutocomplete})},beforeDestroy:function(){var e=s()(this.$refs["gl-form"]).data("glForm");e&&e.destroy()},methods:{showPreviewTab:function(){var e=this;if(!this.previewMarkdown){this.previewMarkdown=!0;var t=this.$slots.textarea[0].elm.value;t?(this.markdownPreviewLoading=!0,this.markdownPreview=Object(r.a)("Loading…"),this.$http.post(this.versionedPreviewPath(),{text:t}).then(function(e){return e.json()}).then(function(t){return e.renderMarkdown(t)}).catch(function(){return new c.a(Object(r.a)("Error loading markdown preview"))})):this.renderMarkdown()}},showWriteTab:function(){this.markdownPreview="",this.previewMarkdown=!1},renderMarkdown:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.markdownPreviewLoading=!1,this.markdownPreview=t.body||"Nothing to preview.",t.references&&(this.referencedCommands=t.references.commands,this.referencedUsers=t.references.users,this.hasSuggestion=t.references.suggestions&&t.references.suggestions.length),this.$nextTick(function(){s()(e.$refs["markdown-preview"]).renderGFM()})},versionedPreviewPath:function(){var e=this.markdownPreviewPath,t=this.markdownVersion;return"".concat(e).concat(-1===e.indexOf("?")?"?":"&","markdown_version=").concat(t)}}},S=Object(p.a)(j,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"gl-form",staticClass:"md-area js-vue-markdown-field",class:{"prepend-top-default append-bottom-default":e.addSpacingClasses}},[i("markdown-header",{attrs:{"preview-markdown":e.previewMarkdown,"line-content":e.lineContent,"can-suggest":e.canSuggest},on:{"preview-markdown":e.showPreviewTab,"write-markdown":e.showWriteTab}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],staticClass:"md-write-holder"},[i("div",{staticClass:"zen-backdrop"},[e._t("textarea"),e._v(" "),i("a",{staticClass:"zen-control zen-control-leave js-zen-leave",attrs:{href:"#","aria-label":"Enter zen mode"}},[i("icon",{attrs:{size:32,name:"screen-normal"}})],1),e._v(" "),i("markdown-toolbar",{attrs:{"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,"can-attach-file":e.canAttachFile}})],2)]),e._v(" "),e.hasSuggestion?[i("div",{directives:[{name:"show",rawName:"v-show",value:e.previewMarkdown,expression:"previewMarkdown"}],ref:"markdown-preview",staticClass:"md-preview js-vue-md-preview md md-preview-holder"},[e.hasSuggestion?i("suggestions",{attrs:{"note-html":e.markdownPreview,"from-line":e.lineNumber,"from-content":e.lineContent,"line-type":e.lineType,disabled:!0,suggestions:e.suggestions,"help-page-path":e.helpPagePath}}):e._e()],1)]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.previewMarkdown,expression:"previewMarkdown"}],ref:"markdown-preview",staticClass:"md-preview js-vue-md-preview md md-preview-holder",domProps:{innerHTML:e._s(e.markdownPreview)}})],e._v(" "),e.previewMarkdown&&!e.markdownPreviewLoading?[e.referencedCommands?i("div",{staticClass:"referenced-commands",domProps:{innerHTML:e._s(e.referencedCommands)}}):e._e(),e._v(" "),e.shouldShowReferencedUsers?i("div",{staticClass:"referenced-users"},[i("span",[i("i",{staticClass:"fa fa-exclamation-triangle",attrs:{"aria-hidden":"true"}}),e._v(" You are about to add\n        "),i("strong",[i("span",{staticClass:"js-referenced-users-count"},[e._v(e._s(e.referencedUsers.length))])]),e._v("\n        people to the discussion. Proceed with caution.\n      ")])]):e._e()]:e._e()],2)},[],!1,null,null,null);S.options.__file="field.vue";t.a=S.exports},306:function(e,t,i){"use strict";var n=i(10),s=i(15),a=i(148),o={components:{GlLink:n.d,Icon:s.a},props:{path:{type:String,required:!0},fileSize:{type:Number,required:!1,default:0}},computed:{fileSizeReadable:function(){return Object(a.c)(this.fileSize)},fileName:function(){return this.path.split("/").pop()}}},r=i(3),l=Object(r.a)(o,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"file-container"},[i("div",{staticClass:"file-content"},[i("p",{staticClass:"prepend-top-10 file-info"},[e._v("\n      "+e._s(e.fileName)+"\n      "),e.fileSize>0?[e._v("\n        ("+e._s(e.fileSizeReadable)+")\n      ")]:e._e()],2),e._v(" "),i("gl-link",{staticClass:"btn btn-default",attrs:{href:e.path,rel:"nofollow",download:"",target:"_blank"}},[i("icon",{attrs:{size:16,name:"download","css-classes":"float-left append-right-8"}}),e._v("\n      "+e._s(e.__("Download"))+"\n    ")],1)],1)])},[],!1,null,null,null);l.options.__file="download_viewer.vue";t.a=l.exports},307:function(e,t,i){"use strict";i.d(t,"b",function(){return s}),i.d(t,"a",function(){return a});var n=i(52),s=function(e){return e.deleted?n.h.deleted:e.tempFile?n.h.addition:n.h.modified},a=function(e){var t=e.lastIndexOf(".")>=0?e.substring(e.lastIndexOf(".")+1):"";return"".concat(e.substring(1,e.lastIndexOf(".")+1||e.length)).concat(t||".js")}},309:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(18),o=i(5),r=i(145),l=i(7),c=i(91),u=i(265),d=i(15),f=i(10);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var p={name:"NoteActions",components:{Icon:d.a,GlLoadingIcon:f.e},directives:{GlTooltip:f.n},props:{authorId:{type:Number,required:!0},noteId:{type:[String,Number],required:!0},noteUrl:{type:String,required:!1,default:""},accessLevel:{type:String,required:!1,default:""},reportAbusePath:{type:String,required:!1,default:null},canEdit:{type:Boolean,required:!0},canAwardEmoji:{type:Boolean,required:!0},canDelete:{type:Boolean,required:!0},canResolve:{type:Boolean,required:!1,default:!1},resolvable:{type:Boolean,required:!1,default:!1},isResolved:{type:Boolean,required:!1,default:!1},isResolving:{type:Boolean,required:!1,default:!1},resolvedBy:{type:Object,required:!1,default:function(){return{}}},canReportAsAbuse:{type:Boolean,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){h(e,t,i[t])})}return e}({},Object(a.c)(["getUserDataByProp"]),{shouldShowActionsDropdown:function(){return this.currentUserId&&(this.canEdit||this.canReportAsAbuse)},showDeleteAction:function(){return this.canDelete&&!this.canReportAsAbuse&&!this.noteUrl},isAuthoredByCurrentUser:function(){return this.authorId===this.currentUserId},currentUserId:function(){return this.getUserDataByProp("id")},resolveButtonTitle:function(){var e="Mark as resolved";return this.resolvedBy&&(e="Resolved by ".concat(this.resolvedBy.name)),e}}),methods:{onEdit:function(){this.$emit("handleEdit")},onDelete:function(){this.$emit("handleDelete")},onResolve:function(){this.$emit("handleResolve")}}},m=i(3),g=Object(m.a)(p,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"note-actions"},[e.accessLevel?i("span",{staticClass:"note-role user-access-role"},[e._v(e._s(e.accessLevel))]):e._e(),e._v(" "),e.canResolve?i("div",{staticClass:"note-actions-item"},[i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"line-resolve-btn note-action-button",class:{"is-disabled":!e.resolvable,"is-active":e.isResolved},attrs:{title:e.resolveButtonTitle,"aria-label":e.resolveButtonTitle,type:"button"},on:{click:e.onResolve}},[e.isResolving?i("gl-loading-icon",{attrs:{inline:""}}):[i("icon",{attrs:{name:"check-circle"}})]],2)]):e._e(),e._v(" "),e.canAwardEmoji?i("div",{staticClass:"note-actions-item"},[i("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"note-action-button note-emoji-button js-add-award js-note-emoji",class:{"js-user-authored":e.isAuthoredByCurrentUser},attrs:{"data-position":"right",href:"#",title:"Add reaction"}},[i("gl-loading-icon",{attrs:{inline:""}}),e._v(" "),i("icon",{attrs:{"css-classes":"link-highlight award-control-icon-neutral",name:"emoji_slightly_smiling_face"}}),e._v(" "),i("icon",{attrs:{"css-classes":"link-highlight award-control-icon-positive",name:"emoji_smiley"}}),e._v(" "),i("icon",{attrs:{"css-classes":"link-highlight award-control-icon-super-positive",name:"emoji_smiley"}})],1)]):e._e(),e._v(" "),e.canEdit?i("div",{staticClass:"note-actions-item"},[i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"note-action-button js-note-edit btn btn-transparent",attrs:{type:"button",title:"Edit comment"},on:{click:e.onEdit}},[i("icon",{attrs:{name:"pencil","css-classes":"link-highlight"}})],1)]):e._e(),e._v(" "),e.showDeleteAction?i("div",{staticClass:"note-actions-item"},[i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"note-action-button js-note-delete btn btn-transparent",attrs:{type:"button",title:"Delete comment"},on:{click:e.onDelete}},[i("icon",{staticClass:"link-highlight",attrs:{name:"remove"}})],1)]):e.shouldShowActionsDropdown?i("div",{staticClass:"dropdown more-actions note-actions-item"},[i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"note-action-button more-actions-toggle btn btn-transparent",attrs:{type:"button",title:"More actions","data-toggle":"dropdown"}},[i("icon",{attrs:{"css-classes":"icon",name:"ellipsis_v"}})],1),e._v(" "),i("ul",{staticClass:"dropdown-menu more-actions-dropdown dropdown-open-left"},[e.canReportAsAbuse?i("li",[i("a",{attrs:{href:e.reportAbusePath}},[e._v(e._s(e.__("Report abuse to GitLab")))])]):e._e(),e._v(" "),e.noteUrl?i("li",[i("button",{staticClass:"btn-default btn-transparent js-btn-copy-note-link",attrs:{"data-clipboard-text":e.noteUrl,type:"button"}},[e._v("\n          "+e._s(e.__("Copy link"))+"\n        ")])]):e._e(),e._v(" "),e.canEdit?i("li",[i("button",{staticClass:"btn btn-transparent js-note-delete js-note-delete",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.onDelete(t)}}},[i("span",{staticClass:"text-danger"},[e._v(e._s(e.__("Delete comment")))])])]):e._e()])]):e._e()])},[],!1,null,null,null);g.options.__file="note_actions.vue";var v=g.exports,b=i(340),_=i(252);function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){w(e,t,i[t])})}return e}function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var C={components:{Icon:d.a},directives:{GlTooltip:f.n},props:{awards:{type:Array,required:!0},toggleAwardPath:{type:String,required:!0},noteAuthorId:{type:Number,required:!0},noteId:{type:String,required:!0},canAwardEmoji:{type:Boolean,required:!0}},computed:y({},Object(a.c)(["getUserData"]),{groupedAwards:function(){var e=this.awards.reduce(function(e,t){return Object.prototype.hasOwnProperty.call(e,t.name)?e[t.name].push(t):Object.assign(e,w({},t.name,[t])),e},{}),t={},i=e.thumbsdown,n=e.thumbsup;return n&&(t.thumbsup=n,delete e.thumbsup),i&&(t.thumbsdown=i,delete e.thumbsdown),Object.assign({},t,e)},isAuthoredByMe:function(){return this.noteAuthorId===this.getUserData.id}}),methods:y({},Object(a.b)(["toggleAwardRequest"]),{getAwardHTML:function(e){return Object(_.glEmojiTag)(e)},getAwardClassBindings:function(e){return{active:this.hasReactionByCurrentUser(e),disabled:!this.canInteractWithEmoji()}},canInteractWithEmoji:function(){return this.getUserData.id},hasReactionByCurrentUser:function(e){var t=this;return e.filter(function(e){return e.user.id===t.getUserData.id}).length},awardTitle:function(e){var t=this,i=this.hasReactionByCurrentUser(e),n=i?9:10,s=e;i&&(s=s.filter(function(e){return e.user.id!==t.getUserData.id}));var a=s.slice(0,n).map(function(e){return e.user.name}),o=s.slice(n,s.length);i&&a.unshift("You");var r="";return o.length?r="".concat(a.join(", "),", and ").concat(o.length," more."):a.length>1?(r=a.slice(0,a.length-1).join(", "),r+=a.length>2?",":"",r+=" and ".concat(a.slice(-1))):r=a.join(" and "),r},handleAward:function(e){if(this.canAwardEmoji){var t;switch(e){case"100":t=100;break;case"1234":t=1234;break;default:t=e}var i={endpoint:this.toggleAwardPath,noteId:this.noteId,awardName:t};this.toggleAwardRequest(i).catch(function(){return Object(l.a)("Something went wrong on our end.")})}}})},k=Object(m.a)(C,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"note-awards"},[i("div",{staticClass:"awards js-awards-block"},[e._l(e.groupedAwards,function(t,n,s){return i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",value:{boundary:"viewport"},expression:"{ boundary: 'viewport' }",modifiers:{bottom:!0}}],key:s,staticClass:"btn award-control",class:e.getAwardClassBindings(t),attrs:{title:e.awardTitle(t),type:"button"},on:{click:function(t){e.handleAward(n)}}},[i("span",{domProps:{innerHTML:e._s(e.getAwardHTML(n))}}),e._v(" "),i("span",{staticClass:"award-control-text js-counter"},[e._v(e._s(t.length))])])}),e._v(" "),e.canAwardEmoji?i("div",{staticClass:"award-menu-holder"},[i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"award-control btn js-add-award",class:{"js-user-authored":e.isAuthoredByMe},attrs:{title:"Add reaction","aria-label":"Add reaction","data-boundary":"viewport","data-placement":"bottom",type:"button"}},[i("span",{staticClass:"award-control-icon award-control-icon-neutral"},[i("icon",{attrs:{name:"emoji_slightly_smiling_face"}})],1),e._v(" "),i("span",{staticClass:"award-control-icon award-control-icon-positive"},[i("icon",{attrs:{name:"emoji_smiley"}})],1),e._v(" "),i("span",{staticClass:"award-control-icon award-control-icon-super-positive"},[i("icon",{attrs:{name:"emoji_smiley"}})],1),e._v(" "),i("i",{staticClass:"fa fa-spinner fa-spin award-control-icon award-control-icon-loading",attrs:{"aria-hidden":"true"}})])]):e._e()],2)])},[],!1,null,null,null);k.options.__file="note_awards_list.vue";var j=k.exports,S={name:"NoteAttachment",props:{attachment:{type:Object,required:!0}}},O=Object(m.a)(S,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"note-attachment"},[e.attachment.image?i("a",{attrs:{href:e.attachment.url,target:"_blank",rel:"noopener noreferrer"}},[i("img",{staticClass:"note-image-attach",attrs:{src:e.attachment.url}})]):e._e(),e._v(" "),i("div",{staticClass:"attachment"},[e.attachment.url?i("a",{attrs:{href:e.attachment.url,target:"_blank",rel:"noopener noreferrer"}},[i("i",{staticClass:"fa fa-paperclip",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.attachment.filename)+"\n    ")]):e._e()])])},[],!1,null,null,null);O.options.__file="note_attachment.vue";var x=O.exports,D=i(264),T=i(304),E=i(337);function P(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var I={components:{noteEditedText:b.a,noteAwardsList:j,noteAttachment:x,noteForm:D.a,Suggestions:E.a},mixins:[T.a],props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},canEdit:{type:Boolean,required:!0},isEditing:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},computed:{noteBody:function(){return this.note.note},hasSuggestion:function(){return this.note.suggestions&&this.note.suggestions.length},lineType:function(){return this.line?this.line.type:null}},mounted:function(){this.renderGFM(),this.isEditing&&this.initAutoSave(this.note)},updated:function(){this.renderGFM(),this.isEditing&&(this.autosave?this.setAutoSave():this.initAutoSave(this.note))},methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){P(e,t,i[t])})}return e}({},Object(a.b)(["submitSuggestion"]),{renderGFM:function(){s()(this.$refs["note-body"]).renderGFM()},handleFormUpdate:function(e,t,i){this.$emit("handleFormUpdate",e,t,i)},formCancelHandler:function(e,t){this.$emit("cancelForm",e,t)},applySuggestion:function(e){var t=e.suggestionId,i=e.flashContainer,n=e.callback,s=this.note,a=s.discussion_id,o=s.id;this.submitSuggestion({discussionId:a,noteId:o,suggestionId:t,flashContainer:i,callback:n})}})},N=Object(m.a)(I,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"note-body",staticClass:"note-body",class:{"js-task-list-container":e.canEdit}},[e.hasSuggestion&&!e.isEditing?i("suggestions",{attrs:{suggestions:e.note.suggestions,"note-html":e.note.note_html,"line-type":e.lineType,"help-page-path":e.helpPagePath},on:{apply:e.applySuggestion}}):i("div",{staticClass:"note-text md",domProps:{innerHTML:e._s(e.note.note_html)}}),e._v(" "),e.isEditing?i("note-form",{ref:"noteForm",attrs:{"is-editing":e.isEditing,"note-body":e.noteBody,"note-id":e.note.id,line:e.line,note:e.note,"help-page-path":e.helpPagePath,"markdown-version":e.note.cached_markdown_version},on:{handleFormUpdate:e.handleFormUpdate,cancelForm:e.formCancelHandler}}):e._e(),e._v(" "),e.canEdit?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note.note,expression:"note.note"}],staticClass:"hidden js-task-list-field",attrs:{"data-update-url":e.note.path},domProps:{value:e.note.note},on:{input:function(t){t.target.composing||e.$set(e.note,"note",t.target.value)}}}):e._e(),e._v(" "),e.note.last_edited_at?i("note-edited-text",{staticClass:"note_edited_ago",attrs:{"edited-at":e.note.last_edited_at,"edited-by":e.note.last_edited_by,"action-text":"Edited"}}):e._e(),e._v(" "),e.note.award_emoji&&e.note.award_emoji.length?i("note-awards-list",{attrs:{"note-id":e.note.id,"note-author-id":e.note.author.id,awards:e.note.award_emoji,"toggle-award-path":e.note.toggle_award_path,"can-award-emoji":e.note.current_user.can_award_emoji}}):e._e(),e._v(" "),e.note.attachment?i("note-attachment",{attrs:{attachment:e.note.attachment}}):e._e()],1)},[],!1,null,null,null);N.options.__file="note_body.vue";var L=N.exports,q=i(131),M=i(336),A=i(263);function F(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){B(e,t,i[t])})}return e}function B(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var R={name:"NoteableNote",components:{userAvatarLink:c.a,noteHeader:u.a,noteActions:v,noteBody:L,TimelineEntryItem:r.a},mixins:[M.a,A.a],props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},helpPagePath:{type:String,required:!1,default:""}},data:function(){return{isEditing:!1,isDeleting:!1,isRequesting:!1,isResolving:!1}},computed:F({},Object(a.c)(["targetNoteHash","getNoteableData","getUserData"]),{author:function(){return this.note.author},classNameBindings:function(){var e;return B(e={},"note-row-".concat(this.note.id),!0),B(e,"is-editing",this.isEditing&&!this.isRequesting),B(e,"is-requesting being-posted",this.isRequesting),B(e,"disabled-content",this.isDeleting),B(e,"target",this.isTarget),B(e,"is-editable",this.note.current_user.can_edit),e},canResolve:function(){return this.note.resolvable&&!!this.getUserData.id},canReportAsAbuse:function(){return!!this.note.report_abuse_path&&this.author.id!==this.getUserData.id},noteAnchorId:function(){return"note_".concat(this.note.id)},isTarget:function(){return this.targetNoteHash===this.noteAnchorId}}),created:function(){var e=this;q.a.$on("enterEditMode",function(t){t.noteId===e.note.id&&(e.isEditing=!0,e.scrollToNoteIfNeeded(s()(e.$el)))})},mounted:function(){this.isTarget&&this.scrollToNoteIfNeeded(s()(this.$el))},methods:F({},Object(a.b)(["deleteNote","updateNote","toggleResolveNote","scrollToNoteIfNeeded"]),{editHandler:function(){this.isEditing=!0,this.$emit("handleEdit")},deleteHandler:function(){var e=this,t=this.note.isDraft?"pending comment":"comment";if(window.confirm("Are you sure you want to delete this ".concat(t,"?"))){if(this.isDeleting=!0,this.$emit("handleDeleteNote",this.note),this.note.isDraft)return;this.deleteNote(this.note).then(function(){e.isDeleting=!1}).catch(function(){Object(l.a)("Something went wrong while deleting your note. Please try again."),e.isDeleting=!1})}},updateSuccess:function(){this.isEditing=!1,this.isRequesting=!1,this.oldContent=null,s()(this.$refs.noteBody.$el).renderGFM(),this.$refs.noteBody.resetAutoSave(),this.$emit("updateSuccess")},formUpdateHandler:function(e,t,i){var n=this;this.$emit("handleUpdateNote",{note:this.note,noteText:e,callback:function(){return n.updateSuccess()}});var s={endpoint:this.note.path,note:{target_type:this.getNoteableData.targetType,target_id:this.note.noteable_id,note:{note:e}}};this.isRequesting=!0,this.oldContent=this.note.note_html,this.note.note_html=Object(o.escape)(e),this.updateNote(s).then(function(){n.updateSuccess(),i()}).catch(function(){n.isRequesting=!1,n.isEditing=!0,n.$nextTick(function(){Object(l.a)("Something went wrong while editing your comment. Please try again.","alert",n.$el),n.recoverNoteContent(e),i()})})},formCancelHandler:function(e,t){e&&t&&!window.confirm("Are you sure you want to cancel editing this comment?")||(this.$refs.noteBody.resetAutoSave(),this.oldContent&&(this.note.note_html=this.oldContent,this.oldContent=null),this.isEditing=!1,this.$emit("cancelForm"))},recoverNoteContent:function(e){this.note.note=e,this.$refs.noteBody.note.note=e}})},$=Object(m.a)(R,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("timeline-entry-item",{staticClass:"note note-wrapper",class:e.classNameBindings,attrs:{id:e.noteAnchorId,"data-award-url":e.note.toggle_award_path,"data-note-id":e.note.id}},[e._m(0),e._v(" "),i("div",{staticClass:"timeline-content"},[i("div",{staticClass:"note-header"},[e._m(1),e._v(" "),i("note-actions",{attrs:{"author-id":e.author.id,"note-id":e.note.id,"note-url":e.note.noteable_note_url,"access-level":e.note.human_access,"can-edit":e.note.current_user.can_edit,"can-award-emoji":e.note.current_user.can_award_emoji,"can-delete":e.note.current_user.can_edit,"can-report-as-abuse":e.canReportAsAbuse,"can-resolve":e.note.current_user.can_resolve,"report-abuse-path":e.note.report_abuse_path,resolvable:e.note.resolvable,"is-resolved":e.note.resolved,"is-resolving":e.isResolving,"resolved-by":e.note.resolved_by},on:{handleEdit:e.editHandler,handleDelete:e.deleteHandler,handleResolve:e.resolveHandler}})],1),e._v(" "),i("div",{staticClass:"timeline-discussion-body"},[e._t("discussion-resolved-text"),e._v(" "),i("note-body",{ref:"noteBody",attrs:{note:e.note,line:e.line,"can-edit":e.note.current_user.can_edit,"is-editing":e.isEditing,"help-page-path":e.helpPagePath},on:{handleFormUpdate:e.formUpdateHandler,cancelForm:e.formCancelHandler}})],2)])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"timeline-icon"},[t("user-avatar-link",{attrs:{"link-href":this.author.path,"img-src":this.author.avatar_url,"img-alt":this.author.name,"img-size":40}},[this._t("avatar-badge",null,{slot:"avatar-badge"})],2)],1)},function(){var e=this.$createElement;return(this._self._c||e)("note-header",{attrs:{author:this.author,"created-at":this.note.created_at,"note-id":this.note.id,"action-text":"commented"}})}],!1,null,null,null);$.options.__file="noteable_note.vue";t.a=$.exports},310:function(e,t,i){"use strict";var n={name:"PlaceholderSystemNote",components:{TimelineEntryItem:i(145).a},props:{note:{type:Object,required:!0}}},s=i(3),a=Object(s.a)(n,function(){var e=this.$createElement,t=this._self._c||e;return t("timeline-entry-item",{staticClass:"note system-note being-posted fade-in-half"},[t("div",{staticClass:"timeline-content"},[t("em",[this._v(this._s(this.note.body))])])])},[],!1,null,null,null);a.options.__file="placeholder_system_note.vue";t.a=a.exports},311:function(e,t,i){"use strict";var n=i(18),s=i(145);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o={name:"PlaceholderNote",components:{userAvatarLink:i(91).a,TimelineEntryItem:s.a},props:{note:{type:Object,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){a(e,t,i[t])})}return e}({},Object(n.c)(["getUserData"]))},r=i(3),l=Object(r.a)(o,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("timeline-entry-item",{staticClass:"note being-posted fade-in-half"},[i("div",{staticClass:"timeline-icon"},[i("user-avatar-link",{attrs:{"link-href":e.getUserData.path,"img-src":e.getUserData.avatar_url,"img-size":40}})],1),e._v(" "),i("div",{staticClass:"timeline-content",class:{discussion:!e.note.individual_note}},[i("div",{staticClass:"note-header"},[i("div",{staticClass:"note-header-info"},[i("a",{attrs:{href:e.getUserData.path}},[i("span",{staticClass:"d-none d-sm-inline-block"},[e._v(e._s(e.getUserData.name))]),e._v(" "),i("span",{staticClass:"note-headline-light"},[e._v("@"+e._s(e.getUserData.username))])])])]),e._v(" "),i("div",{staticClass:"note-body"},[i("div",{staticClass:"note-text"},[i("p",[e._v(e._s(e.note.body))])])])])])},[],!1,null,null,null);l.options.__file="placeholder_note.vue";t.a=l.exports},312:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(18),o=i(265),r=i(15),l=i(145),c=i(13);function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d={name:"SystemNote",components:{Icon:r.a,noteHeader:o.a,TimelineEntryItem:l.a},props:{note:{type:Object,required:!0}},data:function(){return{expanded:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){u(e,t,i[t])})}return e}({},Object(a.c)(["targetNoteHash"]),{noteAnchorId:function(){return"note_".concat(this.note.id)},isTargetNote:function(){return this.targetNoteHash===this.noteAnchorId},iconHtml:function(){return Object(c.J)(this.note.system_note_icon_name)},toggleIcon:function(){return this.expanded?"chevron-up":"chevron-down"},actionTextHtml:function(){return s()(this.note.note_html).unwrap().html()},hasMoreCommits:function(){return s()(this.note.note_html).filter("ul").children().length>3}})},f=i(3),h=Object(f.a)(d,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("timeline-entry-item",{staticClass:"note system-note note-wrapper",class:{target:e.isTargetNote},attrs:{id:e.noteAnchorId}},[i("div",{staticClass:"timeline-icon",domProps:{innerHTML:e._s(e.iconHtml)}}),e._v(" "),i("div",{staticClass:"timeline-content"},[i("div",{staticClass:"note-header"},[i("note-header",{attrs:{author:e.note.author,"created-at":e.note.created_at,"note-id":e.note.id}},[i("span",{domProps:{innerHTML:e._s(e.actionTextHtml)}})])],1),e._v(" "),i("div",{staticClass:"note-body"},[i("div",{staticClass:"note-text",class:{"system-note-commit-list":e.hasMoreCommits,"hide-shade":e.expanded},domProps:{innerHTML:e._s(e.note.note_html)}}),e._v(" "),e.hasMoreCommits?i("div",{staticClass:"flex-list"},[i("div",{staticClass:"system-note-commit-list-toggler flex-row",on:{click:function(t){e.expanded=!e.expanded}}},[i("icon",{staticClass:"append-right-5",attrs:{name:e.toggleIcon,size:8}}),e._v(" "),i("span",[e._v("Toggle commit list")])],1)]):e._e()])])])},[],!1,null,null,null);h.options.__file="system_note.vue";t.a=h.exports},320:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n={image:{id:"image"},markdown:{id:"markdown",previewTitle:"Preview Markdown"}},s={},a={jpg:"image",jpeg:"image",gif:"image",png:"image",bmp:"image",ico:"image",md:"markdown",markdown:"markdown"};function o(e){if(!e)return null;var t=e.split("/").pop(),i=s[t]||a[t?t.split(".").pop():""]||"";return n[i]}},321:function(e,t,i){"use strict";var n=i(52),s=i(320),a=i(149),o={components:{ImageViewer:a.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}}},r=i(3),l=Object(r.a)(o,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"two-up view d-flex"},[t("image-viewer",{staticClass:"wrap w-50",attrs:{path:this.oldPath,"render-info":!0,"inner-css-classes":"frame deleted"}}),this._v(" "),t("image-viewer",{staticClass:"wrap w-50",attrs:{path:this.newPath,"render-info":!0,"inner-css-classes":["frame","added"]}},[this._t("image-overlay",null,{slot:"image-overlay"})],2)],1)},[],!1,null,null,null);l.options.__file="two_up_viewer.vue";var c=l.exports,u=i(5),d=i.n(u);function f(e){return e?"".concat(e,"px"):""}var h={components:{ImageViewer:a.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:function(){return{dragging:!1,swipeOldImgInfo:null,swipeNewImgInfo:null,swipeMaxWidth:void 0,swipeMaxHeight:void 0,swipeBarPos:1,swipeWrapWidth:0}},computed:{swipeMaxPixelWidth:function(){return f(this.swipeMaxWidth)},swipeMaxPixelHeight:function(){return f(this.swipeMaxHeight)},swipeWrapPixelWidth:function(){return f(this.swipeWrapWidth)},swipeBarPixelPos:function(){return f(this.swipeBarPos)}},beforeDestroy:function(){window.removeEventListener("resize",this.resizeThrottled,!1),document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove)},mounted:function(){window.addEventListener("resize",this.resize,!1)},methods:{dragMove:function(e){if(this.dragging){var t=e.pageX-this.$refs.swipeFrame.getBoundingClientRect().left,i=this.$refs.swipeFrame.clientWidth;t<=0?t=0:t>i-20&&(t=i-20),this.swipeWrapWidth=t/i*100,this.swipeBarPos=t}},startDrag:function(){this.dragging=!0,document.body.style.userSelect="none",document.body.addEventListener("mousemove",this.dragMove)},stopDrag:function(){this.dragging=!1,document.body.style.userSelect="",document.body.removeEventListener("mousemove",this.dragMove)},prepareSwipe:function(){this.swipeOldImgInfo&&this.swipeNewImgInfo&&(this.swipeMaxWidth=Math.max(this.swipeOldImgInfo.renderedWidth,this.swipeNewImgInfo.renderedWidth)+2,this.swipeMaxHeight=Math.max(this.swipeOldImgInfo.renderedHeight,this.swipeNewImgInfo.renderedHeight)+2,document.body.addEventListener("mouseup",this.stopDrag))},swipeNewImgLoaded:function(e){this.swipeNewImgInfo=e,this.prepareSwipe()},swipeOldImgLoaded:function(e){this.swipeOldImgInfo=e,this.prepareSwipe()},resize:d.a.throttle(function(){this.swipeBarPos=0},400)}},p=Object(r.a)(h,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"swipe view"},[i("div",{ref:"swipeFrame",staticClass:"swipe-frame"},[i("image-viewer",{key:"swipeOldImg",ref:"swipeOldImg",staticClass:"frame deleted",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.swipeOldImgLoaded}}),e._v(" "),i("div",{ref:"swipeWrap",staticClass:"swipe-wrap",style:{width:e.swipeWrapWidth+"%"}},[i("image-viewer",{key:"swipeNewImg",staticClass:"frame added",style:{width:e.swipeMaxPixelWidth},attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.swipeNewImgLoaded}},[e._t("image-overlay",null,{slot:"image-overlay"})],2)],1),e._v(" "),i("span",{ref:"swipeBar",staticClass:"swipe-bar",style:{left:e.swipeBarPixelPos},on:{mousedown:e.startDrag,mouseup:e.stopDrag}},[i("span",{staticClass:"top-handle"}),e._v(" "),i("span",{staticClass:"bottom-handle"})])],1)])},[],!1,null,null,null);p.options.__file="swipe_viewer.vue";var m=p.exports,g={components:{ImageViewer:a.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:function(){return{onionMaxWidth:void 0,onionMaxHeight:void 0,onionOldImgInfo:null,onionNewImgInfo:null,onionDraggerPos:0,onionOpacity:1,dragging:!1}},computed:{onionMaxPixelWidth:function(){return f(this.onionMaxWidth)},onionMaxPixelHeight:function(){return f(this.onionMaxHeight)},onionDraggerPixelPos:function(){return f(this.onionDraggerPos)}},beforeDestroy:function(){document.body.removeEventListener("mouseup",this.stopDrag),this.$refs.dragger.removeEventListener("mousedown",this.startDrag)},methods:{dragMove:function(e){if(this.dragging){var t=e.pageX-this.$refs.dragTrack.getBoundingClientRect().left,i=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100,n=t;n<0&&(n=0),n>i&&(n=i),this.onionOpacity=t/i,this.onionDraggerPos=n}},startDrag:function(){this.dragging=!0,document.body.style.userSelect="none",document.body.addEventListener("mousemove",this.dragMove)},stopDrag:function(){this.dragging=!1,document.body.style.userSelect="",document.body.removeEventListener("mousemove",this.dragMove)},prepareOnionSkin:function(){this.onionOldImgInfo&&this.onionNewImgInfo&&(this.onionMaxWidth=Math.max(this.onionOldImgInfo.renderedWidth,this.onionNewImgInfo.renderedWidth),this.onionMaxHeight=Math.max(this.onionOldImgInfo.renderedHeight,this.onionNewImgInfo.renderedHeight),this.onionOpacity=1,this.onionDraggerPos=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100,document.body.addEventListener("mouseup",this.stopDrag))},onionNewImgLoaded:function(e){this.onionNewImgInfo=e,this.prepareOnionSkin()},onionOldImgLoaded:function(e){this.onionOldImgInfo=e,this.prepareOnionSkin()}}},v=Object(r.a)(g,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"onion-skin view"},[i("div",{staticClass:"onion-skin-frame",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight,"user-select":!0===e.dragging?"none":""}},[i("div",{staticClass:"frame deleted",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[i("image-viewer",{key:"onionOldImg",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.onionOldImgLoaded}})],1),e._v(" "),i("div",{ref:"addedFrame",staticClass:"added frame",style:{opacity:e.onionOpacity,width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[i("image-viewer",{key:"onionNewImg",attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.onionNewImgLoaded}},[e._t("image-overlay",null,{slot:"image-overlay"})],2)],1),e._v(" "),i("div",{staticClass:"controls"},[i("div",{staticClass:"transparent"}),e._v(" "),i("div",{ref:"dragTrack",staticClass:"drag-track",on:{mousedown:e.startDrag,mouseup:e.stopDrag}},[i("div",{ref:"dragger",staticClass:"dragger",style:{left:e.onionDraggerPixelPos}})]),e._v(" "),i("div",{staticClass:"opaque"})])])])},[],!1,null,null,null);v.options.__file="onion_skin_viewer.vue";var b=v.exports,_={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed"},y={twoup:"twoup",swipe:"swipe",onion:"onion"},w={components:{ImageViewer:a.a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:function(){return{mode:y.twoup}},computed:{imageViewComponent:function(){switch(this.mode){case y.twoup:return c;case y.swipe:return m;case y.onion:return b;default:return}},isNew:function(){return this.diffMode===_.new},isRenamed:function(){return this.diffMode===_.renamed},imagePath:function(){return this.isNew||this.isRenamed?this.newPath:this.oldPath}},methods:{changeMode:function(e){this.mode=e}},diffModes:_,imageViewMode:y},C=Object(r.a)(w,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-file-container"},[e.diffMode===e.$options.diffModes.replaced?i("div",{staticClass:"diff-viewer"},[i("div",{staticClass:"image js-replaced-image"},[i(e.imageViewComponent,e._b({tag:"component"},"component",e.$props,!1),[e._t("image-overlay",null,{slot:"image-overlay"})],2)],1),e._v(" "),i("div",{staticClass:"view-modes"},[i("ul",{staticClass:"view-modes-menu"},[i("li",{class:{active:e.mode===e.$options.imageViewMode.twoup},on:{click:function(t){e.changeMode(e.$options.imageViewMode.twoup)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|2-up"))+"\n        ")]),e._v(" "),i("li",{class:{active:e.mode===e.$options.imageViewMode.swipe},on:{click:function(t){e.changeMode(e.$options.imageViewMode.swipe)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Swipe"))+"\n        ")]),e._v(" "),i("li",{class:{active:e.mode===e.$options.imageViewMode.onion},on:{click:function(t){e.changeMode(e.$options.imageViewMode.onion)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Onion skin"))+"\n        ")])])])]):i("div",{staticClass:"diff-viewer"},[i("div",{staticClass:"image"},[i("image-viewer",{attrs:{path:e.imagePath,"inner-css-classes":["frame",{added:e.isNew,deleted:e.diffMode===e.$options.diffModes.deleted}]}},[e.isNew||e.isRenamed?e._t("image-overlay",null,{slot:"image-overlay"}):e._e()],2)],1)])])},[],!1,null,null,null);C.options.__file="image_diff_viewer.vue";var k=C.exports,j={components:{DownloadViewer:i(306).a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},projectPath:{type:String,required:!1,default:""}},diffModes:_},S=Object(r.a)(j,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-file-container"},[i("div",{staticClass:"diff-viewer"},[e.diffMode===e.$options.diffModes.replaced?i("div",{staticClass:"two-up view row"},[i("div",{staticClass:"col-sm-6 deleted"},[i("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1),e._v(" "),i("div",{staticClass:"col-sm-6 added"},[i("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1)]):e.diffMode===e.$options.diffModes.new?i("div",{staticClass:"added"},[i("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1):i("div",{staticClass:"deleted"},[i("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1)])])},[],!1,null,null,null);S.options.__file="download_diff_viewer.vue";var O=S.exports,x=Object(r.a)({},function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nothing-here-block"},[this._v(this._s(this.__("File moved")))])},[],!1,null,null,null);x.options.__file="renamed.vue";var D=x.exports,T=i(1),E={props:{aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{outputText:function(){return Object(T.f)(Object(T.a)("File mode changed from %{a_mode} to %{b_mode}"),{a_mode:this.aMode,b_mode:this.bMode})}}},P=Object(r.a)(E,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nothing-here-block"},[this._v(this._s(this.outputText))])},[],!1,null,null,null);P.options.__file="mode_changed.vue";var I=P.exports,N={props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},newSha:{type:String,required:!0},oldPath:{type:String,required:!0},oldSha:{type:String,required:!0},projectPath:{type:String,required:!1,default:""},aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{viewer:function(){if(this.diffMode===n.i.renamed)return D;if(this.diffMode===n.i.mode_changed)return I;if(!this.newPath)return null;var e=Object(s.a)(this.newPath);if(!e)return O;switch(e.id){case"image":return k;default:return O}},basePath:function(){return 0===this.projectPath.indexOf("/")?"":"".concat(gon.relative_url_root,"/")},fullOldPath:function(){return"".concat(this.basePath).concat(this.projectPath,"/raw/").concat(this.oldSha,"/").concat(this.oldPath)},fullNewPath:function(){return"".concat(this.basePath).concat(this.projectPath,"/raw/").concat(this.newSha,"/").concat(this.newPath)}}},L=Object(r.a)(N,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.viewer?i("div",{staticClass:"diff-file preview-container"},[i(e.viewer,{tag:"component",attrs:{"diff-mode":e.diffMode,"new-path":e.fullNewPath,"old-path":e.fullOldPath,"project-path":e.projectPath,"a-mode":e.aMode,"b-mode":e.bMode}},[e._t("image-overlay",null,{slot:"image-overlay"})],2),e._v(" "),e._t("default")],2):e._e()},[],!1,null,null,null);L.options.__file="diff_viewer.vue";t.a=L.exports},332:function(e,t,i){var n=i(602);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i(74).default)("62f6636a",n,!0,{})},333:function(e,t,i){var n=i(604);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i(74).default)("1f90f1fa",n,!0,{})},335:function(e,t,i){"use strict";t.a={methods:{isConfidential:function(e){return!!e.confidential},isLocked:function(e){return!!e.discussion_locked},hasWarning:function(e){return this.isConfidential(e)||this.isLocked(e)}}}},336:function(e,t,i){"use strict";var n=i(67);t.a={computed:{noteableType:function(){var e=this.discussion?this.discussion.notes[0]:this.note;return n.n[e.noteable_type]}}}},337:function(e,t,i){"use strict";var n=i(11),s={components:{Icon:i(15).a},props:{canApply:{type:Boolean,required:!1,default:!1},isApplied:{type:Boolean,required:!0,default:!1},helpPagePath:{type:String,required:!0}},data:function(){return{isAppliedSuccessfully:!1,isApplying:!1}},methods:{applySuggestion:function(){this.canApply&&(this.isApplying=!0,this.$emit("apply",this.applySuggestionCallback))},applySuggestionCallback:function(){this.isApplying=!1}}},a=i(3),o=Object(a.a)(s,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"md-suggestion-header border-bottom-0 mt-2"},[i("div",{staticClass:"qa-suggestion-diff-header font-weight-bold"},[e._v("\n    "+e._s(e.__("Suggested change"))+"\n    "),e.helpPagePath?i("a",{attrs:{href:e.helpPagePath,"aria-label":e.__("Help")}},[i("icon",{attrs:{name:"question-o","css-classes":"link-highlight"}})],1):e._e()]),e._v(" "),e.isApplied?i("span",{staticClass:"badge badge-success"},[e._v(e._s(e.__("Applied")))]):e._e(),e._v(" "),e.canApply?i("button",{staticClass:"btn qa-apply-btn",attrs:{type:"button",disabled:e.isApplying},on:{click:e.applySuggestion}},[e._v("\n    "+e._s(e.__("Apply suggestion"))+"\n  ")]):e._e()])},[],!1,null,null,null);o.options.__file="suggestion_diff_header.vue";var r={components:{SuggestionDiffHeader:o.exports},props:{newLines:{type:Array,required:!0},fromContent:{type:String,required:!1,default:""},fromLine:{type:Number,required:!0},suggestion:{type:Object,required:!0},disabled:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!0}},methods:{applySuggestion:function(e){this.$emit("apply",{suggestionId:this.suggestion.id,callback:e})}}},l=Object(a.a)(r,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("suggestion-diff-header",{staticClass:"qa-suggestion-diff-header",attrs:{"can-apply":e.suggestion.appliable&&e.suggestion.current_user.can_apply&&!e.disabled,"is-applied":e.suggestion.applied,"help-page-path":e.helpPagePath},on:{apply:e.applySuggestion}}),e._v(" "),i("table",{staticClass:"mb-3 md-suggestion-diff js-syntax-highlight code"},[i("tbody",[i("tr",{staticClass:"line_holder old"},[i("td",{staticClass:"diff-line-num old_line qa-old-diff-line-number old"},[e._v(e._s(e.fromLine))]),e._v(" "),i("td",{staticClass:"diff-line-num new_line old"}),e._v(" "),i("td",{staticClass:"line_content old"},[i("span",[e._v(e._s(e.fromContent))])])]),e._v(" "),e._l(e.newLines,function(t,n){return i("tr",{key:n,staticClass:"line_holder new"},[i("td",{staticClass:"diff-line-num old_line new"}),e._v(" "),i("td",{staticClass:"diff-line-num new_line qa-new-diff-line-number new"},[e._v(e._s(t.lineNumber))]),e._v(" "),i("td",{staticClass:"line_content new"},[i("span",[e._v(e._s(t.content))])])])})],2)])],1)},[],!1,null,null,null);l.options.__file="suggestion_diff.vue";var c=l.exports,u=i(7),d={components:{SuggestionDiff:c},props:{fromLine:{type:Number,required:!1,default:0},fromContent:{type:String,required:!1,default:""},lineType:{type:String,required:!1,default:""},suggestions:{type:Array,required:!1,default:function(){return[]}},noteHtml:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!0}},data:function(){return{isRendered:!1}},watch:{suggestions:function(){this.reset()},noteHtml:function(){this.reset()}},mounted:function(){this.renderSuggestions()},methods:{renderSuggestions:function(){var e=this;if(this.noteHtml){var t=this.$refs.container.querySelectorAll(".js-render-suggestion");"old"===this.lineType&&Object(u.a)("Unable to apply suggestions to a deleted line.","alert",this.$el),t.forEach(function(t,i){var n=t.parentElement,s=e.extractNewLines(n);e.generateDiff(s,i).$mount(n)}),this.isRendered=!0}},extractNewLines:function(e){var t=e.querySelectorAll(".line"),i=this.suggestions.length?this.suggestions[0].from_line:this.fromLine,n=[];return t.forEach(function(e,t){var s="".concat(e.innerText,"\n"),a=i+t;n.push({content:s,lineNumber:a})}),n},generateDiff:function(e,t){var i=this,s=this.suggestions,a=this.disabled,o=this.helpPagePath,r=s&&s[t]?s[t]:{},l=r.from_content||this.fromContent,u=r.from_line||this.fromLine,d=new(n.default.extend(c))({propsData:{newLines:e,fromLine:u,fromContent:l,disabled:a,suggestion:r,helpPagePath:o}});return d.$on("apply",function(e){var t=e.suggestionId,n=e.callback;i.$emit("apply",{suggestionId:t,callback:n,flashContainer:i.$el})}),d},reset:function(){var e=this;this.$refs.container.innerHTML=this.noteHtml,this.isRendered=!1,this.renderSuggestions(),this.$nextTick(function(){return e.renderSuggestions()})}}},f=Object(a.a)(d,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"flash-container mt-3"}),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.isRendered,expression:"isRendered"}],ref:"container",domProps:{innerHTML:this._s(this.noteHtml)}})])},[],!1,null,null,null);f.options.__file="suggestions.vue";t.a=f.exports},338:function(e,t,i){"use strict";var n=i(18);function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a={computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){s(e,t,i[t])})}return e}({},Object(n.c)(["getNotesDataByProp"]),{registerLink:function(){return this.getNotesDataByProp("registerPath")},signInLink:function(){return this.getNotesDataByProp("newSessionPath")}})},o=i(3),r=Object(o.a)(a,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"disabled-comment text-center"},[this._v("\n  Please "),t("a",{attrs:{href:this.registerLink}},[this._v("register")]),this._v(" or "),t("a",{attrs:{href:this.signInLink}},[this._v("sign in")]),this._v(" to reply\n")])},[],!1,null,null,null);r.options.__file="note_signed_out_widget.vue";t.a=r.exports},339:function(e,t,i){"use strict";var n={components:{icon:i(15).a},props:{isLocked:{type:Boolean,default:!1,required:!1},isConfidential:{type:Boolean,default:!1,required:!1}},computed:{warningIcon:function(){return this.isConfidential?"eye-slash":this.isLocked?"lock":""},isLockedAndConfidential:function(){return this.isConfidential&&this.isLocked}}},s=i(3),a=Object(s.a)(n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"issuable-note-warning"},[e.isLockedAndConfidential?e._e():i("icon",{staticClass:"icon inline",attrs:{name:e.warningIcon,size:16}}),e._v(" "),e.isLockedAndConfidential?i("span",[e._v("\n      "+e._s(e.__("This issue is confidential and locked."))+"\n      "+e._s(e.__("People without permission will never\nget a notification and won't be able to comment."))+"\n    ")]):e.isConfidential?i("span",[e._v("\n      "+e._s(e.__("This is a confidential issue."))+"\n      "+e._s(e.__("Your comment will not be visible to the public."))+"\n    ")]):e.isLocked?i("span",[e._v("\n      "+e._s(e.__("This issue is locked."))+" "+e._s(e.__("Only project members can comment."))+"\n    ")]):e._e()],1)},[],!1,null,null,null);a.options.__file="issue_warning.vue";t.a=a.exports},340:function(e,t,i){"use strict";var n={name:"EditedNoteText",components:{timeAgoTooltip:i(93).a},props:{actionText:{type:String,required:!0},actionDetailText:{type:String,required:!1,default:""},editedAt:{type:String,required:!1,default:null},editedBy:{type:Object,required:!1,default:null},className:{type:String,required:!1,default:"edited-text"}}},s=i(3),a=Object(s.a)(n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.className},[e._v("\n  "+e._s(e.actionText)+"\n  "),e.editedBy?[e._v("\n    by\n    "),i("a",{staticClass:"js-user-link author-link",attrs:{href:e.editedBy.path,"data-user-id":e.editedBy.id}},[e._v("\n      "+e._s(e.editedBy.name)+"\n    ")])]:e._e(),e._v("\n  "+e._s(e.actionDetailText)+"\n  "),i("time-ago-tooltip",{attrs:{time:e.editedAt,"tooltip-placement":"bottom"}})],2)},[],!1,null,null,null);a.options.__file="note_edited_text.vue";t.a=a.exports},342:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(1),o=i(143),r=i(11),l=i(14),c=i.n(l),u=i(6),d=i(7),f=i(291),h=i(295),p=i(101),m=i(13),g=i(176),v=i(19),b=i(196),_=i(20),y=i(140),w=i(224),C=i(160);function k(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var j=window.location,S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.action,n=t.setUrl,s=t.stubLocation;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mergeRequestTabs=document.querySelector(".merge-request-tabs-container"),this.mergeRequestTabsAll=this.mergeRequestTabs&&this.mergeRequestTabs.querySelectorAll?this.mergeRequestTabs.querySelectorAll(".merge-request-tabs li"):null,this.mergeRequestTabPanes=document.querySelector("#diff-notes-app"),this.mergeRequestTabPanesAll=this.mergeRequestTabPanes&&this.mergeRequestTabPanes.querySelectorAll?this.mergeRequestTabPanes.querySelectorAll(".tab-pane"):null;var a=document.querySelector(".navbar-gitlab"),o=document.getElementById("js-peek");this.commitsTab=document.querySelector(".tab-content .commits.tab-pane"),this.currentTab=null,this.diffsLoaded=!1,this.pipelinesLoaded=!1,this.commitsLoaded=!1,this.fixedLayoutPref=null,this.eventHub=new r.default,this.setUrl=void 0===n||n,this.setCurrentAction=this.setCurrentAction.bind(this),this.tabShown=this.tabShown.bind(this),this.clickTab=this.clickTab.bind(this),this.stickyTop=a?a.offsetHeight-16:0,o&&(this.stickyTop+=o.offsetHeight),this.mergeRequestTabs&&(this.stickyTop+=this.mergeRequestTabs.offsetHeight),s&&(j=s),this.bindEvents(),this.mergeRequestTabs&&this.mergeRequestTabs.querySelector("a[data-action='".concat(i,"']"))&&this.mergeRequestTabs.querySelector("a[data-action='".concat(i,"']")).click&&this.mergeRequestTabs.querySelector("a[data-action='".concat(i,"']")).click(),this.initAffix()}var t,i,n;return t=e,(i=[{key:"bindEvents",value:function(){s()('.merge-request-tabs a[data-toggle="tabvue"]').on("click",this.clickTab)}},{key:"unbindEvents",value:function(){s()('.merge-request-tabs a[data-toggle="tabvue"]').off("click",this.clickTab)}},{key:"destroyPipelinesView",value:function(){this.commitPipelinesTable&&(this.commitPipelinesTable.$destroy(),this.commitPipelinesTable=null,document.querySelector("#commit-pipeline-table-view").innerHTML="")}},{key:"clickTab",value:function(e){if(e.currentTarget){e.stopImmediatePropagation(),e.preventDefault();var t=e.currentTarget.dataset.action;if(t){var i=e.currentTarget.getAttribute("href");this.tabShown(t,i)}else if(Object(m.v)(e)){var n=e.currentTarget.getAttribute("href");window.open(n,"_blank")}}}},{key:"tabShown",value:function(e,t){if(e!==this.currentTab&&this.mergeRequestTabs){this.currentTab=e,this.mergeRequestTabPanesAll&&this.mergeRequestTabPanesAll.forEach(function(e){e.style.display="none"}),this.mergeRequestTabsAll&&this.mergeRequestTabsAll.forEach(function(e){e.classList.remove("active")});var i=this.mergeRequestTabPanes.querySelector("#".concat(e));i&&(i.style.display="block");var n=this.mergeRequestTabs.querySelector(".".concat(e,"-tab"));n&&n.classList.add("active"),"commits"===e?(this.loadCommits(t),this.expandView(),this.resetViewContainer(),this.destroyPipelinesView()):"new"===e?(this.expandView(),this.resetViewContainer(),this.destroyPipelinesView()):this.isDiffAction(e)?(Object(g.d)()||this.loadDiff(t),"lg"!==p.a.getBreakpointSize()&&this.shrinkView(),this.expandViewContainer(),this.destroyPipelinesView(),this.commitsTab.classList.remove("active")):"pipelines"===e?(this.resetViewContainer(),this.mountPipelinesView()):(this.mergeRequestTabPanes.querySelector("#notes").style.display="block",this.mergeRequestTabs.querySelector(".notes-tab").classList.add("active"),"xs"!==p.a.getBreakpointSize()&&this.expandView(),this.resetViewContainer(),this.destroyPipelinesView()),this.setUrl&&this.setCurrentAction(e),this.eventHub.$emit("MergeRequestTabChange",this.getCurrentAction())}else if(e===this.currentAction){var s=document.querySelector(".content-wrapper"),a=document.querySelector(".tab-content");if(s&&a){var o=s.getBoundingClientRect().top,r=a.getBoundingClientRect().top-o-51;"scrollBehavior"in document.documentElement.style?window.scrollTo({top:r,behavior:"smooth"}):window.scrollTo(0,r)}}}},{key:"scrollToElement",value:function(e){if(j.hash){var t=0-(s()(".navbar-gitlab").outerHeight()+s()(".js-tabs-affix").outerHeight()),i=s()("".concat(e," ").concat(j.hash,":not(.match)"));i.length&&s.a.scrollTo(i[0],{offset:t})}}},{key:"setCurrentAction",value:function(e){this.currentAction=e;var t=j.pathname.replace(/\/(commits|diffs|pipelines)(\.html)?\/?$/,"");return"show"!==this.currentAction&&"new"!==this.currentAction&&(t+="/".concat(this.currentAction)),t+=j.search+j.hash,window.history.replaceState({url:t},document.title,t),t}},{key:"getCurrentAction",value:function(){return this.currentAction}},{key:"loadCommits",value:function(e){var t=this;this.commitsLoaded||(this.toggleLoading(!0),u.a.get("".concat(e,".json")).then(function(e){var i=e.data;document.querySelector("div#commits").innerHTML=i.html,Object(_.i)(s()(".js-timeago","div#commits")),t.commitsLoaded=!0,t.scrollToElement("#commits"),t.toggleLoading(!1)}).catch(function(){t.toggleLoading(!1),Object(d.a)("An error occurred while fetching this tab.")}))}},{key:"mountPipelinesView",value:function(){var e=document.querySelector("#commit-pipeline-table-view"),t=gl.CommitPipelinesTable;this.commitPipelinesTable=new t({propsData:{endpoint:e.dataset.endpoint,helpPagePath:e.dataset.helpPagePath,emptyStateSvgPath:e.dataset.emptyStateSvgPath,errorStateSvgPath:e.dataset.errorStateSvgPath,autoDevopsHelpPath:e.dataset.helpAutoDevopsPath}}).$mount(),e.appendChild(this.commitPipelinesTable.$el)}},{key:"loadDiff",value:function(e){var t=this;if(this.diffsLoaded)document.dispatchEvent(new CustomEvent("scroll"));else{var i=Object(m.D)(e);this.toggleLoading(!0),u.a.get("".concat(i,".json").concat(j.search)).then(function(e){var i=e.data,n=s()("#diffs");n.html(i.html),Object(h.a)(t.stickyTop),void 0!==gl.diffNotesCompileComponents&&gl.diffNotesCompileComponents(),Object(_.i)(s()(".js-timeago","div#diffs")),Object(y.a)(s()("#diffs .js-syntax-highlight")),t.isDiffAction(t.currentAction)&&t.expandViewContainer(),t.diffsLoaded=!0,new b.a,t.scrollToElement("#diffs"),s()(".diff-file").each(function(e,t){new f.a({openButtons:s()(t).find(".js-edit-blob-link-fork-toggler"),forkButtons:s()(t).find(".js-fork-suggestion-button"),cancelButtons:s()(t).find(".js-cancel-fork-suggestion-button"),suggestionSections:s()(t).find(".js-file-fork-suggestion-section"),actionTextPieces:s()(t).find(".js-file-fork-suggestion-section-action")}).init()});var a=Object(v.a)(),o=a&&n.find('.note[id="'.concat(a,'"]'));if(o&&o.length>0){var r=o.closest(".notes_content").hasClass("new")?"new":"old";w.a.instance.toggleDiffNote({target:o,lineType:r,forceShow:!0}),o[0].scrollIntoView(),Object(m.m)(),o.addClass("target")}t.toggleLoading(!1)}).catch(function(){t.toggleLoading(!1),Object(d.a)("An error occurred while fetching this tab.")})}}},{key:"toggleLoading",value:function(e){s()(".mr-loading-status .loading").toggleClass("hide",!e)}},{key:"diffViewType",value:function(){return s()(".inline-parallel-buttons button.active").data("viewType")}},{key:"isDiffAction",value:function(e){return"diffs"===e||"new/diffs"===e}},{key:"expandViewContainer",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=s()(".content-wrapper .container-fluid").not(".breadcrumbs");null===this.fixedLayoutPref&&(this.fixedLayoutPref=t.hasClass("container-limited")),"parallel"===this.diffViewType()||e?t.removeClass("container-limited"):t.toggleClass("container-limited",this.fixedLayoutPref)}},{key:"resetViewContainer",value:function(){null!==this.fixedLayoutPref&&s()(".content-wrapper .container-fluid").toggleClass("container-limited",this.fixedLayoutPref)}},{key:"shrinkView",value:function(){var e=s()(".js-sidebar-toggle i:visible");setTimeout(function(){e.is(".fa-angle-double-right")&&e.closest("a").trigger("click",[!0])},0)}},{key:"expandView",value:function(){if(!Object(m.A)(c.a.get("collapsed_gutter"))){var e=s()(".js-sidebar-toggle i:visible");setTimeout(function(){e.is(".fa-angle-double-left")&&e.closest("a").trigger("click",[!0])},0)}}},{key:"initAffix",value:function(){var e=s()(".js-tabs-affix");"xs"!==p.a.getBreakpointSize()&&e.length&&"static"===e.css("position")&&Object(C.a)(e)}}])&&k(t.prototype,i),n&&k(t,n),e}(),O=i(369),x=i(51);function D(e){var t;this.opts=null!=e?e:{},this.submitNoteForm=this.submitNoteForm.bind(this),this.$el=s()(".merge-request"),this.$(".show-all-commits").on("click",(t=this,function(){return t.showAllCommits()})),this.initTabs(),this.initMRBtnListeners(),this.initCommitMessageListeners(),this.closeReopenReportToggle=O.a.initCloseReopenReport(),s()("a.btn-close").length&&(this.taskList=new o.a({dataType:"merge_request",fieldName:"description",selector:".detail-page-description",onSuccess:function(e){document.querySelector("#task_status").innerText=e.task_status,document.querySelector("#task_status_short").innerText=e.task_status_short}}))}D.prototype.$=function(e){return this.$el.find(e)},D.prototype.initTabs=function(){window.mrTabs&&window.mrTabs.unbindEvents(),window.mrTabs=new S(this.opts)},D.prototype.showAllCommits=function(){return this.$(".first-commits").remove(),this.$(".all-commits").removeClass("hide")},D.prototype.initMRBtnListeners=function(){var e;return e=this,s()("a.btn-close, a.btn-reopen").on("click",function(t){var i,n;(n=(i=s()(this)).hasClass("btn-comment"))&&i.data("submitted")||(this.closeReopenReportToggle&&this.closeReopenReportToggle.setDisable(),n&&(i.hasClass("btn-comment-and-close")||i.hasClass("btn-comment-and-reopen"))&&(t.preventDefault(),t.stopImmediatePropagation(),e.submitNoteForm(i.closest("form"),i)))})},D.prototype.submitNoteForm=function(e,t){if(e.find("textarea.js-note-text").val().trim().length>0)return e.submit(),t.data("submitted",!0),t.trigger("click")},D.prototype.initCommitMessageListeners=function(){s()(document).on("click","a.js-with-description-link",function(e){var t=s()("textarea.js-commit-message");e.preventDefault(),t.val(t.data("messageWithDescription")),s()(".js-with-description-hint").hide(),s()(".js-without-description-hint").show()}),s()(document).on("click","a.js-without-description-link",function(e){var t=s()("textarea.js-commit-message");e.preventDefault(),t.val(t.data("messageWithoutDescription")),s()(".js-with-description-hint").show(),s()(".js-without-description-hint").hide()})},D.setStatusBoxToMerged=function(){s()(".detail-page-header .status-box").removeClass("status-box-open").addClass("status-box-mr-merged").find("span").text(Object(a.a)("Merged"))},D.decreaseCounter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=s()(".js-merge-counter"),i=Math.max(parseInt(t.text().replace(/[^\d]/,""),10)-e,0);t.text(Object(x.a)(i))},D.hideCloseButton=function(){var e=document.querySelector(".merge-request .js-issuable-actions"),t=e.querySelector("li.close-item");t?(t.classList.add("hidden"),e.querySelector("li.report-item").click()):e.querySelector(".btn-close").classList.add("hidden"),e.querySelector("li.js-close-item").classList.add("hidden")};t.a=D},355:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),s=i.n(n);function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cfg={callback:t.callback,startingInterval:t.startingInterval,maxInterval:t.maxInterval,hiddenInterval:t.hiddenInterval,incrementByFactorOf:t.incrementByFactorOf,lazyStart:t.lazyStart,immediateExecution:t.immediateExecution},this.state={intervalId:null,currentInterval:this.cfg.startingInterval,pageVisibility:"visible"},this.initInterval()}var t,i,n;return t=e,(i=[{key:"start",value:function(){var e=this,t=this.cfg,i=this.state;t.immediateExecution&&!this.isLoading&&(t.immediateExecution=!1,this.triggerCallback()),i.intervalId=window.setInterval(function(){e.isLoading||(e.triggerCallback(),e.getCurrentInterval()!==t.maxInterval&&(e.incrementInterval(),e.resume()))},this.getCurrentInterval())}},{key:"cancel",value:function(){this.setCurrentInterval(this.cfg.startingInterval),this.stopTimer()}},{key:"onVisibilityHidden",value:function(){this.cfg.hiddenInterval?(this.setCurrentInterval(this.cfg.hiddenInterval),this.resume()):this.cancel()}},{key:"resume",value:function(){this.stopTimer(),this.start()}},{key:"onVisibilityVisible",value:function(){this.cancel(),this.start()}},{key:"destroy",value:function(){this.cancel(),document.removeEventListener("visibilitychange",this.handleVisibilityChange),s()(document).off("visibilitychange").off("beforeunload")}},{key:"initInterval",value:function(){this.cfg.lazyStart||this.start(),this.initVisibilityChangeHandling(),this.initPageUnloadHandling()}},{key:"triggerCallback",value:function(){var e=this;this.isLoading=!0,this.cfg.callback().then(function(){e.isLoading=!1}).catch(function(t){throw e.isLoading=!1,t})}},{key:"initVisibilityChangeHandling",value:function(){document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this))}},{key:"initPageUnloadHandling",value:function(){var e=this;s()(document).on("beforeunload",function(){return e.cancel()})}},{key:"handleVisibilityChange",value:function(e){this.state.pageVisibility=e.target.visibilityState,(this.isPageVisible()?this.onVisibilityVisible:this.onVisibilityHidden).apply(this)}},{key:"getCurrentInterval",value:function(){return this.state.currentInterval}},{key:"setCurrentInterval",value:function(e){this.state.currentInterval=e}},{key:"incrementInterval",value:function(){var e=this.cfg,t=this.getCurrentInterval();if(!e.hiddenInterval||this.isPageVisible()){var i=t*e.incrementByFactorOf;i>e.maxInterval&&(i=e.maxInterval),this.setCurrentInterval(i)}}},{key:"isPageVisible",value:function(){return"visible"===this.state.pageVisibility}},{key:"stopTimer",value:function(){var e=this.state;e.intervalId=window.clearInterval(e.intervalId)}}])&&a(t.prototype,i),n&&a(t,n),e}()},363:function(e,t,i){"use strict";var n=i(124),s=i(123),a=i(238),o=i(159),r=i(126);t.a=function(){var e=JSON.parse(document.querySelector(".js-sidebar-options").innerHTML);new n.a({full_path:e.fullPath}),new s.a,new a.a(e.currentUser),new r.a,o.a.initialize()}},366:function(e,t,i){"use strict";var n=i(19),s=i(7),a=i(11),o=i(275);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}a.default.use(o.a);var l=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.singleton||(this.endpoint=t.endpoint,this.toggleSubscriptionEndpoint=t.toggleSubscriptionEndpoint,this.moveIssueEndpoint=t.moveIssueEndpoint,this.projectsAutocompleteEndpoint=t.projectsAutocompleteEndpoint,e.singleton=this),e.singleton}var t,i,n;return t=e,(i=[{key:"get",value:function(){return a.default.http.get(this.endpoint)}},{key:"update",value:function(e,t){return a.default.http.put(this.endpoint,function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},e,t),{emulateJSON:!0})}},{key:"getProjectsAutocomplete",value:function(e){return a.default.http.get(this.projectsAutocompleteEndpoint,{params:{search:e}})}},{key:"toggleSubscription",value:function(){return a.default.http.post(this.toggleSubscriptionEndpoint)}},{key:"moveIssue",value:function(e){return a.default.http.post(this.moveIssueEndpoint,{move_to_project_id:e})}}])&&r(t.prototype,i),n&&r(t,n),e}();function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.singleton||this.initSingleton(t),e.singleton}var t,i,n;return t=e,(i=[{key:"initSingleton",value:function(t){var i=t.currentUser,n=t.rootPath,s=t.editable;this.currentUser=i,this.rootPath=n,this.editable=s,this.timeEstimate=0,this.totalTimeSpent=0,this.humanTimeEstimate="",this.humanTimeSpent="",this.assignees=[],this.isFetching={assignees:!0,participants:!0,subscriptions:!0},this.isLoading={},this.autocompleteProjects=[],this.moveToProjectId=0,this.isLockDialogOpen=!1,this.participants=[],this.subscribed=null,e.singleton=this}},{key:"setAssigneeData",value:function(e){this.isFetching.assignees=!1,e.assignees&&(this.assignees=e.assignees)}},{key:"setTimeTrackingData",value:function(e){this.timeEstimate=e.time_estimate,this.totalTimeSpent=e.total_time_spent,this.humanTimeEstimate=e.human_time_estimate,this.humanTotalTimeSpent=e.human_total_time_spent}},{key:"setParticipantsData",value:function(e){this.isFetching.participants=!1,this.participants=e.participants||[]}},{key:"setSubscriptionsData",value:function(e){this.isFetching.subscriptions=!1,this.subscribed=e.subscribed||!1}},{key:"setFetchingState",value:function(e,t){this.isFetching[e]=t}},{key:"setLoadingState",value:function(e,t){this.isLoading[e]=t}},{key:"addAssignee",value:function(e){this.findAssignee(e)||this.assignees.push(e)}},{key:"findAssignee",value:function(e){return this.assignees.find(function(t){return t.id===e.id})}},{key:"removeAssignee",value:function(e){e&&(this.assignees=this.assignees.filter(function(t){return t.id!==e.id}))}},{key:"removeAllAssignees",value:function(){this.assignees=[]}},{key:"setAutocompleteProjects",value:function(e){this.autocompleteProjects=e}},{key:"setSubscribedState",value:function(e){this.subscribed=e}},{key:"setMoveToProjectId",value:function(e){this.moveToProjectId=e}}])&&c(t.prototype,i),n&&c(t,n),e}();function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.singleton||this.initSingleton(t),e.singleton}var t,i,a;return t=e,(i=[{key:"initSingleton",value:function(t){this.store=new u(t),this.service=new l({endpoint:t.endpoint,toggleSubscriptionEndpoint:t.toggleSubscriptionEndpoint,moveIssueEndpoint:t.moveIssueEndpoint,projectsAutocompleteEndpoint:t.projectsAutocompleteEndpoint}),e.singleton=this}},{key:"assignYourself",value:function(){this.store.addAssignee(this.store.currentUser)}},{key:"saveAssignees",value:function(e){var t=this.store.assignees.map(function(e){return e.id});return this.service.update(e,0===t.length?[0]:t)}},{key:"setMoveToProjectId",value:function(e){this.store.setMoveToProjectId(e)}},{key:"fetch",value:function(){var e=this;return this.service.get().then(function(e){return e.json()}).then(function(t){e.processFetchedData(t)}).catch(function(){return new s.a("Error occurred when fetching sidebar data")})}},{key:"processFetchedData",value:function(e){this.store.setAssigneeData(e),this.store.setTimeTrackingData(e),this.store.setParticipantsData(e),this.store.setSubscriptionsData(e)}},{key:"toggleSubscription",value:function(){var e=this;return this.store.setFetchingState("subscriptions",!0),this.service.toggleSubscription().then(function(){e.store.setSubscribedState(!e.store.subscribed),e.store.setFetchingState("subscriptions",!1)}).catch(function(t){throw e.store.setFetchingState("subscriptions",!1),t})}},{key:"fetchAutocompleteProjects",value:function(e){var t=this;return this.service.getProjectsAutocomplete(e).then(function(e){return e.json()}).then(function(e){return t.store.setAutocompleteProjects(e),t.store.autocompleteProjects})}},{key:"moveIssue",value:function(){return this.service.moveIssue(this.store.moveToProjectId).then(function(e){return e.json()}).then(function(e){window.location.pathname!==e.web_url&&Object(n.g)(e.web_url)})}}])&&d(t.prototype,i),a&&d(t,a),e}(),h=i(0),p=i.n(h),m=i(5),g=i.n(m),v=(i(355),i(299)),b=i(57),_={components:{IssuableTimeTracker:v.a},data:function(){return{mediator:new f,store:new u}},mounted:function(){this.listenForQuickActions()},methods:{listenForQuickActions:function(){var e=this;p()(document).on("ajax:success",".gfm-form",this.quickActionListened),b.a.$on("timeTrackingUpdated",function(t){e.quickActionListened(null,t)})},quickActionListened:function(e,t){var i;(i=void 0!==t&&t.commands_changes?Object.keys(t.commands_changes):[])&&g.a.intersection(["spend_time","time_estimate"],i).length&&this.mediator.fetch()}}},y=i(3),w=Object(y.a)(_,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block"},[t("issuable-time-tracker",{attrs:{"time-estimate":this.store.timeEstimate,"time-spent":this.store.totalTimeSpent,"human-time-estimate":this.store.humanTimeEstimate,"human-time-spent":this.store.humanTotalTimeSpent,"root-path":this.store.rootPath}})],1)},[],!1,null,null,null);w.options.__file="sidebar_time_tracking.vue";var C=w.exports,k=i(241),j=i(246),S={name:"SidebarAssignees",components:{AssigneeTitle:k.a,Assignees:j.a},props:{mediator:{type:Object,required:!0},field:{type:String,required:!0},signedIn:{type:Boolean,required:!1,default:!1},issuableType:{type:String,require:!0,default:"issue"}},data:function(){return{store:new u,loading:!1}},created:function(){this.removeAssignee=this.store.removeAssignee.bind(this.store),this.addAssignee=this.store.addAssignee.bind(this.store),this.removeAllAssignees=this.store.removeAllAssignees.bind(this.store),b.a.$on("sidebar.removeAssignee",this.removeAssignee),b.a.$on("sidebar.addAssignee",this.addAssignee),b.a.$on("sidebar.removeAllAssignees",this.removeAllAssignees),b.a.$on("sidebar.saveAssignees",this.saveAssignees)},beforeDestroy:function(){b.a.$off("sidebar.removeAssignee",this.removeAssignee),b.a.$off("sidebar.addAssignee",this.addAssignee),b.a.$off("sidebar.removeAllAssignees",this.removeAllAssignees),b.a.$off("sidebar.saveAssignees",this.saveAssignees)},methods:{assignSelf:function(){this.$el.parentElement.dispatchEvent(new Event("assignYourself")),this.mediator.assignYourself(),this.saveAssignees()},saveAssignees:function(){function e(){this.loading=!1}this.loading=!0,this.mediator.saveAssignees(this.field).then(e.bind(this)).catch(function(){return e(),new s.a("Error occurred when saving assignees")})}}},O=Object(y.a)(S,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("assignee-title",{attrs:{"number-of-assignees":e.store.assignees.length,loading:e.loading||e.store.isFetching.assignees,editable:e.store.editable,"show-toggle":!e.signedIn}}),e._v(" "),e.store.isFetching.assignees?e._e():i("assignees",{staticClass:"value",attrs:{"root-path":e.store.rootPath,users:e.store.assignees,editable:e.store.editable,"issuable-type":e.issuableType},on:{"assign-self":e.assignSelf}})],1)},[],!1,null,null,null);O.options.__file="sidebar_assignees.vue";var x=O.exports,D=i(1),T=i(41),E=i(15),P={props:{isConfidential:{required:!0,type:Boolean},updateConfidentialAttribute:{required:!0,type:Function}},computed:{toggleButtonText:function(){return this.isConfidential?"Turn Off":"Turn On"},updateConfidentialBool:function(){return!this.isConfidential}},methods:{closeForm:function(){b.a.$emit("closeConfidentialityForm"),p()(this.$el).trigger("hidden.gl.dropdown")},submitForm:function(){this.closeForm(),this.updateConfidentialAttribute(this.updateConfidentialBool)}}},I=Object(y.a)(P,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sidebar-item-warning-message-actions"},[i("button",{staticClass:"btn btn-default append-right-10",attrs:{type:"button"},on:{click:e.closeForm}},[e._v("\n    "+e._s(e.__("Cancel"))+"\n  ")]),e._v(" "),i("button",{staticClass:"btn btn-close",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n    "+e._s(e.toggleButtonText)+"\n  ")])])},[],!1,null,null,null);I.options.__file="edit_form_buttons.vue";var N={components:{editFormButtons:I.exports},props:{isConfidential:{required:!0,type:Boolean},updateConfidentialAttribute:{required:!0,type:Function}},computed:{confidentialityOnWarning:function(){return Object(D.e)("confidentiality|You are going to turn on the confidentiality. This means that only team members with <strong>at least Reporter access</strong> are able to see and leave comments on the issue.")},confidentialityOffWarning:function(){return Object(D.e)("confidentiality|You are going to turn off the confidentiality. This means <strong>everyone</strong> will be able to see and leave a comment on this issue.")}}},L=Object(y.a)(N,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown show"},[i("div",{staticClass:"dropdown-menu sidebar-item-warning-message"},[i("div",[e.isConfidential?i("p",{domProps:{innerHTML:e._s(e.confidentialityOffWarning)}}):i("p",{domProps:{innerHTML:e._s(e.confidentialityOnWarning)}}),e._v(" "),i("edit-form-buttons",{attrs:{"is-confidential":e.isConfidential,"update-confidential-attribute":e.updateConfidentialAttribute}})],1)])])},[],!1,null,null,null);L.options.__file="edit_form.vue";var q={components:{editForm:L.exports,Icon:E.a},directives:{tooltip:T.a},props:{isConfidential:{required:!0,type:Boolean},isEditable:{required:!0,type:Boolean},service:{required:!0,type:Object}},data:function(){return{edit:!1}},computed:{confidentialityIcon:function(){return this.isConfidential?"eye-slash":"eye"},tooltipLabel:function(){return this.isConfidential?Object(D.a)("Confidential"):Object(D.a)("Not confidential")}},created:function(){b.a.$on("closeConfidentialityForm",this.toggleForm)},beforeDestroy:function(){b.a.$off("closeConfidentialityForm",this.toggleForm)},methods:{toggleForm:function(){this.edit=!this.edit},updateConfidentialAttribute:function(e){this.service.update("issue",{confidential:e}).then(function(){return window.location.reload()}).catch(function(){Object(s.a)(Object(D.a)("Something went wrong trying to change the confidentiality of this issue"))})}}},M=Object(y.a)(q,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"block issuable-sidebar-item confidentiality"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.tooltipLabel,"data-container":"body","data-placement":"left","data-boundary":"viewport"},on:{click:e.toggleForm}},[i("icon",{attrs:{name:e.confidentialityIcon,"aria-hidden":"true"}})],1),e._v(" "),i("div",{staticClass:"title hide-collapsed"},[e._v("\n    "+e._s(e.__("Confidentiality"))+"\n    "),e.isEditable?i("a",{staticClass:"float-right confidential-edit",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toggleForm(t)}}},[e._v("\n      "+e._s(e.__("Edit"))+"\n    ")]):e._e()]),e._v(" "),i("div",{staticClass:"value sidebar-item-value hide-collapsed"},[e.edit?i("editForm",{attrs:{"is-confidential":e.isConfidential,"update-confidential-attribute":e.updateConfidentialAttribute}}):e._e(),e._v(" "),e.isConfidential?i("div",{staticClass:"value sidebar-item-value hide-collapsed"},[i("icon",{staticClass:"sidebar-item-icon inline is-active",attrs:{size:16,name:"eye-slash","aria-hidden":"true"}}),e._v("\n      "+e._s(e.__("This issue is confidential"))+"\n    ")],1):i("div",{staticClass:"no-value sidebar-item-value"},[i("icon",{staticClass:"sidebar-item-icon inline",attrs:{size:16,name:"eye","aria-hidden":"true"}}),e._v("\n      "+e._s(e.__("Not confidential"))+"\n    ")],1)],1)])},[],!1,null,null,null);M.options.__file="confidential_issue_sidebar.vue";var A=M.exports;function F(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B(e){return e>0}var R=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediator=t,this.$dropdownToggle=p()(i),this.$confirmButton=p()(n),this.onConfirmClickedWrapper=this.onConfirmClicked.bind(this)}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.initDropdown(),this.addEventListeners()}},{key:"destroy",value:function(){this.removeEventListeners()}},{key:"initDropdown",value:function(){var e=this;this.$dropdownToggle.glDropdown({search:{fields:["name_with_namespace"]},showMenuAbove:!0,selectable:!0,filterable:!0,filterRemote:!0,multiSelect:!1,shouldPropagate:!1,data:function(t,i){e.mediator.fetchAutocompleteProjects(t).then(i).catch(function(){return new window.Flash("An error occurred while fetching projects autocomplete.")})},renderRow:function(e){return'\n        <li>\n          <a href="#" class="js-move-issue-dropdown-item">\n            '.concat(g.a.escape(e.name_with_namespace),"\n          </a>\n        </li>\n      ")},clicked:function(t){var i=t.selectedObj,n=t.isMarking?i.id:0;e.mediator.setMoveToProjectId(n),e.$confirmButton.prop("disabled",!B(n))}})}},{key:"addEventListeners",value:function(){this.$confirmButton.on("click",this.onConfirmClickedWrapper)}},{key:"removeEventListeners",value:function(){this.$confirmButton.off("click",this.onConfirmClickedWrapper)}},{key:"onConfirmClicked",value:function(){var e=this;B(this.mediator.store.moveToProjectId)&&(this.$confirmButton.disable().addClass("is-loading"),this.mediator.moveIssue().catch(function(){window.Flash("An error occurred while moving the issue."),e.$confirmButton.enable().removeClass("is-loading")}))}}])&&F(t.prototype,i),n&&F(t,n),e}(),$=i(203),H={props:{isLocked:{required:!0,type:Boolean},updateLockedAttribute:{required:!0,type:Function}},computed:{buttonText:function(){return this.isLocked?Object(D.a)("Unlock"):Object(D.a)("Lock")},toggleLock:function(){return!this.isLocked}},methods:{closeForm:function(){b.a.$emit("closeLockForm"),p()(this.$el).trigger("hidden.gl.dropdown")},submitForm:function(){this.closeForm(),this.updateLockedAttribute(this.toggleLock)}}},U=Object(y.a)(H,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sidebar-item-warning-message-actions"},[i("button",{staticClass:"btn btn-default append-right-10",attrs:{type:"button"},on:{click:e.closeForm}},[e._v("\n    "+e._s(e.__("Cancel"))+"\n  ")]),e._v(" "),i("button",{staticClass:"btn btn-close",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])])},[],!1,null,null,null);U.options.__file="edit_form_buttons.vue";var W={components:{editFormButtons:U.exports},mixins:[$.a],props:{isLocked:{required:!0,type:Boolean},updateLockedAttribute:{required:!0,type:Function}},computed:{lockWarning:function(){return Object(D.f)(Object(D.a)("Lock this %{issuableDisplayName}? Only <strong>project members</strong> will be able to comment."),{issuableDisplayName:this.issuableDisplayName})},unlockWarning:function(){return Object(D.f)(Object(D.a)("Unlock this %{issuableDisplayName}? <strong>Everyone</strong> will be able to comment."),{issuableDisplayName:this.issuableDisplayName})}}},V=Object(y.a)(W,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown show"},[i("div",{staticClass:"dropdown-menu sidebar-item-warning-message"},[e.isLocked?i("p",{staticClass:"text",domProps:{innerHTML:e._s(e.unlockWarning)}}):i("p",{staticClass:"text",domProps:{innerHTML:e._s(e.lockWarning)}}),e._v(" "),i("edit-form-buttons",{attrs:{"is-locked":e.isLocked,"update-locked-attribute":e.updateLockedAttribute}})],1)])},[],!1,null,null,null);V.options.__file="edit_form.vue";var z={components:{editForm:V.exports,Icon:E.a},directives:{tooltip:T.a},mixins:[$.a],props:{isLocked:{required:!0,type:Boolean},isEditable:{required:!0,type:Boolean},mediator:{required:!0,type:Object,validator:function(e){return e.service&&e.service.update&&e.store}}},computed:{lockIcon:function(){return this.isLocked?"lock":"lock-open"},isLockDialogOpen:function(){return this.mediator.store.isLockDialogOpen},tooltipLabel:function(){return this.isLocked?Object(D.a)("Locked"):Object(D.a)("Unlocked")}},created:function(){b.a.$on("closeLockForm",this.toggleForm)},beforeDestroy:function(){b.a.$off("closeLockForm",this.toggleForm)},methods:{toggleForm:function(){this.mediator.store.isLockDialogOpen=!this.mediator.store.isLockDialogOpen},updateLockedAttribute:function(e){var t=this;this.mediator.service.update(this.issuableType,{discussion_locked:e}).then(function(){return window.location.reload()}).catch(function(){return Object(s.a)(Object(D.f)(Object(D.a)("Something went wrong trying to change the locked state of this %{issuableDisplayName}"),{issuableDisplayName:t.issuableDisplayName}))})}}},G=Object(y.a)(z,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"block issuable-sidebar-item lock"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.tooltipLabel,"data-container":"body","data-placement":"left","data-boundary":"viewport"},on:{click:e.toggleForm}},[i("icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.lockIcon}})],1),e._v(" "),i("div",{staticClass:"title hide-collapsed"},[e._v("\n    "+e._s(e.sprintf(e.__("Lock %{issuableDisplayName}"),{issuableDisplayName:e.issuableDisplayName}))+"\n    "),e.isEditable?i("button",{staticClass:"float-right lock-edit",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.toggleForm(t)}}},[e._v("\n      "+e._s(e.__("Edit"))+"\n    ")]):e._e()]),e._v(" "),i("div",{staticClass:"value sidebar-item-value hide-collapsed"},[e.isLockDialogOpen?i("edit-form",{attrs:{"is-locked":e.isLocked,"update-locked-attribute":e.updateLockedAttribute,"issuable-type":e.issuableType}}):e._e(),e._v(" "),e.isLocked?i("div",{staticClass:"value sidebar-item-value"},[i("icon",{staticClass:"sidebar-item-icon inline is-active",attrs:{size:16,name:"lock"}}),e._v("\n      "+e._s(e.__("Locked"))+"\n    ")],1):i("div",{staticClass:"no-value sidebar-item-value hide-collapsed"},[i("icon",{staticClass:"sidebar-item-icon inline",attrs:{size:16,name:"lock-open"}}),e._v(" "+e._s(e.__("Unlocked"))+"\n    ")],1)],1)])},[],!1,null,null,null);G.options.__file="lock_issue_sidebar.vue";var Y=G.exports,J=i(92),K=i(10),Q={directives:{tooltip:T.a},components:{userAvatarImage:J.a,GlLoadingIcon:K.e},props:{loading:{type:Boolean,required:!1,default:!1},participants:{type:Array,required:!1,default:function(){return[]}},numberOfLessParticipants:{type:Number,required:!1,default:7}},data:function(){return{isShowingMoreParticipants:!1}},computed:{lessParticipants:function(){return this.participants.slice(0,this.numberOfLessParticipants)},visibleParticipants:function(){return this.isShowingMoreParticipants?this.participants:this.lessParticipants},hasMoreParticipants:function(){return this.participants.length>this.numberOfLessParticipants},toggleLabel:function(){return this.isShowingMoreParticipants?Object(D.a)("- show less"):Object(D.f)(Object(D.a)("+ %{moreCount} more"),{moreCount:this.participants.length-this.numberOfLessParticipants})},participantLabel:function(){return Object(D.f)(Object(D.d)("%{count} participant","%{count} participants",this.participants.length),{count:this.loading?"":this.participantCount})},participantCount:function(){return this.participants.length}},methods:{toggleMoreParticipants:function(){this.isShowingMoreParticipants=!this.isShowingMoreParticipants},onClickCollapsedIcon:function(){this.$emit("toggleSidebar")}}},X=Object(y.a)(Q,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.participantLabel,"data-container":"body","data-placement":"left","data-boundary":"viewport"},on:{click:e.onClickCollapsedIcon}},[i("i",{staticClass:"fa fa-users",attrs:{"aria-hidden":"true"}}),e._v(" "),e.loading?i("gl-loading-icon",{staticClass:"js-participants-collapsed-loading-icon"}):i("span",{staticClass:"js-participants-collapsed-count"},[e._v(" "+e._s(e.participantCount)+" ")])],1),e._v(" "),i("div",{staticClass:"title hide-collapsed"},[e.loading?i("gl-loading-icon",{staticClass:"js-participants-expanded-loading-icon",attrs:{inline:!0}}):e._e(),e._v("\n    "+e._s(e.participantLabel)+"\n  ")],1),e._v(" "),i("div",{staticClass:"participants-list hide-collapsed"},e._l(e.visibleParticipants,function(e){return i("div",{key:e.id,staticClass:"participants-author js-participants-author"},[i("a",{staticClass:"author-link",attrs:{href:e.web_url}},[i("user-avatar-image",{attrs:{lazy:!0,"img-src":e.avatar_url,size:24,"tooltip-text":e.name,"css-classes":"avatar-inline","tooltip-placement":"bottom"}})],1)])}),0),e._v(" "),e.hasMoreParticipants?i("div",{staticClass:"participants-more hide-collapsed"},[i("button",{staticClass:"btn-transparent btn-blank js-toggle-participants-button",attrs:{type:"button"},on:{click:e.toggleMoreParticipants}},[e._v("\n      "+e._s(e.toggleLabel)+"\n    ")])]):e._e()])},[],!1,null,null,null);X.options.__file="participants.vue";var Z={components:{participants:X.exports},props:{mediator:{type:Object,required:!0}},data:function(){return{store:new u}}},ee=Object(y.a)(Z,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block participants"},[t("participants",{attrs:{loading:this.store.isFetching.participants,participants:this.store.participants,"number-of-less-participants":7}})],1)},[],!1,null,null,null);ee.options.__file="sidebar_participants.vue";var te=ee.exports,ie={components:{subscriptions:i(245).a},props:{mediator:{type:Object,required:!0}},data:function(){return{store:new u}},methods:{onToggleSubscription:function(){this.mediator.toggleSubscription().catch(function(){Object(s.a)(Object(D.a)("Error occurred when toggling the notification subscription"))})}}},ne=Object(y.a)(ie,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block subscriptions"},[t("subscriptions",{attrs:{loading:this.store.isFetching.subscriptions,subscribed:this.store.subscribed},on:{toggleSubscription:this.onToggleSubscription}})],1)},[],!1,null,null,null);ne.options.__file="sidebar_subscriptions.vue";var se=ne.exports,ae=i(78);function oe(e){var t;!function(e){var t=document.getElementById("js-vue-sidebar-assignees");t&&new a.default({el:t,components:{SidebarAssignees:x},render:function(i){return i("sidebar-assignees",{props:{mediator:e,field:t.dataset.field,signedIn:t.hasAttribute("data-signed-in"),issuableType:gl.utils.isInIssuePage()?"issue":"merge_request"}})}})}(e),function(e){var t=document.getElementById("js-confidential-entry-point");if(t){var i=document.getElementById("js-confidential-issue-data"),n=JSON.parse(i.innerHTML);new(a.default.extend(A))({propsData:{isConfidential:n.is_confidential,isEditable:n.is_editable,service:e.service}}).$mount(t)}}(e),function(e){var t=document.getElementById("js-lock-entry-point");if(t){var i=document.getElementById("js-lock-issue-data"),n=JSON.parse(i.innerHTML);new(a.default.extend(Y))({propsData:{isLocked:n.is_locked,isEditable:n.is_editable,mediator:e,issuableType:gl.utils.isInIssuePage()?"issue":"merge_request"}}).$mount(t)}}(e),function(e){var t=document.querySelector(".js-sidebar-participants-entry-point");t&&new a.default({el:t,components:{sidebarParticipants:te},render:function(t){return t("sidebar-participants",{props:{mediator:e}})}})}(e),function(e){var t=document.querySelector(".js-sidebar-subscriptions-entry-point");t&&new a.default({el:t,components:{sidebarSubscriptions:se},render:function(t){return t("sidebar-subscriptions",{props:{mediator:e}})}})}(e),new R(e,p()(".js-move-issue"),p()(".js-move-issue-confirmation-button")).init(),(t=document.getElementById("issuable-time-tracker"))&&new a.default({el:t,components:{SidebarTimeTracking:C},render:function(e){return e("sidebar-time-tracking",{})}})}a.default.use(ae.a);t.a=function(){var e=new f(JSON.parse(document.querySelector(".js-sidebar-options").innerHTML));e.fetch(),oe(e)}},367:function(e,t,i){"use strict";var n=i(11),s=i(292),a=i(293),o=i(298),r=i(195),l=i(13),c=i(223),u={components:{TablePagination:r.a},mixins:[o.a,c.a],props:{endpoint:{type:String,required:!0},helpPagePath:{type:String,required:!0},autoDevopsHelpPath:{type:String,required:!0},errorStateSvgPath:{type:String,required:!0},viewType:{type:String,required:!1,default:"child"}},data:function(){var e=new a.a;return{store:e,state:e.state,page:Object(l.i)("page")||"1",requestData:{}}},computed:{shouldRenderTable:function(){return!this.isLoading&&this.state.pipelines.length>0&&!this.hasError},shouldRenderErrorState:function(){return this.hasError&&!this.isLoading}},created:function(){this.service=new s.a(this.endpoint),this.requestData={page:this.page}},methods:{successCallback:function(e){var t=e.data.pipelines||e.data;this.store.storePagination(e.headers),this.setCommonData(t);var i=new CustomEvent("update-pipelines-count",{detail:{pipelines:e.data}});this.$el.parentElement&&this.$el.parentElement.dispatchEvent(i)}}},d=i(3),f=Object(d.a)(u,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content-list pipelines"},[e.isLoading?i("gl-loading-icon",{staticClass:"prepend-top-20",attrs:{label:e.s__("Pipelines|Loading Pipelines"),size:3}}):e.shouldRenderErrorState?i("svg-blank-state",{attrs:{"svg-path":e.errorStateSvgPath,message:e.s__("Pipelines|There was an error fetching the pipelines.\n    Try again in a few moments or contact your support team.")}}):e.shouldRenderTable?i("div",{staticClass:"table-holder"},[i("pipelines-table-component",{attrs:{pipelines:e.state.pipelines,"update-graph-dropdown":e.updateGraphDropdown,"auto-devops-help-path":e.autoDevopsHelpPath,"view-type":e.viewType}})],1):e._e(),e._v(" "),e.shouldRenderPagination?i("table-pagination",{attrs:{change:e.onChangePage,"page-info":e.state.pageInfo}}):e._e()],1)},[],!1,null,null,null);f.options.__file="pipelines_table.vue";var h=f.exports,p=n.default.extend(h);window.gl=window.gl||{},window.gl.CommitPipelinesTable=p;t.a=function(){var e=document.querySelector("#commit-pipeline-table-view");if(e&&(e.addEventListener("update-pipelines-count",function(e){e.detail.pipelines&&e.detail.pipelines.count&&e.detail.pipelines.count.all&&(document.querySelector(".js-pipelines-mr-count").textContent=e.detail.pipelines.count.all)}),void 0===e.dataset.disableInitialization)){var t=new p({propsData:{endpoint:e.dataset.endpoint,helpPagePath:e.dataset.helpPagePath,emptyStateSvgPath:e.dataset.emptyStateSvgPath,errorStateSvgPath:e.dataset.errorStateSvgPath,autoDevopsHelpPath:e.dataset.helpAutoDevopsPath}}).$mount();e.appendChild(t.$el)}}},368:function(e,t,i){"use strict";var n=i(69),s=i.n(n),a=i(89),o=i(96),r=i(7),l=i(1),c=i(41),u=i(10),d=i(6);function f(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoint=t}var t,i,n;return t=e,(i=[{key:"fetchData",value:function(){return d.a.get(this.endpoint)}}])&&f(t.prototype,i),n&&f(t,n),e}(),p={directives:{tooltip:c.a},components:{ciIcon:a.a,GlLoadingIcon:u.e},props:{endpoint:{type:String,required:!0}},data:function(){return{ciStatus:{},isLoading:!0}},computed:{statusTitle:function(){return Object(l.f)(Object(l.e)("Commits|Commit: %{commitText}"),{commitText:this.ciStatus.text})}},mounted:function(){this.service=new h(this.endpoint),this.initPolling()},methods:{successCallback:function(e){var t=e.data.pipelines;t.length>0&&(this.ciStatus=t[0].details.status),this.isLoading=!1},errorCallback:function(){this.ciStatus={text:"not found",icon:"status_notfound",group:"notfound"},this.isLoading=!1,Object(r.a)(Object(l.e)("Something went wrong on our end"))},initPolling:function(){var e=this;this.poll=new o.a({resource:this.service,method:"fetchData",successCallback:function(t){return e.successCallback(t)},errorCallback:this.errorCallback}),s.a.hidden()?this.fetchPipelineCommitData():(this.isLoading=!0,this.poll.makeRequest()),s.a.change(function(){s.a.hidden()?e.poll.stop():e.poll.restart()})},fetchPipelineCommitData:function(){this.service.fetchData().then(this.successCallback).catch(this.errorCallback)}},destroy:function(){this.poll.stop()}},m=i(3),g=Object(m.a)(p,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ci-status-link"},[this.isLoading?t("gl-loading-icon",{attrs:{size:3,label:"Loading pipeline status"}}):t("a",{attrs:{href:this.ciStatus.details_path}},[t("ci-icon",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:this.statusTitle,"aria-label":this.statusTitle,status:this.ciStatus,size:24,"data-container":"body"}})],1)],1)},[],!1,null,null,null);g.options.__file="commit_pipeline_status_component.vue";t.a=g.exports},369:function(e,t,i){"use strict";var n=i(175),s=i(156);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=Object.assign({},s.a),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dropdownTrigger=t.dropdownTrigger,this.dropdownList=t.dropdownList,this.button=t.button}var t,i,s;return t=e,(i=[{key:"initDroplab",value:function(){this.reopenItem=this.dropdownList.querySelector(".reopen-item"),this.closeItem=this.dropdownList.querySelector(".close-item"),this.droplab=new n.a;var e=this.setConfig();this.droplab.init(this.dropdownTrigger,this.dropdownList,[r],e)}},{key:"updateButton",value:function(e){this.toggleButtonType(e),this.button.blur()}},{key:"toggleButtonType",value:function(e){var t=a(this.getButtonTypes(e),2),i=t[0],n=t[1];i.classList.remove("hidden"),i.classList.add("droplab-item-selected"),n.classList.add("hidden"),n.classList.remove("droplab-item-selected"),i.click()}},{key:"getButtonTypes",value:function(e){return e?[this.reopenItem,this.closeItem]:[this.closeItem,this.reopenItem]}},{key:"setDisable",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?(this.button.setAttribute("disabled","true"),this.dropdownTrigger.setAttribute("disabled","true")):(this.button.removeAttribute("disabled"),this.dropdownTrigger.removeAttribute("disabled"))}},{key:"setConfig",value:function(){return{InputSetter:[{input:this.button,valueAttribute:"data-text",inputAttribute:"data-value"},{input:this.button,valueAttribute:"data-text",inputAttribute:"title"},{input:this.button,valueAttribute:"data-button-class",inputAttribute:"class"},{input:this.dropdownTrigger,valueAttribute:"data-toggle-class",inputAttribute:"class"},{input:this.button,valueAttribute:"data-url",inputAttribute:"href"},{input:this.button,valueAttribute:"data-method",inputAttribute:"data-method"}]}}}])&&o(t.prototype,i),s&&o(t,s),e}();var c={initCloseReopenReport:function(){var e=document.querySelector(".js-issuable-close-dropdown");if(e){var t=e.querySelector(".js-issuable-close-toggle"),i=e.querySelector(".js-issuable-close-menu"),n=e.querySelector(".js-issuable-close-button"),s=new l({dropdownTrigger:t,dropdownList:i,button:n});return s.initDroplab(),s}}};t.a=c},393:function(e,t,i){"use strict";var n=i(13),s=i(131);t.a={methods:{diffsJump:function(e){var t='ul.notes[data-discussion-id="'.concat(e,'"]');s.a.$once("scrollToDiscussion",function(){var e=document.querySelector(t);return!!e&&(Object(n.G)(e),!0)}),this.expandDiscussion({discussionId:e})},discussionJump:function(e){var t='div.discussion[data-discussion-id="'.concat(e,'"]'),i=document.querySelector(t);return this.expandDiscussion({discussionId:e}),!!i&&(Object(n.G)(i),!0)},jumpToDiscussion:function(e){var t=this;if(e){var i=window.mrTabs.currentAction;"diffs"===i?this.diffsJump(e):"commits"===i||"pipelines"===i?(window.mrTabs.eventHub.$once("MergeRequestTabChange",function(){setTimeout(function(){return t.discussionJump(e)},0)}),window.mrTabs.tabShown("show")):this.discussionJump(e)}}}}},395:function(e,t,i){"use strict";var n=i(5),s=i.n(n),a=i(18),o=i(10),r=i(51),l=i(1),c=i(312),u=i(15),d=i(145),f=i(7),h=i(67),p=i(91),m=i(309),g=i(265),v=i(93),b={components:{Icon:u.a,UserAvatarLink:p.a,TimeAgoTooltip:v.a},props:{collapsed:{type:Boolean,required:!0},replies:{type:Array,required:!0}},computed:{lastReply:function(){return this.replies[this.replies.length-1]},uniqueAuthors:function(){var e=this.replies.map(function(e){return e.author||{}});return s.a.uniq(e,function(e){return e.username})},className:function(){return this.collapsed?"collapsed":"expanded"}},methods:{toggle:function(){this.$emit("toggle")}}},_=i(3),y=Object(_.a)(b,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"replies-toggle js-toggle-replies",class:e.className},[e.collapsed?[i("icon",{attrs:{name:"chevron-right"},nativeOn:{click:function(t){return e.toggle(t)}}}),e._v(" "),i("div",e._l(e.uniqueAuthors,function(e){return i("user-avatar-link",{key:e.username,attrs:{"link-href":e.path,"img-alt":e.name,"img-src":e.avatar_url,"img-size":26,"tooltip-text":e.name,"tooltip-placement":"bottom"}})}),1),e._v(" "),i("button",{staticClass:"btn btn-link js-replies-text qa-expand-replies",attrs:{type:"button"},on:{click:e.toggle}},[e._v("\n      "+e._s(e.replies.length)+" "+e._s(e.n__("reply","replies",e.replies.length))+"\n    ")]),e._v("\n    "+e._s(e.__("Last reply by"))+"\n    "),i("a",{staticClass:"btn btn-link author-link",attrs:{href:e.lastReply.author.path}},[e._v("\n      "+e._s(e.lastReply.author.name)+"\n    ")]),e._v(" "),i("time-ago-tooltip",{attrs:{time:e.lastReply.created_at,"tooltip-placement":"bottom"}})]:i("span",{staticClass:"collapse-replies-btn js-collapse-replies qa-collapse-replies",on:{click:e.toggle}},[i("icon",{attrs:{name:"chevron-down"}}),e._v(" "+e._s(e.s__("Notes|Collapse replies"))+"\n  ")],1)],2)},[],!1,null,null,null);y.options.__file="toggle_replies_widget.vue";var w=y.exports,C=i(338),k=i(340),j=i(264),S=i(397),O=i(321),x=i(399),D=i(178);function T(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){E(e,t,i[t])})}return e}function E(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var P=/^(\+|-| )/,I={components:{DiffFileHeader:S.a,GlSkeletonLoading:o.k,DiffViewer:O.a,ImageDiffOverlay:x.a},props:{discussion:{type:Object,required:!0}},data:function(){return{error:!1}},computed:T({},Object(a.d)({projectPath:function(e){return e.diffs.projectPath}}),{diffMode:function(){return Object(D.f)(this.discussion.diff_file)},hasTruncatedDiffLines:function(){return this.discussion.truncated_diff_lines&&0!==this.discussion.truncated_diff_lines.length}}),mounted:function(){this.hasTruncatedDiffLines||this.fetchDiff()},methods:T({},Object(a.b)(["fetchDiscussionDiffLines"]),{fetchDiff:function(){var e=this;this.error=!1,this.fetchDiscussionDiffLines(this.discussion).then(this.highlight).catch(function(){e.error=!0})},trimChar:function(e){return e.replace(P,"")}}),userColorSchemeClass:window.gon.user_color_scheme},N=Object(_.a)(I,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"diff-file file-holder",class:{"text-file":e.discussion.diff_file.text}},[i("diff-file-header",{attrs:{"discussion-path":e.discussion.discussion_path,"diff-file":e.discussion.diff_file,"can-current-user-fork":!1,expanded:!e.discussion.diff_file.collapsed}}),e._v(" "),e.discussion.diff_file.text?i("div",{staticClass:"diff-content code",class:e.$options.userColorSchemeClass},[i("table",[e.hasTruncatedDiffLines?e._m(0):e._e(),e._v(" "),e.hasTruncatedDiffLines?e._e():i("tr",{staticClass:"line_holder line-holder-placeholder"},[i("td",{staticClass:"old_line diff-line-num"}),e._v(" "),i("td",{staticClass:"new_line diff-line-num"}),e._v(" "),e.error?i("td",{staticClass:"js-error-lazy-load-diff diff-loading-error-block"},[e._v("\n          "+e._s(e.error)+" Unable to load the diff\n          "),i("button",{staticClass:"btn-link btn-link-retry btn-no-padding js-toggle-lazy-diff-retry-button",on:{click:e.fetchDiff}},[e._v("\n            Try again\n          ")])]):i("td",{staticClass:"line_content js-success-lazy-load"},[i("span"),e._v(" "),i("gl-skeleton-loading"),e._v(" "),i("span")],1)]),e._v(" "),i("tr",{staticClass:"notes_holder"},[i("td",{staticClass:"notes_content",attrs:{colspan:"3"}},[e._t("default")],2)])],2)]):i("div",[i("diff-viewer",{attrs:{"diff-mode":e.diffMode,"new-path":e.discussion.diff_file.new_path,"new-sha":e.discussion.diff_file.diff_refs.head_sha,"old-path":e.discussion.diff_file.old_path,"old-sha":e.discussion.diff_file.diff_refs.base_sha,"file-hash":e.discussion.diff_file.file_hash,"project-path":e.projectPath}},[i("image-diff-overlay",{attrs:{slot:"image-overlay",discussions:e.discussion,"file-hash":e.discussion.diff_file.file_hash,"show-comment-icon":!0,"should-toggle-discussion":!1,"badge-class":"image-comment-badge"},slot:"image-overlay"})],1),e._v(" "),e._t("default")],2)],1)},[function(){var e=this,t=e.$createElement,i=e._self._c||t;return e._l(e.discussion.truncated_diff_lines,function(t){return i("tr",{key:t.line_code,staticClass:"line_holder"},[i("td",{staticClass:"diff-line-num old_line"},[e._v(e._s(t.old_line))]),e._v(" "),i("td",{staticClass:"diff-line-num new_line"},[e._v(e._s(t.new_line))]),e._v(" "),i("td",{staticClass:"line_content",class:t.type,domProps:{innerHTML:e._s(e.trimChar(t.rich_text))}})])})}],!1,null,null,null);N.options.__file="diff_with_note.vue";var L=N.exports,q=i(311),M=i(310),A=i(304),F=i(336),B=i(263),R=i(393);function $(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){H(e,t,i[t])})}return e}function H(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var U={name:"NoteableDiscussion",components:{icon:u.a,noteableNote:m.a,userAvatarLink:p.a,noteHeader:g.a,noteSignedOutWidget:C.a,noteEditedText:k.a,noteForm:j.a,toggleRepliesWidget:w,placeholderNote:q.a,placeholderSystemNote:M.a,systemNote:c.a,TimelineEntryItem:d.a},directives:{GlTooltip:o.n},mixins:[A.a,F.a,B.a,R.a],props:{discussion:{type:Object,required:!0},line:{type:Object,required:!1,default:null},renderDiffFile:{type:Boolean,required:!1,default:!0},alwaysExpanded:{type:Boolean,required:!1,default:!1},discussionsByDiffOrder:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},data:function(){var e=this.discussion,t=e.diff_discussion,i=e.resolved;return{isReplying:!1,isResolving:!1,resolveAsThread:!0,isRepliesCollapsed:Boolean(!t&&i)}},computed:$({},Object(a.c)(["getNoteableData","nextUnresolvedDiscussionId","unresolvedDiscussionsCount","hasUnresolvedDiscussions","showJumpToNextDiscussion"]),{author:function(){return this.initialDiscussion.author},canReply:function(){return this.getNoteableData.current_user.can_create_note},newNotePath:function(){return this.getNoteableData.create_note_path},hasReplies:function(){return this.discussion.notes.length>1},initialDiscussion:function(){return this.discussion.notes.slice(0,1)[0]},replies:function(){return this.discussion.notes.slice(1)},lastUpdatedBy:function(){var e=this.discussion.notes;return e.length>1?e[e.length-1].author:null},lastUpdatedAt:function(){var e=this.discussion.notes;return e.length>1?e[e.length-1].created_at:null},resolvedText:function(){return this.discussion.resolved_by_push?Object(l.a)("Automatically resolved"):Object(l.a)("Resolved")},shouldShowJumpToNextDiscussion:function(){return this.showJumpToNextDiscussion(this.discussion.id,this.discussionsByDiffOrder?"diff":"discussion")},shouldRenderDiffs:function(){return this.discussion.diff_discussion&&this.renderDiffFile},shouldGroupReplies:function(){return!this.shouldRenderDiffs&&!this.discussion.diff_discussion},wrapperComponent:function(){return this.shouldRenderDiffs?L:"div"},wrapperComponentProps:function(){return this.shouldRenderDiffs?{discussion:this.discussion}:{}},componentClassName:function(){return!this.shouldRenderDiffs||this.lastUpdatedAt||this.discussion.resolved?"":"unresolved"},shouldShowDiscussions:function(){var e=this.discussion,t=e.expanded,i=e.resolved,n=!this.discussion.diff_discussion&&i;return t||this.alwaysExpanded||n},actionText:function(){var e='<a href="'.concat(s.a.escape(this.discussion.discussion_path),'">'),t=this.discussion.commit_id;t&&(t='<span class="commit-sha">'.concat(Object(r.n)(t),"</span>"));var i=this.discussion,n=i.for_commit,a=i.diff_discussion,o=i.active,c=Object(l.e)("MergeRequests|started a discussion");return n?c=Object(l.e)("MergeRequests|started a discussion on commit %{linkStart}%{commitId}%{linkEnd}"):a&&t?c=o?Object(l.e)("MergeRequests|started a discussion on commit %{linkStart}%{commitId}%{linkEnd}"):Object(l.e)("MergeRequests|started a discussion on an outdated change in commit %{linkStart}%{commitId}%{linkEnd}"):a&&(c=o?Object(l.e)("MergeRequests|started a discussion on %{linkStart}the diff%{linkEnd}"):Object(l.e)("MergeRequests|started a discussion on %{linkStart}an old version of the diff%{linkEnd}")),Object(l.f)(c,{commitId:t,linkStart:e,linkEnd:"</a>"},!1)},diffLine:function(){return this.discussion.diff_discussion&&this.discussion.truncated_diff_lines?this.discussion.truncated_diff_lines.slice(-1)[0]:this.line}}),watch:{isReplying:function(){var e=this;this.isReplying?this.$nextTick(function(){e.initAutoSave($({},e.initialDiscussion,e.discussion),["Reply"])}):this.disposeAutoSave()}},methods:$({},Object(a.b)(["saveNote","toggleDiscussion","removePlaceholderNotes","toggleResolveNote","expandDiscussion"]),{truncateSha:r.n,componentName:function(e){return e.isPlaceholderNote?e.placeholderType===h.r?M.a:q.a:e.system?c.a:m.a},componentData:function(e){return e.isPlaceholderNote?e.notes[0]:e},toggleDiscussionHandler:function(){this.toggleDiscussion({discussionId:this.discussion.id})},toggleReplies:function(){this.isRepliesCollapsed=!this.isRepliesCollapsed},showReplyForm:function(){this.isReplying=!0},cancelReplyForm:function(e,t){if(e&&t){var i=Object(l.e)("Notes|Are you sure you want to cancel creating this comment?");if(!window.confirm(i))return}this.isReplying=!1,this.resetAutoSave()},saveReply:function(e,t,i){var n=this,s={in_reply_to_discussion_id:this.discussion.reply_id,target_type:this.getNoteableData.targetType,note:{note:e}};this.discussion.for_commit&&(s.note_project_id=this.discussion.project_id);var a={endpoint:this.newNotePath,flashContainer:this.$el,data:s};this.isReplying=!1,this.saveNote(a).then(function(){n.resetAutoSave(),i()}).catch(function(t){n.removePlaceholderNotes(),n.isReplying=!0,n.$nextTick(function(){Object(f.a)("Your comment could not be submitted!\nPlease check your network connection and try again.","alert",n.$el),n.$refs.noteForm.note=e,i(t)})})},jumpToNextDiscussion:function(){var e=this.nextUnresolvedDiscussionId(this.discussion.id,this.discussionsByDiffOrder);this.jumpToDiscussion(e)},deleteNoteHandler:function(e){this.$emit("noteDeleted",this.discussion,e)}})},W=Object(_.a)(U,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("timeline-entry-item",{staticClass:"note note-discussion",class:e.componentClassName},[i("div",{staticClass:"timeline-content"},[i("div",{staticClass:"discussion js-discussion-container",attrs:{"data-discussion-id":e.discussion.id}},[e.shouldRenderDiffs?i("div",{staticClass:"discussion-header note-wrapper"},[e._m(0),e._v(" "),i("note-header",{attrs:{author:e.author,"created-at":e.initialDiscussion.created_at,"note-id":e.initialDiscussion.id,"include-toggle":!0,expanded:e.discussion.expanded},on:{toggleHandler:e.toggleDiscussionHandler}},[i("span",{domProps:{innerHTML:e._s(e.actionText)}})]),e._v(" "),e.discussion.resolved?i("note-edited-text",{attrs:{"edited-at":e.discussion.resolved_at,"edited-by":e.discussion.resolved_by,"action-text":e.resolvedText,"class-name":"discussion-headline-light js-discussion-headline"}}):e.lastUpdatedAt?i("note-edited-text",{attrs:{"edited-at":e.lastUpdatedAt,"edited-by":e.lastUpdatedBy,"action-text":"Last updated","class-name":"discussion-headline-light js-discussion-headline"}}):e._e()],1):e._e(),e._v(" "),e.shouldShowDiscussions?i("div",{staticClass:"discussion-body"},[i(e.wrapperComponent,e._b({tag:"component",staticClass:"card discussion-wrapper"},"component",e.wrapperComponentProps,!1),[i("div",{staticClass:"discussion-notes"},[i("ul",{staticClass:"notes"},[e.shouldGroupReplies?[i(e.componentName(e.initialDiscussion),{tag:"component",attrs:{note:e.componentData(e.initialDiscussion),line:e.line,"help-page-path":e.helpPagePath},on:{handleDeleteNote:e.deleteNoteHandler}},[e.discussion.resolved?i("note-edited-text",{attrs:{slot:"discussion-resolved-text","edited-at":e.discussion.resolved_at,"edited-by":e.discussion.resolved_by,"action-text":e.resolvedText,"class-name":"discussion-headline-light js-discussion-headline discussion-resolved-text"},slot:"discussion-resolved-text"}):e._e(),e._v(" "),e._t("avatar-badge",null,{slot:"avatar-badge"})],2),e._v(" "),e.hasReplies?i("toggle-replies-widget",{attrs:{collapsed:e.isRepliesCollapsed,replies:e.replies},on:{toggle:e.toggleReplies}}):e._e(),e._v(" "),e.isRepliesCollapsed?e._e():e._l(e.replies,function(t){return i(e.componentName(t),{key:t.id,tag:"component",attrs:{note:e.componentData(t),"help-page-path":e.helpPagePath,line:e.line},on:{handleDeleteNote:e.deleteNoteHandler}})})]:e._l(e.discussion.notes,function(t,n){return i(e.componentName(t),{key:t.id,tag:"component",attrs:{note:e.componentData(t),"help-page-path":e.helpPagePath,line:e.diffLine},on:{handleDeleteNote:e.deleteNoteHandler}},[0===n?e._t("avatar-badge",null,{slot:"avatar-badge"}):e._e()],2)})],2),e._v(" "),e.isRepliesCollapsed&&e.hasReplies?e._e():i("div",{staticClass:"discussion-reply-holder",class:{"is-replying":e.isReplying}},[!e.isReplying&&e.canReply?[i("div",{staticClass:"discussion-with-resolve-btn"},[i("button",{staticClass:"js-vue-discussion-reply btn btn-text-field qa-discussion-reply",attrs:{type:"button",title:"Add a reply"},on:{click:e.showReplyForm}},[e._v("\n                    Reply...\n                  ")]),e._v(" "),e.discussion.resolvable?i("div",[i("button",{staticClass:"btn btn-default ml-sm-2",attrs:{type:"button"},on:{click:function(t){e.resolveHandler()}}},[e.isResolving?i("i",{staticClass:"fa fa-spinner fa-spin",attrs:{"aria-hidden":"true"}}):e._e(),e._v("\n                      "+e._s(e.resolveButtonTitle)+"\n                    ")])]):e._e(),e._v(" "),e.discussion.resolvable?i("div",{staticClass:"btn-group discussion-actions ml-sm-2",attrs:{role:"group"}},[e.discussionResolved?e._e():i("div",{staticClass:"btn-group",attrs:{role:"group"}},[i("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"new-issue-for-discussion btn btn-default discussion-create-issue-btn",attrs:{href:e.discussion.resolve_with_issue_path,title:e.s__("MergeRequests|Resolve this discussion in a new issue")}},[i("icon",{attrs:{name:"issue-new"}})],1)]),e._v(" "),e.shouldShowJumpToNextDiscussion?i("div",{staticClass:"btn-group",attrs:{role:"group"}},[i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"btn btn-default discussion-next-btn",attrs:{title:"Jump to next unresolved discussion"},on:{click:e.jumpToNextDiscussion}},[i("icon",{attrs:{name:"comment-next"}})],1)]):e._e()]):e._e()])]:e._e(),e._v(" "),e.isReplying?i("note-form",{ref:"noteForm",attrs:{discussion:e.discussion,"is-editing":!1,line:e.diffLine,"save-button-title":"Comment"},on:{handleFormUpdate:e.saveReply,cancelForm:e.cancelReplyForm}}):e._e(),e._v(" "),e.canReply?e._e():i("note-signed-out-widget")],2)])])],1):e._e()])])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"timeline-icon"},[this.author?t("user-avatar-link",{attrs:{"link-href":this.author.path,"img-src":this.author.avatar_url,"img-alt":this.author.name,"img-size":40}}):this._e()],1)}],!1,null,null,null);W.options.__file="noteable_discussion.vue";t.a=W.exports},397:function(e,t,i){"use strict";var n=i(5),s=i.n(n),a=i(18),o=i(160),r=i(174),l=i(15),c=i(204),u=i(10),d=i(51),f=i(1),h={props:{editPath:{type:String,required:!0},canCurrentUserFork:{type:Boolean,required:!0},canModifyBlob:{type:Boolean,required:!1,default:!1}},methods:{handleEditClick:function(e){this.canCurrentUserFork&&!this.canModifyBlob&&this.canCurrentUserFork&&(e.preventDefault(),this.$emit("showForkMessage"))}}},p=i(3),m=Object(p.a)(h,function(){var e=this.$createElement;return(this._self._c||e)("a",{staticClass:"btn btn-default js-edit-blob",attrs:{href:this.editPath},on:{click:this.handleEditClick}},[this._v(" Edit ")])},[],!1,null,null,null);m.options.__file="edit_button.vue";var g=m.exports;function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){b(e,t,i[t])})}return e}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _={components:{ClipboardButton:r.a,EditButton:g,Icon:l.a,FileIcon:c.a},directives:{GlTooltip:u.n},props:{discussionPath:{type:String,required:!1,default:""},diffFile:{type:Object,required:!0},collapsible:{type:Boolean,required:!1,default:!1},addMergeRequestButtons:{type:Boolean,required:!1,default:!1},expanded:{type:Boolean,required:!1,default:!0},canCurrentUserFork:{type:Boolean,required:!0}},data:function(){return{blobForkSuggestion:null}},computed:v({},Object(a.c)("diffs",["diffHasExpandedDiscussions","diffHasDiscussions"]),{hasExpandedDiscussions:function(){return this.diffHasExpandedDiscussions(this.diffFile)},icon:function(){return this.diffFile.submodule?"archive":this.diffFile.blob.icon},titleLink:function(){return this.diffFile.submodule?this.diffFile.submodule_tree_url||this.diffFile.submodule_link:this.discussionPath},filePath:function(){return this.diffFile.submodule?"".concat(this.diffFile.file_path," @ ").concat(Object(d.n)(this.diffFile.blob.id)):this.diffFile.deleted_file?Object(f.f)(Object(f.a)("%{filePath} deleted"),{filePath:this.diffFile.file_path},!1):this.diffFile.file_path},titleTag:function(){return this.diffFile.file_hash?"a":"span"},isUsingLfs:function(){return this.diffFile.stored_externally&&"lfs"===this.diffFile.external_storage},collapseIcon:function(){return this.expanded?"chevron-down":"chevron-right"},viewFileButtonText:function(){var e=s.a.escape(Object(d.n)(this.diffFile.content_sha));return Object(f.f)(Object(f.e)("MergeRequests|View file @ %{commitId}"),{commitId:'<span class="commit-sha">'.concat(e,"</span>")},!1)},viewReplacedFileButtonText:function(){var e=s.a.escape(Object(d.n)(this.diffFile.diff_refs.base_sha));return Object(f.f)(Object(f.e)("MergeRequests|View replaced file @ %{commitId}"),{commitId:'<span class="commit-sha">'.concat(e,"</span>")},!1)},gfmCopyText:function(){return"`".concat(this.diffFile.file_path,"`")}}),mounted:function(){Object(o.a)(this.$refs.header)},methods:v({},Object(a.b)("diffs",["toggleFileDiscussions"]),{handleToggleFile:function(e,t){(!t||e.target===this.$refs.header||e.target.classList&&e.target.classList.contains("diff-toggle-caret"))&&this.$emit("toggleFile")},showForkMessage:function(){this.$emit("showForkMessage")},handleToggleDiscussions:function(){this.toggleFileDiscussions(this.diffFile)}})},y=Object(p.a)(_,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"header",staticClass:"js-file-title file-title file-title-flex-parent",on:{click:function(t){e.handleToggleFile(t,!0)}}},[i("div",{staticClass:"file-header-content"},[e.collapsible?i("icon",{staticClass:"diff-toggle-caret append-right-5",attrs:{name:e.collapseIcon,size:16,"aria-hidden":"true"},on:{click:function(t){return t.stopPropagation(),e.handleToggle(t)}}}):e._e(),e._v(" "),e._m(0),e._v(" "),i("clipboard-button",{attrs:{title:e.__("Copy file path to clipboard"),text:e.diffFile.file_path,gfm:e.gfmCopyText,"css-class":"btn-default btn-transparent btn-clipboard"}}),e._v(" "),e.diffFile.mode_changed?i("small",{ref:"fileMode"},[e._v("\n      "+e._s(e.diffFile.a_mode)+" → "+e._s(e.diffFile.b_mode)+"\n    ")]):e._e(),e._v(" "),e.isUsingLfs?i("span",{staticClass:"label label-lfs append-right-5"},[e._v(" "+e._s(e.__("LFS"))+" ")]):e._e()],1),e._v(" "),!e.diffFile.submodule&&e.addMergeRequestButtons?i("div",{staticClass:"file-actions d-none d-sm-block"},[e.diffFile.blob&&e.diffFile.blob.readable_text?[i("button",{staticClass:"js-btn-vue-toggle-comments btn",class:{active:e.hasExpandedDiscussions},attrs:{disabled:!e.diffHasDiscussions(e.diffFile),title:e.s__("MergeRequests|Toggle comments for this file"),type:"button"},on:{click:e.handleToggleDiscussions}},[i("icon",{attrs:{name:"comment"}})],1),e._v(" "),e.diffFile.deleted_file?e._e():i("edit-button",{attrs:{"can-current-user-fork":e.canCurrentUserFork,"edit-path":e.diffFile.edit_path,"can-modify-blob":e.diffFile.can_modify_blob},on:{showForkMessage:e.showForkMessage}})]:e._e(),e._v(" "),e.diffFile.replaced_view_path?i("a",{staticClass:"btn view-file js-view-file",attrs:{href:e.diffFile.replaced_view_path},domProps:{innerHTML:e._s(e.viewReplacedFileButtonText)}}):e._e(),e._v(" "),i("a",{staticClass:"btn view-file js-view-file",attrs:{href:e.diffFile.view_path},domProps:{innerHTML:e._s(e.viewFileButtonText)}}),e._v(" "),e.diffFile.external_url?i("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-file-option",attrs:{href:e.diffFile.external_url,title:"View on "+e.diffFile.formatted_external_url,target:"_blank",rel:"noopener noreferrer"}},[i("icon",{attrs:{name:"external-link"}})],1):e._e()],2):e._e()])},[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{ref:"titleWrapper",staticClass:"append-right-4 js-title-wrapper",attrs:{href:e.titleLink}},[i("file-icon",{attrs:{"file-name":e.filePath,size:18,"aria-hidden":"true","css-classes":"js-file-icon append-right-5"}}),e._v(" "),e.diffFile.renamed_file?i("span",[i("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"file-title-name",attrs:{title:e.diffFile.old_path},domProps:{innerHTML:e._s(e.diffFile.old_path_html)}}),e._v("\n        →\n        "),i("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"file-title-name",attrs:{title:e.diffFile.new_path},domProps:{innerHTML:e._s(e.diffFile.new_path_html)}})]):i("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"file-title-name",attrs:{title:e.filePath,"data-container":"body"}},[e._v("\n        "+e._s(e.filePath)+"\n      ")])],1)}],!1,null,null,null);y.options.__file="diff_file_header.vue";t.a=y.exports},399:function(e,t,i){"use strict";var n=i(18),s=i(5),a=i.n(s);function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){r(e,t,i[t])})}return e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var l={name:"ImageDiffOverlay",components:{Icon:i(15).a},props:{discussions:{type:[Array,Object],required:!0},fileHash:{type:String,required:!0},canComment:{type:Boolean,required:!1,default:!1},showCommentIcon:{type:Boolean,required:!1,default:!1},badgeClass:{type:String,required:!1,default:"badge badge-pill"},shouldToggleDiscussion:{type:Boolean,required:!1,default:!0}},computed:o({},Object(n.c)("diffs",["getDiffFileByHash","getCommentFormForDiffFile"]),{currentCommentForm:function(){return this.getCommentFormForDiffFile(this.fileHash)},allDiscussions:function(){return a.a.isArray(this.discussions)?this.discussions:[this.discussions]}}),methods:o({},Object(n.b)(["toggleDiscussion"]),Object(n.b)("diffs",["openDiffFileCommentForm"]),{getImageDimensions:function(){return{width:this.$parent.width,height:this.$parent.height}},getPositionForObject:function(e){var t=e.x,i=e.y,n=e.width,s=e.height,a=this.getImageDimensions().width/n,o=this.getImageDimensions().height/s;return{x:Math.round(t*a),y:Math.round(i*o)}},getPosition:function(e){var t=this.getPositionForObject(e.position),i=t.x,n=t.y;return{left:"".concat(i,"px"),top:"".concat(n,"px")}},clickedImage:function(e,t){var i=this.getImageDimensions(),n=i.width,s=i.height;this.openDiffFileCommentForm({fileHash:this.fileHash,width:n,height:s,x:e,y:t})}})},c=i(3),u=Object(c.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"position-absolute w-100 h-100 image-diff-overlay"},[e.canComment?i("button",{staticClass:"btn-transparent position-absolute image-diff-overlay-add-comment w-100 h-100 js-add-image-diff-note-button",attrs:{type:"button"},on:{click:function(t){e.clickedImage(t.offsetX,t.offsetY)}}},[i("span",{staticClass:"sr-only"},[e._v(" "+e._s(e.__("Add image comment"))+" ")])]):e._e(),e._v(" "),e._l(e.allDiscussions,function(t,n){return i("button",{key:t.id,staticClass:"js-image-badge",class:e.badgeClass,style:e.getPosition(t),attrs:{disabled:!e.shouldToggleDiscussion,type:"button"},on:{click:function(i){e.toggleDiscussion({discussionId:t.id})}}},[e.showCommentIcon?i("icon",{attrs:{name:"image-comment-dark"}}):[e._v("\n      "+e._s(n+1)+"\n    ")]],2)}),e._v(" "),e.currentCommentForm?i("button",{staticClass:"btn-transparent comment-indicator",style:{left:e.currentCommentForm.x+"px",top:e.currentCommentForm.y+"px"},attrs:{"aria-label":e.__("Comment form position"),type:"button"}},[i("icon",{attrs:{name:"image-comment-dark"}})],1):e._e()],2)},[],!1,null,null,null);u.options.__file="image_diff_overlay.vue";t.a=u.exports},41:function(e,t,i){"use strict";var n=i(0),s=i.n(n);t.a={bind:function(e){s()(e).tooltip({trigger:"hover"})},componentUpdated:function(e){s()(e).tooltip("_fixTitle");var t=s()(e).data("bs.tooltip"),i=t.getTipElement();t.setElementContent(s()(i.querySelectorAll(".tooltip-inner")),t.getTitle())},unbind:function(e){s()(e).tooltip("dispose")}}},44:function(e,t,i){"use strict";i.r(t);var n=i(38),s=i(36),a=i(29),o=i(27);document.addEventListener("DOMContentLoaded",function(){var e=document.body.dataset.page;if(["projects:clusters:new","projects:clusters:create_gcp","projects:clusters:create_user"].indexOf(e)>-1){var t=document.querySelector(".gcp-signup-offer");t&&new s.a(t),Object(n.a)()}new a.a,new o.a})},479:function(e,t,i){var n,s;e.exports=(n="VirtualScrollList","object"==typeof(s=i(11))&&"function"==typeof s.default&&(s=s.default),s.component(n,{props:{size:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:""},start:{type:Number,default:0},offset:{type:Number,default:0},variable:[Function,Boolean],bench:Number,debounce:Number,totop:Function,tobottom:Function,onscroll:Function},created:function(){var e=this.start>=this.remain?this.start:0,t=this.remain+(this.bench||this.remain);this.delta={start:e,end:e+t-1,keeps:t,total:0,offsetAll:0,paddingTop:0,paddingBottom:0,varCache:{},varAverSize:0,varLastCalcIndex:0}},watch:{size:function(){this.alter="size"},remain:function(){this.alter="remain"},bench:function(){this.alter="bench"},start:function(){this.alter="start"},offset:function(){this.alter="offset"}},methods:{onScroll:function(e){var t=this.delta,i=this.$refs.vsl.scrollTop;t.total>t.keeps?this.updateZone(i):t.end=t.total-1;var n=t.offsetAll;this.onscroll&&this.onscroll(e,{offset:i,offsetAll:n,start:t.start,end:t.end}),!i&&t.total&&this.triggerEvent("totop"),i>=n&&this.triggerEvent("tobottom")},updateZone:function(e){var t=this.variable?this.getVarOvers(e):Math.floor(e/this.size),i=this.delta,n=this.getZone(t),s=this.bench||this.remain;!n.isLast&&t>i.start&&t-i.start<=s||(i.end=n.end,i.start=n.start,this.$forceUpdate())},getVarOvers:function(e){for(var t=0,i=0,n=0,s=this.delta,a=s.total;t<=a;){if(i=t+Math.floor((a-t)/2),n=this.getVarOffset(i),s.varAverSize||(s.varAverSize=Math.floor(n/i)),n===e)return i;n<e?t=i+1:n>e&&(a=i-1)}return t>0?--t:0},getVarOffset:function(e,t){var i=this.delta,n=i.varCache[e];if(!t&&n)return n.offset;for(var s=0,a=0;a<e;a++){var o=this.getVarSize(a,t);i.varCache[a]={size:o,offset:s},s+=o}return i.varLastCalcIndex=Math.max(i.varLastCalcIndex,e-1),i.varLastCalcIndex=Math.min(i.varLastCalcIndex,i.total-1),s},getVarSize:function(e,t){var i=this.delta.varCache[e];if(!t&&i)return i.size;if("function"==typeof this.variable)return this.variable(e)||0;var n=this.$slots.default[e],s=n&&n.data&&n.data.style;if(s&&s.height){var a=s.height.match(/^(.*)px$/);return a&&+a[1]||0}return 0},getVarPaddingTop:function(){return this.getVarOffset(this.delta.start)},getVarPaddingBottom:function(){var e=this.delta,t=e.total-1;return e.total-e.end<=e.keeps||e.varLastCalcIndex===t?this.getVarOffset(t)-this.getVarOffset(e.end):(e.total-e.end)*(e.varAverSize||this.size)},getVarAllHeight:function(){var e=this.delta;return e.total-e.end<=e.keeps||e.varLastCalcIndex===e.total-1?this.getVarOffset(e.total):this.getVarOffset(e.start)+(e.total-e.end)*(e.varAverSize||this.size)},updateVariable:function(e){this.getVarOffset(e,!0)},getZone:function(e){var t,i,n=this.delta;e=parseInt(e,10),e=Math.max(0,e);var s=n.total-n.keeps,a=e<=n.total&&e>=s||e>n.total;return a?(i=n.total-1,t=Math.max(0,s)):i=(t=e)+n.keeps-1,{end:i,start:t,isLast:a}},triggerEvent:function(e){this[e]&&this[e]()},setScrollTop:function(e){this.$refs.vsl.scrollTop=e},filter:function(){var e,t,i,n=this.delta,s=this.$slots.default;s||(s=[],n.start=0),n.total=s.length;var a=n.total>n.keeps;this.variable?(i=this.getVarAllHeight(),e=a?this.getVarPaddingTop():0,t=a?this.getVarPaddingBottom():0):(i=this.size*n.total,e=this.size*(a?n.start:0),t=this.size*(a?n.total-n.keeps:0)-e),n.paddingTop=e,n.paddingBottom=t,n.offsetAll=i-this.size*this.remain;for(var o=[],r=n.start;r<=n.end;r++)o.push(s[r]);return o}},mounted:function(){if(this.start){var e=this.getZone(this.start).start;this.setScrollTop(this.variable?this.getVarOffset(e):e*this.size)}else this.offset&&this.setScrollTop(this.offset)},beforeUpdate:function(){var e=this.delta;e.keeps=this.remain+(this.bench||this.remain);var t="start"===this.alter?this.start:e.start,i=this.getZone(t);~["start","size","offset"].indexOf(this.alter)&&this.$nextTick(this.setScrollTop.bind(this,"offset"===this.alter?this.offset:this.variable?this.getVarOffset(i.isLast?e.total:i.start):i.isLast&&e.total-t<=this.remain?e.total*this.size:t*this.size)),(t!==i.start||e.end!==i.end||this.alter)&&(this.alter="",e.end=i.end,e.start=i.start,this.$forceUpdate())},render:function(e){var t,i,n,s,a=this.filter(),o=this.delta,r=this.debounce;return e(this.rtag,{ref:"vsl",style:{display:"block","overflow-y":"auto",height:this.size*this.remain+"px"},on:{"&scroll":r?(t=this.onScroll.bind(this),i=r,function(){var e=this,a=arguments,o=n&&!s;clearTimeout(s),s=setTimeout(function(){s=null,n||t.apply(e,a)},i),o&&t.apply(e,a)}):this.onScroll}},[e(this.wtag,{style:{display:"block","padding-top":o.paddingTop+"px","padding-bottom":o.paddingBottom+"px"},class:this.wclass},a)])}}))},48:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store={columns:3,issues:[],issuesCount:!1,selectedIssues:[],showAddIssuesModal:!1,activeTab:"all",selectedList:null,searchTerm:"",loading:!1,loadingNewPage:!1,filterLoading:!1,page:1,perPage:50,filter:{path:""}}}var t,i,s;return t=e,(i=[{key:"selectedCount",value:function(){return this.getSelectedIssues().length}},{key:"toggleIssue",value:function(e){var t=e,i=t.selected;t.selected=!i,i?this.removeSelectedIssue(t):this.addSelectedIssue(t)}},{key:"toggleAll",value:function(){var e=this,t=this.selectedCount()!==this.store.issues.length;this.store.issues.forEach(function(i){var n=i;n.selected!==t&&(n.selected=t,t?e.addSelectedIssue(i):e.removeSelectedIssue(i))})}},{key:"getSelectedIssues",value:function(){return this.store.selectedIssues.filter(function(e){return e.selected})}},{key:"addSelectedIssue",value:function(e){-1===this.selectedIssueIndex(e)&&this.store.selectedIssues.push(e)}},{key:"removeSelectedIssue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];("all"===this.store.activeTab||t)&&(this.store.selectedIssues=this.store.selectedIssues.filter(function(t){return t.id!==e.id}))}},{key:"purgeUnselectedIssues",value:function(){var e=this;this.store.selectedIssues.forEach(function(t){t.selected||e.removeSelectedIssue(t,!0)})}},{key:"selectedIssueIndex",value:function(e){return this.store.selectedIssues.indexOf(e)}},{key:"findSelectedIssue",value:function(e){return this.store.selectedIssues.filter(function(t){return t.id===e.id})[0]}}])&&n(t.prototype,i),s&&n(t,s),e}();t.a=new s},494:function(e,t,i){"use strict";i.d(t,"a",function(){return b});var n=i(0),s=i.n(n),a=i(2),o=i.n(a),r=i(5),l=i.n(r),c=i(159),u=i(43),d=i(374),f=i(13);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=m(this,g(t).call(this)),o.a.bind("a",function(){return t.openSidebarDropdown("assignee")}),o.a.bind("m",function(){return t.openSidebarDropdown("milestone")}),o.a.bind("l",function(){return t.openSidebarDropdown("labels")}),o.a.bind("r",t.replyWithSelectedText),o.a.bind("e",t.editIssue),e?i.enabledHelp.push(".hidden-shortcut.merge_requests"):i.enabledHelp.push(".hidden-shortcut.issues"),i}var i,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,u["a"]),i=t,a=[{key:"replyWithSelectedText",value:function(){var e=s()(".js-main-target-form .js-vue-comment-form");if(!e.length||e.is(":hidden"))return!1;var t=Object(f.k)(document.querySelector("#content-body"));if(!t)return e.focus(),!1;var i=!!t.querySelector(".md, .wiki");if(!i&&(t.originalNodes&&t.originalNodes.forEach(function(e){var t=e;do{t.matches&&t.matches(".md, .wiki")&&(i=!0),t=t.parentNode}while(t&&!i)}),!i))return e.focus(),!1;var n=d.a.transformGFMSelection(t.cloneNode(!0)),a=d.a.nodeToGFM(n);if(""===a.trim())return!1;var o=l.a.map(a.split("\n"),function(e){return"".concat("> ".concat(e).trim(),"\n")}),r=""!==e.val().trim()?"\n\n":"";e.val(function(e,t){return"".concat(t).concat(r).concat(o.join(""),"\n")}).trigger("input").trigger("change");var c=document.createEvent("Event");return c.initEvent("autosize:update",!0,!1),e.get(0).dispatchEvent(c),e.focus(),!1}},{key:"editIssue",value:function(){return document.querySelector(".js-issuable-edit").click(),!1}},{key:"openSidebarDropdown",value:function(e){return c.a.instance.openDropdown(e),!1}}],(n=null)&&p(i.prototype,n),a&&p(i,a),t}()},50:function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return s});var n=1024,s="hidden"},501:function(e,t,i){"use strict";var n=i(18),s=i(19),a=i(7),o=i(67),r=i(131),l=i(309),c=i(395),u=i(312),d=i(0),f=i.n(d),h=i(5),p=i.n(h),m=i(62),g=i.n(m),v=i(1),b=i(145),_=i(109),y=i(51),w=i(339),C=i(305),k=i(91),j=i(108),S=i(338),O=i(15),x=i(203),D={components:{Icon:O.a},mixins:[x.a]},T=i(3),E=Object(T.a)(D,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"disabled-comment text-center"},[t("span",{staticClass:"issuable-note-warning inline"},[t("icon",{staticClass:"icon",attrs:{size:16,name:"lock"}}),this._v(" "),t("span",[this._v("\n      This "+this._s(this.issuableDisplayName)+" is locked. Only "),t("b",[this._v("project members")]),this._v(" can comment.\n    ")])],1)])},[],!1,null,null,null);E.options.__file="discussion_locked_widget.vue";var P=E.exports,I=i(335);function N(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){L(e,t,i[t])})}return e}function L(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var q={name:"CommentForm",components:{issueWarning:w.a,noteSignedOutWidget:S.a,discussionLockedWidget:P,markdownField:C.a,userAvatarLink:k.a,loadingButton:j.a,TimelineEntryItem:b.a},mixins:[I.a],props:{noteableType:{type:String,required:!0},markdownVersion:{type:Number,required:!1,default:0}},data:function(){return{note:"",noteType:o.b,isSubmitting:!1,isSubmitButtonDisabled:!0}},computed:N({},Object(n.c)(["getCurrentUserLastNote","getUserData","getNoteableData","getNotesData","openState"]),Object(n.d)(["isToggleStateButtonLoading"]),{noteableDisplayName:function(){return Object(y.k)(this.noteableType).toLowerCase()},isLoggedIn:function(){return this.getUserData.id},commentButtonTitle:function(){return this.noteType===o.b?"Comment":"Start discussion"},startDiscussionDescription:function(){var e="Discuss a specific suggestion or question";return this.getNoteableData.noteableType===o.l&&(e+=" that needs to be resolved"),"".concat(e,".")},isOpen:function(){return this.openState===o.o||this.openState===o.p},canCreateNote:function(){return this.getNoteableData.current_user.can_create_note},issueActionButtonTitle:function(){var e=this.isOpen?"close":"reopen";return this.note.length?Object(v.f)(Object(v.a)("%{actionText} & %{openOrClose} %{noteable}"),{actionText:this.commentButtonTitle,openOrClose:e,noteable:this.noteableDisplayName}):Object(v.f)(Object(v.a)("%{openOrClose} %{noteable}"),{openOrClose:Object(y.b)(e),noteable:this.noteableDisplayName})},actionButtonClassNames:function(){return{"btn-reopen":!this.isOpen,"btn-close":this.isOpen,"js-note-target-close":this.isOpen,"js-note-target-reopen":!this.isOpen}},markdownDocsPath:function(){return this.getNotesData.markdownDocsPath},quickActionsDocsPath:function(){return this.getNotesData.quickActionsDocsPath},markdownPreviewPath:function(){return this.getNoteableData.preview_note_path},author:function(){return this.getUserData},canUpdateIssue:function(){return this.getNoteableData.current_user.can_update},endpoint:function(){return this.getNoteableData.create_note_path},issuableTypeTitle:function(){return this.noteableType===o.l?"merge request":"issue"}}),watch:{note:function(e){this.setIsSubmitButtonDisabled(e,this.isSubmitting)},isSubmitting:function(e){this.setIsSubmitButtonDisabled(this.note,e)}},mounted:function(){var e=this;f()(document).on("issuable:change",function(t,i){e.toggleIssueLocalState(i?o.a:o.p)}),this.initAutoSave()},methods:N({},Object(n.b)(["saveNote","stopPolling","restartPolling","removePlaceholderNotes","closeIssue","reopenIssue","toggleIssueLocalState","toggleStateButtonLoading"]),{setIsSubmitButtonDisabled:function(e,t){p.a.isEmpty(e)||t?this.isSubmitButtonDisabled=!0:this.isSubmitButtonDisabled=!1},handleSave:function(e){var t=this;if(this.isSubmitting=!0,this.note.length){var i={endpoint:this.endpoint,flashContainer:this.$el,data:{note:{noteable_type:this.noteableType,noteable_id:this.getNoteableData.id,note:this.note},merge_request_diff_head_sha:this.getNoteableData.diff_head_sha}};this.noteType===o.e&&(i.data.note.type=o.g),this.note="",this.resizeTextarea(),this.stopPolling(),this.saveNote(i).then(function(i){t.enableButton(),t.restartPolling(),i.errors?i.errors.commands_only?t.discard():Object(a.a)("Something went wrong while adding your comment. Please try again.","alert",t.$refs.commentForm):t.discard(),e&&t.toggleIssueState()}).catch(function(){t.enableButton(),t.discard(!1);Object(a.a)("Your comment could not be submitted!\nPlease check your network connection and try again.","alert",t.$el),t.note=i.data.note.note,t.removePlaceholderNotes()})}else this.toggleIssueState()},enableButton:function(){this.isSubmitting=!1},toggleIssueState:function(){var e=this;this.isOpen?this.closeIssue().then(function(){return e.enableButton()}).catch(function(){e.enableButton(),e.toggleStateButtonLoading(!1),Object(a.a)(Object(v.f)(Object(v.a)("Something went wrong while closing the %{issuable}. Please try again later"),{issuable:e.noteableDisplayName}))}):this.reopenIssue().then(function(){return e.enableButton()}).catch(function(t){var i=t.data;e.enableButton(),e.toggleStateButtonLoading(!1);var n=Object(v.f)(Object(v.a)("Something went wrong while reopening the %{issuable}. Please try again later"),{issuable:e.noteableDisplayName});i&&(n=Object.values(i).join("\n")),Object(a.a)(n)})},discard:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.textarea.blur(),this.$refs.textarea.focus(),e&&(this.note="",this.resizeTextarea(),this.$refs.markdownField.previewMarkdown=!1),this.autosave.reset()},setNoteType:function(e){this.noteType=e},editCurrentUserLastNote:function(){if(""===this.note){var e=this.getCurrentUserLastNote;e&&r.a.$emit("enterEditMode",{noteId:e.id})}},initAutoSave:function(){if(this.isLoggedIn){var e=Object(y.b)(Object(y.c)(this.noteableType));this.autosave=new _.a(f()(this.$refs.textarea),["Note",e,this.getNoteableData.id])}},resizeTextarea:function(){var e=this;this.$nextTick(function(){g.a.update(e.$refs.textarea)})}})},M=Object(T.a)(q,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isLoggedIn?e.canCreateNote?e.canCreateNote?i("ul",{staticClass:"notes notes-form timeline"},[i("timeline-entry-item",{staticClass:"note-form"},[i("div",{staticClass:"flash-container error-alert timeline-content"}),e._v(" "),i("div",{staticClass:"timeline-icon d-none d-sm-none d-md-block"},[e.author?i("user-avatar-link",{attrs:{"link-href":e.author.path,"img-src":e.author.avatar_url,"img-alt":e.author.name,"img-size":40}}):e._e()],1),e._v(" "),i("div",{staticClass:"timeline-content timeline-content-form"},[i("form",{ref:"commentForm",staticClass:"new-note common-note-form gfm-form js-main-target-form"},[i("div",{staticClass:"error-alert"}),e._v(" "),e.hasWarning(e.getNoteableData)?i("issue-warning",{attrs:{"is-locked":e.isLocked(e.getNoteableData),"is-confidential":e.isConfidential(e.getNoteableData)}}):e._e(),e._v(" "),i("markdown-field",{ref:"markdownField",attrs:{"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,"markdown-version":e.markdownVersion,"add-spacing-classes":!1}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note,expression:"note"}],ref:"textarea",staticClass:"note-textarea js-vue-comment-form js-note-text\njs-gfm-input js-autosize markdown-area js-vue-textarea qa-comment-input",attrs:{slot:"textarea",id:"note-body",disabled:e.isSubmitting,name:"note[note]","data-supports-quick-actions":"true","aria-label":"Description",placeholder:"Write a comment or drag your files here…"},domProps:{value:e.note},on:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;e.editCurrentUserLastNote()},function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter"))&&t.metaKey?void e.handleSave():null},function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter"))&&t.ctrlKey?void e.handleSave():null}],input:function(t){t.target.composing||(e.note=t.target.value)}},slot:"textarea"})]),e._v(" "),i("div",{staticClass:"note-form-actions"},[i("div",{staticClass:"float-left btn-group\nappend-right-10 comment-type-dropdown js-comment-type-dropdown droplab-dropdown"},[i("button",{staticClass:"btn btn-create comment-btn js-comment-button js-comment-submit-button\n                    qa-comment-button",attrs:{disabled:e.isSubmitButtonDisabled,type:"submit"},on:{click:function(t){t.preventDefault(),e.handleSave()}}},[e._v("\n                  "+e._s(e.__(e.commentButtonTitle))+"\n                ")]),e._v(" "),i("button",{staticClass:"btn comment-btn note-type-toggle js-note-new-discussion dropdown-toggle qa-note-dropdown",attrs:{disabled:e.isSubmitButtonDisabled,name:"button",type:"button","data-display":"static","data-toggle":"dropdown","aria-label":"Open comment type dropdown"}},[i("i",{staticClass:"fa fa-caret-down toggle-icon",attrs:{"aria-hidden":"true"}})]),e._v(" "),i("ul",{staticClass:"note-type-dropdown dropdown-open-top dropdown-menu"},[i("li",{class:{"droplab-item-selected":"comment"===e.noteType}},[i("button",{staticClass:"btn btn-transparent",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.setNoteType("comment")}}},[i("i",{staticClass:"fa fa-check icon",attrs:{"aria-hidden":"true"}}),e._v(" "),i("div",{staticClass:"description"},[i("strong",[e._v("Comment")]),e._v(" "),i("p",[e._v("Add a general comment to this "+e._s(e.noteableDisplayName)+".")])])])]),e._v(" "),i("li",{staticClass:"divider droplab-item-ignore"}),e._v(" "),i("li",{class:{"droplab-item-selected":"discussion"===e.noteType}},[i("button",{staticClass:"btn btn-transparent qa-discussion-option",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.setNoteType("discussion")}}},[i("i",{staticClass:"fa fa-check icon",attrs:{"aria-hidden":"true"}}),e._v(" "),i("div",{staticClass:"description"},[i("strong",[e._v("Start discussion")]),e._v(" "),i("p",[e._v(e._s(e.startDiscussionDescription))])])])])])]),e._v(" "),e.canUpdateIssue?i("loading-button",{attrs:{loading:e.isToggleStateButtonLoading,"container-class":[e.actionButtonClassNames,"btn btn-comment btn-comment-and-close js-action-button"],disabled:e.isToggleStateButtonLoading||e.isSubmitting,label:e.issueActionButtonTitle},on:{click:function(t){e.handleSave(!0)}}}):e._e()],1)],1)])])],1):e._e():i("discussion-locked-widget",{attrs:{"issuable-type":e.issuableTypeTitle}}):i("note-signed-out-widget")],1)},[],!1,null,null,null);M.options.__file="comment_form.vue";var A=M.exports,F=i(311),B=i(310),R={name:"SkeletonNote",components:{GlSkeletonLoading:i(10).k,TimelineEntryItem:b.a}},$=Object(T.a)(R,function(){var e=this.$createElement,t=this._self._c||e;return t("timeline-entry-item",{staticClass:"note note-wrapper"},[t("div",{staticClass:"timeline-icon"}),this._v(" "),t("div",{staticClass:"timeline-content"},[t("div",{staticClass:"note-header"}),this._v(" "),t("div",{staticClass:"note-body"},[t("gl-skeleton-loading")],1)])])},[],!1,null,null,null);$.options.__file="skeleton_note.vue";var H=$.exports,U=i(415),W=i(325);function V(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){z(e,t,i[t])})}return e}function z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var G={name:"NotesApp",components:{noteableNote:l.a,noteableDiscussion:c.a,systemNote:u.a,commentForm:A,placeholderNote:F.a,placeholderSystemNote:B.a,skeletonLoadingContainer:H},props:{noteableData:{type:Object,required:!0},notesData:{type:Object,required:!0},userData:{type:Object,required:!1,default:function(){return{}}},shouldShow:{type:Boolean,required:!1,default:!0},markdownVersion:{type:Number,required:!1,default:0},helpPagePath:{type:String,required:!1,default:""}},data:function(){return{isFetching:!1,currentFilter:null}},computed:V({},Object(n.c)(["isNotesFetched","discussions","getNotesDataByProp","isLoading","commentsDisabled"]),{noteableType:function(){return this.noteableData.noteableType},allDiscussions:function(){if(this.isLoading){var e=parseInt(this.notesData.totalNotes,10)||0;return new Array(e).fill({isSkeletonNote:!0})}return this.discussions}}),watch:{shouldShow:function(){this.isNotesFetched||this.fetchNotes()}},created:function(){this.setNotesData(this.notesData),this.setNoteableData(this.noteableData),this.setUserData(this.userData),this.setTargetNoteHash(Object(s.a)()),r.a.$once("fetchNotesData",this.fetchNotes)},mounted:function(){var e=this;this.shouldShow&&this.fetchNotes();var t=this.$el.parentElement;t&&t.classList.contains("js-vue-notes-event")&&t.addEventListener("toggleAward",function(t){var i=t.detail,n=i.awardName,s=i.noteId;e.toggleAward({awardName:n,noteId:s})})},updated:function(){var e=this;this.$nextTick(function(){Object(U.a)(e.$el.querySelectorAll(".gfm-project_member")),Object(W.a)(e.$el.querySelectorAll(".js-user-link"))})},methods:V({},Object(n.b)(["setLoadingState","fetchDiscussions","poll","toggleAward","scrollToNoteIfNeeded","setNotesData","setNoteableData","setUserData","setLastFetchedAt","setTargetNoteHash","toggleDiscussion","setNotesFetchedState","expandDiscussion","startTaskList"]),{fetchNotes:function(){var e=this;return this.isFetching?null:(this.isFetching=!0,this.fetchDiscussions({path:this.getNotesDataByProp("discussionsPath")}).then(function(){e.initPolling()}).then(function(){e.setLoadingState(!1),e.setNotesFetchedState(!0),r.a.$emit("fetchedNotesData"),e.isFetching=!1}).then(function(){return e.$nextTick()}).then(function(){return e.startTaskList()}).then(function(){return e.checkLocationHash()}).catch(function(){e.setLoadingState(!1),e.setNotesFetchedState(!0),Object(a.a)("Something went wrong while fetching comments. Please try again.")}))},initPolling:function(){this.isPollingInitialized||(this.setLastFetchedAt(this.getNotesDataByProp("lastFetchedAt")),this.poll(),this.isPollingInitialized=!0)},checkLocationHash:function(){var e=Object(s.a)(),t=e&&e.replace(/^note_/,"");if(t){var i=this.discussions.find(function(e){return e.notes.some(function(e){return e.id===t})});i&&this.expandDiscussion({discussionId:i.id})}}}),systemNote:o.r},Y=Object(T.a)(G,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow,expression:"shouldShow"}],attrs:{id:"notes"}},[i("ul",{staticClass:"notes main-notes-list timeline",attrs:{id:"notes-list"}},[e._l(e.allDiscussions,function(t){return[t.isSkeletonNote?i("skeleton-loading-container",{key:t.id}):t.isPlaceholderNote?[t.placeholderType===e.$options.systemNote?i("placeholder-system-note",{key:t.id,attrs:{note:t.notes[0]}}):i("placeholder-note",{key:t.id,attrs:{note:t.notes[0]}})]:t.individual_note?[t.notes[0].system?i("system-note",{key:t.id,attrs:{note:t.notes[0]}}):i("noteable-note",{key:t.id,attrs:{note:t.notes[0]}})]:i("noteable-discussion",{key:t.id,attrs:{discussion:t,"render-diff-file":!0,"help-page-path":e.helpPagePath}})]})],2),e._v(" "),e.commentsDisabled?e._e():i("comment-form",{attrs:{"noteable-type":e.noteableType,"markdown-version":e.markdownVersion}})],1)},[],!1,null,null,null);Y.options.__file="notes_app.vue";t.a=Y.exports},502:function(e,t,i){"use strict";var n={};i.r(n),i.d(n,"expandDiscussion",function(){return x}),i.d(n,"collapseDiscussion",function(){return D}),i.d(n,"setNotesData",function(){return T}),i.d(n,"setNoteableData",function(){return E}),i.d(n,"setUserData",function(){return P}),i.d(n,"setLastFetchedAt",function(){return I}),i.d(n,"setInitialNotes",function(){return N}),i.d(n,"setTargetNoteHash",function(){return L}),i.d(n,"setNotesFetchedState",function(){return q}),i.d(n,"toggleDiscussion",function(){return M}),i.d(n,"fetchDiscussions",function(){return A}),i.d(n,"updateDiscussion",function(){return F}),i.d(n,"deleteNote",function(){return B}),i.d(n,"updateNote",function(){return R}),i.d(n,"replyToDiscussion",function(){return $}),i.d(n,"createNewNote",function(){return H}),i.d(n,"removePlaceholderNotes",function(){return U}),i.d(n,"toggleResolveNote",function(){return W}),i.d(n,"closeIssue",function(){return V}),i.d(n,"reopenIssue",function(){return z}),i.d(n,"toggleStateButtonLoading",function(){return G}),i.d(n,"emitStateChangedEvent",function(){return Y}),i.d(n,"toggleIssueLocalState",function(){return J}),i.d(n,"saveNote",function(){return K}),i.d(n,"poll",function(){return X}),i.d(n,"stopPolling",function(){return Z}),i.d(n,"restartPolling",function(){return ee}),i.d(n,"fetchData",function(){return te}),i.d(n,"toggleAward",function(){return ie}),i.d(n,"toggleAwardRequest",function(){return ne}),i.d(n,"scrollToNoteIfNeeded",function(){return se}),i.d(n,"fetchDiscussionDiffLines",function(){return ae}),i.d(n,"updateMergeRequestWidget",function(){return oe}),i.d(n,"setLoadingState",function(){return re}),i.d(n,"filterDiscussion",function(){return le}),i.d(n,"setCommentsDisabled",function(){return ce}),i.d(n,"startTaskList",function(){return ue}),i.d(n,"updateResolvableDiscussonsCounts",function(){return de}),i.d(n,"submitSuggestion",function(){return fe}),i.d(n,"default",function(){return he});var s={};i.r(s),i.d(s,"discussions",function(){return be}),i.d(s,"targetNoteHash",function(){return _e}),i.d(s,"getNotesData",function(){return ye}),i.d(s,"isNotesFetched",function(){return we}),i.d(s,"isLoading",function(){return Ce}),i.d(s,"getNotesDataByProp",function(){return ke}),i.d(s,"getNoteableData",function(){return je}),i.d(s,"getNoteableDataByProp",function(){return Se}),i.d(s,"openState",function(){return Oe}),i.d(s,"getUserData",function(){return xe}),i.d(s,"getUserDataByProp",function(){return De}),i.d(s,"notesById",function(){return Te}),i.d(s,"noteableType",function(){return Ee}),i.d(s,"getCurrentUserLastNote",function(){return Ne}),i.d(s,"getDiscussionLastNote",function(){return Le}),i.d(s,"unresolvedDiscussionsCount",function(){return qe}),i.d(s,"resolvableDiscussionsCount",function(){return Me}),i.d(s,"hasUnresolvedDiscussions",function(){return Ae}),i.d(s,"showJumpToNextDiscussion",function(){return Fe}),i.d(s,"isDiscussionResolved",function(){return Be}),i.d(s,"allResolvableDiscussions",function(){return Re}),i.d(s,"resolvedDiscussionsById",function(){return $e}),i.d(s,"unresolvedDiscussionsIdsByDate",function(){return He}),i.d(s,"unresolvedDiscussionsIdsByDiff",function(){return Ue}),i.d(s,"resolvedDiscussionCount",function(){return We}),i.d(s,"discussionTabCounter",function(){return Ve}),i.d(s,"unresolvedDiscussionsIdsOrdered",function(){return ze}),i.d(s,"isLastUnresolvedDiscussion",function(){return Ge}),i.d(s,"nextUnresolvedDiscussionId",function(){return Ye}),i.d(s,"firstUnresolvedDiscussionId",function(){return Je}),i.d(s,"commentsDisabled",function(){return Ke}),i.d(s,"default",function(){return Qe});var a=i(11),o=i(0),r=i.n(o),l=i(6),c=i(69),u=i.n(c),d=i(143),f=i(7),h=i(96),p=i(152),m=/^\/\w+.*$/gm,g=function(e,t){return e.filter(function(e){return e.id===t})[0]},v=i(67),b=i(12),_=i(275);a.default.use(_.a);var y,w={fetchDiscussions:function(e,t){var i=void 0!==t?{params:{notes_filter:t}}:null;return a.default.http.get(e,i)},deleteNote:function(e){return a.default.http.delete(e)},replyToDiscussion:function(e,t){return a.default.http.post(e,t,{emulateJSON:!0})},updateNote:function(e,t){return a.default.http.put(e,t,{emulateJSON:!0})},createNewNote:function(e,t){return a.default.http.post(e,t,{emulateJSON:!0})},toggleResolveNote:function(e,t){var i=v.q,n=v.s,s=t?n:i;return a.default.http[s](e)},poll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.notesData.notesPath,i=e.lastFetchedAt,n={headers:{"X-Last-Fetched-At":i?"".concat(i):void 0}};return a.default.http.get(t,n)},toggleAward:function(e,t){return a.default.http.post(e,t,{emulateJSON:!0})},toggleIssueState:function(e,t){return a.default.http.put(e,t)},applySuggestion:function(e){return b.a.applySuggestion(e)}},C=i(190),k=i(57),j=i(13),S=i(107),O=i(1),x=function(e,t){var i=e.commit,n=e.dispatch;t.discussionId&&n("diffs/renderFileForDiscussionId",t.discussionId,{root:!0}),i("EXPAND_DISCUSSION",t)},D=function(e,t){return(0,e.commit)("COLLAPSE_DISCUSSION",t)},T=function(e,t){return(0,e.commit)("SET_NOTES_DATA",t)},E=function(e,t){return(0,e.commit)("SET_NOTEABLE_DATA",t)},P=function(e,t){return(0,e.commit)("SET_USER_DATA",t)},I=function(e,t){return(0,e.commit)("SET_LAST_FETCHED_AT",t)},N=function(e,t){return(0,e.commit)("SET_INITIAL_DISCUSSIONS",t)},L=function(e,t){return(0,e.commit)("SET_TARGET_NOTE_HASH",t)},q=function(e,t){return(0,e.commit)("SET_NOTES_FETCHED_STATE",t)},M=function(e,t){return(0,e.commit)("TOGGLE_DISCUSSION",t)},A=function(e,t){var i=e.commit,n=e.dispatch,s=t.path,a=t.filter;return w.fetchDiscussions(s,a).then(function(e){return e.json()}).then(function(e){i("SET_INITIAL_DISCUSSIONS",e),n("updateResolvableDiscussonsCounts")})},F=function(e,t){var i=e.commit,n=e.state;return i("UPDATE_DISCUSSION",t),g(n.discussions,t.id)},B=function(e,t){var i=e.commit,n=e.dispatch,s=e.state;return w.deleteNote(t.path).then(function(){var e=s.discussions.find(function(e){return e.id===t.discussion_id});i("DELETE_NOTE",t),n("updateMergeRequestWidget"),n("updateResolvableDiscussonsCounts"),Object(j.s)()&&n("diffs/removeDiscussionsFromDiff",e)})},R=function(e,t){var i=e.commit,n=e.dispatch,s=t.endpoint,a=t.note;return w.updateNote(s,a).then(function(e){return e.json()}).then(function(e){i("UPDATE_NOTE",e),n("startTaskList")})},$=function(e,t){var i=e.commit,n=t.endpoint,s=t.data;return w.replyToDiscussion(n,s).then(function(e){return e.json()}).then(function(e){return i("ADD_NEW_REPLY_TO_DISCUSSION",e),e})},H=function(e,t){var i=e.commit,n=e.dispatch,s=t.endpoint,a=t.data;return w.createNewNote(s,a).then(function(e){return e.json()}).then(function(e){return e.errors||(i("ADD_NEW_NOTE",e),n("updateMergeRequestWidget"),n("startTaskList"),n("updateResolvableDiscussonsCounts")),e})},U=function(e){return(0,e.commit)("REMOVE_PLACEHOLDER_NOTES")},W=function(e,t){var i=e.commit,n=e.dispatch,s=t.endpoint,a=t.isResolved,o=t.discussion;return w.toggleResolveNote(s,a).then(function(e){return e.json()}).then(function(e){i(o?"UPDATE_DISCUSSION":"UPDATE_NOTE",e),n("updateResolvableDiscussonsCounts"),n("updateMergeRequestWidget")})},V=function(e){var t=e.commit,i=e.dispatch,n=e.state;return i("toggleStateButtonLoading",!0),w.toggleIssueState(n.notesData.closePath).then(function(e){return e.json()}).then(function(e){t("CLOSE_ISSUE"),i("emitStateChangedEvent",e),i("toggleStateButtonLoading",!1)})},z=function(e){var t=e.commit,i=e.dispatch,n=e.state;return i("toggleStateButtonLoading",!0),w.toggleIssueState(n.notesData.reopenPath).then(function(e){return e.json()}).then(function(e){t("REOPEN_ISSUE"),i("emitStateChangedEvent",e),i("toggleStateButtonLoading",!1)})},G=function(e,t){return(0,e.commit)("TOGGLE_STATE_BUTTON_LOADING",t)},Y=function(e,t){var i=e.getters,n=new CustomEvent("issuable_vue_app:change",{detail:{data:t,isClosed:i.openState===v.a}});document.dispatchEvent(n)},J=function(e,t){var i=e.commit;t===v.a?i("CLOSE_ISSUE"):t===v.p&&i("REOPEN_ISSUE")},K=function(e,t){var i,n=e.commit,s=e.dispatch,a=t.data.draft_note||t.data["note[note]"]||t.data.note.note,o=a,l=function(e){return m.test(e)}(o),c=t.data.in_reply_to_discussion_id,u=Object.assign({},t);return!0===u.isDraft?(i=c?"batchComments/addDraftToDiscussion":"batchComments/createNewDraft",!u.draft_note&&t.note&&(u.draft_note=u.note,delete u.note)):i=c?"replyToDiscussion":"createNewNote",r()(".notes-form .flash-container").hide(),n("REMOVE_PLACEHOLDER_NOTES"),c&&(l&&(o=function(e){return e.replace(m,"").trim()}(o)),o.length&&n("SHOW_PLACEHOLDER_NOTE",{noteBody:o,replyId:c}),l&&n("SHOW_PLACEHOLDER_NOTE",{isSystemNote:!0,noteBody:function(e){var t="Applying command",i=(p.a.get(gl.GfmAutoComplete.dataSources.commands)||[]).filter(function(t){return new RegExp("/".concat(t.name)).test(e)});if(i&&i.length)if(i.length>1)t="Applying multiple commands";else{var n=i[0].description.toLowerCase();t="Applying command to ".concat(n)}return t}(a),replyId:c})),s(i,u,{root:!0}).then(function(e){var i=e.errors,s=e.commands_changes;if(l&&i&&Object.keys(i).length&&(y.makeRequest(),r()(".js-gfm-input").trigger("clear-commands-cache.atwho"),Object(f.a)("Commands applied","notice",t.flashContainer)),s){if(s.emoji_award){var a=r()(".js-awards-block").eq(0);Object(C.b)().then(function(e){e.addAwardToEmojiBar(a,s.emoji_award),e.scrollToAwards()}).catch(function(){Object(f.a)("Something went wrong while adding your award. Please try again.","alert",t.flashContainer)})}null==s.spend_time&&null==s.time_estimate||k.a.$emit("timeTrackingUpdated",e)}return i&&i.commands_only&&Object(f.a)(i.commands_only,"notice",t.flashContainer),c&&n("REMOVE_PLACEHOLDER_NOTES"),e})},Q=function(e,t,i,n,s){if(e.notes&&e.notes.length){var a=n.notesById;e.notes.forEach(function(e){if(a[e.id])t("UPDATE_NOTE",e);else if(e.type===v.g||e.type===v.d){g(i.discussions,e.discussion_id)?t("ADD_NEW_REPLY_TO_DISCUSSION",e):e.type===v.d?s("fetchDiscussions",{path:i.notesData.discussionsPath}):t("ADD_NEW_NOTE",e)}else t("ADD_NEW_NOTE",e)}),s("startTaskList")}return t("SET_LAST_FETCHED_AT",e.last_fetched_at),e},X=function(e){var t=e.commit,i=e.state,n=e.getters,s=e.dispatch;y=new h.a({resource:w,method:"poll",data:i,successCallback:function(e){return e.json().then(function(e){return Q(e,t,i,n,s)})},errorCallback:function(){return Object(f.a)("Something went wrong while fetching latest comments.")}}),u.a.hidden()?w.poll(i):y.makeRequest(),u.a.change(function(){u.a.hidden()?y.stop():y.restart()})},Z=function(){y.stop()},ee=function(){y.restart()},te=function(e){var t=e.commit,i=e.state,n=e.getters,s={endpoint:i.notesData.notesPath,lastFetchedAt:i.lastFetchedAt};w.poll(s).then(function(e){return e.json}).then(function(e){return Q(e,t,i,n)}).catch(function(){return Object(f.a)("Something went wrong while fetching latest comments.")})},ie=function(e,t){var i=e.commit,n=e.getters,s=t.awardName,a=t.noteId;i("TOGGLE_AWARD",{awardName:s,note:n.notesById[a]})},ne=function(e,t){var i=e.dispatch,n=t.endpoint,s=t.awardName;return w.toggleAward(n,{name:s}).then(function(e){return e.json()}).then(function(){i("toggleAward",t)})},se=function(e,t){Object(j.u)(t[0])||Object(j.G)(t)},ae=function(e,t){var i=e.commit;return l.a.get(t.truncated_diff_lines_path).then(function(e){var n=e.data;i("SET_DISCUSSION_DIFF_LINES",{discussionId:t.id,diffLines:n.truncated_diff_lines})})},oe=function(){S.a.$emit("mr.discussion.updated")},re=function(e,t){(0,e.commit)("SET_NOTES_LOADING_STATE",t)},le=function(e,t){var i=e.dispatch,n=t.path,s=t.filter;i("setLoadingState",!0),i("fetchDiscussions",{path:n,filter:s}).then(function(){i("setLoadingState",!1),i("setNotesFetchedState",!0)}).catch(function(){i("setLoadingState",!1),i("setNotesFetchedState",!0),Object(f.a)(Object(O.a)("Something went wrong while fetching comments. Please try again."))})},ce=function(e,t){(0,e.commit)("DISABLE_COMMENTS",t)},ue=function(e){var t=e.dispatch;return a.default.nextTick(function(){return new d.a({dataType:"note",fieldName:"note",selector:".notes .is-editable",onSuccess:function(){return t("startTaskList")}})})},de=function(e){return(0,e.commit)("UPDATE_RESOLVABLE_DISCUSSIONS_COUNTS")},fe=function(e,t){var i=e.commit,n=t.discussionId,s=t.noteId,a=t.suggestionId,o=t.flashContainer,r=t.callback;w.applySuggestion(a).then(function(){i("APPLY_SUGGESTION",{discussionId:n,noteId:s,suggestionId:a}),r()}).catch(function(){Object(f.a)(Object(O.a)("Something went wrong while applying the suggestion. Please try again."),"alert",o),r()})},he=function(){},pe=i(5),me=i.n(pe),ge=function(e){var t=null,i=-1,n=1;return e.slice(0).reduce(function(e,s){var a=s.notes[0];if(function(e){return e.system&&e.note===v.c}(a))if(t){if(t){var o=function(e,t){var i=new Date(e.created_at),n=(new Date(t.created_at)-i)/1e3/60;return Math.ceil(n)}(t,a);o>10?(n=1,t=a,i=e.length):(n+=1,e.splice(i,1),s.notes.splice(0,1,function(e,t,i){var n=Object.assign({},e);return n.note_html=Object(O.f)(Object(O.e)("MergeRequest|\n  %{paragraphStart}changed the description %{descriptionChangedTimes} times %{timeDifferenceMinutes}%{paragraphEnd}"),{paragraphStart:'<p dir="auto">',paragraphEnd:"</p>",descriptionChangedTimes:t,timeDifferenceMinutes:Object(O.d)("within %d minute ","within %d minutes ",i)},!1),n.times_updated=t,n}(a,n,o)),i=e.length)}}else t=a,i=e.length;return e.push(s),e},[])};var ve,be=function(e){return ge(e.discussions)},_e=function(e){return e.targetNoteHash},ye=function(e){return e.notesData},we=function(e){return e.isNotesFetched},Ce=function(e){return e.isLoading},ke=function(e){return function(t){return e.notesData[t]}},je=function(e){return e.noteableData},Se=function(e){return function(t){return e.noteableData[t]}},Oe=function(e){return e.noteableData.state},xe=function(e){return e.userData||{}},De=function(e){return function(t){return e.userData&&e.userData[t]}},Te=function(e){return e.discussions.reduce(function(e,t){return t.notes.every(function(t){return Object.assign(e,(i={},n=t.id,s=t,n in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i));var i,n,s}),e},{})},Ee=function(e){var t=v.k,i=v.l,n=v.i;return e.noteableData.noteableType===n?n:e.noteableData.merge_params?i:t},Pe=function(e){return e.slice(0).reverse()},Ie=function(e,t){return!e.system&&t.userData&&e.author&&e.author.id===t.userData.id},Ne=function(e){return me.a.flatten(Pe(e.discussions).map(function(e){return Pe(e.notes)})).find(function(t){return Ie(t,e)})},Le=function(e){return function(t){return Pe(t.notes).find(function(t){return Ie(t,e)})}},qe=function(e){return e.unresolvedDiscussionsCount},Me=function(e){return e.resolvableDiscussionsCount},Ae=function(e){return e.hasUnresolvedDiscussions},Fe=function(e,t){return function(e){var i="discussion"!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"discussion")?t.unresolvedDiscussionsIdsByDiff:t.unresolvedDiscussionsIdsByDate,n=i.indexOf(e);return-1!==n&&n<i.length-1}},Be=function(e,t){return function(e){return void 0!==t.resolvedDiscussionsById[e]}},Re=function(e){return e.discussions.filter(function(e){return!e.individual_note&&e.resolvable})},$e=function(e){var t={};return e.discussions.filter(function(e){return e.resolvable}).forEach(function(e){e.notes&&(e.notes.filter(function(e){return e.resolvable}).every(function(e){return e.resolved})&&(t[e.id]=e))}),t},He=function(e,t){return t.allResolvableDiscussions.filter(function(e){return!e.resolved}).sort(function(e,t){var i=new Date(e.notes[0].created_at),n=new Date(t.notes[0].created_at);return i<n?-1:i===n?0:1}).map(function(e){return e.id})},Ue=function(e,t){return t.allResolvableDiscussions.filter(function(e){return!e.resolved&&e.active}).sort(function(e,t){if(!e.diff_file||!t.diff_file)return 0;var i=e.diff_file.file_path.localeCompare(t.diff_file.file_path),n=[e.position.new_line,e.position.old_line],s=[t.position.new_line,t.position.old_line];return i<0||0===i&&Math.max(n[0],n[1])<Math.max(s[0],s[1])?-1:1}).map(function(e){return e.id})},We=function(e,t){var i=t.resolvedDiscussionsById;return Object.keys(i).length},Ve=function(e){return e.discussions.reduce(function(e,t){return e+t.notes.filter(function(e){return!e.system&&!e.placeholder}).length},0)},ze=function(e,t){return function(e){return e?t.unresolvedDiscussionsIdsByDiff:t.unresolvedDiscussionsIdsByDate}},Ge=function(e,t){return function(e,i){var n=t.unresolvedDiscussionsIdsOrdered(i);return n[n.length-1]===e}},Ye=function(e,t){return function(e,i){var n=t.unresolvedDiscussionsIdsOrdered(i),s=n.indexOf(e);return n.slice(s+1,s+2).length?n.slice(s+1,s+2)[0]:n[0]}},Je=function(e,t){return function(e){return e?t.unresolvedDiscussionsIdsByDiff[0]:t.unresolvedDiscussionsIdsByDate[0]}},Ke=function(e){return e.commentsDisabled},Qe=function(){};function Xe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){Ze(e,t,i[t])})}return e}function Ze(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var tt=(Ze(ve={},"ADD_NEW_NOTE",function(e,t){var i=t.discussion?t.discussion.notes[0]:t,n=i.discussion_id,s=i.type,a=et(e.discussions.filter(function(e){return e.id===i.discussion_id}),1)[0],o=s===v.g||s===v.d;if(!a){var r={expanded:!0,id:n,individual_note:!o,notes:[i],reply_id:n};o&&Object(j.s)()&&(r.resolvable=i.resolvable,r.resolved=!1,r.active=!0,r.resolve_path=i.resolve_path,r.resolve_with_issue_path=i.resolve_with_issue_path,r.diff_discussion=!1),e.discussions.push(r)}}),Ze(ve,"ADD_NEW_REPLY_TO_DISCUSSION",function(e,t){var i=g(e.discussions,t.discussion_id);i&&i.notes.push(t)}),Ze(ve,"DELETE_NOTE",function(e,t){var i=g(e.discussions,t.discussion_id);if(i.individual_note)e.discussions.splice(e.discussions.indexOf(i),1);else{var n=g(i.notes,t.id);i.notes.splice(i.notes.indexOf(n),1),i.notes.length||e.discussions.splice(e.discussions.indexOf(i),1)}}),Ze(ve,"EXPAND_DISCUSSION",function(e,t){var i=t.discussionId,n=g(e.discussions,i);Object.assign(n,{expanded:!0})}),Ze(ve,"COLLAPSE_DISCUSSION",function(e,t){var i=t.discussionId,n=g(e.discussions,i);Object.assign(n,{expanded:!1})}),Ze(ve,"REMOVE_PLACEHOLDER_NOTES",function(e){for(var t=e.discussions,i=t.length-1;i>=0;i-=1){var n=t[i],s=n.notes;if(s.length&&!n.individual_note)for(var a=s.length-1;a>=0;a-=1)s[a].isPlaceholderNote&&s.splice(a,1);else n.isPlaceholderNote&&t.splice(i,1)}}),Ze(ve,"SET_NOTES_DATA",function(e,t){Object.assign(e,{notesData:t})}),Ze(ve,"SET_NOTEABLE_DATA",function(e,t){Object.assign(e,{noteableData:t})}),Ze(ve,"SET_USER_DATA",function(e,t){Object.assign(e,{userData:t})}),Ze(ve,"SET_INITIAL_DISCUSSIONS",function(e,t){var i=t.reduce(function(t,i){var n=Xe({},i),s={};if(n.diff_file&&(s.file_hash=n.diff_file.file_hash,s.truncated_diff_lines=n.truncated_diff_lines||[]),n.individual_note&&n.notes.length>1)n.notes.forEach(function(e){t.push(Xe({},n,s,{notes:[e]}))});else{var a=g(e.discussions,n.id);t.push(Xe({},n,s,{expanded:a?a.expanded:n.expanded}))}return t},[]);Object.assign(e,{discussions:i})}),Ze(ve,"SET_LAST_FETCHED_AT",function(e,t){Object.assign(e,{lastFetchedAt:t})}),Ze(ve,"SET_TARGET_NOTE_HASH",function(e,t){Object.assign(e,{targetNoteHash:t})}),Ze(ve,"SHOW_PLACEHOLDER_NOTE",function(e,t){var i=e.discussions,n=g(i,t.replyId);n&&(i=n.notes),i.push({individual_note:!0,isPlaceholderNote:!0,placeholderType:t.isSystemNote?v.r:v.m,notes:[{body:t.noteBody}]})}),Ze(ve,"TOGGLE_AWARD",function(e,t){var i=t.awardName,n=t.note,s=e.userData,a=s.id,o=s.name,r=s.username,l=n.award_emoji.filter(function(e){return e.name===t.awardName&&e.user.id===a});l.length?n.award_emoji.splice(n.award_emoji.indexOf(l[0]),1):n.award_emoji.push({name:i,user:{id:a,name:o,username:r}})}),Ze(ve,"TOGGLE_DISCUSSION",function(e,t){var i=t.discussionId,n=t.forceExpanded,s=void 0===n?null:n,a=g(e.discussions,i);Object.assign(a,{expanded:null===s?!a.expanded:s})}),Ze(ve,"UPDATE_NOTE",function(e,t){var i=g(e.discussions,t.discussion_id);if(i.individual_note)i.notes.splice(0,1,t);else{var n=g(i.notes,t.id);i.notes.splice(i.notes.indexOf(n),1,t)}}),Ze(ve,"APPLY_SUGGESTION",function(e,t){var i=t.noteId,n=t.discussionId,s=t.suggestionId,a=g(e.discussions,n),o=g(a.notes,i);o.suggestions=o.suggestions.map(function(e){return Xe({},e,{applied:e.applied||e.id===s,appliable:!1})})}),Ze(ve,"UPDATE_DISCUSSION",function(e,t){var i=t,n=e.discussions.find(function(e){return e.id===i.id});i.expanded=!0,i.diff_file&&Object.assign(i,{file_hash:i.diff_file.file_hash}),Object.assign(n,Xe({},i))}),Ze(ve,"CLOSE_ISSUE",function(e){Object.assign(e.noteableData,{state:v.a})}),Ze(ve,"REOPEN_ISSUE",function(e){Object.assign(e.noteableData,{state:v.p})}),Ze(ve,"TOGGLE_STATE_BUTTON_LOADING",function(e,t){Object.assign(e,{isToggleStateButtonLoading:t})}),Ze(ve,"SET_NOTES_FETCHED_STATE",function(e,t){Object.assign(e,{isNotesFetched:t})}),Ze(ve,"SET_NOTES_LOADING_STATE",function(e,t){e.isLoading=t}),Ze(ve,"SET_DISCUSSION_DIFF_LINES",function(e,t){var i=t.discussionId,n=t.diffLines;g(e.discussions,i).truncated_diff_lines=n}),Ze(ve,"DISABLE_COMMENTS",function(e,t){e.commentsDisabled=t}),Ze(ve,"UPDATE_RESOLVABLE_DISCUSSIONS_COUNTS",function(e){e.resolvableDiscussionsCount=e.discussions.filter(function(e){return!e.individual_note&&e.resolvable}).length,e.unresolvedDiscussionsCount=e.discussions.filter(function(e){return!e.individual_note&&e.resolvable&&e.notes.some(function(e){return e.resolvable&&!e.resolved})}).length,e.hasUnresolvedDiscussions=e.unresolvedDiscussionsCount>1}),ve);t.a=function(){return{state:{discussions:[],targetNoteHash:null,lastFetchedAt:null,isToggleStateButtonLoading:!1,isNotesFetched:!1,isLoading:!0,notesData:{markdownDocsPath:""},userData:{},noteableData:{current_user:{},preview_note_path:"path/to/preview"},commentsDisabled:!1,resolvableDiscussionsCount:0,unresolvedDiscussionsCount:0,hasUnresolvedDiscussions:!1},actions:n,getters:s,mutations:tt}}},503:function(e,t,i){"use strict";var n=i(11),s=i(0),a=i.n(s),o=i(18),r=i(15),l=i(67);function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){u(e,t,i[t])})}return e}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d={components:{Icon:r.a},props:{filters:{type:Array,required:!0},selectedValue:{type:Number,default:null,required:!1}},data:function(){return{currentValue:this.selectedValue,defaultValue:l.f,displayFilters:!0}},computed:c({},Object(o.c)(["getNotesDataByProp"]),{currentFilter:function(){var e=this;return this.currentValue?this.filters.find(function(t){return t.value===e.currentValue}):this.filters[0]}}),created:function(){if(window.mrTabs){var e=window.mrTabs,t=e.eventHub,i=e.currentTab;t.$on("MergeRequestTabChange",this.toggleFilters),this.toggleFilters(i)}},mounted:function(){this.toggleCommentsForm()},methods:c({},Object(o.b)(["filterDiscussion","setCommentsDisabled"]),{selectFilter:function(e){var t=parseInt(e,10);a()(this.$refs.dropdownToggle).dropdown("toggle"),t!==this.currentValue&&(this.currentValue=t,this.filterDiscussion({path:this.getNotesDataByProp("discussionsPath"),filter:t}),this.toggleCommentsForm())},toggleCommentsForm:function(){this.setCommentsDisabled(this.currentValue===l.j)},toggleFilters:function(e){this.displayFilters=e===l.h}})},f=i(3),h=Object(f.a)(d,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.displayFilters?i("div",{staticClass:"discussion-filter-container d-inline-block align-bottom"},[i("button",{ref:"dropdownToggle",staticClass:"btn btn-default qa-discussion-filter",attrs:{id:"discussion-filter-dropdown","data-toggle":"dropdown","aria-expanded":"false"}},[e._v("\n    "+e._s(e.currentFilter.title)+" "),i("icon",{attrs:{name:"chevron-down"}})],1),e._v(" "),i("div",{staticClass:"dropdown-menu dropdown-menu-selectable dropdown-menu-right",attrs:{"aria-labelledby":"discussion-filter-dropdown"}},[i("div",{staticClass:"dropdown-content"},[i("ul",e._l(e.filters,function(t){return i("li",{key:t.value},[i("button",{staticClass:"qa-filter-options",class:{"is-active":t.value===e.currentValue},attrs:{type:"button"},on:{click:function(i){e.selectFilter(t.value)}}},[e._v("\n            "+e._s(t.title)+"\n          ")]),e._v(" "),t.value===e.defaultValue?i("div",{staticClass:"dropdown-divider"}):e._e()])}),0)])])]):e._e()},[],!1,null,null,null);h.options.__file="discussion_filter.vue";var p=h.exports;t.a=function(e){var t=document.getElementById("js-vue-discussion-filter");if(t){var i=t.dataset,s=i.defaultFilter,a=i.notesFilters,o=s?parseInt(s,10):null,r=a?JSON.parse(a):{},l=Object.keys(r).map(function(e){return{title:e,value:r[e]}});return new n.default({el:t,name:"DiscussionFilter",components:{DiscussionFilter:p},store:e,render:function(e){return e("discussion-filter",{props:{filters:l,selectedValue:o}})}})}return null}},504:function(e,t,i){"use strict";var n=i(15),s=i(204),a=i(266),o={name:"FileRow",components:{FileIcon:s.a,Icon:n.a,ChangedFileIcon:a.a},props:{file:{type:Object,required:!0},level:{type:Number,required:!0},extraComponent:{type:Object,required:!1,default:null},hideExtraOnTree:{type:Boolean,required:!1,default:!1},showChangedIcon:{type:Boolean,required:!1,default:!1},displayTextKey:{type:String,required:!1,default:"name"},shouldTruncateStart:{type:Boolean,required:!1,default:!1}},data:function(){return{mouseOver:!1,truncateStart:0}},computed:{isTree:function(){return"tree"===this.file.type},isBlob:function(){return"blob"===this.file.type},levelIndentation:function(){return{marginLeft:"".concat(16*this.level,"px")}},fileClass:function(){return{"file-open":this.isBlob&&this.file.opened,"is-active":this.isBlob&&this.file.active,folder:this.isTree,"is-open":this.file.opened}},outputText:function(){var e=this.file[this.displayTextKey];return 0===this.truncateStart?e:"...".concat(e.substring(this.truncateStart,e.length))}},watch:{"file.active":function(e){"blob"===this.file.type&&e&&this.scrollIntoView()}},mounted:function(){if(this.hasPathAtCurrentRoute()&&this.scrollIntoView(!0),this.shouldTruncateStart){var e=this.$refs.textOutput,t=e.scrollWidth-e.offsetWidth;t>0&&(this.truncateStart=Math.ceil(t/5)+3)}},methods:{toggleTreeOpen:function(e){this.$emit("toggleTreeOpen",e)},clickedFile:function(e){this.$emit("clickFile",e)},clickFile:function(){this.isTree&&this.hasUrlAtCurrentRoute()&&this.toggleTreeOpen(this.file.path),this.$router&&this.$router.push("/project".concat(this.file.url)),this.isBlob&&this.clickedFile(this.file.path)},scrollIntoView:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isTree?"center":"nearest";this.$el.scrollIntoView({behavior:"smooth",block:e})},hasPathAtCurrentRoute:function(){if(!this.$router||!this.$router.currentRoute)return!1;var e=this.$router.currentRoute.path.replace(/^.*?[/]-[/]/g,"").replace(/[/]$/g,"");return this.file.path.replace(/[/]$/g,"")===e},hasUrlAtCurrentRoute:function(){return!this.$router||!this.$router.currentRoute||this.$router.currentRoute.path==="/project".concat(this.file.url)},toggleHover:function(e){this.mouseOver=e}}},r=(i(603),i(3)),l=Object(r.a)(o,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"file-row",class:e.fileClass,attrs:{role:"button"},on:{click:e.clickFile,mouseover:function(t){e.toggleHover(!0)},mouseout:function(t){e.toggleHover(!1)}}},[i("div",{staticClass:"file-row-name-container"},[i("span",{ref:"textOutput",staticClass:"file-row-name str-truncated",style:e.levelIndentation},[e.showChangedIcon&&"tree"!==e.file.type?i("changed-file-icon",{staticClass:"append-right-5",attrs:{file:e.file,size:16}}):i("file-icon",{attrs:{"file-name":e.file.name,loading:e.file.loading,folder:e.isTree,opened:e.file.opened,size:16}}),e._v("\n        "+e._s(e.outputText)+"\n      ")],1),e._v(" "),!e.extraComponent||e.hideExtraOnTree&&"tree"===e.file.type?e._e():i(e.extraComponent,{tag:"component",attrs:{file:e.file,"mouse-over":e.mouseOver}})],1)]),e._v(" "),e.file.opened?e._l(e.file.tree,function(t){return i("file-row",{key:t.key,attrs:{file:t,level:e.level+1,"hide-extra-on-tree":e.hideExtraOnTree,"extra-component":e.extraComponent,"show-changed-icon":e.showChangedIcon,"display-text-key":e.displayTextKey,"should-truncate-start":e.shouldTruncateStart},on:{toggleTreeOpen:e.toggleTreeOpen,clickFile:e.clickedFile}})}):e._e()],2)},[],!1,null,null,null);l.options.__file="file_row.vue";t.a=l.exports},52:function(e,t,i){"use strict";i.d(t,"d",function(){return n}),i.d(t,"b",function(){return s}),i.d(t,"a",function(){return a}),i.d(t,"f",function(){return o}),i.d(t,"e",function(){return r}),i.d(t,"c",function(){return l}),i.d(t,"g",function(){return c}),i.d(t,"n",function(){return u}),i.d(t,"i",function(){return d}),i.d(t,"l",function(){return f}),i.d(t,"m",function(){return h}),i.d(t,"h",function(){return p}),i.d(t,"j",function(){return m}),i.d(t,"k",function(){return g});var n=40,s=55,a=33,o=750,r=50,l=72,c={edit:"ide-tree",commit:"commit-section",review:"ide-review"},u={mr:"mrdiff",edit:"editor",diff:"diff"},d={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed",mode_changed:"mode_changed"},f={pipelines:{name:"pipelines-list",keepAlive:!0},jobsDetail:{name:"jobs-detail",keepAlive:!1},mergeRequestInfo:{name:"merge-request-info",keepAlive:!0},clientSidePreview:{name:"clientside",keepAlive:!1}},h={unstaged:"unstaged",staged:"staged"},p={addition:{icon:"file-addition",class:"ide-file-addition"},modified:{icon:"file-modified",class:"ide-file-modified"},deleted:{icon:"file-deletion",class:"ide-file-deletion"}},m={rename:"rename",tree:"tree"},g="package.json"},541:function(e,t,i){var n=i(1317);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i(74).default)("4bfc3a27",n,!0,{})},542:function(e,t,i){var n=i(1319);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i(74).default)("6c37c807",n,!0,{})},543:function(e,t,i){var n=i(1321);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i(74).default)("8a2d180a",n,!0,{})},57:function(e,t,i){"use strict";var n=new(i(11).default);window.emitSidebarEvent=function(){return n.$emit.apply(n,arguments)},t.a=n},59:function(e,t,i){"use strict";var n=i(11);t.a=new n.default},601:function(e,t,i){"use strict";var n=i(332);i.n(n).a},602:function(e,t,i){(e.exports=i(73)(!1)).push([e.i,"\n.file-addition,\n.file-addition-solid {\n  color: #1aaa55;\n}\n.file-modified,\n.file-modified-solid {\n  color: #fc9403;\n}\n.file-deletion,\n.file-deletion-solid {\n  color: #db3b21;\n}\n",""])},603:function(e,t,i){"use strict";var n=i(333);i.n(n).a},604:function(e,t,i){(e.exports=i(73)(!1)).push([e.i,"\n.file-row {\n  display: flex;\n  align-items: center;\n  height: 32px;\n  padding: 4px 8px;\n  margin-left: -8px;\n  margin-right: -8px;\n  border-radius: 3px;\n  text-align: left;\n  cursor: pointer;\n}\n.file-row:hover,\n.file-row:focus {\n  background: #f2f2f2;\n}\n.file-row:active {\n  background: #dfdfdf;\n}\n.file-row.is-active {\n  background: #f2f2f2;\n}\n.file-row-name-container {\n  display: flex;\n  width: 100%;\n  align-items: center;\n  overflow: visible;\n}\n.file-row-name {\n  display: inline-block;\n  flex: 1;\n  max-width: inherit;\n  height: 18px;\n  line-height: 16px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.file-row-name svg {\n  margin-right: 2px;\n  vertical-align: middle;\n}\n.file-row-name .loading-container {\n  display: inline-block;\n  margin-right: 4px;\n}\n",""])},67:function(e,t,i){"use strict";i.d(t,"g",function(){return n}),i.d(t,"d",function(){return s}),i.d(t,"e",function(){return a}),i.d(t,"m",function(){return o}),i.d(t,"r",function(){return r}),i.d(t,"b",function(){return l}),i.d(t,"o",function(){return c}),i.d(t,"p",function(){return u}),i.d(t,"a",function(){return d}),i.d(t,"k",function(){return f}),i.d(t,"i",function(){return h}),i.d(t,"l",function(){return p}),i.d(t,"s",function(){return m}),i.d(t,"q",function(){return g}),i.d(t,"c",function(){return v}),i.d(t,"j",function(){return b}),i.d(t,"f",function(){return _}),i.d(t,"h",function(){return y}),i.d(t,"n",function(){return w});var n="DiscussionNote",s="DiffNote",a="discussion",o="note",r="systemNote",l="comment",c="opened",u="reopened",d="closed",f="issue",h="epic",p="MergeRequest",m="delete",g="post",v="changed the description",b=2,_=0,y="show",w={Issue:f,MergeRequest:p,Epic:h}},69:function(e,t,i){e.exports=i(193)},70:function(e,t,i){"use strict";i.d(t,"h",function(){return n}),i.d(t,"w",function(){return s}),i.d(t,"p",function(){return a}),i.d(t,"v",function(){return o}),i.d(t,"t",function(){return r}),i.d(t,"b",function(){return l}),i.d(t,"f",function(){return c}),i.d(t,"d",function(){return u}),i.d(t,"i",function(){return d}),i.d(t,"s",function(){return f}),i.d(t,"u",function(){return h}),i.d(t,"x",function(){return p}),i.d(t,"g",function(){return m}),i.d(t,"m",function(){return g}),i.d(t,"n",function(){return v}),i.d(t,"e",function(){return b}),i.d(t,"l",function(){return _}),i.d(t,"o",function(){return y}),i.d(t,"a",function(){return w}),i.d(t,"y",function(){return C}),i.d(t,"c",function(){return k}),i.d(t,"j",function(){return j}),i.d(t,"k",function(){return S}),i.d(t,"q",function(){return O}),i.d(t,"r",function(){return x});var n="inline",s="parallel",a="match",o="old-nonewline",r="new-nonewline",l="context",c="empty-cell",u="DiffNote",d="LegacyDiffNote",f="new",h="old",p="text",m="image",g="left",v="right",b="diff_view",_="is-over",y="unfold js-unfold",w="diff-expanded",C=20,k=3,j=17,S=100,O=2e3,x="mr_tree_show"},73:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var s=(o=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[i].concat(a).concat([s]).join("\n")}var o;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var a=this[s][0];"number"==typeof a&&(n[a]=!0)}for(s=0;s<e.length;s++){var o=e[s];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},74:function(e,t,i){"use strict";function n(e,t){for(var i=[],n={},s=0;s<t.length;s++){var a=t[s],o=a[0],r={id:e+":"+s,css:a[1],media:a[2],sourceMap:a[3]};n[o]?n[o].parts.push(r):i.push(n[o]={id:o,parts:[r]})}return i}i.r(t),i.d(t,"default",function(){return p});var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},o=s&&(document.head||document.getElementsByTagName("head")[0]),r=null,l=0,c=!1,u=function(){},d=null,f="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,i,s){c=i,d=s||{};var o=n(e,t);return m(o),function(t){for(var i=[],s=0;s<o.length;s++){var r=o[s];(l=a[r.id]).refs--,i.push(l)}t?m(o=n(e,t)):o=[];for(s=0;s<i.length;s++){var l;if(0===(l=i[s]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete a[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var i=e[t],n=a[i.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](i.parts[s]);for(;s<i.parts.length;s++)n.parts.push(v(i.parts[s]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var o=[];for(s=0;s<i.parts.length;s++)o.push(v(i.parts[s]));a[i.id]={id:i.id,refs:1,parts:o}}}}function g(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function v(e){var t,i,n=document.querySelector("style["+f+'~="'+e.id+'"]');if(n){if(c)return u;n.parentNode.removeChild(n)}if(h){var s=l++;n=r||(r=g()),t=y.bind(null,n,s,!1),i=y.bind(null,n,s,!0)}else n=g(),t=function(e,t){var i=t.css,n=t.media,s=t.sourceMap;n&&e.setAttribute("media",n);d.ssrId&&e.setAttribute(f,t.id);s&&(i+="\n/*# sourceURL="+s.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");if(e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,n),i=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else i()}}var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function y(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,s);else{var a=document.createTextNode(s),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}},79:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(62),o=i.n(a),r=i(66),l=i(32),c=i.n(l),u=i(5),d=i.n(u),f=(i(173),i(75)),h=i(6);function p(e){var t,i,n,a,o,r,l,u=e.find(".button-attach-file"),p=e.find(".attaching-file-message"),m=e.find(".button-cancel-uploading-files"),g=e.find(".retry-uploading-link"),v=e.find(".uploading-progress"),b=e.find(".uploading-error-container"),_=e.find(".uploading-error-message"),y=e.find(".uploading-progress-container"),w=e.data("uploads-path")||window.uploads_path||null,C=gon.max_file_size||10,k=e.find(".js-gfm-input");k.wrap('<div class="div-dropzone"></div>'),k.on("paste",function(e){return t(e)});var j=k.closest(".md-area");e.setupMarkdownPreview();var S=e.find(".div-dropzone");if(S.parent().addClass("div-dropzone-wrapper"),S.append('<div class="div-dropzone-hover"></div>'),S.find(".div-dropzone-hover").append('<i class="fa fa-paperclip div-dropzone-icon"></i>'),!w)return S.addClass("js-invalid-dropzone"),null;var O=S.dropzone({url:w,dictDefaultMessage:"",clickable:!0,paramName:"file",maxFilesize:C,uploadMultiple:!1,headers:f.a.headers,previewContainer:!1,processing:function(){return s()(".div-dropzone-alert").alert("close")},dragover:function(){j.addClass("is-dropzone-hover"),e.find(".div-dropzone-hover").css("opacity",.7)},dragleave:function(){j.removeClass("is-dropzone-hover"),e.find(".div-dropzone-hover").css("opacity",0)},drop:function(){j.removeClass("is-dropzone-hover"),e.find(".div-dropzone-hover").css("opacity",0),k.focus()},success:function(e,t){var s=this.getQueuedFiles().length+this.getUploadingFiles().length,a=s>=1;i(t.link.markdown,a),s||u.removeClass("hide"),n(t.link.url)},error:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Attaching the file failed.",n=arguments.length>2?arguments[2]:void 0,s=!(t=i||n.responseText)||d.a.isString(t)?t:t.message;b.removeClass("hide"),_.html(s),u.addClass("hide"),m.addClass("hide")},totaluploadprogress:function(e){a(this.files,p),v.text("".concat(Math.round(e),"%"))},sending:function(){u.addClass("hide"),b.addClass("hide"),y.removeClass("hide"),m.removeClass("hide")},removedfile:function(){u.removeClass("hide"),m.addClass("hide"),y.addClass("hide"),b.addClass("hide")},queuecomplete:function(){s()(".dz-preview").remove(),s()(".markdown-area").trigger("input"),y.addClass("hide"),m.addClass("hide")}}),x=s()(O[0]).children("textarea");m.on("click",function(e){e.preventDefault(),e.stopPropagation(),c.a.forElement(S.get(0)).removeAllFiles(!0)}),g.on("click",function(e){var t=c.a.forElement(e.target.closest(".js-main-target-form").querySelector(".div-dropzone")),i=t.files;e.preventDefault(),t.removeAllFiles(!0),i.map(function(e){var i=e;return i.status===c.a.ERROR&&(i.status=void 0,i.accepted=void 0),t.addFile(i)})}),t=function(e){var t=e.originalEvent;if(t.clipboardData&&t.clipboardData.items){var n=o(t);if(n){e.preventDefault();var s=r(t)||"image.png",a="{{".concat(s,"}}");return i(a),l(n.getAsFile(),s)}}},o=function(e){for(var t=0;t<e.clipboardData.items.length;){var i=e.clipboardData.items[t];if(-1!==i.type.indexOf("image"))return i;t+=1}return!1},i=function(e,t){var i=e;t&&(i+="\n\n");var n=x.get(0),a=n.selectionStart,o=n.selectionEnd,r=s()(x).val().length,l=s()(x).val().substring(0,a),c=s()(x).val().substring(o,r);return s()(x).val(l+i+c),n.setSelectionRange(a+i.length,o+i.length),n.style.height="".concat(n.scrollHeight,"px"),k.get(0).dispatchEvent(new Event("input")),k.trigger("input")},n=function(t){s()(e).append('<input type="hidden" name="files[]" value="'.concat(d.a.escape(t),'">'))},r=function(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData&&(t=e.clipboardData.getData("text/plain")),(t=t.split("\r"))[0]};var D=function(){return y.addClass("hide")};return l=function(t,i){var n=new FormData;n.append("file",t,i),y.removeClass("hide"),e.find(".div-dropzone-alert").alert("close"),h.a.post(w,n).then(function(e){var t=e.data.link.markdown;!function(e,t){var i=s()(x);i.val(function(i,n){return n.replace("{{".concat(e,"}}"),t)}),i.trigger("change")}(i,t),D()}).catch(function(e){var t;t=e.response.data.message,b.removeClass("hide"),_.html(t),D()})},a=function(e,t){var i,n=e.filter(function(e){return"uploading"===e.status||"queued"===e.status}).length;i=n>1?"Attaching ".concat(n," files -"):"Attaching a file -",t.text(i)},e.find(".markdown-selector").click(function(e){e.preventDefault(),s()(this).closest(".gfm-form").find(".div-dropzone").click(),k.focus()}),c.a.forElement(S.get(0))}c.a.autoDiscover=!1;var m=i(76);function g(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.d(t,"a",function(){return v});var v=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=t,this.textarea=this.form.find("textarea.js-gfm-input"),this.enableGFM=Object.assign({},r.b,n);var s=gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources||{};Object.keys(this.enableGFM).forEach(function(e){"emojis"!==e&&(i.enableGFM[e]=!!s[e])}),this.destroy(),this.setupForm(),this.form.data("glForm",this)}var t,i,n;return t=e,(i=[{key:"destroy",value:function(){this.clearEventListeners(),this.autoComplete&&this.autoComplete.destroy(),this.form.data("glForm",null)}},{key:"setupForm",value:function(){var e=this.form.is(":not(.gfm-form)");this.form.removeClass("js-new-note-form"),e&&(this.form.find(".div-dropzone").remove(),this.form.addClass("gfm-form"),gl.utils.disableButtonIfEmptyField(this.form.find(".js-note-text"),this.form.find(".js-comment-button, .js-note-new-discussion")),this.autoComplete=new r.a(gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources),this.autoComplete.setup(this.form.find(".js-gfm-input"),this.enableGFM),p(this.form),o()(this.textarea)),this.addEventListeners(),Object(m.b)(this.form),this.form.show(),this.isAutosizeable&&this.setupAutosize()}},{key:"setupAutosize",value:function(){var e=this;this.textarea.off("autosize:resized").on("autosize:resized",this.setHeightData.bind(this)),this.textarea.off("mouseup.autosize").on("mouseup.autosize",this.destroyAutosize.bind(this)),setTimeout(function(){o()(e.textarea),e.textarea.css("resize","vertical")},0)}},{key:"setHeightData",value:function(){this.textarea.data("height",this.textarea.outerHeight())}},{key:"destroyAutosize",value:function(){var e=this.textarea.outerHeight();this.textarea.data("height")!==e&&(o.a.destroy(this.textarea),this.textarea.data("height",e),this.textarea.outerHeight(e),this.textarea.css("max-height",window.outerHeight))}},{key:"clearEventListeners",value:function(){this.textarea.off("focus"),this.textarea.off("blur"),Object(m.c)(this.form)}},{key:"addEventListeners",value:function(){this.textarea.on("focus",function(){s()(this).closest(".md-area").addClass("is-focused")}),this.textarea.on("blur",function(){s()(this).closest(".md-area").removeClass("is-focused")})}}])&&g(t.prototype,i),n&&g(t,n),e}()},80:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(5),o=i.n(a),r=i(6),l=i(7);t.a={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.container,e.form),i=e.issues,n=e.prefixId;this.prefixId=n||"issue_",this.form=t||this.getElement(".bulk-update"),this.$labelDropdown=this.form.find(".js-label-select"),this.issues=i||this.getElement(".issues-list .issue"),this.willUpdateLabels=!1,this.bindEvents()},bindEvents:function(){return this.form.off("submit").on("submit",this.onFormSubmit.bind(this))},onFormSubmit:function(e){return e.preventDefault(),this.submit()},submit:function(){var e=this;r.a[this.form.attr("method")](this.form.attr("action"),this.getFormDataAsObject()).then(function(){return window.location.reload()}).catch(function(){return e.onFormSubmitFailure()})},onFormSubmitFailure:function(){return this.form.find('[type="submit"]').enable(),new l.a("Issue update failed")},getSelectedIssues:function(){return this.issues.has(".selected-issuable:checked")},getLabelsFromSelection:function(){var e=[];return this.getSelectedIssues().map(function(){var t=s()(this).data("labels");if(t)return t.map(function(t){if(-1===e.indexOf(t))return e.push(t)})}),e},getUnmarkedIndeterminedLabels:function(){var e=[],t=this.$labelDropdown.data("indeterminate");return this.getLabelsFromSelection().forEach(function(i){-1===t.indexOf(i)&&e.push(i)}),e},getFormDataAsObject:function(){var e={update:{state_event:this.form.find('input[name="update[state_event]"]').val(),assignee_id:this.form.find('input[name="update[assignee_id]"]').val(),assignee_ids:[this.form.find('input[name="update[assignee_ids][]"]').val()],milestone_id:this.form.find('input[name="update[milestone_id]"]').val(),issuable_ids:this.form.find('input[name="update[issuable_ids]"]').val(),subscription_event:this.form.find('input[name="update[subscription_event]"]').val(),add_label_ids:[],remove_label_ids:[]}};return this.willUpdateLabels&&(e.update.add_label_ids=this.$labelDropdown.data("marked"),e.update.remove_label_ids=this.$labelDropdown.data("unmarked")),e},setOriginalDropdownData:function(){var e=s()(".bulk-update .js-label-select");e.data("common",this.getOriginalCommonIds()),e.data("marked",this.getOriginalMarkedIds()),e.data("indeterminate",this.getOriginalIndeterminateIds())},getOriginalCommonIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each(function(i,n){t.push(e.getElement("#".concat(e.prefixId).concat(n.dataset.id)).data("labels"))}),o.a.intersection.apply(this,t)},getOriginalMarkedIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each(function(i,n){t.push(e.getElement("#".concat(e.prefixId).concat(n.dataset.id)).data("labels"))}),o.a.intersection.apply(this,t)},getOriginalIndeterminateIds:function(){var e=this,t=[],i=[],n=[];return this.getElement(".selected-issuable:checked").each(function(s,a){(n=e.getElement("#".concat(e.prefixId).concat(a.dataset.id)).data("labels")).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),i.push(n)}),i.unshift(t),o.a.difference(t,o.a.intersection.apply(this,i))},getElement:function(e){return this.scopeEl=this.scopeEl||s()(".content"),this.scopeEl.find(e)}}},806:function(e,t){e.exports='<svg width="256" height="146" viewBox="0 0 256 146" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>illustration</title><defs><rect id="a" width="178.714" height="115.389" rx="10"/><mask id="d" x="0" y="0" width="178.714" height="115.389" fill="#fff"><use xlink:href="#a"/></mask><path d="M8.796 31.515c.395.047.8.072 1.207.072h23.065c5.536 0 10.003-4.475 10.003-9.994v-11.6C43.07 4.476 38.594 0 33.07 0H10.003C4.467 0 0 4.475 0 9.994v11.6c0 1.248.23 2.444.65 3.547H0v7.414c0 4.094 2.394 5.113 5.342 2.28l3.454-3.32z" id="b"/><mask id="e" x="0" y="0" width="43.071" height="36.437" fill="#fff"><use xlink:href="#b"/></mask><path d="M8.796 31.515c.395.047.8.072 1.207.072h23.065c5.536 0 10.003-4.475 10.003-9.994v-11.6C43.07 4.476 38.594 0 33.07 0H10.003C4.467 0 0 4.475 0 9.994v11.6c0 1.248.23 2.444.65 3.547H0v7.414c0 4.094 2.394 5.113 5.342 2.28l3.454-3.32z" id="c"/><mask id="f" x="0" y="0" width="43.071" height="36.437" fill="#fff"><use xlink:href="#c"/></mask></defs><g fill="none" fill-rule="evenodd"><g transform="translate(0 3.868)" fill="#F9F9F9"><rect x="19.286" width="77.143" height="14.182" rx="7.091"/><rect y="28.364" width="84.857" height="14.182" rx="7.091"/><rect x="133.714" y="42.546" width="122.143" height="14.182" rx="7.091"/><rect x="82.929" y="126.992" width="101.571" height="14.182" rx="7.091"/><rect x="42.429" y="99.273" width="101.571" height="14.182" rx="7.091"/><rect x="19.929" y="70.909" width="225" height="14.182" rx="7.091"/><path d="M98.37 14.182H13.488h13.81a7.098 7.098 0 0 1 7.094 7.09 7.09 7.09 0 0 1-7.094 7.092h-13.81 84.88-23.452a7.098 7.098 0 0 1-7.095-7.09 7.09 7.09 0 0 1 7.096-7.092h23.452zm162 42.545h-75.238 23.452a7.098 7.098 0 0 1 7.095 7.09 7.09 7.09 0 0 1-7.096 7.092h-23.452 75.237-23.453a7.098 7.098 0 0 1-7.095-7.09 7.09 7.09 0 0 1 7.095-7.093h23.452zM103.512 85.09H28.275h23.452a7.098 7.098 0 0 1 7.095 7.092 7.09 7.09 0 0 1-7.095 7.09H28.275h75.237H80.06a7.098 7.098 0 0 1-7.095-7.09 7.09 7.09 0 0 1 7.095-7.09h23.452zm48.215 28.365H76.49 90.3a7.098 7.098 0 0 1 7.093 7.09 7.09 7.09 0 0 1-7.094 7.092H76.49h75.237-33.096a7.098 7.098 0 0 1-7.094-7.09 7.09 7.09 0 0 1 7.095-7.092h33.097z"/></g><g transform="translate(38.57 12.248)"><use stroke="#EEE" mask="url(#d)" stroke-width="8" fill="#FFF" xlink:href="#a"/><path fill="#EEE" d="M2.57 18.694h174.215v2.58H2.57z"/><g transform="translate(21.857 38.678)"><rect fill="#B5A7DD" y=".645" width="3.857" height="1.289" rx=".645"/><rect fill="#EEE" x="9.643" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="25.071" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="34.071" y="7.091" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" opacity=".5" x="30.857" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="14.182" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="18.643" y="7.091" width="12.857" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="21.857" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="7.091" width="6.429" height="2.579" rx="1.289"/><rect fill="#B5A7DD" y="7.736" width="3.857" height="1.289" rx=".645"/><rect fill="#B5A7DD" y="14.826" width="3.857" height="1.289" rx=".645"/></g><g transform="translate(21.857 59.95)"><rect fill="#B5A7DD" y=".645" width="3.857" height="1.289" rx=".645"/><rect fill="#FC6D26" x="9.643" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" opacity=".5" x="25.071" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="34.071" y="7.091" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="30.857" width="12.857" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="9.643" y="14.182" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="18.643" y="7.091" width="12.857" height="2.579" rx="1.289"/><rect fill="#FC6D26" opacity=".5" x="21.857" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="7.091" width="6.429" height="2.579" rx="1.289"/><rect fill="#B5A7DD" y="7.736" width="3.857" height="1.289" rx=".645"/><rect fill="#B5A7DD" y="14.826" width="3.857" height="1.289" rx=".645"/></g><g transform="translate(21.857 81.223)"><rect fill="#B5A7DD" y=".645" width="3.857" height="1.289" rx=".645"/><rect fill="#EEE" x="9.643" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="25.071" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="34.071" y="7.091" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="30.857" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="14.182" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="18.643" y="7.091" width="12.857" height="2.579" rx="1.289"/><rect fill="#FC6D26" opacity=".5" x="21.857" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="7.091" width="6.429" height="2.579" rx="1.289"/><rect fill="#B5A7DD" y="7.736" width="3.857" height="1.289" rx=".645"/><rect fill="#B5A7DD" y="14.826" width="3.857" height="1.289" rx=".645"/></g><g transform="translate(100.93 38.033)"><rect fill="#FDE5D8" y=".645" width="3.857" height="1.289" rx=".645"/><rect fill="#EEE" x="9.643" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" opacity=".5" x="25.071" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="34.071" y="7.091" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" opacity=".5" x="30.857" width="12.857" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="9.643" y="14.182" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="18.643" y="7.091" width="12.857" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="21.857" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="7.091" width="6.429" height="2.579" rx="1.289"/><rect fill="#FDE5D8" y="7.736" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="14.826" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="21.917" width="3.857" height="1.289" rx=".645"/><rect fill="#EEE" x="9.643" y="21.273" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="37.286" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" opacity=".5" x="25.071" y="35.455" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="18.643" y="28.364" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="30.857" y="21.273" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="35.455" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="21.857" y="21.273" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="28.364" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="30.857" y="28.364" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="39.857" y="28.364" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="49.5" y="14.182" width="6.429" height="2.579" rx="1.289"/><rect fill="#FDE5D8" y="29.008" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="36.099" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="43.19" width="3.857" height="1.289" rx=".645"/><rect fill="#6B4FBB" x="9.643" y="42.546" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="25.071" y="56.727" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" opacity=".5" x="34.071" y="49.636" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="56.727" width="12.857" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="18.643" y="49.636" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="21.857" y="42.546" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" y="49.636" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="49.636" width="6.429" height="2.579" rx="1.289"/><rect fill="#FDE5D8" y="50.281" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="57.372" width="3.857" height="1.289" rx=".645"/></g></g><g transform="translate(196.07)"><use stroke="#FDE5D8" mask="url(#e)" stroke-width="8" fill="#FFF" xlink:href="#b"/><rect fill="#FDB692" x="9" y="9.025" width="18.643" height="1.934" rx=".967"/><rect fill="#FDB692" x="9" y="14.826" width="25.071" height="1.934" rx=".967"/><rect fill="#FDB692" x="9" y="20.628" width="18.643" height="1.934" rx=".967"/></g><g transform="translate(189 41.256)"><ellipse stroke="#FC6D26" stroke-width="3" fill="#FFF7F4" cx="10.286" cy="9.669" rx="9.643" ry="9.669"/><path d="M.023 9.002a8.352 8.352 0 0 0 7.94-4.308M9 .644c0-.21-.008-.416-.023-.62" stroke="#FC6D26" stroke-width="2"/><path d="M5.045 2.008A10.266 10.266 0 0 0 13.5 6.446c2.112 0 4.076-.638 5.71-1.733" stroke="#FC6D26" stroke-width="2"/><ellipse fill="#FC6D26" cx="6.75" cy="11.281" rx=".964" ry=".967"/><ellipse fill="#FC6D26" cx="13.821" cy="11.281" rx=".964" ry=".967"/></g><g transform="translate(46.93 96.05)"><ellipse stroke="#6B4FBB" stroke-width="3" fill="#F4F1FA" cx="9.643" cy="10.314" rx="9.643" ry="9.669"/><path d="M12.86 4.51h-.005L11.25 2.58 9.645 4.51H9.64L8.036 2.58 6.43 4.51h-.002L4.82 2.58 3.215 4.512h-1.75A9.646 9.646 0 0 1 9.642 0c3.447 0 6.47 1.8 8.176 4.508h-1.75l-1.605-1.93L12.86 4.51z" fill="#6B4FBB"/><ellipse fill="#6B4FBB" cx="6.107" cy="11.281" rx=".964" ry=".967"/><ellipse fill="#6B4FBB" cx="13.179" cy="11.281" rx=".964" ry=".967"/></g><g transform="matrix(-1 0 0 1 56.57 54.794)"><use stroke="#E2DCF2" mask="url(#f)" stroke-width="8" fill="#FFF" xlink:href="#c"/><rect fill="#6B4FBB" opacity=".5" x="15.429" y="9.025" width="18.643" height="1.934" rx=".967"/><rect fill="#6B4FBB" opacity=".5" x="21.857" y="14.826" width="12.214" height="1.934" rx=".967"/><rect fill="#6B4FBB" opacity=".5" x="21.857" y="20.628" width="12.214" height="1.934" rx=".967"/></g></g></svg>\n'},807:function(e,t){e.exports='<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M0 7a7 7 0 1 1 14 0A7 7 0 0 1 0 7z"/><path d="M13 7A6 6 0 1 0 1 7a6 6 0 0 0 12 0z" fill="#FFF"/><path d="M6.278 7.697L5.045 6.464a.296.296 0 0 0-.42-.002l-.613.614a.298.298 0 0 0 .002.42l1.91 1.909a.5.5 0 0 0 .703.005l.265-.265L9.997 6.04a.291.291 0 0 0-.009-.408l-.614-.614a.29.29 0 0 0-.408-.009L6.278 7.697z"/></g></svg>\n'},808:function(e,t){e.exports='<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M0 7a7 7 0 1 1 14 0A7 7 0 0 1 0 7z"/><path d="M13 7A6 6 0 1 0 1 7a6 6 0 0 0 12 0z" fill="#FFF"/><path d="M6 3.5c0-.3.2-.5.5-.5h1c.3 0 .5.2.5.5v4c0 .3-.2.5-.5.5h-1c-.3 0-.5-.2-.5-.5v-4m0 6c0-.3.2-.5.5-.5h1c.3 0 .5.2.5.5v1c0 .3-.2.5-.5.5h-1c-.3 0-.5-.2-.5-.5v-1"/></g></svg>\n'},83:function(e,t,i){"use strict";i.d(t,"b",function(){return s});var n={ABORTED:0,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,BAD_REQUEST:400,FORBIDDEN:403,NOT_FOUND:404,UNPROCESSABLE_ENTITY:422},s=[n.OK,n.CREATED,n.ACCEPTED,n.NON_AUTHORITATIVE_INFORMATION,n.NO_CONTENT,n.RESET_CONTENT,n.PARTIAL_CONTENT,n.MULTI_STATUS,n.ALREADY_REPORTED,n.IM_USED];t.a=n},84:function(e,t,i){"use strict";var n=i(20);t.a={methods:{timeFormated:function(e){return Object(n.h)().format(e)},tooltipTitle:function(e){return Object(n.d)(e)}}}},85:function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(0),s=i.n(n),a=(i(172),i(32)),o=i.n(a),r=i(2),l=i.n(r);i(111);function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}o.a.autoDiscover=!1;var u=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.active_backdrop=null,this.active_textarea=null,s()(document).on("click",".js-zen-enter",function(e){return e.preventDefault(),s()(e.currentTarget).trigger("zen_mode:enter")}),s()(document).on("click",".js-zen-leave",function(e){return e.preventDefault(),s()(e.currentTarget).trigger("zen_mode:leave")}),s()(document).on("zen_mode:enter",(t=this,function(e){return t.enter(s()(e.target).closest(".md-area").find(".zen-backdrop"))})),s()(document).on("zen_mode:leave",function(e){return function(t){return e.exit()}}(this)),s()(document).on("keydown",function(e){if(27===e.keyCode)return e.preventDefault(),s()(document).trigger("zen_mode:leave")})}var t,i,n;return t=e,(i=[{key:"enter",value:function(e){l.a.pause(),this.active_backdrop=s()(e),this.active_backdrop.addClass("fullscreen"),this.active_textarea=this.active_backdrop.find("textarea"),this.active_textarea.removeAttr("style"),this.active_textarea.focus()}},{key:"exit",value:function(){if(this.active_textarea){l.a.unpause(),this.active_textarea.closest(".zen-backdrop").removeClass("fullscreen"),this.scrollTo(this.active_textarea),this.active_textarea=null,this.active_backdrop=null;var e=s()(".div-dropzone");e&&!e.hasClass("js-invalid-dropzone")&&o.a.forElement(".div-dropzone").enable()}}},{key:"scrollTo",value:function(e){return s.a.scrollTo(e,0,{offset:-150})}}])&&c(t.prototype,i),n&&c(t,n),e}()},88:function(e,t,i){
/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */
!function(t,n){"use strict";var s;try{s=i(!function(){var e=new Error("Cannot find module 'moment'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}e.exports=function(e){var t="function"==typeof e,i=!!window.addEventListener,n=window.document,s=window.setTimeout,a=function(e,t,n,s){i?e.addEventListener(t,n,!!s):e.attachEvent("on"+t,n)},o=function(e,t,n,s){i?e.removeEventListener(t,n,!!s):e.detachEvent("on"+t,n)},r=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e){return/Array/.test(Object.prototype.toString.call(e))},c=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},u=function(e){var t=e.getDay();return 0===t||6===t},d=function(e,t){return[31,function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},f=function(e){c(e)&&e.setHours(0,0,0,0)},h=function(e,t){return e.getTime()===t.getTime()},p=function(e,t,i){var n,s;for(n in t)(s=void 0!==e[n])&&"object"==typeof t[n]&&null!==t[n]&&void 0===t[n].nodeName?c(t[n])?i&&(e[n]=new Date(t[n].getTime())):l(t[n])?i&&(e[n]=t[n].slice(0)):e[n]=p({},t[n],i):!i&&s||(e[n]=t[n]);return e},m=function(e,t,i){var s;n.createEvent?((s=n.createEvent("HTMLEvents")).initEvent(t,!0,!1),s=p(s,i),e.dispatchEvent(s)):n.createEventObject&&(s=n.createEventObject(),s=p(s,i),e.fireEvent("on"+t,s))},g=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},v={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},b=function(e,t,i){for(t+=e.firstDay;t>=7;)t-=7;return i?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},_=function(e){var t=[],i="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),i="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+i+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},y=function(e,t,i,n){return'<tr class="pika-row'+(i?" pick-whole-week":"")+(n?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},w=function(e,t,i,n,s,a){var o,r,c,u,d,f=e._o,h=i===f.minYear,p=i===f.maxYear,m='<div id="'+a+'" class="pika-title" role="heading" aria-live="assertive">',g=!0,v=!0;for(c=[],o=0;o<12;o++)c.push('<option value="'+(i===s?o-t:12+o-t)+'"'+(o===n?' selected="selected"':"")+(h&&o<f.minMonth||p&&o>f.maxMonth?'disabled="disabled"':"")+">"+f.i18n.months[o]+"</option>");for(u='<div class="pika-label">'+f.i18n.months[n]+'<select class="pika-select pika-select-month" tabindex="-1">'+c.join("")+"</select></div>",l(f.yearRange)?(o=f.yearRange[0],r=f.yearRange[1]+1):(o=i-f.yearRange,r=1+i+f.yearRange),c=[];o<r&&o<=f.maxYear;o++)o>=f.minYear&&c.push('<option value="'+o+'"'+(o===i?' selected="selected"':"")+">"+o+"</option>");return d='<div class="pika-label">'+i+f.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+c.join("")+"</select></div>",f.showMonthAfterYear?m+=d+u:m+=u+d,h&&(0===n||f.minMonth>=n)&&(g=!1),p&&(11===n||f.maxMonth<=n)&&(v=!1),0===t&&(m+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+f.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+='<button class="pika-next'+(v?"":" is-disabled")+'" type="button">'+f.i18n.nextMonth+"</button>"),m+="</div>"},C=function(o){var l=this,u=l.config(o);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(r(t,"is-disabled")||(!r(t,"pika-button")||r(t,"is-empty")||r(t.parentNode,"is-disabled")?r(t,"pika-prev")?l.prevMonth():r(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),u.bound&&s(function(){l.hide(),u.blurFieldOnSelect&&u.field&&u.field.blur()},100))),r(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(r(t,"pika-select-month")?l.gotoMonth(t.value):r(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:u.field&&u.field.blur();break;case 37:e.preventDefault(),l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7)}},l._onInputChange=function(i){var n;i.firedBy!==l&&(n=u.parse?u.parse(u.field.value,u.format):t?(n=e(u.field.value,u.format,u.formatStrict))&&n.isValid()?n.toDate():null:new Date(Date.parse(u.field.value)),c(n)&&l.setDate(n),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=n.activeElement;do{if(r(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=s(function(){l.hide()},50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,n=t;if(t){!i&&r(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),a(t,"change",l._onChange)));do{if(r(n,"pika-single")||n===u.trigger)return}while(n=n.parentNode);l._v&&t!==u.trigger&&n!==u.trigger&&l.hide()}},l.el=n.createElement("div"),l.el.className="pika-single"+(u.isRTL?" is-rtl":"")+(u.theme?" "+u.theme:""),a(l.el,"mousedown",l._onMouseDown,!0),a(l.el,"touchend",l._onMouseDown,!0),a(l.el,"change",l._onChange),a(n,"keydown",l._onKeyChange),u.field&&(u.container?u.container.appendChild(l.el):u.bound?n.body.appendChild(l.el):u.field.parentNode.insertBefore(l.el,u.field.nextSibling),a(u.field,"change",l._onInputChange),u.defaultDate||(t&&u.field.value?u.defaultDate=e(u.field.value,u.format).toDate():u.defaultDate=new Date(Date.parse(u.field.value)),u.setDefaultDate=!0));var d=u.defaultDate;c(d)?u.setDefaultDate?l.setDate(d,!0):l.gotoDate(d):l.gotoDate(new Date),u.bound?(this.hide(),l.el.className+=" is-bound",a(u.trigger,"click",l._onInputClick),a(u.trigger,"focus",l._onInputFocus),a(u.trigger,"blur",l._onInputBlur)):this.show()};return C.prototype={config:function(e){this._o||(this._o=p({},v,!0));var t=p(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var i=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=i>4?4:i,c(t.minDate)||(t.minDate=!1),c(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),l(t.yearRange)){var n=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||n,t.yearRange[1]=parseInt(t.yearRange[1],10)||n}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||v.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(i){return i=i||this._o.format,c(this._d)?this._o.toString?this._o.toString(this._d,i):t?e(this._d).format(i):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(i,n){t&&e.isMoment(i)&&this.setDate(i.toDate(),n)},getDate:function(){return c(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",m(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),c(e)){var i=this._o.minDate,n=this._o.maxDate;c(i)&&e<i?e=i:c(n)&&e>n&&(e=n),this._d=new Date(e.getTime()),f(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),m(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(c(e)){if(this.calendars){var i=new Date(this.calendars[0].year,this.calendars[0].month,1),n=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),s=e.getTime();n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),t=s<i.getTime()||n.getTime()<s}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var i,n=this.getDate()||new Date,s=24*parseInt(t)*60*60*1e3;"add"===e?i=new Date(n.valueOf()+s):"subtract"===e&&(i=new Date(n.valueOf()-s)),this.setDate(i)},adjustCalendars:function(){this.calendars[0]=g(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=g({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(f(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=v.minDate,this._o.minYear=v.minYear,this._o.minMonth=v.minMonth,this._o.startRange=v.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(f(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=v.maxDate,this._o.maxYear=v.maxYear,this._o.maxMonth=v.maxMonth,this._o.endRange=v.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,i=this._o,n=i.minYear,a=i.maxYear,o=i.minMonth,r=i.maxMonth,l="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=a&&(this._y=a,!isNaN(r)&&this._m>r&&(this._m=r)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var c=0;c<i.numberOfMonths;c++)l+='<div class="pika-lendar">'+w(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t)+"</div>";this.el.innerHTML=l,i.bound&&"hidden"!==i.field.type&&s(function(){i.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),i.bound&&i.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var e,t,i,s,a,o,r,l,c,u;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,i=this.el.offsetWidth,s=this.el.offsetHeight,a=window.innerWidth||n.documentElement.clientWidth,o=window.innerHeight||n.documentElement.clientHeight,r=window.pageYOffset||n.body.scrollTop||n.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)l=(u=e.getBoundingClientRect()).left+window.pageXOffset,c=u.bottom+window.pageYOffset;else for(l=t.offsetLeft,c=t.offsetTop+t.offsetHeight;t=t.offsetParent;)l+=t.offsetLeft,c+=t.offsetTop;(this._o.reposition&&l+i>a||this._o.position.indexOf("right")>-1&&l-i+e.offsetWidth>0)&&(l=l-i+e.offsetWidth),(this._o.reposition&&c+s>o+r||this._o.position.indexOf("top")>-1&&c-s-e.offsetHeight>0)&&(c=c-s-e.offsetHeight),this.el.style.left=l+"px",this.el.style.top=c+"px"}},render:function(e,t,i){var n=this._o,s=new Date,a=d(e,t),o=new Date(e,t,1).getDay(),r=[],l=[];f(s),n.firstDay>0&&(o-=n.firstDay)<0&&(o+=7);for(var p=0===t?11:t-1,m=11===t?0:t+1,g=0===t?e-1:e,v=11===t?e+1:e,w=d(g,p),C=a+o,k=C;k>7;)k-=7;C+=7-k;for(var j,S,O,x,D=!1,T=0,E=0;T<C;T++){var P=new Date(e,t,T-o+1),I=!!c(this._d)&&h(P,this._d),N=h(P,s),L=-1!==n.events.indexOf(P.toDateString()),q=T<o||T>=a+o,M=T-o+1,A=t,F=e,B=n.startRange&&h(n.startRange,P),R=n.endRange&&h(n.endRange,P),$=n.startRange&&n.endRange&&n.startRange<P&&P<n.endRange,H=n.minDate&&P<n.minDate||n.maxDate&&P>n.maxDate||n.disableWeekends&&u(P)||n.disableDayFn&&n.disableDayFn(P);q&&(T<o?(M=w+M,A=p,F=g):(M-=a,A=m,F=v));var U={day:M,month:A,year:F,hasEvent:L,isSelected:I,isToday:N,isDisabled:H,isEmpty:q,isStartRange:B,isEndRange:R,isInRange:$,showDaysInNextAndPreviousMonths:n.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:n.enableSelectionDaysInNextAndPreviousMonths};n.pickWholeWeek&&I&&(D=!0),l.push(_(U)),7==++E&&(n.showWeekNumber&&l.unshift((j=T-o,S=t,O=e,x=void 0,x=new Date(O,0,1),'<td class="pika-week">'+Math.ceil(((new Date(O,S,j)-x)/864e5+x.getDay()+1)/7)+"</td>")),r.push(y(l,n.isRTL,n.pickWholeWeek,D)),l=[],E=0,D=!1)}return function(e,t,i){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+i+'">'+function(e){var t,i=[];for(e.showWeekNumber&&i.push("<th></th>"),t=0;t<7;t++)i.push('<th scope="col"><abbr title="'+b(e,t)+'">'+b(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?i.reverse():i).join("")+"</tr></thead>"}(e)+("<tbody>"+t.join("")+"</tbody>")+"</table>"}(n,r,i)},isVisible:function(){return this._v},show:function(){var e,t,i;this.isVisible()||(this._v=!0,this.draw(),e=this.el,t="is-hidden",e.className=(i=(" "+e.className+" ").replace(" "+t+" "," ")).trim?i.trim():i.replace(/^\s+|\s+$/g,""),this._o.bound&&(a(n,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e,t,i=this._v;!1!==i&&(this._o.bound&&o(n,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",e=this.el,r(e,t="is-hidden")||(e.className=""===e.className?t:e.className+" "+t),this._v=!1,void 0!==i&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"touchend",this._onMouseDown,!0),o(this.el,"change",this._onChange),o(n,"keydown",this._onKeyChange),this._o.field&&(o(this._o.field,"change",this._onInputChange),this._o.bound&&(o(this._o.trigger,"click",this._onInputClick),o(this._o.trigger,"focus",this._onInputFocus),o(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},C}(s)}()},89:function(e,t,i){"use strict";var n=[8,12,16,18,24,32,48,72],s={components:{Icon:i(15).a},props:{status:{type:Object,required:!0},size:{type:Number,required:!1,default:16,validator:function(e){return n.includes(e)}},borderless:{type:Boolean,required:!1,default:!1}},computed:{cssClass:function(){var e=this.status.group;return"ci-status-icon ci-status-icon-".concat(e," js-ci-status-icon-").concat(e)},icon:function(){return this.borderless?"".concat(this.status.icon,"_borderless"):this.status.icon}}},a=i(3),o=Object(a.a)(s,function(){var e=this.$createElement,t=this._self._c||e;return t("span",{class:this.cssClass},[t("icon",{attrs:{name:this.icon,size:this.size}})],1)},[],!1,null,null,null);o.options.__file="ci_icon.vue";t.a=o.exports},91:function(e,t,i){"use strict";var n=i(10),s=i(92),a={name:"UserAvatarLink",components:{GlLink:n.d,userAvatarImage:s.a},directives:{GlTooltip:n.n},props:{linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:Number,required:!1,default:20},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername:function(){return this.username.length>0},avatarTooltipText:function(){return this.shouldShowUsername?"":this.tooltipText}}},o=i(3),r=Object(o.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("gl-link",{staticClass:"user-avatar-link",attrs:{href:e.linkHref}},[i("user-avatar-image",{attrs:{"img-src":e.imgSrc,"img-alt":e.imgAlt,"css-classes":e.imgCssClasses,size:e.imgSize,"tooltip-text":e.avatarTooltipText,"tooltip-placement":e.tooltipPlacement}},[e._t("default")],2),e.shouldShowUsername?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-avatar-link-username",attrs:{title:e.tooltipText,"tooltip-placement":e.tooltipPlacement}},[e._v(e._s(e.username))]):e._e(),e._t("avatar-badge")],2)},[],!1,null,null,null);r.options.__file="user_avatar_link.vue";t.a=r.exports},93:function(e,t,i){"use strict";var n=i(10),s=i(84),a=(i(20),{directives:{GlTooltip:n.n},mixins:[s.a],props:{time:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""}}}),o=i(3),r=Object(o.a)(a,function(){var e=this.$createElement;return(this._self._c||e)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:this.tooltipPlacement},expression:"{ placement: tooltipPlacement }"}],class:this.cssClass,attrs:{title:this.tooltipTitle(this.time)},domProps:{textContent:this._s(this.timeFormated(this.time))}})},[],!1,null,null,null);r.options.__file="time_ago_tooltip.vue";t.a=r.exports},96:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(83),s=i(13);function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.options.data=t.data||{},this.options.notificationCallback=t.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}var t,i,o;return t=e,(i=[{key:"checkConditions",value:function(e){var t=this,i=Object(s.y)(e.headers),a=parseInt(i[this.intervalHeader],10);a>0&&-1!==n.b.indexOf(e.status)&&this.canPoll&&(this.timeoutID=setTimeout(function(){t.makeRequest()},a)),this.options.successCallback(e)}},{key:"makeRequest",value:function(){var e=this,t=this.options,i=t.resource,s=t.method,a=t.data,o=t.errorCallback,r=t.notificationCallback;return r(!0),i[s](a).then(function(t){e.checkConditions(t),r(!1)}).catch(function(e){r(!1),e.status!==n.a.ABORTED&&o(e)})}},{key:"stop",value:function(){this.canPoll=!1,clearTimeout(this.timeoutID)}},{key:"restart",value:function(e){e&&e.data&&(this.options.data=e.data),this.canPoll=!0,this.makeRequest()}}])&&a(t.prototype,i),o&&a(t,o),e}()}},[[1315,1,0,2,3]]]);
//# sourceMappingURL=pages.projects.merge_requests.show.fa2fd02d.chunk.js.map