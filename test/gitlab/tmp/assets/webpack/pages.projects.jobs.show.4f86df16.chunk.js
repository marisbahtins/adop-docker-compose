(this.webpackJsonp=this.webpackJsonp||[]).push([[130],{1300:function(t,e,n){n(42),n(44),t.exports=n(1396)},1396:function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"setJobEndpoint",function(){return x}),n.d(i,"setTraceOptions",function(){return q}),n.d(i,"hideSidebar",function(){return P}),n.d(i,"showSidebar",function(){return A}),n.d(i,"toggleSidebar",function(){return J}),n.d(i,"clearEtagPoll",function(){return I}),n.d(i,"stopPolling",function(){return D}),n.d(i,"restartPolling",function(){return N}),n.d(i,"requestJob",function(){return G}),n.d(i,"fetchJob",function(){return V}),n.d(i,"receiveJobSuccess",function(){return z}),n.d(i,"receiveJobError",function(){return F}),n.d(i,"scrollTop",function(){return H}),n.d(i,"scrollBottom",function(){return M}),n.d(i,"toggleScrollButtons",function(){return U}),n.d(i,"disableScrollBottom",function(){return $}),n.d(i,"disableScrollTop",function(){return W}),n.d(i,"enableScrollBottom",function(){return Q}),n.d(i,"enableScrollTop",function(){return Y}),n.d(i,"toggleScrollAnimation",function(){return X}),n.d(i,"toggleScrollisInBottom",function(){return K}),n.d(i,"requestTrace",function(){return Z}),n.d(i,"fetchTrace",function(){return tt}),n.d(i,"stopPollingTrace",function(){return et}),n.d(i,"receiveTraceSuccess",function(){return nt}),n.d(i,"receiveTraceError",function(){return it}),n.d(i,"requestStages",function(){return ot}),n.d(i,"fetchStages",function(){return rt}),n.d(i,"receiveStagesSuccess",function(){return st}),n.d(i,"receiveStagesError",function(){return at}),n.d(i,"requestJobsForStage",function(){return lt}),n.d(i,"fetchJobsForStage",function(){return ct}),n.d(i,"receiveJobsForStageSuccess",function(){return ut}),n.d(i,"receiveJobsForStageError",function(){return dt}),n.d(i,"default",function(){return pt});var o={};n.r(o),n.d(o,"headerActions",function(){return bt}),n.d(o,"headerTime",function(){return ft}),n.d(o,"shouldRenderCalloutMessage",function(){return ht}),n.d(o,"shouldRenderTriggeredLabel",function(){return mt}),n.d(o,"hasEnvironment",function(){return _t}),n.d(o,"hasTrace",function(){return gt}),n.d(o,"emptyStateIllustration",function(){return vt}),n.d(o,"emptyStateAction",function(){return St}),n.d(o,"isScrollingDown",function(){return jt}),n.d(o,"hasRunnersForProject",function(){return yt}),n.d(o,"default",function(){return Et});var r=n(11),s=n(5),a=n.n(s),l=n(18),c=n(10),u=n(0),d=n.n(u),p=function(){var t=d()(document),e=t.scrollTop();return t.height()-e===d()(window).height()},b=n(160),f=n(101),h=n(303),m=["danger","success","info","warning"],_={props:{category:{type:String,required:!1,default:m[0],validator:function(t){return m.includes(t)}},message:{type:String,required:!1,default:""}}},g=n(3),v=Object(g.a)(_,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:"bs-callout bs-callout-"+this.category,attrs:{role:"alert","aria-live":"assertive"}},[this._v("\n  "+this._s(this.message)+" "),this._t("default")],2)},[],!1,null,null,null);v.options.__file="callout.vue";var S,j,y,E=v.exports,C=n(15),T=n(69),k=n.n(T),O=n(6),w=n(96),L=n(13),B=n(7),R=n(1),x=function(t,e){return(0,t.commit)("SET_JOB_ENDPOINT",e)},q=function(t,e){return(0,t.commit)("SET_TRACE_OPTIONS",e)},P=function(t){return(0,t.commit)("HIDE_SIDEBAR")},A=function(t){return(0,t.commit)("SHOW_SIDEBAR")},J=function(t){var e=t.dispatch;t.state.isSidebarOpen?e("hideSidebar"):e("showSidebar")},I=function(){S=null},D=function(){S&&S.stop()},N=function(){S&&S.restart()},G=function(t){return(0,t.commit)("REQUEST_JOB")},V=function(t){var e=t.state,n=t.dispatch;n("requestJob"),S=new w.a({resource:{getJob:function(t){return O.a.get(t)}},data:e.jobEndpoint,method:"getJob",successCallback:function(t){var e=t.data;return n("receiveJobSuccess",e)},errorCallback:function(){return n("receiveJobError")}}),k.a.hidden()?O.a.get(e.jobEndpoint).then(function(t){var e=t.data;return n("receiveJobSuccess",e)}).catch(function(){return n("receiveJobError")}):S.makeRequest(),k.a.change(function(){k.a.hidden()?n("stopPolling"):n("restartPolling")})},z=function(t){var e=t.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e("RECEIVE_JOB_SUCCESS",n),n.status&&n.status.favicon?Object(L.I)(n.status.favicon):Object(L.E)()},F=function(t){(0,t.commit)("RECEIVE_JOB_ERROR"),Object(B.a)(Object(R.a)("An error occurred while fetching the job.")),Object(L.E)()},H=function(t){var e=t.dispatch;d()(document).scrollTop(0),e("toggleScrollButtons")},M=function(t){var e,n=t.dispatch;(e=d()(document)).scrollTop(e.height()),n("toggleScrollButtons")},U=function(t){var e,n,i,o,r=t.dispatch;d()(document).height()>d()(window).height()?(e=d()(document),n=e.scrollTop(),i=e.height(),o=d()(window).height(),n>0&&i-n!==o?(r("enableScrollTop"),r("enableScrollBottom")):0===d()(document).scrollTop()?(r("disableScrollTop"),r("enableScrollBottom")):p()&&(r("disableScrollBottom"),r("enableScrollTop"))):(r("disableScrollBottom"),r("disableScrollTop"))},$=function(t){return(0,t.commit)("DISABLE_SCROLL_BOTTOM")},W=function(t){return(0,t.commit)("DISABLE_SCROLL_TOP")},Q=function(t){return(0,t.commit)("ENABLE_SCROLL_BOTTOM")},Y=function(t){return(0,t.commit)("ENABLE_SCROLL_TOP")},X=function(t,e){return(0,t.commit)("TOGGLE_SCROLL_ANIMATION",e)},K=function(t,e){(0,t.commit)("TOGGLE_IS_SCROLL_IN_BOTTOM",e)},Z=function(t){return(0,t.commit)("REQUEST_TRACE")},tt=function(t){var e=t.dispatch,n=t.state;return O.a.get("".concat(n.traceEndpoint,"/trace.json"),{params:{state:n.traceState}}).then(function(t){var n=t.data;e("toggleScrollisInBottom",p()),e("receiveTraceSuccess",n),n.complete?e("stopPollingTrace"):j=setTimeout(function(){e("fetchTrace")},4e3)}).catch(function(){return e("receiveTraceError")})},et=function(t){(0,t.commit)("STOP_POLLING_TRACE"),clearTimeout(j)},nt=function(t,e){return(0,t.commit)("RECEIVE_TRACE_SUCCESS",e)},it=function(t){(0,t.commit)("RECEIVE_TRACE_ERROR"),clearTimeout(j),Object(B.a)(Object(R.a)("An error occurred while fetching the job log."))},ot=function(t){return(0,t.commit)("REQUEST_STAGES")},rt=function(t){var e=t.state,n=t.dispatch;n("requestStages"),O.a.get("".concat(e.job.pipeline.path,".json")).then(function(t){var i=t.data;n("receiveStagesSuccess",i.details.stages);var o=i.details.stages.find(function(t){return t.name===e.selectedStage});n("fetchJobsForStage",o)}).catch(function(){return n("receiveStagesError")})},st=function(t,e){return(0,t.commit)("RECEIVE_STAGES_SUCCESS",e)},at=function(t){(0,t.commit)("RECEIVE_STAGES_ERROR"),Object(B.a)(Object(R.a)("An error occurred while fetching stages."))},lt=function(t,e){return(0,t.commit)("REQUEST_JOBS_FOR_STAGE",e)},ct=function(t,e){var n=t.dispatch;n("requestJobsForStage",e),O.a.get(e.dropdown_path,{params:{retried:1}}).then(function(t){var e=t.data,i=e.retried.map(function(t){return Object.assign({},t,{retried:!0})}),o=e.latest_statuses.concat(i);n("receiveJobsForStageSuccess",o)}).catch(function(){return n("receiveJobsForStageError")})},ut=function(t,e){return(0,t.commit)("RECEIVE_JOBS_FOR_STAGE_SUCCESS",e)},dt=function(t){(0,t.commit)("RECEIVE_JOBS_FOR_STAGE_ERROR"),Object(B.a)(Object(R.a)("An error occurred while fetching the jobs."))},pt=function(){},bt=function(t){return t.job.new_issue_path?[{label:Object(R.a)("New issue"),path:t.job.new_issue_path,cssClass:"js-new-issue btn btn-success btn-inverted d-none d-md-block d-lg-block d-xl-block",type:"link"}]:[]},ft=function(t){return t.job.started?t.job.started:t.job.created_at},ht=function(t){return!a.a.isEmpty(t.job.status)&&!a.a.isEmpty(t.job.callout_message)},mt=function(t){return a.a.isString(t.job.started)},_t=function(t){return!a.a.isEmpty(t.job.deployment_status)},gt=function(t){return t.job.has_trace||!a.a.isEmpty(t.job.status)&&"running"===t.job.status.group},vt=function(t){return t.job&&t.job.status&&t.job.status.illustration||{}},St=function(t){return t.job&&t.job.status&&t.job.status.action||null},jt=function(t){return p()&&!t.isTraceComplete},yt=function(t){return t.job.runners.available&&!t.job.runners.online},Et=function(){};function Ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tt=(Ct(y={},"SET_JOB_ENDPOINT",function(t,e){t.jobEndpoint=e}),Ct(y,"SET_TRACE_OPTIONS",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.traceEndpoint=e.pagePath,t.traceState=e.logState}),Ct(y,"HIDE_SIDEBAR",function(t){t.isSidebarOpen=!1}),Ct(y,"SHOW_SIDEBAR",function(t){t.isSidebarOpen=!0}),Ct(y,"RECEIVE_TRACE_SUCCESS",function(t,e){e.state&&(t.traceState=e.state),e.append?(t.trace+=e.html,t.traceSize+=e.size):(t.trace=e.html||t.trace,t.traceSize=e.size||t.traceSize),t.traceSize<e.total?t.isTraceSizeVisible=!0:t.isTraceSizeVisible=!1,t.isTraceComplete=e.complete||t.isTraceComplete}),Ct(y,"STOP_POLLING_TRACE",function(t){t.isTraceComplete=!0}),Ct(y,"RECEIVE_TRACE_ERROR",function(t){t.isTraceComplete=!0}),Ct(y,"REQUEST_JOB",function(t){t.isLoading=!0}),Ct(y,"RECEIVE_JOB_SUCCESS",function(t,e){t.hasError=!1,t.isLoading=!1,t.job=e,""===t.selectedStage&&e.stage&&(t.selectedStage=e.stage)}),Ct(y,"RECEIVE_JOB_ERROR",function(t){t.isLoading=!1,t.job={},t.hasError=!0}),Ct(y,"ENABLE_SCROLL_TOP",function(t){t.isScrollTopDisabled=!1}),Ct(y,"DISABLE_SCROLL_TOP",function(t){t.isScrollTopDisabled=!0}),Ct(y,"ENABLE_SCROLL_BOTTOM",function(t){t.isScrollBottomDisabled=!1}),Ct(y,"DISABLE_SCROLL_BOTTOM",function(t){t.isScrollBottomDisabled=!0}),Ct(y,"TOGGLE_SCROLL_ANIMATION",function(t,e){t.isScrollingDown=e}),Ct(y,"TOGGLE_IS_SCROLL_IN_BOTTOM",function(t,e){t.isScrolledToBottomBeforeReceivingTrace=e}),Ct(y,"REQUEST_STAGES",function(t){t.isLoadingStages=!0}),Ct(y,"RECEIVE_STAGES_SUCCESS",function(t,e){t.isLoadingStages=!1,t.stages=e}),Ct(y,"RECEIVE_STAGES_ERROR",function(t){t.isLoadingStages=!1,t.stages=[]}),Ct(y,"REQUEST_JOBS_FOR_STAGE",function(t,e){t.isLoadingJobs=!0,t.selectedStage=e.name}),Ct(y,"RECEIVE_JOBS_FOR_STAGE_SUCCESS",function(t,e){t.isLoadingJobs=!1,t.jobs=e}),Ct(y,"RECEIVE_JOBS_FOR_STAGE_ERROR",function(t){t.isLoadingJobs=!1,t.jobs=[]}),y);r.default.use(l.a);var kt={components:{GlLink:c.d},props:{illustrationPath:{type:String,required:!0},illustrationSizeClass:{type:String,required:!0},title:{type:String,required:!0},content:{type:String,required:!1,default:null},action:{type:Object,required:!1,default:null,validator:function(t){return null===t||Object.prototype.hasOwnProperty.call(t,"path")&&Object.prototype.hasOwnProperty.call(t,"method")&&Object.prototype.hasOwnProperty.call(t,"button_title")}}}},Ot=Object(g.a)(kt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row empty-state"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"svg-content",class:t.illustrationSizeClass},[n("img",{attrs:{src:t.illustrationPath}})])]),t._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"text-content"},[n("h4",{staticClass:"js-job-empty-state-title text-center"},[t._v(t._s(t.title))]),t._v(" "),t.content?n("p",{staticClass:"js-job-empty-state-content"},[t._v(t._s(t.content))]):t._e(),t._v(" "),t.action?n("div",{staticClass:"text-center"},[n("gl-link",{staticClass:"js-job-empty-state-action btn btn-primary",attrs:{href:t.action.path,"data-method":t.action.method}},[t._v("\n          "+t._s(t.action.button_title)+"\n        ")])],1):t._e()])])])},[],!1,null,null,null);Ot.options.__file="empty_state.vue";var wt=Ot.exports,Lt=n(89),Bt={components:{CiIcon:Lt.a},props:{deploymentStatus:{type:Object,required:!0},iconStatus:{type:Object,required:!0}},computed:{environment:function(){var t;switch(this.deploymentStatus.status){case"last":t=Object(R.f)(Object(R.a)("This job is the most recent deployment to %{link}."),{link:this.environmentLink},!1);break;case"out_of_date":t=this.hasLastDeployment?Object(R.f)(Object(R.a)("This job is an out-of-date deployment to %{environmentLink}. View the most recent deployment %{deploymentLink}."),{environmentLink:this.environmentLink,deploymentLink:this.deploymentLink("#".concat(this.lastDeployment.iid))},!1):Object(R.f)(Object(R.a)("This job is an out-of-date deployment to %{environmentLink}."),{environmentLink:this.environmentLink},!1);break;case"failed":t=Object(R.f)(Object(R.a)("The deployment of this job to %{environmentLink} did not succeed."),{environmentLink:this.environmentLink},!1);break;case"creating":t=this.hasLastDeployment?Object(R.f)(Object(R.a)("This job is creating a deployment to %{environmentLink} and will overwrite the %{deploymentLink}."),{environmentLink:this.environmentLink,deploymentLink:this.deploymentLink(Object(R.a)("latest deployment"))},!1):Object(R.f)(Object(R.a)("This job is creating a deployment to %{environmentLink}."),{environmentLink:this.environmentLink},!1)}return t},environmentLink:function(){return this.hasEnvironment?Object(R.f)("%{startLink}%{name}%{endLink}",{startLink:'<a href="'.concat(this.deploymentStatus.environment.environment_path,'" class="js-environment-link">'),name:a.a.escape(this.deploymentStatus.environment.name),endLink:"</a>"},!1):""},hasLastDeployment:function(){return this.hasEnvironment&&this.deploymentStatus.environment.last_deployment},lastDeployment:function(){return this.hasLastDeployment?this.deploymentStatus.environment.last_deployment:{}},hasEnvironment:function(){return!a.a.isEmpty(this.deploymentStatus.environment)},lastDeploymentPath:function(){return a.a.isEmpty(this.lastDeployment.deployable)?"":this.lastDeployment.deployable.build_path}},methods:{deploymentLink:function(t){return Object(R.f)("%{startLink}%{name}%{endLink}",{startLink:'<a href="'.concat(this.lastDeploymentPath,'" class="js-job-deployment-link">'),name:t,endLink:"</a>"},!1)}}},Rt=Object(g.a)(Bt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"prepend-top-default append-bottom-default js-environment-container"},[e("div",{staticClass:"environment-information"},[e("ci-icon",{attrs:{status:this.iconStatus}}),this._v(" "),e("p",{staticClass:"inline append-bottom-0",domProps:{innerHTML:this._s(this.environment)}})],1)])},[],!1,null,null,null);Rt.options.__file="environments_block.vue";var xt=Rt.exports,qt=n(93),Pt={components:{TimeagoTooltip:qt.a,GlLink:c.d},props:{user:{type:Object,required:!1,default:function(){return{}}},erasedAt:{type:String,required:!0}},computed:{isErasedByUser:function(){return!a.a.isEmpty(this.user)}}},At=Object(g.a)(Pt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"prepend-top-default js-build-erased"},[n("div",{staticClass:"erased alert alert-warning"},[t.isErasedByUser?[t._v("\n      "+t._s(t.s__("Job|Job has been erased by"))+"\n      "),n("gl-link",{attrs:{href:t.user.web_url}},[t._v(" "+t._s(t.user.username)+" ")])]:[t._v("\n      "+t._s(t.s__("Job|Job has been erased"))+"\n    ")],t._v(" "),n("timeago-tooltip",{attrs:{time:t.erasedAt}})],2)])},[],!1,null,null,null);At.options.__file="erased_block.vue";var Jt=At.exports;function It(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){Dt(t,e,n[e])})}return t}function Dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nt={name:"JobLog",props:{trace:{type:String,required:!0},isComplete:{type:Boolean,required:!0}},computed:It({},Object(l.d)(["isScrolledToBottomBeforeReceivingTrace"])),updated:function(){var t=this;this.$nextTick(function(){return t.handleScrollDown()})},mounted:function(){var t=this;this.$nextTick(function(){return t.handleScrollDown()})},methods:It({},Object(l.b)(["scrollBottom"]),{handleScrollDown:function(){var t=this;this.isScrolledToBottomBeforeReceivingTrace&&setTimeout(function(){t.scrollBottom()},0)}})},Gt=Object(g.a)(Nt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",{staticClass:"js-build-trace build-trace qa-build-trace"},[t._v("  "),n("code",{staticClass:"bash",domProps:{innerHTML:t._s(t.trace)}},[t._v("\n  ")]),t._v("\n\n  "),t.isComplete?t._e():n("div",{staticClass:"js-log-animation build-loader-animation"},[t._v("\n    "),n("div",{staticClass:"dot"}),t._v("\n    "),n("div",{staticClass:"dot"}),t._v("\n    "),n("div",{staticClass:"dot"}),t._v("\n  ")]),t._v("\n")])},[],!1,null,null,null);Gt.options.__file="job_log.vue";var Vt=Gt.exports,zt=n(148),Ft=n(805),Ht=n.n(Ft),Mt={components:{Icon:C.a,GlLink:c.d,GlButton:c.b},directives:{GlTooltip:c.n},scrollDown:Ht.a,props:{erasePath:{type:String,required:!1,default:null},size:{type:Number,required:!0},rawPath:{type:String,required:!1,default:null},isScrollTopDisabled:{type:Boolean,required:!0},isScrollBottomDisabled:{type:Boolean,required:!0},isScrollingDown:{type:Boolean,required:!0},isTraceSizeVisible:{type:Boolean,required:!0}},computed:{jobLogSize:function(){return Object(R.f)("Showing last %{size} of log -",{size:Object(zt.c)(this.size)})}},mounted:function(){Object(b.a)(this.$el)},methods:{handleScrollToTop:function(){this.$emit("scrollJobLogTop")},handleScrollToBottom:function(){this.$emit("scrollJobLogBottom")}}},Ut=Object(g.a)(Mt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top-bar"},[n("div",{staticClass:"js-truncated-info truncated-info d-none d-sm-block float-left"},[t.isTraceSizeVisible?[t._v("\n      "+t._s(t.jobLogSize)+"\n\n      "),t.rawPath?n("gl-link",{staticClass:"js-raw-link raw-link",attrs:{href:t.rawPath}},[t._v("\n        "+t._s(t.s__("Job|Complete Raw"))+"\n      ")]):t._e()]:t._e()],2),t._v(" "),n("div",{staticClass:"controllers float-right"},[t.rawPath?n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.body",modifiers:{body:!0}}],staticClass:"js-raw-link-controller controllers-buttons",attrs:{title:t.s__("Job|Show complete raw"),href:t.rawPath}},[n("icon",{attrs:{name:"doc-text"}})],1):t._e(),t._v(" "),t.erasePath?n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.body",modifiers:{body:!0}}],staticClass:"js-erase-link controllers-buttons",attrs:{title:t.s__("Job|Erase job log"),href:t.erasePath,"data-confirm":t.__("Are you sure you want to erase this build?"),"data-method":"post"}},[n("icon",{attrs:{name:"remove"}})],1):t._e(),t._v(" "),n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"controllers-buttons",attrs:{title:t.s__("Job|Scroll to top")}},[n("gl-button",{staticClass:"js-scroll-top btn-scroll btn-transparent btn-blank",attrs:{disabled:t.isScrollTopDisabled,type:"button"},on:{click:t.handleScrollToTop}},[n("icon",{attrs:{name:"scroll_up"}})],1)],1),t._v(" "),n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"controllers-buttons",attrs:{title:t.s__("Job|Scroll to bottom")}},[n("gl-button",{staticClass:"js-scroll-bottom btn-scroll btn-transparent btn-blank",class:{animate:t.isScrollingDown},attrs:{disabled:t.isScrollBottomDisabled},domProps:{innerHTML:t._s(t.$options.scrollDown)},on:{click:t.handleScrollToBottom}})],1)],1)])},[],!1,null,null,null);Ut.options.__file="job_log_controllers.vue";var $t=Ut.exports,Wt={components:{GlLink:c.d},props:{hasNoRunnersForProject:{type:Boolean,required:!0},tags:{type:Array,required:!1,default:function(){return[]}},runnersPath:{type:String,required:!0}}},Qt=Object(g.a)(Wt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bs-callout bs-callout-warning"},[t.tags.length?n("p",{staticClass:"js-stuck-with-tags append-bottom-0"},[t._v("\n    "+t._s(t.s__("This job is stuck because you don't have\nany active runners online with any of these tags assigned to them:"))+"\n    "),t._l(t.tags,function(e,i){return n("span",{key:i,staticClass:"badge badge-primary append-right-4"},[t._v("\n      "+t._s(e)+"\n    ")])})],2):t.hasNoRunnersForProject?n("p",{staticClass:"js-stuck-no-runners append-bottom-0"},[t._v("\n    "+t._s(t.s__("Job|This job is stuck because the project\ndoesn't have any runners online assigned to it."))+"\n  ")]):n("p",{staticClass:"js-stuck-no-active-runner append-bottom-0"},[t._v("\n    "+t._s(t.s__("This job is stuck because you don't\nhave any active runners that can run this job."))+"\n  ")]),t._v("\n\n  "+t._s(t.__("Go to"))+"\n  "),t.runnersPath?n("gl-link",{staticClass:"js-runners-path",attrs:{href:t.runnersPath}},[t._v("\n    "+t._s(t.__("Runners page"))+"\n  ")]):t._e()],1)},[],!1,null,null,null);Qt.options.__file="stuck_block.vue";var Yt=Qt.exports,Xt=n(84),Kt=n(20),Zt={name:"SidebarDetailRow",components:{GlLink:c.d},props:{title:{type:String,required:!1,default:""},value:{type:String,required:!0},helpUrl:{type:String,required:!1,default:""}},computed:{hasTitle:function(){return this.title.length>0},hasHelpURL:function(){return this.helpUrl.length>0}}},te=Object(g.a)(Zt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"build-detail-row"},[t.hasTitle?n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.title)+":")]):t._e(),t._v(" "+t._s(t.value)+"\n  "),t.hasHelpURL?n("span",{staticClass:"help-button float-right"},[n("gl-link",{attrs:{href:t.helpUrl,target:"_blank",rel:"noopener noreferrer nofollow"}},[n("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true"}})])],1):t._e()])},[],!1,null,null,null);te.options.__file="sidebar_detail_row.vue";var ee=te.exports,ne={components:{TimeagoTooltip:qt.a,GlLink:c.d},mixins:[Xt.a],props:{artifact:{type:Object,required:!0}},computed:{isExpired:function(){return this.artifact.expired},willExpire:function(){return!1===this.artifact.expired}}},ie=Object(g.a)(ne,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block"},[n("div",{staticClass:"title font-weight-bold"},[t._v(t._s(t.s__("Job|Job artifacts")))]),t._v(" "),t.isExpired||t.willExpire?n("p",{staticClass:"build-detail-row",class:{"js-artifacts-removed":t.isExpired,"js-artifacts-will-be-removed":t.willExpire}},[t.isExpired?n("span",[t._v(t._s(t.s__("Job|The artifacts were removed")))]):t._e(),t._v(" "),t.willExpire?n("span",[t._v(t._s(t.s__("Job|The artifacts will be removed")))]):t._e(),t._v(" "),t.artifact.expire_at?n("timeago-tooltip",{attrs:{time:t.artifact.expire_at}}):t._e()],1):t._e(),t._v(" "),n("div",{staticClass:"btn-group d-flex prepend-top-10",attrs:{role:"group"}},[t.artifact.keep_path?n("gl-link",{staticClass:"js-keep-artifacts btn btn-sm btn-default",attrs:{href:t.artifact.keep_path,"data-method":"post"}},[t._v(t._s(t.s__("Job|Keep")))]):t._e(),t._v(" "),t.artifact.download_path?n("gl-link",{staticClass:"js-download-artifacts btn btn-sm btn-default",attrs:{href:t.artifact.download_path,download:"",rel:"nofollow"}},[t._v(t._s(t.s__("Job|Download")))]):t._e(),t._v(" "),t.artifact.browse_path?n("gl-link",{staticClass:"js-browse-artifacts btn btn-sm btn-default",attrs:{href:t.artifact.browse_path}},[t._v(t._s(t.s__("Job|Browse")))]):t._e()],1)])},[],!1,null,null,null);ie.options.__file="artifacts_block.vue";var oe=ie.exports,re={components:{GlButton:c.b},props:{trigger:{type:Object,required:!0}},data:function(){return{showVariableValues:!1}},computed:{hasVariables:function(){return this.trigger.variables&&this.trigger.variables.length>0},getToggleButtonText:function(){return this.showVariableValues?Object(R.a)("Hide values"):Object(R.a)("Reveal values")},hasValues:function(){return this.trigger.variables.some(function(t){return t.value})}},methods:{toggleValues:function(){this.showVariableValues=!this.showVariableValues},getDisplayValue:function(t){return this.showVariableValues?t:"••••••"}}},se=Object(g.a)(re,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"build-widget block"},[t.trigger.short_token?n("p",{staticClass:"js-short-token",class:{"append-bottom-5":t.hasVariables,"append-bottom-0":!t.hasVariables}},[n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.__("Trigger token:")))]),t._v(" "+t._s(t.trigger.short_token)+"\n  ")]):t._e(),t._v(" "),t.hasVariables?[n("p",{staticClass:"trigger-variables-btn-container"},[n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.__("Trigger variables:")))]),t._v(" "),t.hasValues?n("gl-button",{staticClass:"btn-sm group js-reveal-variables trigger-variables-btn",on:{click:t.toggleValues}},[t._v(t._s(t.getToggleButtonText))]):t._e()],1),t._v(" "),n("table",{staticClass:"js-build-variables trigger-build-variables"},t._l(t.trigger.variables,function(e,i){return n("tr",{key:e.key+"-"+i},[n("td",{staticClass:"js-build-variable trigger-build-variable trigger-variables-table-cell"},[t._v("\n          "+t._s(e.key)+"\n        ")]),t._v(" "),n("td",{staticClass:"js-build-value trigger-build-value trigger-variables-table-cell"},[t._v("\n          "+t._s(t.getDisplayValue(e.value))+"\n        ")])])}),0)]:t._e()],2)},[],!1,null,null,null);se.options.__file="trigger_block.vue";var ae=se.exports,le={components:{ClipboardButton:n(174).a,GlLink:c.d},props:{commit:{type:Object,required:!0},mergeRequest:{type:Object,required:!1,default:null},isLastBlock:{type:Boolean,required:!0}}},ce=Object(g.a)(le,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"block-last":t.isLastBlock,block:!t.isLastBlock}},[n("p",{staticClass:"append-bottom-5"},[n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.__("Commit")))]),t._v(" "),n("gl-link",{staticClass:"js-commit-sha commit-sha link-commit",attrs:{href:t.commit.commit_path}},[t._v("\n      "+t._s(t.commit.short_id)+"\n    ")]),t._v(" "),n("clipboard-button",{attrs:{text:t.commit.short_id,title:t.__("Copy commit SHA to clipboard"),"css-class":"btn btn-clipboard btn-transparent"}}),t._v(" "),t.mergeRequest?n("span",[t._v("\n      "+t._s(t.__("in"))+"\n      "),n("gl-link",{staticClass:"js-link-commit link-commit",attrs:{href:t.mergeRequest.path}},[t._v("!"+t._s(t.mergeRequest.iid))])],1):t._e()],1),t._v(" "),n("p",{staticClass:"append-bottom-0"},[t._v(t._s(t.commit.title))])])},[],!1,null,null,null);ce.options.__file="commit_block.vue";var ue=ce.exports,de={components:{CiIcon:Lt.a,Icon:C.a},props:{pipeline:{type:Object,required:!0},stages:{type:Array,required:!0},selectedStage:{type:String,required:!0}},computed:{hasRef:function(){return!a.a.isEmpty(this.pipeline.ref)}},methods:{onStageClick:function(t){this.$emit("requestSidebarStageDropdown",t)}}},pe=Object(g.a)(de,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block-last dropdown"},[n("ci-icon",{staticClass:"vertical-align-middle",attrs:{status:t.pipeline.details.status}}),t._v(" "),n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.__("Pipeline")))]),t._v(" "),n("a",{staticClass:"js-pipeline-path link-commit",attrs:{href:t.pipeline.path}},[t._v("#"+t._s(t.pipeline.id))]),t._v(" "),t.hasRef?[t._v("\n    "+t._s(t.__("from"))+"\n    "),n("a",{staticClass:"link-commit ref-name",attrs:{href:t.pipeline.ref.path}},[t._v(t._s(t.pipeline.ref.name))])]:t._e(),t._v(" "),n("button",{staticClass:"js-selected-stage dropdown-menu-toggle prepend-top-8",attrs:{type:"button","data-toggle":"dropdown"}},[t._v("\n    "+t._s(t.selectedStage)+" "),n("i",{staticClass:"fa fa-chevron-down"})]),t._v(" "),n("ul",{staticClass:"dropdown-menu"},t._l(t.stages,function(e){return n("li",{key:e.name},[n("button",{staticClass:"js-stage-item stage-item",attrs:{type:"button"},on:{click:function(n){t.onStageClick(e)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])])}),0)],2)},[],!1,null,null,null);pe.options.__file="stages_dropdown.vue";var be=pe.exports,fe=n(41),he=n(189),me={components:{CiIcon:Lt.a,Icon:C.a,GlLink:c.d},directives:{tooltip:fe.a},mixins:[he.a],props:{job:{type:Object,required:!0},isActive:{type:Boolean,required:!0}},computed:{tooltipText:function(){var t=this.job,e=t.name,n=t.status,i="".concat(e," - ").concat(n.tooltip);return this.isDelayedJob?Object(R.f)(i,{remainingTime:this.remainingTime}):i}}},_e=Object(g.a)(me,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"build-job",class:{retried:t.job.retried,active:t.isActive}},[n("gl-link",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-job-link",attrs:{href:t.job.status.details_path,title:t.tooltipText,"data-boundary":"viewport"}},[t.isActive?n("icon",{staticClass:"js-arrow-right icon-arrow-right",attrs:{name:"arrow-right"}}):t._e(),t._v(" "),n("ci-icon",{attrs:{status:t.job.status}}),t._v(" "),n("span",[t._v(t._s(t.job.name?t.job.name:t.job.id))]),t._v(" "),t.job.retried?n("icon",{staticClass:"js-retry-icon",attrs:{name:"retry"}}):t._e()],1)],1)},[],!1,null,null,null);_e.options.__file="job_container_item.vue";var ge={components:{JobContainerItem:_e.exports},props:{jobs:{type:Array,required:!0},jobId:{type:Number,required:!0}},methods:{isJobActive:function(t){return this.jobId===t}}},ve=Object(g.a)(ge,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"js-jobs-container builds-container"},t._l(t.jobs,function(e){return n("job-container-item",{key:e.id,attrs:{job:e,"is-active":t.isJobActive(e.id)}})}),1)},[],!1,null,null,null);ve.options.__file="jobs_container.vue";var Se=ve.exports;function je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){ye(t,e,n[e])})}return t}function ye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ee={name:"JobSidebar",components:{ArtifactsBlock:oe,CommitBlock:ue,DetailRow:ee,Icon:C.a,TriggerBlock:ae,StagesDropdown:be,JobsContainer:Se,GlLink:c.d,GlButton:c.b},mixins:[Xt.a],props:{runnerHelpUrl:{type:String,required:!1,default:""}},computed:je({},Object(l.d)(["job","stages","jobs","selectedStage","isLoadingStages"]),{coverage:function(){return"".concat(this.job.coverage,"%")},duration:function(){return Object(Kt.o)(this.job.duration)},queued:function(){return Object(Kt.o)(this.job.queued)},runnerId:function(){return"".concat(this.job.runner.description," (#").concat(this.job.runner.id,")")},retryButtonClass:function(){var t="js-retry-button float-right btn btn-retry d-none d-md-block d-lg-block d-xl-block";return t+=this.job.status&&this.job.recoverable?" btn-primary":" btn-inverted-secondary"},hasTimeout:function(){return null!=this.job.metadata&&null!==this.job.metadata.timeout_human_readable},timeout:function(){if(null==this.job.metadata)return"";var t=this.job.metadata.timeout_human_readable;return""!==this.job.metadata.timeout_source&&(t+=" (from ".concat(this.job.metadata.timeout_source,")")),t},renderBlock:function(){return this.job.merge_request||this.job.duration||this.job.finished_data||this.job.erased_at||this.job.queued||this.job.runner||this.job.coverage||this.job.tags.length||this.job.cancel_path},hasArtifact:function(){return!a.a.isEmpty(this.job.artifact)},hasTriggers:function(){return!a.a.isEmpty(this.job.trigger)},hasStages:function(){return this.job&&this.job.pipeline&&this.job.pipeline.stages&&this.job.pipeline.stages.length>0||!1},commit:function(){return this.job.pipeline&&this.job.pipeline.commit?this.job.pipeline.commit:{}}}),methods:je({},Object(l.b)(["fetchJobsForStage","toggleSidebar"]))},Ce=Object(g.a)(Ee,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"right-sidebar build-sidebar",attrs:{"data-offset-top":"101","data-spy":"affix"}},[n("div",{staticClass:"sidebar-container"},[n("div",{staticClass:"blocks-container"},[n("div",{staticClass:"block d-flex align-items-center"},[n("h4",{staticClass:"flex-grow-1 prepend-top-8 m-0"},[t._v(t._s(t.job.name))]),t._v(" "),t.job.retry_path?n("gl-link",{class:t.retryButtonClass,attrs:{href:t.job.retry_path,"data-method":"post",rel:"nofollow"}},[t._v(t._s(t.__("Retry")))]):t._e(),t._v(" "),t.job.terminal_path?n("gl-link",{staticClass:"js-terminal-link pull-right btn btn-primary btn-inverted visible-md-block visible-lg-block",attrs:{href:t.job.terminal_path,target:"_blank"}},[t._v("\n          "+t._s(t.__("Debug"))+" "),n("icon",{attrs:{name:"external-link"}})],1):t._e(),t._v(" "),n("gl-button",{staticClass:"btn btn-blank gutter-toggle float-right d-block d-md-none js-sidebar-build-toggle",attrs:{"aria-label":t.__("Toggle Sidebar"),type:"button"},on:{click:t.toggleSidebar}},[n("i",{staticClass:"fa fa-angle-double-right",attrs:{"aria-hidden":"true","data-hidden":"true"}})])],1),t._v(" "),t.job.retry_path||t.job.new_issue_path?n("div",{staticClass:"block retry-link"},[t.job.new_issue_path?n("gl-link",{staticClass:"js-new-issue btn btn-success btn-inverted",attrs:{href:t.job.new_issue_path}},[t._v(t._s(t.__("New issue")))]):t._e(),t._v(" "),t.job.retry_path?n("gl-link",{staticClass:"js-retry-job btn btn-inverted-secondary",attrs:{href:t.job.retry_path,"data-method":"post",rel:"nofollow"}},[t._v(t._s(t.__("Retry")))]):t._e()],1):t._e(),t._v(" "),n("div",{class:{block:t.renderBlock}},[t.job.duration?n("detail-row",{staticClass:"js-job-duration",attrs:{value:t.duration,title:"Duration"}}):t._e(),t._v(" "),t.job.finished_at?n("detail-row",{staticClass:"js-job-finished",attrs:{value:t.timeFormated(t.job.finished_at),title:"Finished"}}):t._e(),t._v(" "),t.job.erased_at?n("detail-row",{staticClass:"js-job-erased",attrs:{value:t.timeFormated(t.job.erased_at),title:"Erased"}}):t._e(),t._v(" "),t.job.queued?n("detail-row",{staticClass:"js-job-queued",attrs:{value:t.queued,title:"Queued"}}):t._e(),t._v(" "),t.hasTimeout?n("detail-row",{staticClass:"js-job-timeout",attrs:{"help-url":t.runnerHelpUrl,value:t.timeout,title:"Timeout"}}):t._e(),t._v(" "),t.job.runner?n("detail-row",{staticClass:"js-job-runner",attrs:{value:t.runnerId,title:"Runner"}}):t._e(),t._v(" "),t.job.coverage?n("detail-row",{staticClass:"js-job-coverage",attrs:{value:t.coverage,title:"Coverage"}}):t._e(),t._v(" "),t.job.tags.length?n("p",{staticClass:"build-detail-row js-job-tags"},[n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.__("Tags:")))]),t._v(" "),t._l(t.job.tags,function(e,i){return n("span",{key:i,staticClass:"badge badge-primary mr-1"},[t._v(t._s(e))])})],2):t._e(),t._v(" "),t.job.cancel_path?n("div",{staticClass:"btn-group prepend-top-5",attrs:{role:"group"}},[n("gl-link",{staticClass:"js-cancel-job btn btn-sm btn-default",attrs:{href:t.job.cancel_path,"data-method":"post",rel:"nofollow"}},[t._v(t._s(t.__("Cancel")))])],1):t._e()],1),t._v(" "),t.hasArtifact?n("artifacts-block",{attrs:{artifact:t.job.artifact}}):t._e(),t._v(" "),t.hasTriggers?n("trigger-block",{attrs:{trigger:t.job.trigger}}):t._e(),t._v(" "),n("commit-block",{attrs:{"is-last-block":t.hasStages,commit:t.commit,"merge-request":t.job.merge_request}}),t._v(" "),t.isLoadingStages?t._e():n("stages-dropdown",{attrs:{stages:t.stages,pipeline:t.job.pipeline,"selected-stage":t.selectedStage},on:{requestSidebarStageDropdown:t.fetchJobsForStage}})],1),t._v(" "),t.jobs.length?n("jobs-container",{attrs:{jobs:t.jobs,"job-id":t.job.id}}):t._e()],1)])},[],!1,null,null,null);Ce.options.__file="sidebar.vue";var Te=Ce.exports;function ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){Oe(t,e,n[e])})}return t}function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var we={name:"JobPageApp",store:new l.a.Store({actions:i,mutations:Tt,getters:o,state:{jobEndpoint:null,traceEndpoint:null,isSidebarOpen:!0,isLoading:!1,hasError:!1,job:{},isScrollBottomDisabled:!0,isScrollTopDisabled:!0,isScrolledToBottomBeforeReceivingTrace:!0,trace:"",isTraceComplete:!1,traceSize:0,isTraceSizeVisible:!1,traceState:null,isLoadingStages:!1,isLoadingJobs:!1,selectedStage:"",stages:[],jobs:[]}}),components:{CiHeader:h.a,Callout:E,EmptyState:wt,EnvironmentsBlock:xt,ErasedBlock:Jt,Icon:C.a,Log:Vt,LogTopBar:$t,StuckBlock:Yt,Sidebar:Te,GlLoadingIcon:c.e},mixins:[he.a],props:{runnerSettingsUrl:{type:String,required:!1,default:null},runnerHelpUrl:{type:String,required:!1,default:null},endpoint:{type:String,required:!0},terminalPath:{type:String,required:!1,default:null},pagePath:{type:String,required:!0},logState:{type:String,required:!0}},computed:ke({},Object(l.d)(["isLoading","job","isSidebarOpen","trace","isTraceComplete","traceSize","isTraceSizeVisible","isScrollBottomDisabled","isScrollTopDisabled","isScrolledToBottomBeforeReceivingTrace","hasError"]),Object(l.c)(["headerActions","headerTime","shouldRenderCalloutMessage","shouldRenderTriggeredLabel","hasEnvironment","hasTrace","emptyStateIllustration","isScrollingDown","emptyStateAction","hasRunnersForProject"]),{shouldRenderContent:function(){return!this.isLoading&&!this.hasError},emptyStateTitle:function(){var t=this.emptyStateIllustration,e=this.remainingTime,n=t.title;return this.isDelayedJob?Object(R.f)(n,{remainingTime:e}):n}}),watch:{job:function(t,e){var n=this;a.a.isEmpty(e)&&!a.a.isEmpty(t.pipeline)&&this.fetchStages(),t.archived&&this.$nextTick(function(){n.$refs.sticky&&Object(b.a)(n.$refs.sticky)})}},created:function(){this.throttled=a.a.throttle(this.toggleScrollButtons,100),this.setJobEndpoint(this.endpoint),this.setTraceOptions({logState:this.logState,pagePath:this.pagePath}),this.fetchJob(),this.fetchTrace(),window.addEventListener("resize",this.onResize),window.addEventListener("scroll",this.updateScroll)},mounted:function(){this.updateSidebar()},destroyed:function(){window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.updateScroll)},methods:ke({},Object(l.b)(["setJobEndpoint","setTraceOptions","fetchJob","fetchStages","hideSidebar","showSidebar","toggleSidebar","fetchTrace","scrollBottom","scrollTop","toggleScrollButtons","toggleScrollAnimation"]),{onResize:function(){this.updateSidebar(),this.updateScroll()},updateSidebar:function(){"xs"===f.a.getBreakpointSize()?this.hideSidebar():this.isSidebarOpen||this.showSidebar()},updateScroll:function(){p()?this.isScrollingDown&&this.toggleScrollAnimation(!0):this.toggleScrollAnimation(!1),this.throttled()}})},Le=Object(g.a)(we,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?n("gl-loading-icon",{staticClass:"js-job-loading qa-loading-animation prepend-top-20",attrs:{size:2}}):t.shouldRenderContent?[n("div",{staticClass:"js-job-content build-page"},[n("header",[n("div",{staticClass:"js-build-header build-header top-area"},[n("ci-header",{attrs:{status:t.job.status,"item-id":t.job.id,time:t.headerTime,user:t.job.user,actions:t.headerActions,"has-sidebar-button":!0,"should-render-triggered-label":t.shouldRenderTriggeredLabel,"item-name":t.__("Job")},on:{clickedSidebarButton:t.toggleSidebar}})],1),t._v(" "),t.shouldRenderCalloutMessage?n("callout",{attrs:{message:t.job.callout_message}}):t._e()],1),t._v(" "),t.job.stuck?n("stuck-block",{staticClass:"js-job-stuck",attrs:{"has-no-runners-for-project":t.hasRunnersForProject,tags:t.job.tags,"runners-path":t.runnerSettingsUrl}}):t._e(),t._v(" "),t.hasEnvironment?n("environments-block",{staticClass:"js-job-environment",attrs:{"deployment-status":t.job.deployment_status,"icon-status":t.job.status}}):t._e(),t._v(" "),t.job.erased_at?n("erased-block",{staticClass:"js-job-erased-block",attrs:{user:t.job.erased_by,"erased-at":t.job.erased_at}}):t._e(),t._v(" "),t.job.archived?n("div",{ref:"sticky",staticClass:"js-archived-job prepend-top-default archived-sticky sticky-top"},[n("icon",{staticClass:"align-text-bottom",attrs:{name:"lock"}}),t._v("\n\n        "+t._s(t.__("This job is archived. Only the complete pipeline can be retried."))+"\n      ")],1):t._e(),t._v(" "),t.hasTrace?n("div",{staticClass:"build-trace-container"},[n("log-top-bar",{class:{"sidebar-expanded":t.isSidebarOpen,"sidebar-collapsed":!t.isSidebarOpen,"has-archived-block":t.job.archived},attrs:{"erase-path":t.job.erase_path,size:t.traceSize,"raw-path":t.job.raw_path,"is-scroll-bottom-disabled":t.isScrollBottomDisabled,"is-scroll-top-disabled":t.isScrollTopDisabled,"is-trace-size-visible":t.isTraceSizeVisible,"is-scrolling-down":t.isScrollingDown},on:{scrollJobLogTop:t.scrollTop,scrollJobLogBottom:t.scrollBottom}}),t._v(" "),n("log",{attrs:{trace:t.trace,"is-complete":t.isTraceComplete}})],1):t._e(),t._v(" "),t.hasTrace?t._e():n("empty-state",{staticClass:"js-job-empty-state",attrs:{"illustration-path":t.emptyStateIllustration.image,"illustration-size-class":t.emptyStateIllustration.size,title:t.emptyStateTitle,content:t.emptyStateIllustration.content,action:t.emptyStateAction}})],1)]:t._e(),t._v(" "),t.shouldRenderContent?n("sidebar",{staticClass:"js-job-sidebar",class:{"right-sidebar-expanded":t.isSidebarOpen,"right-sidebar-collapsed":!t.isSidebarOpen},attrs:{"runner-help-url":t.runnerHelpUrl}}):t._e()],2)},[],!1,null,null,null);Le.options.__file="job_app.vue";var Be=Le.exports;document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("js-job-vue-app");return new r.default({el:t,components:{JobApp:Be},render:function(e){return e("job-app",{props:{runnerHelpUrl:t.dataset.runnerHelpUrl,runnerSettingsUrl:t.dataset.runnerSettingsUrl,endpoint:t.dataset.endpoint,pagePath:t.dataset.buildOptionsPagePath,logState:t.dataset.buildOptionsLogState,buildStatus:t.dataset.buildOptionsBuildStatus}})}})})},148:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return a});var i=n(50);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(t){var e=0,n="";if(!Number.isNaN(Number(t))){switch(o(t.toString().split("."),1)[0].length){case 1:e=3;break;case 2:e=2;break;case 3:e=1;break;default:e=4}n=Number(t).toFixed(e)}return n}function s(t){return t/(i.a*i.a)}function a(t){return t<i.a?"".concat(t," bytes"):t<i.a*i.a?"".concat((e=t,e/i.a).toFixed(2)," KiB"):t<i.a*i.a*i.a?"".concat(s(t).toFixed(2)," MiB"):"".concat(function(t){return t/(i.a*i.a*i.a)}(t).toFixed(2)," GiB");var e}},160:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var i=n(212),o=n.n(i),r=function(t,e,n,i){var o=Math.floor(t.offsetTop-e);if(o<=n&&!t.classList.contains("is-stuck")){var r=i?function(){var t=document.createElement("div");return t.classList.add("sticky-placeholder"),t}():null,s=t.offsetHeight;t.classList.add("is-stuck"),i&&(t.parentNode.insertBefore(r,t.nextElementSibling),r.style.height="".concat(s-t.offsetHeight,"px"))}else o>n&&t.classList.contains("is-stuck")&&(t.classList.remove("is-stuck"),i&&t.nextElementSibling&&t.nextElementSibling.classList.contains("sticky-placeholder")&&t.nextElementSibling.remove())},s=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&"undefined"!=typeof CSS&&CSS.supports("(position: -webkit-sticky) or (position: sticky)")&&document.addEventListener("scroll",function(){return r(t,window.scrollY,e,n)},{passive:!0})},a=function(t){o.a.add(t)}},174:function(t,e,n){"use strict";var i=n(10),o=n(15),r={name:"ClipboardButton",directives:{GlTooltip:i.n},components:{GlButton:i.b,Icon:o.a},props:{text:{type:String,required:!0},gfm:{type:String,required:!1,default:null},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:[String,Boolean],required:!1,default:!1},cssClass:{type:String,required:!1,default:"btn-default"}},computed:{clipboardText:function(){return null!==this.gfm?JSON.stringify({text:this.text,gfm:this.gfm}):this.text}}},s=n(3),a=Object(s.a)(r,function(){var t=this.$createElement,e=this._self._c||t;return e("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:this.tooltipPlacement,container:this.tooltipContainer},expression:"{ placement: tooltipPlacement, container: tooltipContainer }"}],class:this.cssClass,attrs:{title:this.title,"data-clipboard-text":this.clipboardText}},[e("icon",{attrs:{name:"duplicate"}})],1)},[],!1,null,null,null);a.options.__file="clipboard_button.vue";e.a=a.exports},212:function(t,e){!function(e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=!1;if(e.getComputedStyle){var r=n.createElement("div");["","-webkit-","-moz-","-ms-"].some(function(t){try{r.style.position=t+"sticky"}catch(t){}return""!=r.style.position})&&(o=!0)}else o=!0;var s="undefined"!=typeof ShadowRoot,a={top:null,left:null},l=[];function c(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function u(t){return parseFloat(t)||0}function d(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e}var p=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!(e instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(l.some(function(t){return t._node===e}))throw new Error("Stickyfill is already applied to this node");this._node=e,this._stickyMode=null,this._active=!1,l.push(this),this.refresh()}return i(t,[{key:"refresh",value:function(){if(!o&&!this._removed){this._active&&this._deactivate();var t=this._node,i=getComputedStyle(t),r={top:i.top,display:i.display,marginTop:i.marginTop,marginBottom:i.marginBottom,marginLeft:i.marginLeft,marginRight:i.marginRight,cssFloat:i.cssFloat};if(!isNaN(parseFloat(r.top))&&"table-cell"!=r.display&&"none"!=r.display){this._active=!0;var a=t.parentNode,l=s&&a instanceof ShadowRoot?a.host:a,p=t.getBoundingClientRect(),b=l.getBoundingClientRect(),f=getComputedStyle(l);this._parent={node:l,styles:{position:l.style.position},offsetHeight:l.offsetHeight},this._offsetToWindow={left:p.left,right:n.documentElement.clientWidth-p.right},this._offsetToParent={top:p.top-b.top-u(f.borderTopWidth),left:p.left-b.left-u(f.borderLeftWidth),right:-p.right+b.right-u(f.borderRightWidth)},this._styles={position:t.style.position,top:t.style.top,bottom:t.style.bottom,left:t.style.left,right:t.style.right,width:t.style.width,marginTop:t.style.marginTop,marginLeft:t.style.marginLeft,marginRight:t.style.marginRight};var h=u(r.top);this._limits={start:p.top+e.pageYOffset-h,end:b.top+e.pageYOffset+l.offsetHeight-u(f.borderBottomWidth)-t.offsetHeight-h-u(r.marginBottom)};var m=f.position;"absolute"!=m&&"relative"!=m&&(l.style.position="relative"),this._recalcPosition();var _=this._clone={};_.node=n.createElement("div"),c(_.node.style,{width:p.right-p.left+"px",height:p.bottom-p.top+"px",marginTop:r.marginTop,marginBottom:r.marginBottom,marginLeft:r.marginLeft,marginRight:r.marginRight,cssFloat:r.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"}),a.insertBefore(_.node,t),_.docOffsetTop=d(_.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var t=a.top<=this._limits.start?"start":a.top>=this._limits.end?"end":"middle";if(this._stickyMode!=t){switch(t){case"start":c(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":c(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":c(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=t}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(Math.abs(d(this._clone.node)-this._clone.docOffsetTop)>1||Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight)>1)&&this.refresh()}},{key:"_deactivate",value:function(){var t=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,c(this._node.style,this._styles),delete this._styles,l.some(function(e){return e!==t&&e._parent&&e._parent.node===t._parent.node})||c(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var t=this;this._deactivate(),l.some(function(e,n){if(e._node===t._node)return l.splice(n,1),!0}),this._removed=!0}}]),t}(),b={stickies:l,Sticky:p,addOne:function(t){if(!(t instanceof HTMLElement)){if(!t.length||!t[0])return;t=t[0]}for(var e=0;e<l.length;e++)if(l[e]._node===t)return l[e];return new p(t)},add:function(t){if(t instanceof HTMLElement&&(t=[t]),t.length){for(var e=[],n=function(n){var i=t[n];return i instanceof HTMLElement?l.some(function(t){if(t._node===i)return e.push(t),!0})?"continue":void e.push(new p(i)):(e.push(void 0),"continue")},i=0;i<t.length;i++)n(i);return e}},refreshAll:function(){l.forEach(function(t){return t.refresh()})},removeOne:function(t){if(!(t instanceof HTMLElement)){if(!t.length||!t[0])return;t=t[0]}l.some(function(e){if(e._node===t)return e.remove(),!0})},remove:function(t){if(t instanceof HTMLElement&&(t=[t]),t.length)for(var e=function(e){var n=t[e];l.some(function(t){if(t._node===n)return t.remove(),!0})},n=0;n<t.length;n++)e(n)},removeAll:function(){for(;l.length;)l[0].remove()}};o||function(){function t(){e.pageXOffset!=a.left?(a.top=e.pageYOffset,a.left=e.pageXOffset,b.refreshAll()):e.pageYOffset!=a.top&&(a.top=e.pageYOffset,a.left=e.pageXOffset,l.forEach(function(t){return t._recalcPosition()}))}t(),e.addEventListener("scroll",t),e.addEventListener("resize",b.refreshAll),e.addEventListener("orientationchange",b.refreshAll);var i=void 0;function o(){i=setInterval(function(){l.forEach(function(t){return t._fastCheck()})},500)}var r=void 0,s=void 0;"hidden"in n?(r="hidden",s="visibilitychange"):"webkitHidden"in n&&(r="webkitHidden",s="webkitvisibilitychange"),s?(n[r]||o(),n.addEventListener(s,function(){n[r]?clearInterval(i):o()})):o()}(),void 0!==t&&t.exports?t.exports=b:e.Stickyfill=b}(window,document)},303:function(t,e,n){"use strict";var i=n(10),o=n(205),r=n(93),s=n(92),a=n(108),l={components:{CiIconBadge:o.a,TimeagoTooltip:r.a,UserAvatarImage:s.a,GlLink:i.d,GlButton:i.b,LoadingButton:a.a},directives:{GlTooltip:i.n},props:{status:{type:Object,required:!0},itemName:{type:String,required:!0},itemId:{type:Number,required:!0},time:{type:String,required:!0},user:{type:Object,required:!1,default:function(){return{}}},actions:{type:Array,required:!1,default:function(){return[]}},hasSidebarButton:{type:Boolean,required:!1,default:!1},shouldRenderTriggeredLabel:{type:Boolean,required:!1,default:!0}},computed:{userAvatarAltText:function(){return"".concat(this.user.name,"'s avatar")}},methods:{onClickAction:function(t){this.$emit("actionClicked",t)},onClickSidebarButton:function(){this.$emit("clickedSidebarButton")}}},c=n(3),u=Object(c.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"page-content-header ci-header-container"},[n("section",{staticClass:"header-main-content"},[n("ci-icon-badge",{attrs:{status:t.status}}),t._v(" "),n("strong",[t._v(" "+t._s(t.itemName)+" #"+t._s(t.itemId)+" ")]),t._v(" "),t.shouldRenderTriggeredLabel?[t._v("\n        triggered\n      ")]:[t._v("\n        created\n      ")],t._v(" "),n("timeago-tooltip",{attrs:{time:t.time}}),t._v("\n\n      by\n\n      "),t.user?[n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-link commit-committer-link",attrs:{href:t.user.path,title:t.user.email}},[n("user-avatar-image",{attrs:{"img-src":t.user.avatar_url,"img-alt":t.userAvatarAltText,"tooltip-text":t.user.name,"img-size":24}}),t._v("\n\n          "+t._s(t.user.name)+"\n        ")],1),t._v(" "),t.user.status_tooltip_html?n("span",{domProps:{innerHTML:t._s(t.user.status_tooltip_html)}}):t._e()]:t._e()],2),t._v(" "),t.actions.length?n("section",{staticClass:"header-action-buttons"},[t._l(t.actions,function(e,i){return["link"===e.type?n("gl-link",{key:i,class:e.cssClass,attrs:{href:e.path}},[t._v("\n          "+t._s(e.label)+"\n        ")]):"ujs-link"===e.type?n("gl-link",{key:i,class:e.cssClass,attrs:{href:e.path,"data-method":"post",rel:"nofollow"}},[t._v("\n          "+t._s(e.label)+"\n        ")]):"button"===e.type?n("loading-button",{key:i,class:e.cssClass,attrs:{loading:e.isLoading,disabled:e.isLoading,"container-class":"d-inline",label:e.label},on:{click:function(n){t.onClickAction(e)}}}):t._e()]})],2):t._e(),t._v(" "),t.hasSidebarButton?n("gl-button",{staticClass:"d-block d-sm-none\nsidebar-toggle-btn js-sidebar-build-toggle js-sidebar-build-toggle-header",attrs:{id:"toggleSidebar"},on:{click:t.onClickSidebarButton}},[n("i",{staticClass:"fa fa-angle-double-left",attrs:{"aria-hidden":"true","aria-labelledby":"toggleSidebar"}})]):t._e()],1)},[],!1,null,null,null);u.options.__file="header_ci_component.vue";e.a=u.exports},41:function(t,e,n){"use strict";var i=n(0),o=n.n(i);e.a={bind:function(t){o()(t).tooltip({trigger:"hover"})},componentUpdated:function(t){o()(t).tooltip("_fixTitle");var e=o()(t).data("bs.tooltip"),n=e.getTipElement();e.setElementContent(o()(n.querySelectorAll(".tooltip-inner")),e.getTitle())},unbind:function(t){o()(t).tooltip("dispose")}}},50:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var i=1024,o="hidden"},805:function(t,e){t.exports='<svg width="12" height="16" viewBox="0 0 12 16" xmlns="http://www.w3.org/2000/svg">\n  <path class="first-triangle" d="M1.048 14.155a.508.508 0 0 0-.32.105c-.091.07-.136.154-.136.25v.71c0 .095.045.178.135.249.09.07.197.105.321.105h10.043c.124 0 .23-.035.321-.105.09-.07.136-.154.136-.25v-.71c0-.095-.045-.178-.136-.249a.508.508 0 0 0-.32-.105"/>\n  <path class="second-triangle" d="M.687 8.027c-.09-.087-.122-.16-.093-.22.028-.06.104-.09.228-.09h10.5c.123 0 .2.03.228.09.029.06-.002.133-.093.22L6.393 12.91a.458.458 0 0 1-.136.089h-.37a.626.626 0 0 1-.136-.09"/>\n  <path class="third-triangle" d="M.687 1.027C.597.94.565.867.594.807c.028-.06.104-.09.228-.09h10.5c.123 0 .2.03.228.09.029.06-.002.133-.093.22L6.393 5.91A.458.458 0 0 1 6.257 6h-.37a.626.626 0 0 1-.136-.09"/>\n</svg>\n'},93:function(t,e,n){"use strict";var i=n(10),o=n(84),r=(n(20),{directives:{GlTooltip:i.n},mixins:[o.a],props:{time:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""}}}),s=n(3),a=Object(s.a)(r,function(){var t=this.$createElement;return(this._self._c||t)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:this.tooltipPlacement},expression:"{ placement: tooltipPlacement }"}],class:this.cssClass,attrs:{title:this.tooltipTitle(this.time)},domProps:{textContent:this._s(this.timeFormated(this.time))}})},[],!1,null,null,null);a.options.__file="time_ago_tooltip.vue";e.a=a.exports}},[[1300,1,0,2,7]]]);
//# sourceMappingURL=pages.projects.jobs.show.4f86df16.chunk.js.map