(this.webpackJsonp=this.webpackJsonp||[]).push([[135,10],{115:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(0),a=i.n(n),s=i(12),o=i(51);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=t,this.namespacePath=i,this.projectPath=n,this.$dropdownBack=a()(".dropdown-menu-back",this.$el.closest(".dropdown")),this.$cancelButton=a()(".js-cancel-label-btn",this.$el),this.$newLabelField=a()("#new_label_name",this.$el),this.$newColorField=a()("#new_label_color",this.$el),this.$colorPreview=a()(".js-dropdown-label-color-preview",this.$el),this.$newLabelError=a()(".js-label-error",this.$el),this.$newLabelCreateButton=a()(".js-new-label-btn",this.$el),this.$colorSuggestions=a()(".suggest-colors-dropdown a",this.$el),this.$newLabelError.hide(),this.$newLabelCreateButton.disable(),this.cleanBinding(),this.addBinding()}var t,i,n;return t=e,(i=[{key:"cleanBinding",value:function(){this.$colorSuggestions.off("click"),this.$newLabelField.off("keyup change"),this.$newColorField.off("keyup change"),this.$dropdownBack.off("click"),this.$cancelButton.off("click"),this.$newLabelCreateButton.off("click")}},{key:"addBinding",value:function(){var e=this;this.$colorSuggestions.on("click",function(t){var i=a()(this);e.addColorValue(t,i)}),this.$newLabelField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$newColorField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$dropdownBack.on("click",this.resetForm.bind(this)),this.$cancelButton.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.resetForm(),e.$dropdownBack.trigger("click")}),this.$newLabelCreateButton.on("click",this.saveLabel.bind(this))}},{key:"addColorValue",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.$newColorField.val(t.data("color")).trigger("change"),this.$colorPreview.css("background-color",t.data("color")).parent().addClass("is-active")}},{key:"enableLabelCreateButton",value:function(){""!==this.$newLabelField.val()&&""!==this.$newColorField.val()?(this.$newLabelError.hide(),this.$newLabelCreateButton.enable()):this.$newLabelCreateButton.disable()}},{key:"resetForm",value:function(){this.$newLabelField.val("").trigger("change"),this.$newColorField.val("").trigger("change"),this.$colorPreview.css("background-color","").parent().removeClass("is-active")}},{key:"saveLabel",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),s.a.newLabel(this.namespacePath,this.projectPath,{title:this.$newLabelField.val(),color:this.$newColorField.val()},function(e){var i;(t.$newLabelCreateButton.enable(),e.message)?(i="string"==typeof e.message?e.message:Object.keys(e.message).map(function(t){return"".concat(Object(o.h)(t)," ").concat(e.message[t].join(", "))}).join("<br/>"),t.$newLabelError.html(i).show()):(t.$dropdownBack.trigger("click"),a()(document).trigger("created.label",e))})}}])&&r(t.prototype,i),n&&r(t,n),e}()},123:function(e,t,i){"use strict";i.d(t,"a",function(){return m});var n=i(0),a=i.n(n),s=i(5),o=i.n(s),r=i(1),l=i(6),c=i(80),d=i(115),u=i(7),h=i(48),f=i(21);function p(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m=function(){function e(t){var i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,n=a()(t),t||(n=a()(".js-label-select")),n.each(function(t,n){var c,p,m,g,b,v,y,w,_,k,C,j,S,D,T,O,L,E,x,I,P,A;A=(p=a()(n)).closest(".labels-filter"),p.find(".dropdown-toggle-text"),j=p.data("namespacePath"),S=p.data("projectPath"),k=p.data("issueUpdate"),null==(T=p.data("selected"))||p.hasClass("js-multiselect")||(T=T.split(",")),L=p.data("showNo"),O=p.data("showAny"),P=p.data("showMenuAbove"),_=p.data("defaultLabel")||Object(r.a)("Label"),w=p.data("abilityName"),c=(b=p.closest(".selectbox")).closest(".block"),m=p.closest("form, .js-issuable-update"),v=c.find(".sidebar-collapsed-icon span"),E=c.find(".js-sidebar-labels-tooltip"),y=c.find(".value"),g=c.find(".block-loading").fadeOut(),I=p.data("fieldName"),p.is(".js-issuable-form-dropdown, .js-filter-bulk-update, .js-label-sidebar-dropdown"),x=b.find('input[name="'+p.data("fieldName")+'"]').map(function(){return this.value}).get();var M=s.handleClick;E.tooltip(),p.closest(".dropdown").find(".dropdown-new-label").length&&new d.a(p.closest(".dropdown").find(".dropdown-new-label"),j,S),D=function(){var t,i;i=p.closest(".selectbox").find("input[name='"+I+"']").map(function(){return this.value}).get(),o.a.isEqual(x,i)||(x=i,(t={})[w]={},t[w].label_ids=i,i.length||(t[w].label_ids=[""]),g.removeClass("hidden").fadeIn(),p.trigger("loading.gl.dropdown"),l.a.put(k,t).then(function(t){var i,n,s,o,l=t.data;g.fadeOut(),p.trigger("loaded.gl.dropdown"),b.hide(),l.issueUpdateURL=k,i=0,l.labels.length&&k?(n=e.getLabelTemplate({labels:l.labels,issueUpdateURL:k}),i=l.labels.length):n='<span class="no-value">None</span>',y.removeAttr("style").html(n),v.text(i),l.labels.length?((o=l.labels.map(function(e){return e.title})).length>5&&(o=o.slice(0,5)).push("and "+(l.labels.length-5)+" more"),s=o.join(", ")):s=Object(r.a)("Labels"),E.attr("title",s).tooltip("_fixTitle"),a()(".has-tooltip",y).tooltip({container:"body"})}).catch(function(){return Object(u.a)(Object(r.a)("Error saving label update."))}))},p.glDropdown({showMenuAbove:P,data:function(e,t){C=p.attr("data-labels"),l.a.get(C).then(function(e){var i=e.data;if(p.hasClass("js-extra-options")){var n=[];L&&n.unshift({id:0,title:"No Label"}),O&&n.unshift({isAny:!0,title:"Any Label"}),n.length&&(n.push("divider"),i=n.concat(i))}t(i),P&&p.data("glDropdown").positionMenuAbove()}).catch(function(){return Object(u.a)(Object(r.a)("Error fetching labels."))})},renderRow:function(e,t){var i,n,s,r,l,c,d,u,h,f;return n=a()("<li>"),i=a()('<a href="#">'),c=[],l=e.id<=0||null==e.id,p.hasClass("js-filter-bulk-update")?(r=p.data("indeterminate")||[],u=p.data("marked")||[],-1!==r.indexOf(e.id)&&c.push("is-indeterminate"),-1!==u.indexOf(e.id)&&(-1!==(d=c.indexOf("is-indeterminate"))&&c.splice(d,1),c.push("is-active"))):(this.id(e)&&(h=p.data("fieldName"),f=this.id(e).toString().replace(/'/g,"\\'"),m.find("input[type='hidden'][name='"+h+"'][value='"+f+"']").length&&c.push("is-active")),p.hasClass("js-multiselect")&&l&&c.push("dropdown-clear-active")),s=e.color?"<span class='dropdown-label-box' style='background: "+e.color+"'></span>":"",e.id&&(c.push("label-item"),i.attr("data-label-id",e.id)),i.addClass(c.join(" ")).html("".concat(s," ").concat(o.a.escape(e.title))),n.html(i).prop("outerHTML")},search:{fields:["title"]},selectable:!0,filterable:!0,selected:p.data("selected")||[],toggleLabel:function(e,t){var i=p.parent(),n=i.find(".dropdown-input-field"),a=null!==t&&t.hasClass("is-active"),s=e?e.title:null,o=this.selected;if(n.length&&n.val().length&&i.find(".dropdown-input-clear").trigger("click"),e&&0===e.id)return this.selected=[],"No Label";if(a)this.selected.push(s);else if(!a&&s){var l=this.selected.indexOf(s);this.selected.splice(l,1)}return 1===o.length?o:o.length?Object(r.f)(Object(r.a)("%{firstLabel} +%{labelCount} more"),{firstLabel:o[0],labelCount:o.length-1}):_},fieldName:p.data("fieldName"),id:function(e){return e.id<=0?e.title:p.hasClass("js-issuable-form-dropdown")?e.id:p.hasClass("js-filter-submit")&&null==e.isAny?e.title:e.id},hidden:function(){var e,t,i;e="projects:issues:index"===(i=a()("body").attr("data-page")),t="projects:merge_requests:index"===i,b.hide(),y.removeAttr("style"),p.hasClass("js-issuable-form-dropdown")||a()("html").hasClass("issue-boards-page")||p.hasClass("js-multiselect")&&(p.hasClass("js-filter-submit")&&(e||t)?(p.closest("form").find("input:hidden[name='"+p.data("fieldName")+"']"),Issuable.filterResults(p.closest("form"))):p.hasClass("js-filter-submit")?p.closest("form").submit():p.hasClass("js-filter-bulk-update")||D())},multiSelect:p.hasClass("js-multiselect"),vue:p.hasClass("js-issue-board-sidebar"),clicked:function(e){var t,n,s,o,r=e.$el,l=e.e,c=e.isMarking,d=e.selectedObj,u=function(){g.fadeOut()};if(t="projects:issues:index"===(s=a()("body").attr("data-page")),n="projects:merge_requests:index"===s,p.parent().find(".is-active:not(.dropdown-clear-active)").length&&p.parent().find(".dropdown-clear-active").removeClass("is-active"),!p.hasClass("js-issuable-form-dropdown")){if(p.hasClass("js-filter-bulk-update"))return i.enableBulkLabelDropdown(),void i.setDropdownData(p,c,d.id);if(p.closest(".add-issues-modal").length&&(o=h.a.store.filter),o)return d.isAny?o.label_name=[]:r.hasClass("is-active")&&o.label_name.push(d.title),void l.preventDefault();if(p.hasClass("js-filter-submit")&&(t||n)){if(!p.hasClass("js-multiselect"))return T=d.title,Issuable.filterResults(p.closest("form"))}else{if(p.hasClass("js-filter-submit"))return p.closest("form").submit();if(p.hasClass("js-issue-board-sidebar")){if(r.hasClass("is-active"))f.c.detail.issue.labels.push(new ListLabel({id:d.id,title:d.title,color:d.color,textColor:"#fff"}));else{var m=f.c.detail.issue.labels;m=m.filter(function(e){return e.id!==d.id}),f.c.detail.issue.labels=m}g.fadeIn(),f.c.detail.issue.update(p.attr("data-issue-update")).then(u).catch(u)}else if(M)l.preventDefault(),M(d);else if(!p.hasClass("js-multiselect"))return D()}}},opened:function(e){if(p.hasClass("js-issue-board-sidebar")){var t=p.attr("data-selected");this.selected=t?t.split(","):[],p.data("glDropdown").updateLabel()}},preserveContext:!0}),i.setOriginalDropdownData(A,p)}),this.bindEvents()}var t,i,n;return t=e,n=[{key:"getLabelTemplate",value:function(e){return o.a.template(["<% _.each(labels, function(label){ %>",'<a href="<%- issueUpdateURL.slice(0, issueUpdateURL.lastIndexOf("/")) %>?label_name[]=<%- encodeURIComponent(label.title) %>">','<span class="badge label has-tooltip color-label" title="<%- label.description %>" style="background-color: <%- label.color %>; color: <%- label.text_color %>;">',"<%- label.title %>","</span>","</a>","<% }); %>"].join(""))(e)}}],(i=[{key:"bindEvents",value:function(){return a()("body").on("change",".selected-issuable",this.onSelectCheckboxIssue)}},{key:"onSelectCheckboxIssue",value:function(){if(!a()(".selected-issuable:checked").length)return a()(".issues-bulk-update .labels-filter .dropdown-toggle-text").text("Label")}},{key:"enableBulkLabelDropdown",value:function(){c.a.willUpdateLabels=!0}},{key:"setDropdownData",value:function(e,t,i){var n,a,s,o;a=e.data("marked")||[],s=e.data("unmarked")||[],o=e.data("indeterminate")||[],t?(a.push(i),(n=o.indexOf(i))>-1&&o.splice(n,1),(n=s.indexOf(i))>-1&&s.splice(n,1)):((n=a.indexOf(i))>-1&&a.splice(n,1),c.a.getOriginalIndeterminateIds().indexOf(i)>-1&&s.push(i),c.a.getOriginalCommonIds().indexOf(i)>-1&&s.push(i)),e.data("marked",a),e.data("unmarked",s),e.data("indeterminate",o)}},{key:"setOriginalDropdownData",value:function(e,t){var i=[];e.find('[name="label_name[]"]').map(function(){return i.push(this.value)}),t.data("marked",i)}}])&&p(t.prototype,i),n&&p(t,n),e}()},124:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n=i(0),a=i.n(n),s=i(5),o=i.n(s),r=i(1),l=(i(260),i(6)),c=i(20),d=i(48),u=i(21);function h(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==t&&(this.currentProject="string"==typeof t?JSON.parse(t):t),e.init(i,n)}var t,i,n;return t=e,n=[{key:"init",value:function(e,t){var i=a()(e);e||(i=a()(".js-milestone-select")),i.each(function(e,i){var n,s,h,f,p=a()(i),m=(p.data("projectId"),p.data("milestones")),g=p.data("issueUpdate"),b=p.data("showNo"),v=p.data("showAny"),y=p.data("showMenuAbove"),w=p.data("showUpcoming"),_=p.data("showStarted"),k=p.data("useId"),C=p.data("defaultLabel"),j=p.data("defaultNo"),S=(p.data("issuableId"),p.data("abilityName")),D=p.closest(".selectbox"),T=D.closest(".block"),O=T.find(".sidebar-collapsed-icon"),L=T.find(".value"),E=T.find(".block-loading").fadeOut();return f=v?"":null,f=b&&j?"No Milestone":f,h=p.data("selected")||f,g&&(s=o.a.template('<a href="<%- web_url %>" class="bold has-tooltip" data-container="body" title="<%- remaining %>"><%- title %></a>'),n='<span class="no-value">None</span>'),p.glDropdown({showMenuAbove:y,data:function(e,t){return l.a.get(m).then(function(e){var i=e.data,n=[];v&&n.push({id:null,name:null,title:"Any Milestone"}),b&&n.push({id:-1,name:"No Milestone",title:"No Milestone"}),w&&n.push({id:-2,name:"#upcoming",title:"Upcoming"}),_&&n.push({id:-3,name:"#started",title:"Started"}),n.length&&n.push("divider"),t(n.concat(i)),y&&p.data("glDropdown").positionMenuAbove(),a()('[data-milestone-id="'.concat(o.a.escape(h),'"] > a')).addClass("is-active")})},renderRow:function(e){return'\n          <li data-milestone-id="'.concat(o.a.escape(e.name),"\">\n            <a href='#' class='dropdown-menu-milestone-link'>\n              ").concat(o.a.escape(e.title),"\n            </a>\n          </li>\n        ")},filterable:!0,search:{fields:["title"]},selectable:!0,toggleLabel:function(e,t,i){return e&&"id"in e&&a()(t).hasClass("is-active")?e.title:C},defaultLabel:C,fieldName:p.data("fieldName"),text:function(e){return o.a.escape(e.title)},id:function(e){return k||p.is(".js-issuable-form-dropdown")?e.id:e.name},hidden:function(){return D.hide(),L.css("display","")},opened:function(e){var i=a()(e.currentTarget);(p.hasClass("js-issue-board-sidebar")||t.handleClick)&&(h=p[0].dataset.selected||f),a()("a.is-active",i).removeClass("is-active"),a()('[data-milestone-id="'.concat(o.a.escape(h),'"] > a'),i).addClass("is-active")},vue:p.hasClass("js-issue-board-sidebar"),clicked:function(e){e.$el;var i,o,m=e.e,b=e.selectedObj;if(b){if(t.handleClick)return m.preventDefault(),void t.handleClick(b);var v=a()("body").attr("data-page"),y="projects:issues:index"===v,w=v==v&&"projects:merge_requests:index"===v,_=b.name!==h;if(h=_?b.name:f,p.hasClass("js-filter-bulk-update")||p.hasClass("js-issuable-form-dropdown"))m.preventDefault();else if(p.closest(".add-issues-modal").length&&(o=d.a.store.filter),o)o[p.data("fieldName")]=b.name,m.preventDefault();else{if(p.hasClass("js-filter-submit")&&(y||w))return Issuable.filterResults(p.closest("form"));if(p.hasClass("js-filter-submit"))return p.closest("form").submit();if(!p.hasClass("js-issue-board-sidebar"))return b=D.find('input[type="hidden"]').val(),(i={})[S]={},i[S].milestone_id=null!=b?b:null,E.removeClass("hidden").fadeIn(),p.trigger("loading.gl.dropdown"),l.a.put(g,i).then(function(e){var t=e.data;return p.trigger("loaded.gl.dropdown"),E.fadeOut(),D.hide(),L.css("display",""),null!=t.milestone?(t.milestone.remaining=Object(c.n)(t.milestone.due_date),t.milestone.name=t.milestone.title,L.html(s(t.milestone)),O.attr("data-original-title","".concat(t.milestone.name,"<br />").concat(t.milestone.remaining)).find("span").text(t.milestone.title)):(L.html(n),O.attr("data-original-title",Object(r.a)("Milestone")).find("span").text(Object(r.a)("None")))}).catch(function(){E.fadeOut()});-1!==b.id&&_?Object(u.b)("milestone",new ListMilestone({id:b.id,title:b.name})):Object(u.a)("milestone"),p.trigger("loading.gl.dropdown"),E.removeClass("hidden").fadeIn(),u.c.detail.issue.update(p.attr("data-issue-update")).then(function(){p.trigger("loaded.gl.dropdown"),E.fadeOut()}).catch(function(){E.fadeOut()})}}}})})}}],(i=null)&&h(t.prototype,i),n&&h(t,n),e}();window.MilestoneSelect=f},126:function(e,t,i){"use strict";i.d(t,"a",function(){return b});var n=i(0),a=i.n(n),s=i(88),o=i.n(s),r=i(116),l=i.n(r),c=i(1),d=i(6),u=i(20),h=i(21);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,i){return t&&p(e.prototype,t),i&&p(e,i),e}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.$dropdown,n=t.$loading;f(this,e);var s=i.closest(".dropdown"),o=i.closest(".block");this.$loading=n,this.$dropdown=i,this.$dropdownParent=s,this.$datePicker=s.find(".js-due-date-calendar"),this.$block=o,this.$sidebarCollapsedValue=o.find(".sidebar-collapsed-icon"),this.$selectbox=i.closest(".selectbox"),this.$value=o.find(".value"),this.$valueContent=o.find(".value-content"),this.$sidebarValue=a()(".js-due-date-sidebar-value",o),this.fieldName=i.data("fieldName"),this.abilityName=i.data("abilityName"),this.issueUpdateURL=i.data("issueUpdate"),this.rawSelectedDate=null,this.displayedDate=null,this.datePayload=null,this.initGlDropdown(),this.initRemoveDueDate(),this.initDatePicker()}return m(e,[{key:"initGlDropdown",value:function(){var e=this;this.$dropdown.glDropdown({opened:function(){e.$datePicker.data("pikaday").show()},hidden:function(){e.$selectbox.hide(),e.$value.css("display","")}})}},{key:"initDatePicker",value:function(){var e=this,t=a()("input[name='".concat(this.fieldName,"']")),i=new o.a({field:t.get(0),theme:"gitlab-theme",format:"yyyy-mm-dd",parse:function(e){return Object(u.j)(e)},toString:function(e){return Object(u.l)(e)},onSelect:function(n){t.val(i.toString(n)),e.$dropdown.hasClass("js-issue-boards-due-date")?(h.c.detail.issue.dueDate=t.val(),e.updateIssueBoardIssue()):e.saveDueDate(!0)}});i.setDate(Object(u.j)(t.val())),this.$datePicker.append(i.el),this.$datePicker.data("pikaday",i)}},{key:"initRemoveDueDate",value:function(){var e=this;this.$block.on("click",".js-remove-due-date",function(t){var i=e.$datePicker.data("pikaday");t.preventDefault(),i.setDate(null),e.$dropdown.hasClass("js-issue-boards-due-date")?(h.c.detail.issue.dueDate="",e.updateIssueBoardIssue()):(a()("input[name='".concat(e.fieldName,"']")).val(""),e.saveDueDate(!1))})}},{key:"saveDueDate",value:function(e){this.parseSelectedDate(),this.prepSelectedDate(),this.submitSelectedDate(e)}},{key:"parseSelectedDate",value:function(){if(this.rawSelectedDate=a()("input[name='".concat(this.fieldName,"']")).val(),this.rawSelectedDate.length){var e=this.rawSelectedDate.split("-").map(function(e){return parseInt(e,10)}),t=new Date(e[0],e[1]-1,e[2]);this.displayedDate=l()(t,"mmm d, yyyy")}else this.displayedDate="No due date"}},{key:"prepSelectedDate",value:function(){var e={};e[this.abilityName]={},e[this.abilityName].due_date=this.rawSelectedDate,this.datePayload=e}},{key:"updateIssueBoardIssue",value:function(){var e=this;this.$loading.fadeIn(),this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide(),this.$value.css("display","");var t=function(){e.$loading.fadeOut()};h.c.detail.issue.update(this.$dropdown.attr("data-issue-update")).then(t).catch(t)}},{key:"submitSelectedDate",value:function(e){var t=this,i=this.datePayload[this.abilityName].due_date,n="No due date"!==this.displayedDate,s=n?"bold":"no-value";return this.$loading.removeClass("hidden").fadeIn(),e&&(this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide()),this.$value.css("display",""),this.$valueContent.html("<span class='".concat(s,"'>").concat(this.displayedDate,"</span>")),this.$sidebarValue.html(this.displayedDate),a()(".js-remove-due-date-holder").toggleClass("hidden",i.length),d.a.put(this.issueUpdateURL,this.datePayload).then(function(){var a=n?"".concat(Object(c.a)("Due date"),"<br />").concat(i," (").concat(Object(u.n)(i),")"):Object(c.a)("Due date");return e&&(t.$dropdown.trigger("loaded.gl.dropdown"),t.$dropdown.dropdown("toggle")),t.$sidebarCollapsedValue.attr("data-original-title",a),t.$loading.fadeOut()})}}]),e}(),b=function(){function e(){f(this,e),this.initMilestoneDatePicker(),this.initIssuableSelect()}return m(e,[{key:"initMilestoneDatePicker",value:function(){a()(".datepicker").each(function(){var e=a()(this),t=e.val(),i=new o.a({field:e.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",container:e.parent().get(0),parse:function(e){return Object(u.j)(e)},toString:function(e){return Object(u.l)(e)},onSelect:function(t){e.val(i.toString(t))}});i.setDate(Object(u.j)(t)),e.data("pikaday",i)}),a()(".js-clear-due-date,.js-clear-start-date").on("click",function(e){e.preventDefault(),a()(e.target).siblings(".datepicker").data("pikaday").setDate(null)})}},{key:"initIssuableSelect",value:function(){var e=a()(".js-issuable-update .due_date").find(".block-loading").hide();a()(".js-due-date-select").each(function(t,i){var n=a()(i);new g({$dropdown:n,$loading:e})})}}]),e}()},1308:function(e,t,i){i(42),i(44),e.exports=i(1411)},1411:function(e,t,i){"use strict";i.r(t);var n=i(366),a=i(0),s=i.n(a),o=i(11),r=i(7),l=i(363),c=i(14),d=i.n(c);!function(e){e.mergeConflicts=e.mergeConflicts||{};var t=d.a.get("diff_view"),i="parallel",n="text",a="text-editor";e.mergeConflicts.mergeConflictsStore={state:{isLoading:!0,hasError:!1,isSubmitting:!1,isParallel:t===i,diffViewType:t,conflictsData:{}},setConflictsData:function(e){this.decorateFiles(e.files),this.state.conflictsData={files:e.files,commitMessage:e.commit_message,sourceBranch:e.source_branch,targetBranch:e.target_branch,shortCommitSha:e.commit_sha.slice(0,7)}},decorateFiles:function(e){var t=this;e.forEach(function(e){e.content="",e.resolutionData={},e.promptDiscardConfirmation=!1,e.resolveMode="interactive",e.filePath=t.getFilePath(e),e.iconClass="fa-".concat(e.blob_icon),e.blobPath=e.blob_path,e.type===n?(e.showEditor=!1,e.loadEditor=!1,t.setInlineLine(e),t.setParallelLine(e)):e.type===a&&(e.showEditor=!0,e.loadEditor=!0)})},setInlineLine:function(e){var t=this;e.inlineLines=[],e.sections.forEach(function(i){var n="new",a=i.conflict,s=i.lines,o=i.id;a&&e.inlineLines.push(t.getHeadHeaderLine(o)),s.forEach(function(i){var s=i.type;"new"!==s&&"old"!==s||n===s||(n=s,e.inlineLines.push({lineType:"emptyLine",richText:""})),t.decorateLineForInlineView(i,o,a),e.inlineLines.push(i)}),a&&e.inlineLines.push(t.getOriginHeaderLine(o))})},setParallelLine:function(e){var t=this;e.parallelLines=[];var i={left:[],right:[]};e.sections.forEach(function(e){var n=e.conflict,a=e.lines,s=e.id;n&&(i.left.push(t.getOriginHeaderLine(s)),i.right.push(t.getHeadHeaderLine(s))),a.forEach(function(e){var a=e.type;if(n)"old"===a?i.left.push(t.getLineForParallelView(e,s,"conflict")):"new"===a&&i.right.push(t.getLineForParallelView(e,s,"conflict",!0));else{var o=a||"context";i.left.push(t.getLineForParallelView(e,s,o)),i.right.push(t.getLineForParallelView(e,s,o,!0))}}),t.checkLineLengths(i)});for(var n=0,a=i.left.length;n<a;n+=1)e.parallelLines.push([i.right[n],i.left[n]])},setLoadingState:function(e){this.state.isLoading=e},setErrorState:function(e){this.state.hasError=e},setFailedRequest:function(e){this.state.hasError=!0,this.state.conflictsData.errorMessage=e},getConflictsCount:function(){if(!this.state.conflictsData.files.length)return 0;var e=0;return this.state.conflictsData.files.forEach(function(t){t.type===n?t.sections.forEach(function(t){t.conflict&&(e+=1)}):e+=1}),e},getConflictsCountText:function(){var e=this.getConflictsCount(),t=e>1?"conflicts":"conflict";return"".concat(e," ").concat(t)},setViewType:function(e){this.state.diffView=e,this.state.isParallel=e===i,d.a.set("diff_view",e)},getHeadHeaderLine:function(e){return{id:e,richText:"HEAD//our changes",buttonTitle:"Use ours",type:"new",section:"head",isHeader:!0,isHead:!0,isSelected:!1,isUnselected:!1}},decorateLineForInlineView:function(e,t,i){var n=e.type;e.id=t,e.hasConflict=i,e.isHead="new"===n,e.isOrigin="old"===n,e.hasMatch="match"===n,e.richText=e.rich_text,e.isSelected=!1,e.isUnselected=!1},getLineForParallelView:function(e,t,i,n){var a=e.old_line,s=e.new_line,o=e.rich_text,r="conflict"===i;return{id:t,lineType:i,hasConflict:r,isHead:r&&n,isOrigin:r&&!n,hasMatch:"match"===i,lineNumber:n?s:a,section:n?"head":"origin",richText:o,isSelected:!1,isUnselected:!1}},getOriginHeaderLine:function(e){return{id:e,richText:"origin//their changes",buttonTitle:"Use theirs",type:"old",section:"origin",isHeader:!0,isOrigin:!0,isSelected:!1,isUnselected:!1}},getFilePath:function(e){var t=e.old_path,i=e.new_path;return t===i?i:"".concat(t," â†’ ").concat(i)},checkLineLengths:function(e){var t=e.left,i=e.right;if(t.length!==i.length)if(t.length>i.length)for(var n=t.length-i.length,a=0;a<n;a+=1)i.push({lineType:"emptyLine",richText:""});else for(var s=i.length-t.length,o=0;o<s;o+=1)t.push({lineType:"emptyLine",richText:""})},setPromptConfirmationState:function(e,t){e.promptDiscardConfirmation=t},setFileResolveMode:function(e,t){"interactive"===t?e.showEditor=!1:"edit"===t&&(e.showEditor=!0,e.loadEditor=!0,e.resolutionData={},this.restoreFileLinesState(e)),e.resolveMode=t},restoreFileLinesState:function(e){e.inlineLines.forEach(function(e){(e.hasConflict||e.isHeader)&&(e.isSelected=!1,e.isUnselected=!1)}),e.parallelLines.forEach(function(e){var t=e[0],i=e[1],n=t.hasConflict||t.isHeader,a=i.hasConflict||i.isHeader;(n||a)&&(t.isSelected=!1,t.isUnselected=!1,i.isSelected=!1,i.isUnselected=!1)})},isReadyToCommit:function(){for(var e=this.state.conflictsData.files,t=s.a.trim(this.state.conflictsData.commitMessage).length,i=0,a=0,o=e.length;a<o;a+=1){var r=e[a];if("interactive"===r.resolveMode){var l=0,c=Object.keys(r.resolutionData).length;if(r.type===n){for(var d=0,u=r.sections.length;d<u;d+=1)r.sections[d].conflict&&(l+=1);c!==l&&(i+=1)}}else if("edit"===r.resolveMode&&!r.content){i+=1;continue}}return!this.state.isSubmitting&&t&&!i},getCommitButtonText:function(){var e="Commit to source branch";return this.state&&this.state.isSubmitting?"Committing...":e},getCommitData:function(){var e={};return e={commit_message:this.state.conflictsData.commitMessage,files:[]},this.state.conflictsData.files.forEach(function(t){var i={old_path:t.old_path,new_path:t.new_path};t.type===n?"interactive"===t.resolveMode?i.sections=t.resolutionData:"edit"===t.resolveMode&&(i.content=t.content):t.type===a&&(i.content=t.content),e.files.push(i)}),e},handleSelected:function(e,t,i){var n=this;o.default.set(e.resolutionData,t,i),e.inlineLines.forEach(function(e){e.id===t&&(e.hasConflict||e.isHeader)&&n.markLine(e,i)}),e.parallelLines.forEach(function(e){var a=e[0],s=e[1],o=s.id===t||a.id===t,r=a.hasConflict||a.isHeader,l=s.hasConflict||s.isHeader;o&&(r||l)&&(n.markLine(a,i),n.markLine(s,i))})},markLine:function(e,t){"head"===t&&e.isHead?(e.isSelected=!0,e.isUnselected=!1):"origin"===t&&e.isOrigin?(e.isSelected=!0,e.isUnselected=!1):(e.isSelected=!1,e.isUnselected=!0)},setSubmitState:function(e){this.state.isSubmitting=e},fileTextTypePresent:function(){return this.state.conflictsData.files.some(function(e){return e.type===n})}}}(window.gl||(window.gl={}));var u=i(6);function h(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f,p,m,g,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.conflictsPath=t.conflictsPath,this.resolveConflictsPath=t.resolveConflictsPath}var t,i,n;return t=e,(i=[{key:"fetchConflictsData",value:function(){return u.a.get(this.conflictsPath)}},{key:"submitResolveConflicts",value:function(e){return u.a.post(this.resolveConflictsPath,e)}}])&&h(t.prototype,i),n&&h(t,n),e}(),v=i(1),y=i(188);(f=window.gl||(window.gl={})).mergeConflicts=f.mergeConflicts||{},f.mergeConflicts.diffFileEditor=o.default.extend({props:{file:{type:Object,required:!0},onCancelDiscardConfirmation:{type:Function,required:!0},onAcceptDiscardConfirmation:{type:Function,required:!0}},data:function(){return{saved:!1,loading:!1,fileLoaded:!1,originalContent:""}},computed:{classObject:function(){return{saved:this.saved,"is-loading":this.loading}}},watch:(p={},m="file.showEditor",g=function(e){this.resetEditorContent(),!e||this.fileLoaded||this.loading||this.loadEditor()},m in p?Object.defineProperty(p,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[m]=g,p),mounted:function(){this.file.loadEditor&&this.loadEditor()},methods:{loadEditor:function(){var e=this;this.loading=!0,u.a.get(this.file.content_path).then(function(t){var i=t.data,n=e.$el.querySelector("pre"),a=document.createTextNode(i.content);n.textContent=a.textContent,e.originalContent=i.content,e.fileLoaded=!0,e.editor=ace.edit(n),e.editor.$blockScrolling=1/0,e.editor.getSession().setMode(Object(y.a)(i.new_path)),e.editor.on("change",function(){e.saveDiffResolution()}),e.saveDiffResolution(),e.loading=!1}).catch(function(){Object(r.a)(Object(v.a)("An error occurred while loading the file")),e.loading=!1})},saveDiffResolution:function(){this.saved=!0,this.file.content=this.editor.getValue(),this.file.resolveEditChanged=this.file.content!==this.originalContent,this.file.promptDiscardConfirmation=!1},resetEditorContent:function(){this.fileLoaded&&this.editor.setValue(this.originalContent,-1)},cancelDiscardConfirmation:function(e){this.onCancelDiscardConfirmation(e)},acceptDiscardConfirmation:function(e){this.onAcceptDiscardConfirmation(e)}}});var w={methods:{handleSelected:function(e,t,i){gl.mergeConflicts.mergeConflictsStore.handleSelected(e,t,i)}}},_={methods:{lineCssClass:function(e){return{head:e.isHead,origin:e.isOrigin,match:e.hasMatch,selected:e.isSelected,unselected:e.isUnselected}}}};!function(e){e.mergeConflicts=e.mergeConflicts||{},e.mergeConflicts.inlineConflictLines=o.default.extend({mixins:[_,w],props:{file:{type:Object,required:!0}}})}(window.gl||(window.gl={})),function(e){e.mergeConflicts=e.mergeConflicts||{},e.mergeConflicts.parallelConflictLines=o.default.extend({mixins:[_,w],props:{file:{type:Object,required:!0}},template:'\n      <table>\n        <tr class="line_holder parallel" v-for="section in file.parallelLines">\n          <template v-for="line in section">\n            <td class="diff-line-num header" :class="lineCssClass(line)" v-if="line.isHeader"></td>\n            <td class="line_content header" :class="lineCssClass(line)" v-if="line.isHeader">\n              <strong>{{line.richText}}</strong>\n              <button class="btn" @click="handleSelected(file, line.id, line.section)">{{line.buttonTitle}}</button>\n            </td>\n            <td class="diff-line-num old_line" :class="lineCssClass(line)" v-if="!line.isHeader">{{line.lineNumber}}</td>\n            <td class="line_content parallel" :class="lineCssClass(line)" v-if="!line.isHeader" v-html="line.richText"></td>\n          </template>\n        </tr>\n      </table>\n    '})}(window.gl||(window.gl={}));var k=i(140);document.addEventListener("DOMContentLoaded",function(){var e,t,i;Object(n.a)(),e=document.querySelector("#conflicts"),t=gl.mergeConflicts.mergeConflictsStore,i=new b({conflictsPath:e.dataset.conflictsPath,resolveConflictsPath:e.dataset.resolveConflictsPath}),Object(l.a)(),gl.MergeConflictsResolverApp=new o.default({el:"#conflicts",components:{"diff-file-editor":gl.mergeConflicts.diffFileEditor,"inline-conflict-lines":gl.mergeConflicts.inlineConflictLines,"parallel-conflict-lines":gl.mergeConflicts.parallelConflictLines},data:t.state,computed:{conflictsCountText:function(){return t.getConflictsCountText()},readyToCommit:function(){return t.isReadyToCommit()},commitButtonText:function(){return t.getCommitButtonText()},showDiffViewTypeSwitcher:function(){return t.fileTextTypePresent()}},created:function(){var e=this;i.fetchConflictsData().then(function(i){var n=i.data;"error"===n.type?t.setFailedRequest(n.message):t.setConflictsData(n),t.setLoadingState(!1),e.$nextTick(function(){Object(k.a)(s()(".js-syntax-highlight"))})}).catch(function(){t.setLoadingState(!1),t.setFailedRequest()})},methods:{handleViewTypeChange:function(e){t.setViewType(e)},onClickResolveModeButton:function(e,i){"interactive"===i&&e.resolveEditChanged?t.setPromptConfirmationState(e,!0):t.setFileResolveMode(e,i)},acceptDiscardConfirmation:function(e){t.setPromptConfirmationState(e,!1),t.setFileResolveMode(e,"interactive")},cancelDiscardConfirmation:function(e){t.setPromptConfirmationState(e,!1)},commit:function(){t.setSubmitState(!0),i.submitResolveConflicts(t.getCommitData()).then(function(e){var t=e.data;window.location.href=t.redirect_to}).catch(function(){t.setSubmitState(!1),Object(r.a)("Failed to save merge conflicts resolutions. Please try again!")})}}})})},159:function(e,t,i){"use strict";var n=i(0),a=i.n(n),s=i(5),o=i.n(s),r=i(14),l=i.n(r),c=i(7),d=i(6),u=i(1);function h(e){this.toggleTodo=this.toggleTodo.bind(this),this.sidebar=a()("aside"),this.removeListeners(),this.addEventListeners()}h.initialize=function(e){this.instance||(this.instance=new h(e))},h.prototype.removeListeners=function(){this.sidebar.off("click",".sidebar-collapsed-icon"),this.sidebar.off("hidden.gl.dropdown"),a()(".dropdown").off("loading.gl.dropdown"),a()(".dropdown").off("loaded.gl.dropdown"),a()(document).off("click",".js-sidebar-toggle")},h.prototype.addEventListeners=function(){var e=a()(document);return this.sidebar.on("click",".sidebar-collapsed-icon",this,this.sidebarCollapseClicked),this.sidebar.on("hidden.gl.dropdown",this,this.onSidebarDropdownHidden),a()(".dropdown").on("loading.gl.dropdown",this.sidebarDropdownLoading),a()(".dropdown").on("loaded.gl.dropdown",this.sidebarDropdownLoaded),e.on("click",".js-sidebar-toggle",this.sidebarToggleClicked),a()(document).off("click",".js-issuable-todo").on("click",".js-issuable-todo",this.toggleTodo)},h.prototype.sidebarToggleClicked=function(e,t){var i,n,s,o;e.preventDefault(),o=(s=(n=a()(this)).find("i").hasClass("fa-angle-double-right"))?Object(u.a)("Expand sidebar"):Object(u.a)("Collapse sidebar"),i=a()(".js-sidebar-toggle i"),s?(i.removeClass("fa-angle-double-right").addClass("fa-angle-double-left"),a()("aside.right-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed"),a()(".layout-page").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed")):(i.removeClass("fa-angle-double-left").addClass("fa-angle-double-right"),a()("aside.right-sidebar").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),a()(".layout-page").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded")),n.attr("data-original-title",o),t||l.a.set("collapsed_gutter",a()(".right-sidebar").hasClass("right-sidebar-collapsed"))},h.prototype.toggleTodo=function(e){var t,i,n,s=this;t=a()(e.currentTarget),i=t.data("deletePath")?"delete":"post",n=t.data("deletePath")?""+t.data("deletePath"):""+t.data("createPath"),t.tooltip("hide"),a()(".js-issuable-todo").disable().addClass("is-loading"),d.a[i](n,{issuable_id:t.data("issuableId"),issuable_type:t.data("issuableType")}).then(function(e){var t=e.data;s.todoUpdateDone(t)}).catch(function(){return Object(c.a)("There was an error ".concat("post"===i?"adding a":"deleting the"," todo."))})},h.prototype.todoUpdateDone=function(e){var t=e.delete_path?e.delete_path:null,i=t?"mark":"todo",n=a()(".js-issuable-todo");a()(document).trigger("todo:toggle",e.count),n.each(function(e,n){var s=a()(n),o=s.find(".js-issuable-todo-inner");s.removeClass("is-loading").enable().attr("aria-label",s.data("".concat(i,"Text"))).attr("title",s.data("".concat(i,"Text"))).data("deletePath",t),s.hasClass("has-tooltip")&&s.tooltip("_fixTitle"),void 0!==s.data("isCollapsed")?o.html(s.data("".concat(i,"Icon"))):o.text(s.data("".concat(i,"Text")))})},h.prototype.sidebarDropdownLoading=function(e){var t,i,n,s;return s=(i=a()(this).closest(".block").find(".sidebar-collapsed-icon")).find("img"),n=i.find("i"),t=a()('<i class="fa fa-spinner fa-spin"></i>'),s.length?(s.before(t),s.hide()):n.length?(n.before(t),n.hide()):void 0},h.prototype.sidebarDropdownLoaded=function(e){var t,i,n;return n=(t=a()(this).closest(".block").find(".sidebar-collapsed-icon")).find("img"),t.find("i.fa-spin").remove(),i=t.find("i"),n.length?n.show():i.show()},h.prototype.sidebarCollapseClicked=function(e){var t,i;if(!a()(e.currentTarget).hasClass("dont-change-state"))return i=e.data,e.preventDefault(),t=a()(this).closest(".block"),i.openDropdown(t)},h.prototype.openDropdown=function(e){var t;t=o.a.isString(e)?this.getBlock(e):e,this.isOpen()||(this.setCollapseAfterUpdate(t),this.toggleSidebar("open")),setTimeout(function(){t.find(".js-sidebar-dropdown-toggle").trigger("click")})},h.prototype.setCollapseAfterUpdate=function(e){return e.addClass("collapse-after-update"),a()(".layout-page").addClass("with-overlay")},h.prototype.onSidebarDropdownHidden=function(e){var t,i;return i=e.data,e.preventDefault(),t=a()(e.target).closest(".block"),i.sidebarDropdownHidden(t)},h.prototype.sidebarDropdownHidden=function(e){if(e.hasClass("collapse-after-update"))return e.removeClass("collapse-after-update"),a()(".layout-page").removeClass("with-overlay"),this.toggleSidebar("hide")},h.prototype.triggerOpenSidebar=function(){return this.sidebar.find(".js-sidebar-toggle").trigger("click")},h.prototype.toggleSidebar=function(e){if(null==e&&(e="toggle"),"toggle"===e&&this.triggerOpenSidebar(),"open"===e&&(this.isOpen()||this.triggerOpenSidebar()),"hide"===e&&this.isOpen())return this.triggerOpenSidebar()},h.prototype.isOpen=function(){return this.sidebar.is(".right-sidebar-expanded")},h.prototype.getBlock=function(e){return this.sidebar.find(".block."+e)},t.a=h},164:function(e,t,i){"use strict";var n=i(10),a=i(1),s=i(15),o=Object(a.e)("ToggleButton|Toggle Status: ON"),r=Object(a.e)("ToggleButton|Toggle Status: OFF"),l={components:{icon:s.a,GlLoadingIcon:n.e},model:{prop:"value",event:"change"},props:{name:{type:String,required:!1,default:null},value:{type:Boolean,required:!1,default:null},disabledInput:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1}},computed:{toggleIcon:function(){return this.value?"status_success_borderless":"status_failed_borderless"},ariaLabel:function(){return this.value?o:r}},methods:{toggleFeature:function(){this.disabledInput||this.$emit("change",!this.value)}}},c=i(3),d=Object(c.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"toggle-wrapper"},[e.name?i("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.value}}):e._e(),e._v(" "),i("button",{staticClass:"project-feature-toggle",class:{"is-checked":e.value,"is-disabled":e.disabledInput,"is-loading":e.isLoading},attrs:{"aria-label":e.ariaLabel,type:"button"},on:{click:e.toggleFeature}},[i("gl-loading-icon",{staticClass:"loading-icon"}),e._v(" "),i("span",{staticClass:"toggle-icon"},[i("icon",{attrs:{name:e.toggleIcon,"css-classes":"toggle-icon-svg"}})],1)],1)])},[],!1,null,null,null);d.options.__file="toggle_button.vue";t.a=d.exports},188:function(e,t,i){"use strict";function n(e){return ace.require("ace/ext/modelist").getModeForPath(e).mode}i.d(t,"a",function(){return n})},203:function(e,t,i){"use strict";t.a={props:{issuableType:{required:!0,type:String}},computed:{issuableDisplayName:function(){return this.issuableType.replace(/_/g," ")}}}},21:function(e,t,i){"use strict";i.d(t,"b",function(){return h}),i.d(t,"a",function(){return f});var n=i(0),a=i.n(n),s=i(5),o=i.n(s),r=i(11),l=i(14),c=i.n(l),d=i(13),u={disabled:!1,filter:{path:""},state:{},detail:{issue:{}},moving:{issue:{},list:{}},create:function(){this.state.lists=[],this.filter.path=Object(d.l)().join("&"),this.detail={issue:{}}},addList:function(e,t){var i=new List(e,t);return this.state.lists.push(i),i},new:function(e){var t=this,i=this.addList(e),n=this.findList("type","backlog","backlog");i.save().then(function(){i.issues.forEach(n.removeIssue.bind(n)),t.state.lists=o.a.sortBy(t.state.lists,"position")}).catch(function(){}),this.removeBlankState()},updateNewListDropdown:function(e){a()(".js-board-list-".concat(e)).removeClass("is-active")},shouldAddBlankState:function(){return!this.state.lists.filter(function(e){return"backlog"!==e.type&&"closed"!==e.type})[0]},addBlankState:function(){!this.shouldAddBlankState()||this.welcomeIsHidden()||this.disabled||(this.addList({id:"blank",list_type:"blank",title:"Welcome to your Issue Board!",position:0}),this.state.lists=o.a.sortBy(this.state.lists,"position"))},removeBlankState:function(){this.removeList("blank"),c.a.set("issue_board_welcome_hidden","true",{expires:3650,path:""})},welcomeIsHidden:function(){return Object(d.A)(c.a.get("issue_board_welcome_hidden"))},removeList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank";this.findList("id",e,t)&&(this.state.lists=this.state.lists.filter(function(t){return t.id!==e}))},moveList:function(e,t){var i=this;t.forEach(function(e,t){i.findList("id",parseInt(e,10)).position=t}),e.update()},moveIssueToList:function(e,t,i,n){var a=t.findIssue(i.id),s=i.getLists(),o=s.map(function(e){return e.label});if(a)t.updateIssueLabel(i,e),a.removeLabel(e.label);else if("assignee"===t.type&&"assignee"===e.type&&i.findAssignee(t.assignee))t.findIssue(i.id).removeAssignee(e.assignee);else if("milestone"===t.type){var r=i.milestone,l=this.state.lists.filter(function(e){return"milestone"===e.type&&e.id!==t.id}).filter(function(e){return e.issues.some(function(e){return i.id===e.id})});i.removeMilestone(r),i.addMilestone(t.milestone),l.forEach(function(e){return e.removeIssue(i)}),t.addIssue(i,e,n)}else t.addIssue(i,e,n);"closed"===t.type&&"backlog"!==e.type?(s.forEach(function(e){e.removeIssue(i)}),i.removeLabels(o)):"backlog"===t.type&&"assignee"===e.type?(i.removeAssignee(e.assignee),e.removeIssue(i)):"backlog"===t.type&&"milestone"===e.type?(i.removeMilestone(e.milestone),e.removeIssue(i)):this.shouldRemoveIssue(e,t)&&e.removeIssue(i)},shouldRemoveIssue:function(e,t){return"label"!==t.type&&"assignee"===e.type||"assignee"!==t.type&&"label"===e.type||"backlog"===e.type},moveIssueInList:function(e,t,i,n,a){var s=parseInt(a[n-1],10)||null,o=parseInt(a[n+1],10)||null;e.moveIssue(t,i,n,s,o)},findList:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";return this.state.lists.filter(function(n){var a=!i||(n.type===i||"assignee"===n.type||"milestone"===n.type);return n[e]===t&&a})[0]},findListByLabelId:function(e){return this.state.lists.find(function(t){return"label"===t.type&&t.label.id===e})},updateFiltersUrl:function(){window.history.pushState(null,null,"?".concat(this.filter.path))}};function h(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.default.set.apply(r.default,[u.detail.issue].concat(t))}function f(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.default.delete.apply(r.default,[u.detail.issue].concat(t))}t.c=u},238:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),a=i.n(n),s=i(14),o=i.n(s),r=i(101),l=i(105);var c=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userSelect=new l.a(t),a()("select.select2").select2({width:"resolve",dropdownAutoWidth:!0}),a()(".issuable-sidebar .inline-update").on("change","select",function(){return a()(this).submit()}),a()(".issuable-sidebar .inline-update").on("change",".js-assignee",function(){return a()(this).submit()}),a()(document).off("click",".issuable-sidebar .dropdown-content a").on("click",".issuable-sidebar .dropdown-content a",function(e){return e.preventDefault()}),a()(document).off("click",".edit-link").on("click",".edit-link",function(e){e.preventDefault();var t=a()(this).parents(".block"),i=t.find(".selectbox");i.is(":visible")?(i.hide(),t.find(".value:not(.dont-hide)").show()):(i.show(),t.find(".value:not(.dont-hide)").hide()),i.is(":visible")&&setTimeout(function(){return t.find(".dropdown-menu-toggle").trigger("click")},0)}),window.addEventListener("beforeunload",function(){var e=r.a.getBreakpointSize();"xs"!==e&&"sm"!==e||o.a.set("collapsed_gutter",!0)})}},241:function(e,t,i){"use strict";var n={name:"AssigneeTitle",props:{loading:{type:Boolean,required:!1,default:!1},numberOfAssignees:{type:Number,required:!0},editable:{type:Boolean,required:!0},showToggle:{type:Boolean,required:!1,default:!1}},computed:{assigneeTitle:function(){var e=this.numberOfAssignees;return e>1?"".concat(e," Assignees"):"Assignee"}}},a=i(3),s=Object(a.a)(n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title hide-collapsed"},[e._v("\n  "+e._s(e.assigneeTitle)+"\n  "),e.loading?i("i",{staticClass:"fa fa-spinner fa-spin block-loading",attrs:{"aria-hidden":"true"}}):e._e(),e._v(" "),e.editable?i("a",{staticClass:"js-sidebar-dropdown-toggle edit-link float-right",attrs:{href:"#"}},[e._v("\n    "+e._s(e.__("Edit"))+"\n  ")]):e._e(),e._v(" "),e.showToggle?i("a",{staticClass:"gutter-toggle float-right js-sidebar-toggle",attrs:{"aria-label":"Toggle sidebar",href:"#",role:"button"}},[i("i",{staticClass:"fa fa-angle-double-right",attrs:{"aria-hidden":"true","data-hidden":"true"}})]):e._e()])},[],!1,null,null,null);s.options.__file="assignee_title.vue";t.a=s.exports},245:function(e,t,i){"use strict";var n=i(1),a=i(15),s=i(164),o=i(41),r=i(57),l=Object(n.a)("Notifications on"),c=Object(n.a)("Notifications off"),d={directives:{tooltip:o.a},components:{icon:a.a,toggleButton:s.a},props:{loading:{type:Boolean,required:!1,default:!1},subscribed:{type:Boolean,required:!1,default:null},id:{type:Number,required:!1,default:null}},computed:{showLoadingState:function(){return null===this.subscribed},notificationIcon:function(){return this.subscribed?"notifications":"notifications-off"},notificationTooltip:function(){return this.subscribed?l:c}},methods:{toggleSubscription:function(){r.a.$emit("toggleSubscription",this.id),this.$emit("toggleSubscription",this.id)},onClickCollapsedIcon:function(){this.$emit("toggleSidebar")}}},u=i(3),h=Object(u.a)(d,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"sidebar-collapsed-icon",on:{click:e.onClickCollapsedIcon}},[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:e.notificationTooltip,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[i("icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.notificationIcon,size:16,"aria-hidden":"true"}})],1)]),e._v(" "),i("span",{staticClass:"issuable-header-text hide-collapsed float-left"},[e._v(" "+e._s(e.__("Notifications"))+" ")]),e._v(" "),i("toggle-button",{ref:"toggleButton",staticClass:"float-right hide-collapsed js-issuable-subscribe-button",attrs:{"is-loading":e.showLoadingState,value:e.subscribed},on:{change:e.toggleSubscription}})],1)},[],!1,null,null,null);h.options.__file="subscriptions.vue";t.a=h.exports},246:function(e,t,i){"use strict";var n=i(1),a={name:"Assignees",directives:{tooltip:i(41).a},props:{rootPath:{type:String,required:!0},users:{type:Array,required:!0},editable:{type:Boolean,required:!0},issuableType:{type:String,require:!0,default:"issue"}},data:function(){return{defaultRenderCount:5,defaultMaxCounter:99,showLess:!0}},computed:{firstUser:function(){return this.users[0]},hasMoreThanTwoAssignees:function(){return this.users.length>2},hasMoreThanOneAssignee:function(){return this.users.length>1},hasAssignees:function(){return this.users.length>0},hasNoUsers:function(){return!this.users.length},hasOneUser:function(){return 1===this.users.length},renderShowMoreSection:function(){return this.users.length>this.defaultRenderCount},numberOfHiddenAssignees:function(){return this.users.length-this.defaultRenderCount},isHiddenAssignees:function(){return this.numberOfHiddenAssignees>0},hiddenAssigneesLabel:function(){return"+ ".concat(this.numberOfHiddenAssignees," more")},collapsedTooltipTitle:function(){var e=Math.min(this.defaultRenderCount,this.users.length),t=this.users.slice(0,e).map(function(e){return e.name});if(this.users.length>e&&t.push("+ ".concat(this.users.length-e," more")),!this.users.length){var i="issue"===this.issuableType?Object(n.a)("Assignee(s)"):Object(n.a)("Assignee");t.push(i)}return t.join(", ")},sidebarAvatarCounter:function(){var e="+".concat(this.users.length-1);return this.users.length>this.defaultMaxCounter&&(e="".concat(this.defaultMaxCounter,"+")),e}},methods:{assignSelf:function(){this.$emit("assign-self")},toggleShowLess:function(){this.showLess=!this.showLess},renderAssignee:function(e){return!this.showLess||e<this.defaultRenderCount&&this.showLess},avatarUrl:function(e){return e.avatar||e.avatar_url||gon.default_avatar_url},assigneeUrl:function(e){return"".concat(this.rootPath).concat(e.username)},assigneeAlt:function(e){return"".concat(e.name,"'s avatar")},assigneeUsername:function(e){return"@".concat(e.username)},shouldRenderCollapsedAssignee:function(e){var t=this.users.length<=2&&e<=2;return 0===e||t}}},s=i(3),o=Object(s.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-user",class:{"multiple-users":e.hasMoreThanOneAssignee},attrs:{title:e.collapsedTooltipTitle,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[e.hasNoUsers?i("i",{staticClass:"fa fa-user",attrs:{"aria-label":"No Assignee"}}):e._e(),e._v(" "),e._l(e.users,function(t,n){return e.shouldRenderCollapsedAssignee(n)?i("button",{key:t.id,staticClass:"btn-link",attrs:{type:"button"}},[i("img",{staticClass:"avatar avatar-inline s24",attrs:{alt:e.assigneeAlt(t),src:e.avatarUrl(t),width:"24"}}),e._v(" "),i("span",{staticClass:"author"},[e._v(" "+e._s(t.name)+" ")])]):e._e()}),e._v(" "),e.hasMoreThanTwoAssignees?i("button",{staticClass:"btn-link",attrs:{type:"button"}},[i("span",{staticClass:"avatar-counter sidebar-avatar-counter"},[e._v(" "+e._s(e.sidebarAvatarCounter)+" ")])]):e._e()],2),e._v(" "),i("div",{staticClass:"value hide-collapsed"},[e.hasNoUsers?[i("span",{staticClass:"assign-yourself no-value"},[e._v("\n        No assignee\n        "),e.editable?[e._v("\n          - "),i("button",{staticClass:"btn-link",attrs:{type:"button"},on:{click:e.assignSelf}},[e._v("assign yourself")])]:e._e()],2)]:e.hasOneUser?[i("a",{staticClass:"author-link bold",attrs:{href:e.assigneeUrl(e.firstUser)}},[i("img",{staticClass:"avatar avatar-inline s32",attrs:{alt:e.assigneeAlt(e.firstUser),src:e.avatarUrl(e.firstUser),width:"32"}}),e._v(" "),i("span",{staticClass:"author"},[e._v(" "+e._s(e.firstUser.name)+" ")]),e._v(" "),i("span",{staticClass:"username"},[e._v(" "+e._s(e.assigneeUsername(e.firstUser))+" ")])])]:[i("div",{staticClass:"user-list"},e._l(e.users,function(t,n){return e.renderAssignee(n)?i("div",{key:t.id,staticClass:"user-item"},[i("a",{staticClass:"user-link has-tooltip",attrs:{href:e.assigneeUrl(t),"data-title":t.name,"data-container":"body","data-placement":"bottom"}},[i("img",{staticClass:"avatar avatar-inline s32",attrs:{alt:e.assigneeAlt(t),src:e.avatarUrl(t),width:"32"}})])]):e._e()}),0),e._v(" "),e.renderShowMoreSection?i("div",{staticClass:"user-list-more"},[i("button",{staticClass:"btn-link",attrs:{type:"button"},on:{click:e.toggleShowLess}},[e.showLess?[e._v("\n            "+e._s(e.hiddenAssigneesLabel)+"\n          ")]:[e._v("\n            - show less\n          ")]],2)]):e._e()]],2)])},[],!1,null,null,null);o.options.__file="assignees.vue";t.a=o.exports},27:function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(2),a=i.n(n),s=i(4),o=i(43);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=l(this,c(t).call(this)),a.a.bind("g p",function(){return Object(s.a)(".shortcuts-project")}),a.a.bind("g v",function(){return Object(s.a)(".shortcuts-project-activity")}),a.a.bind("g r",function(){return Object(s.a)(".shortcuts-project-releases")}),a.a.bind("g f",function(){return Object(s.a)(".shortcuts-tree")}),a.a.bind("g c",function(){return Object(s.a)(".shortcuts-commits")}),a.a.bind("g j",function(){return Object(s.a)(".shortcuts-builds")}),a.a.bind("g n",function(){return Object(s.a)(".shortcuts-network")}),a.a.bind("g d",function(){return Object(s.a)(".shortcuts-repository-charts")}),a.a.bind("g i",function(){return Object(s.a)(".shortcuts-issues")}),a.a.bind("g b",function(){return Object(s.a)(".shortcuts-issue-boards")}),a.a.bind("g m",function(){return Object(s.a)(".shortcuts-merge_requests")}),a.a.bind("g w",function(){return Object(s.a)(".shortcuts-wiki")}),a.a.bind("g s",function(){return Object(s.a)(".shortcuts-snippets")}),a.a.bind("g k",function(){return Object(s.a)(".shortcuts-kubernetes")}),a.a.bind("g e",function(){return Object(s.a)(".shortcuts-environments")}),a.a.bind("g l",function(){return Object(s.a)(".shortcuts-metrics")}),a.a.bind("i",function(){return Object(s.a)(".shortcuts-new-issue")}),e.enabledHelp.push(".hidden-shortcut.project"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o["a"]),t}()},28:function(e,t,i){"use strict";var n=i(0),a=i.n(n),s=i(12),o=i(31);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=a()(t),this.newItemBtn=a()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,i,n;return t=e,(i=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",function(t){return e.openDropdown(t)}),this.newItemBtn.on("click",function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))}),this.projectSelectInput.on("change",function(){return e.selectProject()})}},{key:"initLocalStorage",value:function(){o.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){a()(e.currentTarget).siblings(".project-item-select").select2("open")}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&r(t.prototype,i),n&&r(t,n),e}();function c(){a()(".ajax-project-select").each(function(e,t){var i,n,o=a()(t).data("simpleFilter")||!1;return this.groupId=a()(t).data("groupId"),this.includeGroups=a()(t).data("includeGroups"),this.allProjects=a()(t).data("allProjects")||!1,this.orderBy=a()(t).data("orderBy")||"id",this.withIssuesEnabled=a()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=a()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===a()(t).data("withShared")||a()(t).data("withShared"),this.includeProjectsInSubgroups=a()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=a()(t).data("allowClear")||!1,i="Search for project",this.includeGroups&&(i+=" or group"),a()(t).select2({placeholder:i,minimumInputLength:0,query:(n=this,function(e){var t,i;return t=function(t){var i;return i={results:t},e.callback(i)},i=n.includeGroups?function(i){var n;return n=function(e){var n;return n=e.concat(i),t(n)},s.a.groups(e.term,{},n)}:t,n.groupId?s.a.groupProjects(n.groupId,e.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups},i):s.a.projects(e.term,{order_by:n.orderBy,with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,membership:!n.allProjects},i)}),id:function(e){return o?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return s.a.project(e.val()).then(function(e){var i=e.data;return t(i)})},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),o?t:new l(t)})}i.d(t,"a",function(){return c})},29:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n=i(0),a=i.n(n),s=i(14),o=i.n(s),r=i(1),l=i(19),c=i(6),d=i(7),u=i(28);function h(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=a()("ul.clone-options-dropdown"),i=a()("#project_clone"),n=a()(".js-git-clone-holder .js-clone-dropdown-label"),s=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),r=n.text().trim();r.length>0&&a()("a:contains('".concat(r,"')"),t).addClass("is-active"),a()("a",t).on("click",function(e){e.preventDefault();var n=a()(e.currentTarget),o=n.attr("href"),r=n.data("cloneType");a()(".is-active",t).removeClass("is-active"),a()('a[data-clone-type="'.concat(r,'"]')).each(function(){var e=a()(this),t=e.find(".dropdown-menu-inner-title").text(),i=e.closest(".project-clone-holder").find(".js-clone-dropdown-label");e.toggleClass("is-active"),i.text(t)}),s?s.dataset.clipboardText=o:i.val(o),a()(".js-git-empty .js-clone").text(o)}),e.initRefSwitcher(),a()(".project-refs-select").on("change",function(){return a()(this).parents("form").submit()}),a()(".hide-no-ssh-message").on("click",function(e){return o.a.set("hide_no_ssh_message","false"),a()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()}),a()(".hide-no-password-message").on("click",function(e){return o.a.set("hide_no_password_message","false"),a()(this).parents(".no-password-message").remove(),e.preventDefault()}),a()(".hide-auto-devops-implicitly-enabled-banner").on("click",function(e){var t=a()(this).data("project-id"),i="hide_auto_devops_implicitly_enabled_banner_".concat(t);return o.a.set(i,"false"),a()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()}),e.projectSelectDropdown()}var t,i,n;return t=e,n=[{key:"projectSelectDropdown",value:function(){Object(u.a)(),a()(".project-item-select").on("click",function(t){return e.changeProject(a()(t.currentTarget).val())})}},{key:"changeProject",value:function(e){return window.location=e}},{key:"initRefSwitcher",value:function(){var e=document.createElement("li"),t=document.createElement("a");return t.href="#",a()(".js-project-refs-dropdown").each(function(){var i,n;return i=a()(this),n=i.data("selected"),i.glDropdown({data:function(e,t){c.a.get(i.data("refsUrl"),{params:{ref:i.data("ref"),search:e}}).then(function(e){var i=e.data;return t(i)}).catch(function(){return Object(d.a)(Object(r.a)("An error occurred while getting projects"))})},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:i.data("inputFieldName"),fieldName:i.data("fieldName"),renderRow:function(i){var a=e.cloneNode(!1);if(null!=i.header)a.className="dropdown-header",a.textContent=i.header;else{var s=t.cloneNode(!1);i===n&&(s.className="is-active"),s.textContent=i,s.dataset.ref=i,a.appendChild(s)}return a},id:function(e,t){return t.attr("data-ref")},toggleLabel:function(e,t){return t.text().trim()},clicked:function(e){if(e.e.preventDefault(),a()('input[name="ref"]').length){var t=i.closest("form"),n=i.data("visit"),s=!!n||n,o=t.attr("action"),r=-1===o.indexOf("?")?"?":"&";s&&Object(l.g)("".concat(o).concat(r).concat(t.serialize()))}}})})}}],(i=null)&&h(t.prototype,i),n&&h(t,n),e}()},299:function(e,t,i){"use strict";var n=i(1),a={name:"TimeTrackingHelpState",props:{rootPath:{type:String,required:!0}},computed:{href:function(){return"".concat(this.rootPath,"help/workflow/time_tracking.md")},estimateText:function(){return Object(n.f)(Object(n.e)("estimateCommand|%{slash_command} will update the estimated time with the latest command."),{slash_command:"<code>/estimate</code>"},!1)},spendText:function(){return Object(n.f)(Object(n.e)("spendCommand|%{slash_command} will update the sum of the time spent."),{slash_command:"<code>/spend</code>"},!1)}}},s=i(3),o=Object(s.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"time-tracking-help-state"},[i("div",{staticClass:"time-tracking-info"},[i("h4",[e._v(e._s(e.__("Track time with quick actions")))]),e._v(" "),i("p",[e._v(e._s(e.__("Quick actions can be used in the issues description and comment boxes.")))]),e._v(" "),i("p",{domProps:{innerHTML:e._s(e.estimateText)}}),e._v(" "),i("p",{domProps:{innerHTML:e._s(e.spendText)}}),e._v(" "),i("a",{staticClass:"btn btn-default learn-more-button",attrs:{href:e.href}},[e._v(" "+e._s(e.__("Learn more"))+" ")])])])},[],!1,null,null,null);o.options.__file="help_state.vue";var r=o.exports,l=i(20),c=i(15),d=i(41),u={name:"TimeTrackingCollapsedState",components:{icon:c.a},directives:{tooltip:d.a},props:{showComparisonState:{type:Boolean,required:!0},showSpentOnlyState:{type:Boolean,required:!0},showEstimateOnlyState:{type:Boolean,required:!0},showNoTimeTrackingState:{type:Boolean,required:!0},timeSpentHumanReadable:{type:String,required:!1,default:""},timeEstimateHumanReadable:{type:String,required:!1,default:""}},computed:{timeSpent:function(){return this.abbreviateTime(this.timeSpentHumanReadable)},timeEstimate:function(){return this.abbreviateTime(this.timeEstimateHumanReadable)},divClass:function(){return this.showComparisonState?"compare":this.showEstimateOnlyState?"estimate-only":this.showSpentOnlyState?"spend-only":this.showNoTimeTrackingState?"no-tracking":""},spanClass:function(){return this.showComparisonState?"":this.showEstimateOnlyState||this.showSpentOnlyState?"bold":this.showNoTimeTrackingState?"no-value":""},text:function(){return this.showComparisonState?"".concat(this.timeSpent," / ").concat(this.timeEstimate):this.showEstimateOnlyState?"-- / ".concat(this.timeEstimate):this.showSpentOnlyState?"".concat(this.timeSpent," / --"):this.showNoTimeTrackingState?"None":""},timeTrackedTooltipText:function(){var e;return this.showComparisonState?e=Object(n.a)("Time remaining"):this.showEstimateOnlyState?e=Object(n.a)("Estimated"):this.showSpentOnlyState&&(e=Object(n.a)("Time spent")),Object(n.f)("%{title}: %{text}",{title:e,text:this.text})},tooltipText:function(){return this.showNoTimeTrackingState?Object(n.a)("Time tracking"):this.timeTrackedTooltipText}},methods:{abbreviateTime:function(e){return Object(l.a)(e)}}},h=Object(s.a)(u,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:this.tooltipText,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[t("icon",{attrs:{name:"timer"}}),this._v(" "),t("div",{staticClass:"time-tracking-collapsed-summary"},[t("div",{class:this.divClass},[t("span",{class:this.spanClass},[this._v(" "+this._s(this.text)+" ")])])])],1)},[],!1,null,null,null);h.options.__file="collapsed_state.vue";var f=h.exports,p={name:"TimeTrackingSpentOnlyPane",props:{timeSpentHumanReadable:{type:String,required:!0}}},m=Object(s.a)(p,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"time-tracking-spend-only-pane"},[t("span",{staticClass:"bold"},[this._v("Spent:")]),this._v(" "+this._s(this.timeSpentHumanReadable)+"\n")])},[],!1,null,null,null);m.options.__file="spent_only_pane.vue";var g=m.exports,b={name:"TimeTrackingNoTrackingPane"},v=Object(s.a)(b,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"time-tracking-no-tracking-pane"},[t("span",{staticClass:"no-value"},[this._v(" "+this._s(this.__("No estimate or time spent"))+" ")])])},[],!1,null,null,null);v.options.__file="no_tracking_pane.vue";var y=v.exports,w={name:"TimeTrackingEstimateOnlyPane",props:{timeEstimateHumanReadable:{type:String,required:!0}}},_=Object(s.a)(w,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"time-tracking-estimate-only-pane"},[t("span",{staticClass:"bold"},[this._v(" "+this._s(this.s__("TimeTracking|Estimated:"))+" ")]),this._v(" "+this._s(this.timeEstimateHumanReadable)+"\n")])},[],!1,null,null,null);_.options.__file="estimate_only_pane.vue";var k=_.exports,C={name:"TimeTrackingComparisonPane",components:{GlProgressBar:i(10).j},directives:{tooltip:d.a},props:{timeSpent:{type:Number,required:!0},timeEstimate:{type:Number,required:!0},timeSpentHumanReadable:{type:String,required:!0},timeEstimateHumanReadable:{type:String,required:!0}},computed:{parsedTimeRemaining:function(){var e=this.timeEstimate-this.timeSpent;return Object(l.k)(e)},timeRemainingHumanReadable:function(){return Object(l.m)(this.parsedTimeRemaining)},timeRemainingTooltip:function(){var e=this.timeRemainingMinutes<0?"Over by":"Time remaining:";return"".concat(e," ").concat(this.timeRemainingHumanReadable)},timeRemainingMinutes:function(){return this.timeEstimate-this.timeSpent},timeRemainingPercent:function(){return Math.floor(this.timeSpent/this.timeEstimate*100)},timeRemainingStatusClass:function(){return this.timeEstimate>=this.timeSpent?"within_estimate":"over_estimate"},progressBarVariant:function(){return this.timeRemainingPercent>100?"danger":"primary"}}},j=Object(s.a)(C,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"time-tracking-comparison-pane"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"compare-meter",class:e.timeRemainingStatusClass,attrs:{title:e.timeRemainingTooltip,"data-toggle":"tooltip","data-placement":"top",role:"timeRemainingDisplay"}},[i("gl-progress-bar",{attrs:{value:e.timeRemainingPercent,variant:e.progressBarVariant}}),e._v(" "),i("div",{staticClass:"compare-display-container"},[i("div",{staticClass:"compare-display float-left"},[i("span",{staticClass:"compare-label"},[e._v(" "+e._s(e.s__("TimeTracking|Spent"))+" ")]),e._v(" "),i("span",{staticClass:"compare-value spent"},[e._v(" "+e._s(e.timeSpentHumanReadable)+" ")])]),e._v(" "),i("div",{staticClass:"compare-display estimated float-right"},[i("span",{staticClass:"compare-label"},[e._v(" "+e._s(e.s__("TimeTrackingEstimated|Est"))+" ")]),e._v(" "),i("span",{staticClass:"compare-value"},[e._v(" "+e._s(e.timeEstimateHumanReadable)+" ")])])])],1)])},[],!1,null,null,null);j.options.__file="comparison_pane.vue";var S=j.exports,D=i(57),T={name:"IssuableTimeTracker",components:{TimeTrackingCollapsedState:f,TimeTrackingEstimateOnlyPane:k,TimeTrackingSpentOnlyPane:g,TimeTrackingNoTrackingPane:y,TimeTrackingComparisonPane:S,TimeTrackingHelpState:r},props:{timeEstimate:{type:Number,required:!0},timeSpent:{type:Number,required:!0},humanTimeEstimate:{type:String,required:!1,default:""},humanTimeSpent:{type:String,required:!1,default:""},rootPath:{type:String,required:!0}},data:function(){return{showHelp:!1}},computed:{hasTimeSpent:function(){return!!this.timeSpent},hasTimeEstimate:function(){return!!this.timeEstimate},showComparisonState:function(){return this.hasTimeEstimate&&this.hasTimeSpent},showEstimateOnlyState:function(){return this.hasTimeEstimate&&!this.hasTimeSpent},showSpentOnlyState:function(){return this.hasTimeSpent&&!this.hasTimeEstimate},showNoTimeTrackingState:function(){return!this.hasTimeEstimate&&!this.hasTimeSpent},showHelpState:function(){return!!this.showHelp}},created:function(){D.a.$on("timeTracker:updateData",this.update)},methods:{toggleHelpState:function(e){this.showHelp=e},update:function(e){var t=e.timeEstimate,i=e.timeSpent,n=e.humanTimeEstimate,a=e.humanTimeSpent;this.timeEstimate=t,this.timeSpent=i,this.humanTimeEstimate=n,this.humanTimeSpent=a}}},O=Object(s.a)(T,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"time_tracker time-tracking-component-wrap"},[i("time-tracking-collapsed-state",{attrs:{"show-comparison-state":e.showComparisonState,"show-no-time-tracking-state":e.showNoTimeTrackingState,"show-help-state":e.showHelpState,"show-spent-only-state":e.showSpentOnlyState,"show-estimate-only-state":e.showEstimateOnlyState,"time-spent-human-readable":e.humanTimeSpent,"time-estimate-human-readable":e.humanTimeEstimate}}),e._v(" "),i("div",{staticClass:"title hide-collapsed"},[e._v("\n    "+e._s(e.__("Time tracking"))+"\n    "),e.showHelpState?e._e():i("div",{staticClass:"help-button float-right",on:{click:function(t){e.toggleHelpState(!0)}}},[i("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true"}})]),e._v(" "),e.showHelpState?i("div",{staticClass:"close-help-button float-right",on:{click:function(t){e.toggleHelpState(!1)}}},[i("i",{staticClass:"fa fa-close",attrs:{"aria-hidden":"true"}})]):e._e()]),e._v(" "),i("div",{staticClass:"time-tracking-content hide-collapsed"},[e.showEstimateOnlyState?i("time-tracking-estimate-only-pane",{attrs:{"time-estimate-human-readable":e.humanTimeEstimate}}):e._e(),e._v(" "),e.showSpentOnlyState?i("time-tracking-spent-only-pane",{attrs:{"time-spent-human-readable":e.humanTimeSpent}}):e._e(),e._v(" "),e.showNoTimeTrackingState?i("time-tracking-no-tracking-pane"):e._e(),e._v(" "),e.showComparisonState?i("time-tracking-comparison-pane",{attrs:{"time-estimate":e.timeEstimate,"time-spent":e.timeSpent,"time-spent-human-readable":e.humanTimeSpent,"time-estimate-human-readable":e.humanTimeEstimate}}):e._e(),e._v(" "),i("transition",{attrs:{name:"help-state-toggle"}},[e.showHelpState?i("time-tracking-help-state",{attrs:{"root-path":e.rootPath}}):e._e()],1)],1)],1)},[],!1,null,null,null);O.options.__file="time_tracker.vue";t.a=O.exports},355:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),a=i.n(n);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cfg={callback:t.callback,startingInterval:t.startingInterval,maxInterval:t.maxInterval,hiddenInterval:t.hiddenInterval,incrementByFactorOf:t.incrementByFactorOf,lazyStart:t.lazyStart,immediateExecution:t.immediateExecution},this.state={intervalId:null,currentInterval:this.cfg.startingInterval,pageVisibility:"visible"},this.initInterval()}var t,i,n;return t=e,(i=[{key:"start",value:function(){var e=this,t=this.cfg,i=this.state;t.immediateExecution&&!this.isLoading&&(t.immediateExecution=!1,this.triggerCallback()),i.intervalId=window.setInterval(function(){e.isLoading||(e.triggerCallback(),e.getCurrentInterval()!==t.maxInterval&&(e.incrementInterval(),e.resume()))},this.getCurrentInterval())}},{key:"cancel",value:function(){this.setCurrentInterval(this.cfg.startingInterval),this.stopTimer()}},{key:"onVisibilityHidden",value:function(){this.cfg.hiddenInterval?(this.setCurrentInterval(this.cfg.hiddenInterval),this.resume()):this.cancel()}},{key:"resume",value:function(){this.stopTimer(),this.start()}},{key:"onVisibilityVisible",value:function(){this.cancel(),this.start()}},{key:"destroy",value:function(){this.cancel(),document.removeEventListener("visibilitychange",this.handleVisibilityChange),a()(document).off("visibilitychange").off("beforeunload")}},{key:"initInterval",value:function(){this.cfg.lazyStart||this.start(),this.initVisibilityChangeHandling(),this.initPageUnloadHandling()}},{key:"triggerCallback",value:function(){var e=this;this.isLoading=!0,this.cfg.callback().then(function(){e.isLoading=!1}).catch(function(t){throw e.isLoading=!1,t})}},{key:"initVisibilityChangeHandling",value:function(){document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this))}},{key:"initPageUnloadHandling",value:function(){var e=this;a()(document).on("beforeunload",function(){return e.cancel()})}},{key:"handleVisibilityChange",value:function(e){this.state.pageVisibility=e.target.visibilityState,(this.isPageVisible()?this.onVisibilityVisible:this.onVisibilityHidden).apply(this)}},{key:"getCurrentInterval",value:function(){return this.state.currentInterval}},{key:"setCurrentInterval",value:function(e){this.state.currentInterval=e}},{key:"incrementInterval",value:function(){var e=this.cfg,t=this.getCurrentInterval();if(!e.hiddenInterval||this.isPageVisible()){var i=t*e.incrementByFactorOf;i>e.maxInterval&&(i=e.maxInterval),this.setCurrentInterval(i)}}},{key:"isPageVisible",value:function(){return"visible"===this.state.pageVisibility}},{key:"stopTimer",value:function(){var e=this.state;e.intervalId=window.clearInterval(e.intervalId)}}])&&s(t.prototype,i),n&&s(t,n),e}()},363:function(e,t,i){"use strict";var n=i(124),a=i(123),s=i(238),o=i(159),r=i(126);t.a=function(){var e=JSON.parse(document.querySelector(".js-sidebar-options").innerHTML);new n.a({full_path:e.fullPath}),new a.a,new s.a(e.currentUser),new r.a,o.a.initialize()}},366:function(e,t,i){"use strict";var n=i(19),a=i(7),s=i(11),o=i(275);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}s.default.use(o.a);var l=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.singleton||(this.endpoint=t.endpoint,this.toggleSubscriptionEndpoint=t.toggleSubscriptionEndpoint,this.moveIssueEndpoint=t.moveIssueEndpoint,this.projectsAutocompleteEndpoint=t.projectsAutocompleteEndpoint,e.singleton=this),e.singleton}var t,i,n;return t=e,(i=[{key:"get",value:function(){return s.default.http.get(this.endpoint)}},{key:"update",value:function(e,t){return s.default.http.put(this.endpoint,function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},e,t),{emulateJSON:!0})}},{key:"getProjectsAutocomplete",value:function(e){return s.default.http.get(this.projectsAutocompleteEndpoint,{params:{search:e}})}},{key:"toggleSubscription",value:function(){return s.default.http.post(this.toggleSubscriptionEndpoint)}},{key:"moveIssue",value:function(e){return s.default.http.post(this.moveIssueEndpoint,{move_to_project_id:e})}}])&&r(t.prototype,i),n&&r(t,n),e}();function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.singleton||this.initSingleton(t),e.singleton}var t,i,n;return t=e,(i=[{key:"initSingleton",value:function(t){var i=t.currentUser,n=t.rootPath,a=t.editable;this.currentUser=i,this.rootPath=n,this.editable=a,this.timeEstimate=0,this.totalTimeSpent=0,this.humanTimeEstimate="",this.humanTimeSpent="",this.assignees=[],this.isFetching={assignees:!0,participants:!0,subscriptions:!0},this.isLoading={},this.autocompleteProjects=[],this.moveToProjectId=0,this.isLockDialogOpen=!1,this.participants=[],this.subscribed=null,e.singleton=this}},{key:"setAssigneeData",value:function(e){this.isFetching.assignees=!1,e.assignees&&(this.assignees=e.assignees)}},{key:"setTimeTrackingData",value:function(e){this.timeEstimate=e.time_estimate,this.totalTimeSpent=e.total_time_spent,this.humanTimeEstimate=e.human_time_estimate,this.humanTotalTimeSpent=e.human_total_time_spent}},{key:"setParticipantsData",value:function(e){this.isFetching.participants=!1,this.participants=e.participants||[]}},{key:"setSubscriptionsData",value:function(e){this.isFetching.subscriptions=!1,this.subscribed=e.subscribed||!1}},{key:"setFetchingState",value:function(e,t){this.isFetching[e]=t}},{key:"setLoadingState",value:function(e,t){this.isLoading[e]=t}},{key:"addAssignee",value:function(e){this.findAssignee(e)||this.assignees.push(e)}},{key:"findAssignee",value:function(e){return this.assignees.find(function(t){return t.id===e.id})}},{key:"removeAssignee",value:function(e){e&&(this.assignees=this.assignees.filter(function(t){return t.id!==e.id}))}},{key:"removeAllAssignees",value:function(){this.assignees=[]}},{key:"setAutocompleteProjects",value:function(e){this.autocompleteProjects=e}},{key:"setSubscribedState",value:function(e){this.subscribed=e}},{key:"setMoveToProjectId",value:function(e){this.moveToProjectId=e}}])&&c(t.prototype,i),n&&c(t,n),e}();function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var h=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.singleton||this.initSingleton(t),e.singleton}var t,i,s;return t=e,(i=[{key:"initSingleton",value:function(t){this.store=new d(t),this.service=new l({endpoint:t.endpoint,toggleSubscriptionEndpoint:t.toggleSubscriptionEndpoint,moveIssueEndpoint:t.moveIssueEndpoint,projectsAutocompleteEndpoint:t.projectsAutocompleteEndpoint}),e.singleton=this}},{key:"assignYourself",value:function(){this.store.addAssignee(this.store.currentUser)}},{key:"saveAssignees",value:function(e){var t=this.store.assignees.map(function(e){return e.id});return this.service.update(e,0===t.length?[0]:t)}},{key:"setMoveToProjectId",value:function(e){this.store.setMoveToProjectId(e)}},{key:"fetch",value:function(){var e=this;return this.service.get().then(function(e){return e.json()}).then(function(t){e.processFetchedData(t)}).catch(function(){return new a.a("Error occurred when fetching sidebar data")})}},{key:"processFetchedData",value:function(e){this.store.setAssigneeData(e),this.store.setTimeTrackingData(e),this.store.setParticipantsData(e),this.store.setSubscriptionsData(e)}},{key:"toggleSubscription",value:function(){var e=this;return this.store.setFetchingState("subscriptions",!0),this.service.toggleSubscription().then(function(){e.store.setSubscribedState(!e.store.subscribed),e.store.setFetchingState("subscriptions",!1)}).catch(function(t){throw e.store.setFetchingState("subscriptions",!1),t})}},{key:"fetchAutocompleteProjects",value:function(e){var t=this;return this.service.getProjectsAutocomplete(e).then(function(e){return e.json()}).then(function(e){return t.store.setAutocompleteProjects(e),t.store.autocompleteProjects})}},{key:"moveIssue",value:function(){return this.service.moveIssue(this.store.moveToProjectId).then(function(e){return e.json()}).then(function(e){window.location.pathname!==e.web_url&&Object(n.g)(e.web_url)})}}])&&u(t.prototype,i),s&&u(t,s),e}(),f=i(0),p=i.n(f),m=i(5),g=i.n(m),b=(i(355),i(299)),v=i(57),y={components:{IssuableTimeTracker:b.a},data:function(){return{mediator:new h,store:new d}},mounted:function(){this.listenForQuickActions()},methods:{listenForQuickActions:function(){var e=this;p()(document).on("ajax:success",".gfm-form",this.quickActionListened),v.a.$on("timeTrackingUpdated",function(t){e.quickActionListened(null,t)})},quickActionListened:function(e,t){var i;(i=void 0!==t&&t.commands_changes?Object.keys(t.commands_changes):[])&&g.a.intersection(["spend_time","time_estimate"],i).length&&this.mediator.fetch()}}},w=i(3),_=Object(w.a)(y,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block"},[t("issuable-time-tracker",{attrs:{"time-estimate":this.store.timeEstimate,"time-spent":this.store.totalTimeSpent,"human-time-estimate":this.store.humanTimeEstimate,"human-time-spent":this.store.humanTotalTimeSpent,"root-path":this.store.rootPath}})],1)},[],!1,null,null,null);_.options.__file="sidebar_time_tracking.vue";var k=_.exports,C=i(241),j=i(246),S={name:"SidebarAssignees",components:{AssigneeTitle:C.a,Assignees:j.a},props:{mediator:{type:Object,required:!0},field:{type:String,required:!0},signedIn:{type:Boolean,required:!1,default:!1},issuableType:{type:String,require:!0,default:"issue"}},data:function(){return{store:new d,loading:!1}},created:function(){this.removeAssignee=this.store.removeAssignee.bind(this.store),this.addAssignee=this.store.addAssignee.bind(this.store),this.removeAllAssignees=this.store.removeAllAssignees.bind(this.store),v.a.$on("sidebar.removeAssignee",this.removeAssignee),v.a.$on("sidebar.addAssignee",this.addAssignee),v.a.$on("sidebar.removeAllAssignees",this.removeAllAssignees),v.a.$on("sidebar.saveAssignees",this.saveAssignees)},beforeDestroy:function(){v.a.$off("sidebar.removeAssignee",this.removeAssignee),v.a.$off("sidebar.addAssignee",this.addAssignee),v.a.$off("sidebar.removeAllAssignees",this.removeAllAssignees),v.a.$off("sidebar.saveAssignees",this.saveAssignees)},methods:{assignSelf:function(){this.$el.parentElement.dispatchEvent(new Event("assignYourself")),this.mediator.assignYourself(),this.saveAssignees()},saveAssignees:function(){function e(){this.loading=!1}this.loading=!0,this.mediator.saveAssignees(this.field).then(e.bind(this)).catch(function(){return e(),new a.a("Error occurred when saving assignees")})}}},D=Object(w.a)(S,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("assignee-title",{attrs:{"number-of-assignees":e.store.assignees.length,loading:e.loading||e.store.isFetching.assignees,editable:e.store.editable,"show-toggle":!e.signedIn}}),e._v(" "),e.store.isFetching.assignees?e._e():i("assignees",{staticClass:"value",attrs:{"root-path":e.store.rootPath,users:e.store.assignees,editable:e.store.editable,"issuable-type":e.issuableType},on:{"assign-self":e.assignSelf}})],1)},[],!1,null,null,null);D.options.__file="sidebar_assignees.vue";var T=D.exports,O=i(1),L=i(41),E=i(15),x={props:{isConfidential:{required:!0,type:Boolean},updateConfidentialAttribute:{required:!0,type:Function}},computed:{toggleButtonText:function(){return this.isConfidential?"Turn Off":"Turn On"},updateConfidentialBool:function(){return!this.isConfidential}},methods:{closeForm:function(){v.a.$emit("closeConfidentialityForm"),p()(this.$el).trigger("hidden.gl.dropdown")},submitForm:function(){this.closeForm(),this.updateConfidentialAttribute(this.updateConfidentialBool)}}},I=Object(w.a)(x,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sidebar-item-warning-message-actions"},[i("button",{staticClass:"btn btn-default append-right-10",attrs:{type:"button"},on:{click:e.closeForm}},[e._v("\n    "+e._s(e.__("Cancel"))+"\n  ")]),e._v(" "),i("button",{staticClass:"btn btn-close",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n    "+e._s(e.toggleButtonText)+"\n  ")])])},[],!1,null,null,null);I.options.__file="edit_form_buttons.vue";var P={components:{editFormButtons:I.exports},props:{isConfidential:{required:!0,type:Boolean},updateConfidentialAttribute:{required:!0,type:Function}},computed:{confidentialityOnWarning:function(){return Object(O.e)("confidentiality|You are going to turn on the confidentiality. This means that only team members with <strong>at least Reporter access</strong> are able to see and leave comments on the issue.")},confidentialityOffWarning:function(){return Object(O.e)("confidentiality|You are going to turn off the confidentiality. This means <strong>everyone</strong> will be able to see and leave a comment on this issue.")}}},A=Object(w.a)(P,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown show"},[i("div",{staticClass:"dropdown-menu sidebar-item-warning-message"},[i("div",[e.isConfidential?i("p",{domProps:{innerHTML:e._s(e.confidentialityOffWarning)}}):i("p",{domProps:{innerHTML:e._s(e.confidentialityOnWarning)}}),e._v(" "),i("edit-form-buttons",{attrs:{"is-confidential":e.isConfidential,"update-confidential-attribute":e.updateConfidentialAttribute}})],1)])])},[],!1,null,null,null);A.options.__file="edit_form.vue";var M={components:{editForm:A.exports,Icon:E.a},directives:{tooltip:L.a},props:{isConfidential:{required:!0,type:Boolean},isEditable:{required:!0,type:Boolean},service:{required:!0,type:Object}},data:function(){return{edit:!1}},computed:{confidentialityIcon:function(){return this.isConfidential?"eye-slash":"eye"},tooltipLabel:function(){return this.isConfidential?Object(O.a)("Confidential"):Object(O.a)("Not confidential")}},created:function(){v.a.$on("closeConfidentialityForm",this.toggleForm)},beforeDestroy:function(){v.a.$off("closeConfidentialityForm",this.toggleForm)},methods:{toggleForm:function(){this.edit=!this.edit},updateConfidentialAttribute:function(e){this.service.update("issue",{confidential:e}).then(function(){return window.location.reload()}).catch(function(){Object(a.a)(Object(O.a)("Something went wrong trying to change the confidentiality of this issue"))})}}},$=Object(w.a)(M,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"block issuable-sidebar-item confidentiality"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.tooltipLabel,"data-container":"body","data-placement":"left","data-boundary":"viewport"},on:{click:e.toggleForm}},[i("icon",{attrs:{name:e.confidentialityIcon,"aria-hidden":"true"}})],1),e._v(" "),i("div",{staticClass:"title hide-collapsed"},[e._v("\n    "+e._s(e.__("Confidentiality"))+"\n    "),e.isEditable?i("a",{staticClass:"float-right confidential-edit",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toggleForm(t)}}},[e._v("\n      "+e._s(e.__("Edit"))+"\n    ")]):e._e()]),e._v(" "),i("div",{staticClass:"value sidebar-item-value hide-collapsed"},[e.edit?i("editForm",{attrs:{"is-confidential":e.isConfidential,"update-confidential-attribute":e.updateConfidentialAttribute}}):e._e(),e._v(" "),e.isConfidential?i("div",{staticClass:"value sidebar-item-value hide-collapsed"},[i("icon",{staticClass:"sidebar-item-icon inline is-active",attrs:{size:16,name:"eye-slash","aria-hidden":"true"}}),e._v("\n      "+e._s(e.__("This issue is confidential"))+"\n    ")],1):i("div",{staticClass:"no-value sidebar-item-value"},[i("icon",{staticClass:"sidebar-item-icon inline",attrs:{size:16,name:"eye","aria-hidden":"true"}}),e._v("\n      "+e._s(e.__("Not confidential"))+"\n    ")],1)],1)])},[],!1,null,null,null);$.options.__file="confidential_issue_sidebar.vue";var N=$.exports;function F(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e){return e>0}var B=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediator=t,this.$dropdownToggle=p()(i),this.$confirmButton=p()(n),this.onConfirmClickedWrapper=this.onConfirmClicked.bind(this)}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.initDropdown(),this.addEventListeners()}},{key:"destroy",value:function(){this.removeEventListeners()}},{key:"initDropdown",value:function(){var e=this;this.$dropdownToggle.glDropdown({search:{fields:["name_with_namespace"]},showMenuAbove:!0,selectable:!0,filterable:!0,filterRemote:!0,multiSelect:!1,shouldPropagate:!1,data:function(t,i){e.mediator.fetchAutocompleteProjects(t).then(i).catch(function(){return new window.Flash("An error occurred while fetching projects autocomplete.")})},renderRow:function(e){return'\n        <li>\n          <a href="#" class="js-move-issue-dropdown-item">\n            '.concat(g.a.escape(e.name_with_namespace),"\n          </a>\n        </li>\n      ")},clicked:function(t){var i=t.selectedObj,n=t.isMarking?i.id:0;e.mediator.setMoveToProjectId(n),e.$confirmButton.prop("disabled",!R(n))}})}},{key:"addEventListeners",value:function(){this.$confirmButton.on("click",this.onConfirmClickedWrapper)}},{key:"removeEventListeners",value:function(){this.$confirmButton.off("click",this.onConfirmClickedWrapper)}},{key:"onConfirmClicked",value:function(){var e=this;R(this.mediator.store.moveToProjectId)&&(this.$confirmButton.disable().addClass("is-loading"),this.mediator.moveIssue().catch(function(){window.Flash("An error occurred while moving the issue."),e.$confirmButton.enable().removeClass("is-loading")}))}}])&&F(t.prototype,i),n&&F(t,n),e}(),q=i(203),H={props:{isLocked:{required:!0,type:Boolean},updateLockedAttribute:{required:!0,type:Function}},computed:{buttonText:function(){return this.isLocked?Object(O.a)("Unlock"):Object(O.a)("Lock")},toggleLock:function(){return!this.isLocked}},methods:{closeForm:function(){v.a.$emit("closeLockForm"),p()(this.$el).trigger("hidden.gl.dropdown")},submitForm:function(){this.closeForm(),this.updateLockedAttribute(this.toggleLock)}}},U=Object(w.a)(H,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sidebar-item-warning-message-actions"},[i("button",{staticClass:"btn btn-default append-right-10",attrs:{type:"button"},on:{click:e.closeForm}},[e._v("\n    "+e._s(e.__("Cancel"))+"\n  ")]),e._v(" "),i("button",{staticClass:"btn btn-close",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])])},[],!1,null,null,null);U.options.__file="edit_form_buttons.vue";var V={components:{editFormButtons:U.exports},mixins:[q.a],props:{isLocked:{required:!0,type:Boolean},updateLockedAttribute:{required:!0,type:Function}},computed:{lockWarning:function(){return Object(O.f)(Object(O.a)("Lock this %{issuableDisplayName}? Only <strong>project members</strong> will be able to comment."),{issuableDisplayName:this.issuableDisplayName})},unlockWarning:function(){return Object(O.f)(Object(O.a)("Unlock this %{issuableDisplayName}? <strong>Everyone</strong> will be able to comment."),{issuableDisplayName:this.issuableDisplayName})}}},Y=Object(w.a)(V,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown show"},[i("div",{staticClass:"dropdown-menu sidebar-item-warning-message"},[e.isLocked?i("p",{staticClass:"text",domProps:{innerHTML:e._s(e.unlockWarning)}}):i("p",{staticClass:"text",domProps:{innerHTML:e._s(e.lockWarning)}}),e._v(" "),i("edit-form-buttons",{attrs:{"is-locked":e.isLocked,"update-locked-attribute":e.updateLockedAttribute}})],1)])},[],!1,null,null,null);Y.options.__file="edit_form.vue";var W={components:{editForm:Y.exports,Icon:E.a},directives:{tooltip:L.a},mixins:[q.a],props:{isLocked:{required:!0,type:Boolean},isEditable:{required:!0,type:Boolean},mediator:{required:!0,type:Object,validator:function(e){return e.service&&e.service.update&&e.store}}},computed:{lockIcon:function(){return this.isLocked?"lock":"lock-open"},isLockDialogOpen:function(){return this.mediator.store.isLockDialogOpen},tooltipLabel:function(){return this.isLocked?Object(O.a)("Locked"):Object(O.a)("Unlocked")}},created:function(){v.a.$on("closeLockForm",this.toggleForm)},beforeDestroy:function(){v.a.$off("closeLockForm",this.toggleForm)},methods:{toggleForm:function(){this.mediator.store.isLockDialogOpen=!this.mediator.store.isLockDialogOpen},updateLockedAttribute:function(e){var t=this;this.mediator.service.update(this.issuableType,{discussion_locked:e}).then(function(){return window.location.reload()}).catch(function(){return Object(a.a)(Object(O.f)(Object(O.a)("Something went wrong trying to change the locked state of this %{issuableDisplayName}"),{issuableDisplayName:t.issuableDisplayName}))})}}},z=Object(w.a)(W,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"block issuable-sidebar-item lock"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.tooltipLabel,"data-container":"body","data-placement":"left","data-boundary":"viewport"},on:{click:e.toggleForm}},[i("icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.lockIcon}})],1),e._v(" "),i("div",{staticClass:"title hide-collapsed"},[e._v("\n    "+e._s(e.sprintf(e.__("Lock %{issuableDisplayName}"),{issuableDisplayName:e.issuableDisplayName}))+"\n    "),e.isEditable?i("button",{staticClass:"float-right lock-edit",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.toggleForm(t)}}},[e._v("\n      "+e._s(e.__("Edit"))+"\n    ")]):e._e()]),e._v(" "),i("div",{staticClass:"value sidebar-item-value hide-collapsed"},[e.isLockDialogOpen?i("edit-form",{attrs:{"is-locked":e.isLocked,"update-locked-attribute":e.updateLockedAttribute,"issuable-type":e.issuableType}}):e._e(),e._v(" "),e.isLocked?i("div",{staticClass:"value sidebar-item-value"},[i("icon",{staticClass:"sidebar-item-icon inline is-active",attrs:{size:16,name:"lock"}}),e._v("\n      "+e._s(e.__("Locked"))+"\n    ")],1):i("div",{staticClass:"no-value sidebar-item-value hide-collapsed"},[i("icon",{staticClass:"sidebar-item-icon inline",attrs:{size:16,name:"lock-open"}}),e._v(" "+e._s(e.__("Unlocked"))+"\n    ")],1)],1)])},[],!1,null,null,null);z.options.__file="lock_issue_sidebar.vue";var J=z.exports,G=i(92),K=i(10),Q={directives:{tooltip:L.a},components:{userAvatarImage:G.a,GlLoadingIcon:K.e},props:{loading:{type:Boolean,required:!1,default:!1},participants:{type:Array,required:!1,default:function(){return[]}},numberOfLessParticipants:{type:Number,required:!1,default:7}},data:function(){return{isShowingMoreParticipants:!1}},computed:{lessParticipants:function(){return this.participants.slice(0,this.numberOfLessParticipants)},visibleParticipants:function(){return this.isShowingMoreParticipants?this.participants:this.lessParticipants},hasMoreParticipants:function(){return this.participants.length>this.numberOfLessParticipants},toggleLabel:function(){return this.isShowingMoreParticipants?Object(O.a)("- show less"):Object(O.f)(Object(O.a)("+ %{moreCount} more"),{moreCount:this.participants.length-this.numberOfLessParticipants})},participantLabel:function(){return Object(O.f)(Object(O.d)("%{count} participant","%{count} participants",this.participants.length),{count:this.loading?"":this.participantCount})},participantCount:function(){return this.participants.length}},methods:{toggleMoreParticipants:function(){this.isShowingMoreParticipants=!this.isShowingMoreParticipants},onClickCollapsedIcon:function(){this.$emit("toggleSidebar")}}},X=Object(w.a)(Q,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.participantLabel,"data-container":"body","data-placement":"left","data-boundary":"viewport"},on:{click:e.onClickCollapsedIcon}},[i("i",{staticClass:"fa fa-users",attrs:{"aria-hidden":"true"}}),e._v(" "),e.loading?i("gl-loading-icon",{staticClass:"js-participants-collapsed-loading-icon"}):i("span",{staticClass:"js-participants-collapsed-count"},[e._v(" "+e._s(e.participantCount)+" ")])],1),e._v(" "),i("div",{staticClass:"title hide-collapsed"},[e.loading?i("gl-loading-icon",{staticClass:"js-participants-expanded-loading-icon",attrs:{inline:!0}}):e._e(),e._v("\n    "+e._s(e.participantLabel)+"\n  ")],1),e._v(" "),i("div",{staticClass:"participants-list hide-collapsed"},e._l(e.visibleParticipants,function(e){return i("div",{key:e.id,staticClass:"participants-author js-participants-author"},[i("a",{staticClass:"author-link",attrs:{href:e.web_url}},[i("user-avatar-image",{attrs:{lazy:!0,"img-src":e.avatar_url,size:24,"tooltip-text":e.name,"css-classes":"avatar-inline","tooltip-placement":"bottom"}})],1)])}),0),e._v(" "),e.hasMoreParticipants?i("div",{staticClass:"participants-more hide-collapsed"},[i("button",{staticClass:"btn-transparent btn-blank js-toggle-participants-button",attrs:{type:"button"},on:{click:e.toggleMoreParticipants}},[e._v("\n      "+e._s(e.toggleLabel)+"\n    ")])]):e._e()])},[],!1,null,null,null);X.options.__file="participants.vue";var Z={components:{participants:X.exports},props:{mediator:{type:Object,required:!0}},data:function(){return{store:new d}}},ee=Object(w.a)(Z,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block participants"},[t("participants",{attrs:{loading:this.store.isFetching.participants,participants:this.store.participants,"number-of-less-participants":7}})],1)},[],!1,null,null,null);ee.options.__file="sidebar_participants.vue";var te=ee.exports,ie={components:{subscriptions:i(245).a},props:{mediator:{type:Object,required:!0}},data:function(){return{store:new d}},methods:{onToggleSubscription:function(){this.mediator.toggleSubscription().catch(function(){Object(a.a)(Object(O.a)("Error occurred when toggling the notification subscription"))})}}},ne=Object(w.a)(ie,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block subscriptions"},[t("subscriptions",{attrs:{loading:this.store.isFetching.subscriptions,subscribed:this.store.subscribed},on:{toggleSubscription:this.onToggleSubscription}})],1)},[],!1,null,null,null);ne.options.__file="sidebar_subscriptions.vue";var ae=ne.exports,se=i(78);function oe(e){var t;!function(e){var t=document.getElementById("js-vue-sidebar-assignees");t&&new s.default({el:t,components:{SidebarAssignees:T},render:function(i){return i("sidebar-assignees",{props:{mediator:e,field:t.dataset.field,signedIn:t.hasAttribute("data-signed-in"),issuableType:gl.utils.isInIssuePage()?"issue":"merge_request"}})}})}(e),function(e){var t=document.getElementById("js-confidential-entry-point");if(t){var i=document.getElementById("js-confidential-issue-data"),n=JSON.parse(i.innerHTML);new(s.default.extend(N))({propsData:{isConfidential:n.is_confidential,isEditable:n.is_editable,service:e.service}}).$mount(t)}}(e),function(e){var t=document.getElementById("js-lock-entry-point");if(t){var i=document.getElementById("js-lock-issue-data"),n=JSON.parse(i.innerHTML);new(s.default.extend(J))({propsData:{isLocked:n.is_locked,isEditable:n.is_editable,mediator:e,issuableType:gl.utils.isInIssuePage()?"issue":"merge_request"}}).$mount(t)}}(e),function(e){var t=document.querySelector(".js-sidebar-participants-entry-point");t&&new s.default({el:t,components:{sidebarParticipants:te},render:function(t){return t("sidebar-participants",{props:{mediator:e}})}})}(e),function(e){var t=document.querySelector(".js-sidebar-subscriptions-entry-point");t&&new s.default({el:t,components:{sidebarSubscriptions:ae},render:function(t){return t("sidebar-subscriptions",{props:{mediator:e}})}})}(e),new B(e,p()(".js-move-issue"),p()(".js-move-issue-confirmation-button")).init(),(t=document.getElementById("issuable-time-tracker"))&&new s.default({el:t,components:{SidebarTimeTracking:k},render:function(e){return e("sidebar-time-tracking",{})}})}s.default.use(se.a);t.a=function(){var e=new h(JSON.parse(document.querySelector(".js-sidebar-options").innerHTML));e.fetch(),oe(e)}},41:function(e,t,i){"use strict";var n=i(0),a=i.n(n);t.a={bind:function(e){a()(e).tooltip({trigger:"hover"})},componentUpdated:function(e){a()(e).tooltip("_fixTitle");var t=a()(e).data("bs.tooltip"),i=t.getTipElement();t.setElementContent(a()(i.querySelectorAll(".tooltip-inner")),t.getTitle())},unbind:function(e){a()(e).tooltip("dispose")}}},44:function(e,t,i){"use strict";i.r(t);var n=i(38),a=i(36),s=i(29),o=i(27);document.addEventListener("DOMContentLoaded",function(){var e=document.body.dataset.page;if(["projects:clusters:new","projects:clusters:create_gcp","projects:clusters:create_user"].indexOf(e)>-1){var t=document.querySelector(".gcp-signup-offer");t&&new a.a(t),Object(n.a)()}new s.a,new o.a})},57:function(e,t,i){"use strict";var n=new(i(11).default);window.emitSidebarEvent=function(){return n.$emit.apply(n,arguments)},t.a=n},80:function(e,t,i){"use strict";var n=i(0),a=i.n(n),s=i(5),o=i.n(s),r=i(6),l=i(7);t.a={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.container,e.form),i=e.issues,n=e.prefixId;this.prefixId=n||"issue_",this.form=t||this.getElement(".bulk-update"),this.$labelDropdown=this.form.find(".js-label-select"),this.issues=i||this.getElement(".issues-list .issue"),this.willUpdateLabels=!1,this.bindEvents()},bindEvents:function(){return this.form.off("submit").on("submit",this.onFormSubmit.bind(this))},onFormSubmit:function(e){return e.preventDefault(),this.submit()},submit:function(){var e=this;r.a[this.form.attr("method")](this.form.attr("action"),this.getFormDataAsObject()).then(function(){return window.location.reload()}).catch(function(){return e.onFormSubmitFailure()})},onFormSubmitFailure:function(){return this.form.find('[type="submit"]').enable(),new l.a("Issue update failed")},getSelectedIssues:function(){return this.issues.has(".selected-issuable:checked")},getLabelsFromSelection:function(){var e=[];return this.getSelectedIssues().map(function(){var t=a()(this).data("labels");if(t)return t.map(function(t){if(-1===e.indexOf(t))return e.push(t)})}),e},getUnmarkedIndeterminedLabels:function(){var e=[],t=this.$labelDropdown.data("indeterminate");return this.getLabelsFromSelection().forEach(function(i){-1===t.indexOf(i)&&e.push(i)}),e},getFormDataAsObject:function(){var e={update:{state_event:this.form.find('input[name="update[state_event]"]').val(),assignee_id:this.form.find('input[name="update[assignee_id]"]').val(),assignee_ids:[this.form.find('input[name="update[assignee_ids][]"]').val()],milestone_id:this.form.find('input[name="update[milestone_id]"]').val(),issuable_ids:this.form.find('input[name="update[issuable_ids]"]').val(),subscription_event:this.form.find('input[name="update[subscription_event]"]').val(),add_label_ids:[],remove_label_ids:[]}};return this.willUpdateLabels&&(e.update.add_label_ids=this.$labelDropdown.data("marked"),e.update.remove_label_ids=this.$labelDropdown.data("unmarked")),e},setOriginalDropdownData:function(){var e=a()(".bulk-update .js-label-select");e.data("common",this.getOriginalCommonIds()),e.data("marked",this.getOriginalMarkedIds()),e.data("indeterminate",this.getOriginalIndeterminateIds())},getOriginalCommonIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each(function(i,n){t.push(e.getElement("#".concat(e.prefixId).concat(n.dataset.id)).data("labels"))}),o.a.intersection.apply(this,t)},getOriginalMarkedIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each(function(i,n){t.push(e.getElement("#".concat(e.prefixId).concat(n.dataset.id)).data("labels"))}),o.a.intersection.apply(this,t)},getOriginalIndeterminateIds:function(){var e=this,t=[],i=[],n=[];return this.getElement(".selected-issuable:checked").each(function(a,s){(n=e.getElement("#".concat(e.prefixId).concat(s.dataset.id)).data("labels")).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),i.push(n)}),i.unshift(t),o.a.difference(t,o.a.intersection.apply(this,i))},getElement:function(e){return this.scopeEl=this.scopeEl||a()(".content"),this.scopeEl.find(e)}}},88:function(e,t,i){
/*!
 * Pikaday
 *
 * Copyright Â© 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */
!function(t,n){"use strict";var a;try{a=i(!function(){var e=new Error("Cannot find module 'moment'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}e.exports=function(e){var t="function"==typeof e,i=!!window.addEventListener,n=window.document,a=window.setTimeout,s=function(e,t,n,a){i?e.addEventListener(t,n,!!a):e.attachEvent("on"+t,n)},o=function(e,t,n,a){i?e.removeEventListener(t,n,!!a):e.detachEvent("on"+t,n)},r=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e){return/Array/.test(Object.prototype.toString.call(e))},c=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},d=function(e){var t=e.getDay();return 0===t||6===t},u=function(e,t){return[31,function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},h=function(e){c(e)&&e.setHours(0,0,0,0)},f=function(e,t){return e.getTime()===t.getTime()},p=function(e,t,i){var n,a;for(n in t)(a=void 0!==e[n])&&"object"==typeof t[n]&&null!==t[n]&&void 0===t[n].nodeName?c(t[n])?i&&(e[n]=new Date(t[n].getTime())):l(t[n])?i&&(e[n]=t[n].slice(0)):e[n]=p({},t[n],i):!i&&a||(e[n]=t[n]);return e},m=function(e,t,i){var a;n.createEvent?((a=n.createEvent("HTMLEvents")).initEvent(t,!0,!1),a=p(a,i),e.dispatchEvent(a)):n.createEventObject&&(a=n.createEventObject(),a=p(a,i),e.fireEvent("on"+t,a))},g=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},b={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},v=function(e,t,i){for(t+=e.firstDay;t>=7;)t-=7;return i?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},y=function(e){var t=[],i="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),i="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+i+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},w=function(e,t,i,n){return'<tr class="pika-row'+(i?" pick-whole-week":"")+(n?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},_=function(e,t,i,n,a,s){var o,r,c,d,u,h=e._o,f=i===h.minYear,p=i===h.maxYear,m='<div id="'+s+'" class="pika-title" role="heading" aria-live="assertive">',g=!0,b=!0;for(c=[],o=0;o<12;o++)c.push('<option value="'+(i===a?o-t:12+o-t)+'"'+(o===n?' selected="selected"':"")+(f&&o<h.minMonth||p&&o>h.maxMonth?'disabled="disabled"':"")+">"+h.i18n.months[o]+"</option>");for(d='<div class="pika-label">'+h.i18n.months[n]+'<select class="pika-select pika-select-month" tabindex="-1">'+c.join("")+"</select></div>",l(h.yearRange)?(o=h.yearRange[0],r=h.yearRange[1]+1):(o=i-h.yearRange,r=1+i+h.yearRange),c=[];o<r&&o<=h.maxYear;o++)o>=h.minYear&&c.push('<option value="'+o+'"'+(o===i?' selected="selected"':"")+">"+o+"</option>");return u='<div class="pika-label">'+i+h.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+c.join("")+"</select></div>",h.showMonthAfterYear?m+=u+d:m+=d+u,f&&(0===n||h.minMonth>=n)&&(g=!1),p&&(11===n||h.maxMonth<=n)&&(b=!1),0===t&&(m+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+h.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+='<button class="pika-next'+(b?"":" is-disabled")+'" type="button">'+h.i18n.nextMonth+"</button>"),m+="</div>"},k=function(o){var l=this,d=l.config(o);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(r(t,"is-disabled")||(!r(t,"pika-button")||r(t,"is-empty")||r(t.parentNode,"is-disabled")?r(t,"pika-prev")?l.prevMonth():r(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),d.bound&&a(function(){l.hide(),d.blurFieldOnSelect&&d.field&&d.field.blur()},100))),r(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(r(t,"pika-select-month")?l.gotoMonth(t.value):r(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:d.field&&d.field.blur();break;case 37:e.preventDefault(),l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7)}},l._onInputChange=function(i){var n;i.firedBy!==l&&(n=d.parse?d.parse(d.field.value,d.format):t?(n=e(d.field.value,d.format,d.formatStrict))&&n.isValid()?n.toDate():null:new Date(Date.parse(d.field.value)),c(n)&&l.setDate(n),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=n.activeElement;do{if(r(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=a(function(){l.hide()},50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,n=t;if(t){!i&&r(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),s(t,"change",l._onChange)));do{if(r(n,"pika-single")||n===d.trigger)return}while(n=n.parentNode);l._v&&t!==d.trigger&&n!==d.trigger&&l.hide()}},l.el=n.createElement("div"),l.el.className="pika-single"+(d.isRTL?" is-rtl":"")+(d.theme?" "+d.theme:""),s(l.el,"mousedown",l._onMouseDown,!0),s(l.el,"touchend",l._onMouseDown,!0),s(l.el,"change",l._onChange),s(n,"keydown",l._onKeyChange),d.field&&(d.container?d.container.appendChild(l.el):d.bound?n.body.appendChild(l.el):d.field.parentNode.insertBefore(l.el,d.field.nextSibling),s(d.field,"change",l._onInputChange),d.defaultDate||(t&&d.field.value?d.defaultDate=e(d.field.value,d.format).toDate():d.defaultDate=new Date(Date.parse(d.field.value)),d.setDefaultDate=!0));var u=d.defaultDate;c(u)?d.setDefaultDate?l.setDate(u,!0):l.gotoDate(u):l.gotoDate(new Date),d.bound?(this.hide(),l.el.className+=" is-bound",s(d.trigger,"click",l._onInputClick),s(d.trigger,"focus",l._onInputFocus),s(d.trigger,"blur",l._onInputBlur)):this.show()};return k.prototype={config:function(e){this._o||(this._o=p({},b,!0));var t=p(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var i=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=i>4?4:i,c(t.minDate)||(t.minDate=!1),c(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),l(t.yearRange)){var n=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||n,t.yearRange[1]=parseInt(t.yearRange[1],10)||n}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||b.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(i){return i=i||this._o.format,c(this._d)?this._o.toString?this._o.toString(this._d,i):t?e(this._d).format(i):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(i,n){t&&e.isMoment(i)&&this.setDate(i.toDate(),n)},getDate:function(){return c(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",m(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),c(e)){var i=this._o.minDate,n=this._o.maxDate;c(i)&&e<i?e=i:c(n)&&e>n&&(e=n),this._d=new Date(e.getTime()),h(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),m(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(c(e)){if(this.calendars){var i=new Date(this.calendars[0].year,this.calendars[0].month,1),n=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),a=e.getTime();n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),t=a<i.getTime()||n.getTime()<a}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var i,n=this.getDate()||new Date,a=24*parseInt(t)*60*60*1e3;"add"===e?i=new Date(n.valueOf()+a):"subtract"===e&&(i=new Date(n.valueOf()-a)),this.setDate(i)},adjustCalendars:function(){this.calendars[0]=g(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=g({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(h(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=b.minDate,this._o.minYear=b.minYear,this._o.minMonth=b.minMonth,this._o.startRange=b.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(h(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=b.maxDate,this._o.maxYear=b.maxYear,this._o.maxMonth=b.maxMonth,this._o.endRange=b.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,i=this._o,n=i.minYear,s=i.maxYear,o=i.minMonth,r=i.maxMonth,l="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=s&&(this._y=s,!isNaN(r)&&this._m>r&&(this._m=r)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var c=0;c<i.numberOfMonths;c++)l+='<div class="pika-lendar">'+_(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t)+"</div>";this.el.innerHTML=l,i.bound&&"hidden"!==i.field.type&&a(function(){i.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),i.bound&&i.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var e,t,i,a,s,o,r,l,c,d;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,i=this.el.offsetWidth,a=this.el.offsetHeight,s=window.innerWidth||n.documentElement.clientWidth,o=window.innerHeight||n.documentElement.clientHeight,r=window.pageYOffset||n.body.scrollTop||n.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)l=(d=e.getBoundingClientRect()).left+window.pageXOffset,c=d.bottom+window.pageYOffset;else for(l=t.offsetLeft,c=t.offsetTop+t.offsetHeight;t=t.offsetParent;)l+=t.offsetLeft,c+=t.offsetTop;(this._o.reposition&&l+i>s||this._o.position.indexOf("right")>-1&&l-i+e.offsetWidth>0)&&(l=l-i+e.offsetWidth),(this._o.reposition&&c+a>o+r||this._o.position.indexOf("top")>-1&&c-a-e.offsetHeight>0)&&(c=c-a-e.offsetHeight),this.el.style.left=l+"px",this.el.style.top=c+"px"}},render:function(e,t,i){var n=this._o,a=new Date,s=u(e,t),o=new Date(e,t,1).getDay(),r=[],l=[];h(a),n.firstDay>0&&(o-=n.firstDay)<0&&(o+=7);for(var p=0===t?11:t-1,m=11===t?0:t+1,g=0===t?e-1:e,b=11===t?e+1:e,_=u(g,p),k=s+o,C=k;C>7;)C-=7;k+=7-C;for(var j,S,D,T,O=!1,L=0,E=0;L<k;L++){var x=new Date(e,t,L-o+1),I=!!c(this._d)&&f(x,this._d),P=f(x,a),A=-1!==n.events.indexOf(x.toDateString()),M=L<o||L>=s+o,$=L-o+1,N=t,F=e,R=n.startRange&&f(n.startRange,x),B=n.endRange&&f(n.endRange,x),q=n.startRange&&n.endRange&&n.startRange<x&&x<n.endRange,H=n.minDate&&x<n.minDate||n.maxDate&&x>n.maxDate||n.disableWeekends&&d(x)||n.disableDayFn&&n.disableDayFn(x);M&&(L<o?($=_+$,N=p,F=g):($-=s,N=m,F=b));var U={day:$,month:N,year:F,hasEvent:A,isSelected:I,isToday:P,isDisabled:H,isEmpty:M,isStartRange:R,isEndRange:B,isInRange:q,showDaysInNextAndPreviousMonths:n.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:n.enableSelectionDaysInNextAndPreviousMonths};n.pickWholeWeek&&I&&(O=!0),l.push(y(U)),7==++E&&(n.showWeekNumber&&l.unshift((j=L-o,S=t,D=e,T=void 0,T=new Date(D,0,1),'<td class="pika-week">'+Math.ceil(((new Date(D,S,j)-T)/864e5+T.getDay()+1)/7)+"</td>")),r.push(w(l,n.isRTL,n.pickWholeWeek,O)),l=[],E=0,O=!1)}return function(e,t,i){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+i+'">'+function(e){var t,i=[];for(e.showWeekNumber&&i.push("<th></th>"),t=0;t<7;t++)i.push('<th scope="col"><abbr title="'+v(e,t)+'">'+v(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?i.reverse():i).join("")+"</tr></thead>"}(e)+("<tbody>"+t.join("")+"</tbody>")+"</table>"}(n,r,i)},isVisible:function(){return this._v},show:function(){var e,t,i;this.isVisible()||(this._v=!0,this.draw(),e=this.el,t="is-hidden",e.className=(i=(" "+e.className+" ").replace(" "+t+" "," ")).trim?i.trim():i.replace(/^\s+|\s+$/g,""),this._o.bound&&(s(n,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e,t,i=this._v;!1!==i&&(this._o.bound&&o(n,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",e=this.el,r(e,t="is-hidden")||(e.className=""===e.className?t:e.className+" "+t),this._v=!1,void 0!==i&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"touchend",this._onMouseDown,!0),o(this.el,"change",this._onChange),o(n,"keydown",this._onKeyChange),this._o.field&&(o(this._o.field,"change",this._onInputChange),this._o.bound&&(o(this._o.trigger,"click",this._onInputClick),o(this._o.trigger,"focus",this._onInputFocus),o(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},k}(a)}()}},[[1308,1,0,2,4]]]);
//# sourceMappingURL=pages.projects.merge_requests.conflicts.7b2f1328.chunk.js.map