{"version":3,"sources":["webpack:///./profile/add_ssh_key_validation.js","webpack:///./pages/profiles/keys/index.js"],"names":["AddSshKeyValidation","inputElement","warningElement","originalSubmitElement","confirmSubmitElement","_classCallCheck","this","form","isValid","value","test","_this","addEventListener","event","submit","toggleWarning","isPublicKey","preventDefault","isVisible","classList","toggle","document","input","querySelector","warning","originalSubmit","confirmSubmit","register"],"mappings":"8TAAqBA,aACnB,SAAAA,EAAYC,EAAcC,EAAgBC,EAAuBC,gGAAsBC,CAAAC,KAAAN,GACrFM,KAAKL,aAAeA,EACpBK,KAAKC,KAAON,EAAaM,KAEzBD,KAAKJ,eAAiBA,EAEtBI,KAAKH,sBAAwBA,EAC7BG,KAAKF,qBAAuBA,EAE5BE,KAAKE,SAAU,4DA6BEC,GACjB,MAAO,qBAAqBC,KAAKD,2CA3BxB,IAAAE,EAAAL,KACTA,KAAKC,KAAKK,iBAAiB,SAAU,SAAAC,GAAK,OAAIF,EAAKG,OAAOD,KAE1DP,KAAKF,qBAAqBQ,iBAAiB,QAAS,WAClDD,EAAKH,SAAU,EACfG,EAAKJ,KAAKO,WAGZR,KAAKL,aAAaW,iBAAiB,QAAS,kBAAMD,EAAKI,eAAc,oCAGhEF,GAGL,OAFAP,KAAKE,QAAUR,EAAoBgB,YAAYV,KAAKL,aAAaQ,SAE7DH,KAAKE,UAETK,EAAMI,iBACNX,KAAKS,eAAc,IACZ,yCAGKG,GACZZ,KAAKJ,eAAeiB,UAAUC,OAAO,QAASF,GAC9CZ,KAAKH,sBAAsBgB,UAAUC,OAAO,OAAQF,wCClCxDG,SAAST,iBAAiB,mBAAoB,WAC5C,IAAMU,EAAQD,SAASE,cAAc,oCAC/BC,EAAUH,SAASE,cAAc,sCACjCE,EAAiBH,EAAMf,KAAKgB,cAAc,8CAC1CG,EAAgBF,EAAQD,cAAc,6CAEhB,IAAIvB,EAC9BsB,EACAE,EACAC,EACAC,GAEkBC","file":"pages.profiles.keys.c3f71d30.chunk.js","sourcesContent":["export default class AddSshKeyValidation {\n  constructor(inputElement, warningElement, originalSubmitElement, confirmSubmitElement) {\n    this.inputElement = inputElement;\n    this.form = inputElement.form;\n\n    this.warningElement = warningElement;\n\n    this.originalSubmitElement = originalSubmitElement;\n    this.confirmSubmitElement = confirmSubmitElement;\n\n    this.isValid = false;\n  }\n\n  register() {\n    this.form.addEventListener('submit', event => this.submit(event));\n\n    this.confirmSubmitElement.addEventListener('click', () => {\n      this.isValid = true;\n      this.form.submit();\n    });\n\n    this.inputElement.addEventListener('input', () => this.toggleWarning(false));\n  }\n\n  submit(event) {\n    this.isValid = AddSshKeyValidation.isPublicKey(this.inputElement.value);\n\n    if (this.isValid) return true;\n\n    event.preventDefault();\n    this.toggleWarning(true);\n    return false;\n  }\n\n  toggleWarning(isVisible) {\n    this.warningElement.classList.toggle('hide', !isVisible);\n    this.originalSubmitElement.classList.toggle('hide', isVisible);\n  }\n\n  static isPublicKey(value) {\n    return /^(ssh|ecdsa-sha2)-/.test(value);\n  }\n}\n","import AddSshKeyValidation from '~/profile/add_ssh_key_validation';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const input = document.querySelector('.js-add-ssh-key-validation-input');\n  const warning = document.querySelector('.js-add-ssh-key-validation-warning');\n  const originalSubmit = input.form.querySelector('.js-add-ssh-key-validation-original-submit');\n  const confirmSubmit = warning.querySelector('.js-add-ssh-key-validation-confirm-submit');\n\n  const addSshKeyValidation = new AddSshKeyValidation(\n    input,\n    warning,\n    originalSubmit,\n    confirmSubmit,\n  );\n  addSshKeyValidation.register();\n});\n"],"sourceRoot":""}