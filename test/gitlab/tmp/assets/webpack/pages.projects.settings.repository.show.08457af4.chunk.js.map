{"version":3,"sources":["webpack:///./mirrors/constants.js","webpack:///./mirrors/ssh_mirror.js","webpack:///./mirrors/mirror_repos.js","webpack:///./pages/projects/settings/repository/show/index.js","webpack:///./settings_panels.js","webpack:///./create_item_dropdown.js","webpack:///./behaviors/shortcuts/shortcuts_navigation.js","webpack:///./project_select_combo_button.js","webpack:///./project_select.js","webpack:///./pages/projects/project.js","webpack:///./vue_shared/components/navigation_tabs.vue?a7f0","webpack:///./vue_shared/components/navigation_tabs.vue?6376","webpack:///vue_shared/components/navigation_tabs.vue","webpack:///./vue_shared/components/navigation_tabs.vue","webpack:///./lib/utils/file_upload.js","webpack:///./vue_shared/directives/tooltip.js","webpack:///./pages/projects/index.js","webpack:///./protected_tags/protected_tag_access_dropdown.js","webpack:///./protected_tags/protected_tag_create.js","webpack:///./protected_tags/protected_tag_edit.js","webpack:///./protected_tags/protected_tag_edit_list.js","webpack:///./deploy_keys/eventhub.js","webpack:///./deploy_keys/service/index.js","webpack:///./deploy_keys/store/index.js","webpack:///./deploy_keys/components/action_btn.vue?8d4b","webpack:///deploy_keys/components/action_btn.vue","webpack:///./deploy_keys/components/action_btn.vue","webpack:///./deploy_keys/components/action_btn.vue?f479","webpack:///deploy_keys/components/key.vue","webpack:///./deploy_keys/components/key.vue?8f2b","webpack:///./deploy_keys/components/key.vue","webpack:///./deploy_keys/components/key.vue?f656","webpack:///./deploy_keys/components/keys_panel.vue?1b7c","webpack:///deploy_keys/components/keys_panel.vue","webpack:///./deploy_keys/components/keys_panel.vue","webpack:///./deploy_keys/components/keys_panel.vue?5904","webpack:///./deploy_keys/components/app.vue?8d10","webpack:///deploy_keys/components/app.vue","webpack:///./deploy_keys/components/app.vue","webpack:///./deploy_keys/components/app.vue?92a8","webpack:///./protected_branches/protected_branch_access_dropdown.js","webpack:///./protected_branches/protected_branch_create.js","webpack:///./protected_branches/protected_branch_edit.js","webpack:///./protected_branches/protected_branch_edit_list.js","webpack:///./pages/projects/settings/repository/form.js","webpack:///./deploy_keys/index.js","webpack:///./vue_shared/mixins/timeago.js"],"names":["constants","SSHMirror","formSelector","_classCallCheck","this","backOffRequestCounter","$form","$","$repositoryUrl","find","$knownHosts","$sectionSSHHostKeys","$hostKeysInformation","$btnDetectHostKeys","$btnSSHHostsShowAdvanced","$dropdownAuthType","$wellAuthTypeChanging","$wellPasswordAuth","$wellSSHAuth","$sshPublicKeyWrap","$regeneratePublicSshKeyButton","$regeneratePublicSshKeyModal","_this","handleRepositoryUrlInput","on","e","handleSSHKnownHostsInput","handleAuthTypeChange","handleDetectHostKeys","handleSSHHostsAdvanced","toggle","regeneratePublicSshKey","forceMatch","protocol","val","split","get","checkValidity","isSsh","collapse","enable","matchesProtocol","test","attr","AUTH_METHOD","toggleAuthWell","_this2","projectMirrorSSHEndpoint","data","repositoryUrl","currentKnownHosts","$btnLoadSpinner","disable","removeClass","backOff","next","stop","axios","concat","encodeURIComponent","then","_ref","status","catch","res","addClass","host_keys_changed","known_hosts","fingerprints","showSSHInformation","_ref2","response","failureMessage","message","__","Flash","$knownHost","toggleShowAdvanced","hasClass","toggleClass","_this3","projectMirrorAuthTypeEndpoint","$sshPublicKey","selectedAuthType","text","trim","length","authTypeData","project","_objectSpread","projectData","put","JSON","stringify","headers","Content-Type","_ref3","toggleSSHAuthWellMessage","setSSHPublicKey","import_data_attributes","ssh_public_key","sshHostKeys","$fingerprintsList","forEach","fingerprint","escFingerprints","_","escape","html","authType","sshKeyPresent","sshPublicKey","event","_this4","preventDefault","button","spinner","endpoint","patch","_ref4","removeAttr","off","MirrorRepos","container","mirror_repos_classCallCheck","$container","$password","$urlInput","$protectedBranchesInput","$table","mirrorEndpoint","initMirrorPush","registerUpdateListeners","$passwordGroup","$authMethod","togglePassword","debouncedUpdateUrl","initMirrorSSH","updateProtectedBranches","undefined","sshMirror","init","password","replace","checked","debounce","updateUrl","deleteMirror","isPassword","existingPayload","$target","currentTarget","payload","remote_mirrors_attributes","id","enabled","removeRow","row","closest","tooltip","remove","document","addEventListener","initForm","mirrorReposContainer","querySelector","__webpack_require__","d","__webpack_exports__","initSettingsPanels","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","n","_locale__WEBPACK_IMPORTED_MODULE_1__","expandSection","$section","scrollTop","one","toggleSection","closeSection","each","i","elm","window","location","hash","CreateItemDropdown","options","defaultToggleLabel","fieldName","onSelect","getDataOption","getData","getDataRemote","filterRemote","createNewItemFromValueOption","createNewItemFromValue","$dropdown","$dropdownContainer","parent","$dropdownFooter","$createButton","buildDropdown","bindEvents","toggleFooter","glDropdown","bind","filterable","search","fields","selectable","toggleLabel","selected","title","item","onFilter","toggleCreateNewButton","clicked","onClickCreateWildcard","refreshData","selectRowAtIndex","remote","execute","term","callback","arguments","uniqueData","selectedItem","some","newValue","toggleState","ShortcutsNavigation","_possibleConstructorReturn","_getPrototypeOf","call","Mousetrap","findAndFollowLink","enabledHelp","push","Shortcuts","ProjectSelectComboButton","select","projectSelectInput","newItemBtn","resourceType","resourceLabel","formattedText","deriveTextVariants","groupId","initLocalStorage","siblings","openDropdown","getProjectFromLocalStorage","selectProject","AccessorUtilities","isLocalStorageAccessSafe","localStorageKey","localStorageItemType","join","setBtnTextFromLocalStorage","select2","selectedProjectData","parse","projectMeta","url","name","setNewItemBtnAttributes","setProjectInLocalStorage","cachedProjectData","defaultTextPrefix","presetTextSuffix","projectString","localStorage","getItem","setItem","slice","projectSelect","placeholder","simpleFilter","includeGroups","allProjects","orderBy","withIssuesEnabled","withMergeRequestsEnabled","withShared","includeProjectsInSubgroups","allowClear","minimumInputLength","query","finalCallback","projectsCallback","projects","results","groupsCallback","groups","Api","groupProjects","with_issues_enabled","with_merge_requests_enabled","with_shared","include_subgroups","order_by","membership","web_url","name_with_namespace","initSelection","el","dropdownCssClass","Project","$cloneOptions","$projectCloneField","$cloneBtnLabel","mobileCloneField","selectedCloneOption","$this","cloneType","$el","activeText","$label","dataset","clipboardText","initRefSwitcher","parents","submit","Cookies","set","projectId","cookieKey","projectSelectDropdown","changeProject","refListItem","createElement","refLink","href","params","ref","flash","filterByText","inputFieldName","renderRow","li","cloneNode","header","className","textContent","link","appendChild","obj","$visit","shouldVisit","action","divider","indexOf","visitUrl","serialize","components_navigation_tabsvue_type_script_lang_js_","props","tabs","type","Array","required","scope","String","default","mounted","jquery_default","trigger","methods","shouldRenderBadge","count","onTabClick","tab","$emit","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","_l","key","class","active","isActive","attrs","role","click","$event","_v","_s","_e","__file","buttonSelector","fileSelector","btn","fileInput","form","value","componentUpdated","tooltipInstance","tip","getTipElement","setElementContent","querySelectorAll","getTitle","unbind","r","_projects_gke_cluster_dropdowns__WEBPACK_IMPORTED_MODULE_0__","_persistent_user_callout__WEBPACK_IMPORTED_MODULE_1__","_project__WEBPACK_IMPORTED_MODULE_2__","_behaviors_shortcuts_shortcuts_navigation__WEBPACK_IMPORTED_MODULE_3__","page","body","callout","PersistentUserCallout","initGkeDropdowns","ProtectedTagAccessDropdown","initDropdown","inputId","is","ProtectedTagCreate","protected_tag_create_classCallCheck","buildDropdowns","gon","open_tags","$allowedToCreateDropdown","onSelectCallback","protectedTagAccessDropdown","create_access_levels","createItemDropdown","getProtectedTags","$tagInput","$allowedToCreateInput","prop","ProtectedTagEdit","protected_tag_edit_classCallCheck","$wrap","$allowedToCreateDropdownButton","protected_tag","create_access_levels_attributes","access_level","ProtectedTagEditList","protected_tag_edit_list_classCallCheck","initEditForm","eventhub","Vue","DeployKeysService","service_classCallCheck","create","baseURL","DeployKeysStore","store_classCallCheck","keys","enabled_keys","components_action_btnvue_type_script_lang_js_","components","GlLoadingIcon","dist","deployKey","btnCssClass","isLoading","doAction","disabled","_t","inline","components_keyvue_type_script_lang_js_","actionBtn","icon","directives","mixins","timeago","store","projectsExpanded","computed","editDeployKeyPath","_toConsumableArray","deploy_keys_projects","indexOfCurrentProject","underscore_default","a","findIndex","toString","currentProject","splice","full_name","locale","firstProject","head","restProjects","tail","restProjectsTooltip","restProjectsLabel","isEnabled","isRemovable","destroyed_when_orphaned","almost_orphaned","isExpandable","isExpanded","projectTooltipTitle","can_push","toggleExpanded","key_component","s__","rawName","deployKeysProject","full_path","tooltipTitle","created_at","timeFormated","deploy-key","data-container","btn-css-class","components_keys_panelvue_type_script_lang_js_","keys_panel_component","project-id","components_appvue_type_script_lang_js_","KeysPanel","NavigationTabs","navigation_tabs","currentTab","scopes","available_project_keys","public_keys","$options","map","isArray","hasKeys","created","service","service_DeployKeysService","$on","enableKey","disableKey","fetchKeys","beforeDestroy","$off","onChangeTab","getKeys","confirm","app_component","label","size","aria-hidden","app","ProtectedBranchAccessDropdown","protected_branch_access_dropdown_classCallCheck","_this$options","ProtectedBranchCreate","protected_branch_create_classCallCheck","isLocalStorageAvailable","currentProjectUserDefaults","open_branches","$allowedToMergeDropdown","$allowedToPushDropdown","$protectedBranchDropdown","protectedBranchMergeAccessDropdown","merge_access_levels","protectedBranchPushAccessDropdown","push_access_levels","getProtectedBranches","$branchInput","$allowedToMergeInput","$allowedToPushInput","completedForm","ProtectedBranchEdit","protected_branch_edit_classCallCheck","protectedBranchAccessDropdown","protected_branch","merge_access_levels_attributes","push_access_levels_attributes","ProtectedBranchEditList","protected_branch_edit_list_classCallCheck","getElementById","deployKeysApp","render","DueDateSelectors","fileUpload","_lib_utils_datetime_utility__WEBPACK_IMPORTED_MODULE_0__","time","getTimeago","format","formatDate"],"mappings":"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","file":"pages.projects.settings.repository.show.08457af4.chunk.js","sourcesContent":["export default {\n  PASSWORD: 'password',\n  SSH: 'ssh_public_key',\n};\n","import $ from 'jquery';\nimport _ from 'underscore';\nimport { __ } from '~/locale';\nimport axios from '~/lib/utils/axios_utils';\nimport Flash from '~/flash';\nimport { backOff } from '~/lib/utils/common_utils';\nimport AUTH_METHOD from './constants';\n\nexport default class SSHMirror {\n  constructor(formSelector) {\n    this.backOffRequestCounter = 0;\n\n    this.$form = $(formSelector);\n\n    this.$repositoryUrl = this.$form.find('.js-repo-url');\n    this.$knownHosts = this.$form.find('.js-known-hosts');\n\n    this.$sectionSSHHostKeys = this.$form.find('.js-ssh-host-keys-section');\n    this.$hostKeysInformation = this.$form.find('.js-fingerprint-ssh-info');\n    this.$btnDetectHostKeys = this.$form.find('.js-detect-host-keys');\n    this.$btnSSHHostsShowAdvanced = this.$form.find('.btn-show-advanced');\n    this.$dropdownAuthType = this.$form.find('.js-mirror-auth-type');\n\n    this.$wellAuthTypeChanging = this.$form.find('.js-well-changing-auth');\n    this.$wellPasswordAuth = this.$form.find('.js-well-password-auth');\n    this.$wellSSHAuth = this.$form.find('.js-well-ssh-auth');\n    this.$sshPublicKeyWrap = this.$form.find('.js-ssh-public-key-wrap');\n    this.$regeneratePublicSshKeyButton = this.$wellSSHAuth.find('.js-btn-regenerate-ssh-key');\n    this.$regeneratePublicSshKeyModal = this.$wellSSHAuth.find(\n      '.js-regenerate-public-ssh-key-confirm-modal',\n    );\n  }\n\n  init() {\n    this.handleRepositoryUrlInput(true);\n\n    this.$repositoryUrl.on('keyup', () => this.handleRepositoryUrlInput());\n    this.$knownHosts.on('keyup', e => this.handleSSHKnownHostsInput(e));\n    this.$dropdownAuthType.on('change', e => this.handleAuthTypeChange(e));\n    this.$btnDetectHostKeys.on('click', e => this.handleDetectHostKeys(e));\n    this.$btnSSHHostsShowAdvanced.on('click', e => this.handleSSHHostsAdvanced(e));\n    this.$regeneratePublicSshKeyButton.on('click', () =>\n      this.$regeneratePublicSshKeyModal.toggle(true),\n    );\n    $('.js-confirm', this.$regeneratePublicSshKeyModal).on('click', e =>\n      this.regeneratePublicSshKey(e),\n    );\n    $('.js-cancel', this.$regeneratePublicSshKeyModal).on('click', () =>\n      this.$regeneratePublicSshKeyModal.toggle(false),\n    );\n  }\n\n  /**\n   * Method to monitor Git Repository URL input\n   */\n  handleRepositoryUrlInput(forceMatch) {\n    const protocol = this.$repositoryUrl.val().split('://')[0];\n    const protRegEx = /http|git/;\n\n    // Validate URL and verify if it consists only supported protocols\n    if (forceMatch || this.$form.get(0).checkValidity()) {\n      const isSsh = protocol === 'ssh';\n      // Hide/Show SSH Host keys section only for SSH URLs\n      this.$sectionSSHHostKeys.collapse(isSsh ? 'show' : 'hide');\n      this.$btnDetectHostKeys.enable();\n\n      // Verify if URL is http, https or git and hide/show Auth type dropdown\n      // as we don't support auth type SSH for non-SSH URLs\n      const matchesProtocol = protRegEx.test(protocol);\n      this.$dropdownAuthType.attr('disabled', matchesProtocol);\n\n      if (forceMatch && isSsh) {\n        this.$dropdownAuthType.val(AUTH_METHOD.SSH);\n        this.toggleAuthWell(AUTH_METHOD.SSH);\n      } else {\n        this.$dropdownAuthType.val(AUTH_METHOD.PASSWORD);\n        this.toggleAuthWell(AUTH_METHOD.PASSWORD);\n      }\n    }\n  }\n\n  /**\n   * Click event handler to detect SSH Host key and fingerprints from\n   * provided Git Repository URL.\n   */\n  handleDetectHostKeys() {\n    const projectMirrorSSHEndpoint = this.$form.data('project-mirror-ssh-endpoint');\n    const repositoryUrl = this.$repositoryUrl.val();\n    const currentKnownHosts = this.$knownHosts.val();\n    const $btnLoadSpinner = this.$btnDetectHostKeys.find('.js-spinner');\n\n    // Disable button while we make request\n    this.$btnDetectHostKeys.disable();\n    $btnLoadSpinner.removeClass('d-none');\n\n    // Make backOff polling to get data\n    backOff((next, stop) => {\n      axios\n        .get(\n          `${projectMirrorSSHEndpoint}?ssh_url=${repositoryUrl}&compare_host_keys=${encodeURIComponent(\n            currentKnownHosts,\n          )}`,\n        )\n        .then(({ data, status }) => {\n          if (status === 204) {\n            this.backOffRequestCounter += 1;\n            if (this.backOffRequestCounter < 3) {\n              next();\n            } else {\n              stop(data);\n            }\n          } else {\n            stop(data);\n          }\n        })\n        .catch(stop);\n    })\n      .then(res => {\n        $btnLoadSpinner.addClass('d-none');\n        // Once data is received, we show verification info along with Host keys and fingerprints\n        this.$hostKeysInformation\n          .find('.js-fingerprint-verification')\n          .collapse(res.host_keys_changed ? 'hide' : 'show');\n        if (res.known_hosts && res.fingerprints) {\n          this.showSSHInformation(res);\n        }\n      })\n      .catch(({ response }) => {\n        // Show failure message when there's an error and re-enable Detect host keys button\n        const failureMessage = response.data\n          ? response.data.message\n          : __('An error occurred while detecting host keys');\n        Flash(failureMessage);\n\n        $btnLoadSpinner.addClass('hidden');\n        this.$btnDetectHostKeys.enable();\n      });\n  }\n\n  /**\n   * Method to monitor known hosts textarea input\n   */\n  handleSSHKnownHostsInput() {\n    // Strike-out fingerprints and remove verification info if `known hosts` value is altered\n    this.$hostKeysInformation.find('.js-fingerprints-list').addClass('invalidate');\n    this.$hostKeysInformation.find('.js-fingerprint-verification').collapse('hide');\n  }\n\n  /**\n   * Click event handler for `Show advanced` button under SSH Host keys section\n   */\n  handleSSHHostsAdvanced() {\n    const $knownHost = this.$sectionSSHHostKeys.find('.js-ssh-known-hosts');\n    const toggleShowAdvanced = $knownHost.hasClass('show');\n\n    $knownHost.collapse('toggle');\n    this.$btnSSHHostsShowAdvanced.toggleClass('show-advanced', toggleShowAdvanced);\n  }\n\n  /**\n   * Authentication method dropdown change event listener\n   */\n  handleAuthTypeChange() {\n    const projectMirrorAuthTypeEndpoint = `${this.$form.attr('action')}.json`;\n    const $sshPublicKey = this.$sshPublicKeyWrap.find('.ssh-public-key');\n    const selectedAuthType = this.$dropdownAuthType.val();\n\n    this.$wellPasswordAuth.collapse('hide');\n    this.$wellSSHAuth.collapse('hide');\n\n    // This request should happen only if selected Auth type was SSH\n    // and SSH Public key was not present on page load\n    if (selectedAuthType === AUTH_METHOD.SSH && !$sshPublicKey.text().trim()) {\n      if (!this.$wellSSHAuth.length) return;\n\n      // Construct request body\n      const authTypeData = {\n        project: {\n          ...this.$regeneratePublicSshKeyButton.data().projectData,\n        },\n      };\n\n      this.$wellAuthTypeChanging.collapse('show');\n      this.$dropdownAuthType.disable();\n\n      axios\n        .put(projectMirrorAuthTypeEndpoint, JSON.stringify(authTypeData), {\n          headers: {\n            'Content-Type': 'application/json; charset=utf-8',\n          },\n        })\n        .then(({ data }) => {\n          // Show SSH public key container and fill in public key\n          this.toggleAuthWell(selectedAuthType);\n          this.toggleSSHAuthWellMessage(true);\n          this.setSSHPublicKey(data.import_data_attributes.ssh_public_key);\n\n          this.$wellAuthTypeChanging.collapse('hide');\n          this.$dropdownAuthType.enable();\n        })\n        .catch(() => {\n          Flash(__('Something went wrong on our end.'));\n\n          this.$wellAuthTypeChanging.collapse('hide');\n          this.$dropdownAuthType.enable();\n        });\n    } else {\n      this.toggleAuthWell(selectedAuthType);\n      this.$wellSSHAuth.find('.js-ssh-public-key-present').collapse('show');\n    }\n  }\n\n  /**\n   * Method to parse SSH Host keys data and render it\n   * under SSH host keys section\n   */\n  showSSHInformation(sshHostKeys) {\n    const $fingerprintsList = this.$hostKeysInformation.find('.js-fingerprints-list');\n    let fingerprints = '';\n    sshHostKeys.fingerprints.forEach(fingerprint => {\n      const escFingerprints = _.escape(fingerprint.fingerprint);\n      fingerprints += `<code>${escFingerprints}</code>`;\n    });\n\n    this.$hostKeysInformation.collapse('show');\n    $fingerprintsList.removeClass('invalidate');\n    $fingerprintsList.html(fingerprints);\n    this.$sectionSSHHostKeys.find('.js-known-hosts').val(sshHostKeys.known_hosts);\n  }\n\n  /**\n   * Toggle Auth type information container based on provided `authType`\n   */\n  toggleAuthWell(authType) {\n    this.$wellPasswordAuth.collapse(authType === AUTH_METHOD.PASSWORD ? 'show' : 'hide');\n    this.$wellSSHAuth.collapse(authType === AUTH_METHOD.SSH ? 'show' : 'hide');\n  }\n\n  /**\n   * Toggle SSH auth information message\n   */\n  toggleSSHAuthWellMessage(sshKeyPresent) {\n    this.$sshPublicKeyWrap.collapse(sshKeyPresent ? 'show' : 'hide');\n    this.$wellSSHAuth.find('.js-ssh-public-key-present').collapse(sshKeyPresent ? 'show' : 'hide');\n    this.$regeneratePublicSshKeyButton.collapse(sshKeyPresent ? 'show' : 'hide');\n    this.$wellSSHAuth.find('.js-ssh-public-key-pending').collapse(sshKeyPresent ? 'hide' : 'show');\n  }\n\n  /**\n   * Sets SSH Public key to Clipboard button and shows it on UI.\n   */\n  setSSHPublicKey(sshPublicKey) {\n    this.$sshPublicKeyWrap.find('.ssh-public-key').text(sshPublicKey);\n    this.$sshPublicKeyWrap\n      .find('.btn-copy-ssh-public-key')\n      .attr('data-clipboard-text', sshPublicKey);\n  }\n\n  regeneratePublicSshKey(event) {\n    event.preventDefault();\n\n    this.$regeneratePublicSshKeyModal.toggle(false);\n\n    const button = this.$regeneratePublicSshKeyButton;\n    const spinner = $('.js-spinner', button);\n    const endpoint = button.data('endpoint');\n    const authTypeData = {\n      project: {\n        ...this.$regeneratePublicSshKeyButton.data().projectData,\n      },\n    };\n\n    button.attr('disabled', 'disabled');\n    spinner.removeClass('d-none');\n\n    axios\n      .patch(endpoint, authTypeData)\n      .then(({ data }) => {\n        button.removeAttr('disabled');\n        spinner.addClass('d-none');\n\n        this.setSSHPublicKey(data.import_data_attributes.ssh_public_key);\n      })\n      .catch(() => {\n        Flash(_('Unable to regenerate public ssh key.'));\n      });\n  }\n\n  destroy() {\n    this.$repositoryUrl.off('keyup');\n    this.$form.find('.js-known-hosts').off('keyup');\n    this.$dropdownAuthType.off('change');\n    this.$btnDetectHostKeys.off('click');\n    this.$btnSSHHostsShowAdvanced.off('click');\n    this.$regeneratePublicSshKeyButton.off('click');\n    $('.js-confirm', this.$regeneratePublicSshKeyModal).off('click');\n    $('.js-cancel', this.$regeneratePublicSshKeyModal).off('click');\n  }\n}\n","import $ from 'jquery';\nimport _ from 'underscore';\nimport { __ } from '~/locale';\nimport Flash from '~/flash';\nimport axios from '~/lib/utils/axios_utils';\nimport SSHMirror from './ssh_mirror';\n\nexport default class MirrorRepos {\n  constructor(container) {\n    this.$container = $(container);\n    this.$password = null;\n    this.$form = $('.js-mirror-form', this.$container);\n    this.$urlInput = $('.js-mirror-url', this.$form);\n    this.$protectedBranchesInput = $('.js-mirror-protected', this.$form);\n    this.$table = $('.js-mirrors-table-body', this.$container);\n    this.mirrorEndpoint = this.$form.data('projectMirrorEndpoint');\n  }\n\n  init() {\n    this.initMirrorPush();\n    this.registerUpdateListeners();\n  }\n\n  initMirrorPush() {\n    this.$passwordGroup = $('.js-password-group', this.$container);\n    this.$password = $('.js-password', this.$passwordGroup);\n    this.$authMethod = $('.js-auth-method', this.$form);\n\n    this.$authMethod.on('change', () => this.togglePassword());\n    this.$password.on('input.updateUrl', () => this.debouncedUpdateUrl());\n\n    this.initMirrorSSH();\n    this.updateProtectedBranches();\n  }\n\n  initMirrorSSH() {\n    if (this.$password) {\n      this.$password.off('input.updateUrl');\n    }\n    this.$password = undefined;\n\n    this.sshMirror = new SSHMirror('.js-mirror-form');\n    this.sshMirror.init();\n  }\n\n  updateUrl() {\n    let val = this.$urlInput.val();\n\n    if (this.$password) {\n      const password = this.$password.val();\n      if (password) val = val.replace('@', `:${password}@`);\n    }\n\n    $('.js-mirror-url-hidden', this.$form).val(val);\n  }\n\n  updateProtectedBranches() {\n    const val = this.$protectedBranchesInput.get(0).checked\n      ? this.$protectedBranchesInput.val()\n      : '0';\n    $('.js-mirror-protected-hidden', this.$form).val(val);\n  }\n\n  registerUpdateListeners() {\n    this.debouncedUpdateUrl = _.debounce(() => this.updateUrl(), 200);\n    this.$urlInput.on('input', () => this.debouncedUpdateUrl());\n    this.$protectedBranchesInput.on('change', () => this.updateProtectedBranches());\n    this.$table.on('click', '.js-delete-mirror', event => this.deleteMirror(event));\n  }\n\n  togglePassword() {\n    const isPassword = this.$authMethod.val() === 'password';\n\n    if (!isPassword) {\n      this.$password.val('');\n      this.updateUrl();\n    }\n    this.$passwordGroup.collapse(isPassword ? 'show' : 'hide');\n  }\n\n  deleteMirror(event, existingPayload) {\n    const $target = $(event.currentTarget);\n    let payload = existingPayload;\n\n    if (!payload) {\n      payload = {\n        project: {\n          remote_mirrors_attributes: {\n            id: $target.data('mirrorId'),\n            enabled: 0,\n          },\n        },\n      };\n    }\n\n    return axios\n      .put(this.mirrorEndpoint, payload)\n      .then(() => this.removeRow($target))\n      .catch(() => Flash(__('Failed to remove mirror.')));\n  }\n\n  /* eslint-disable class-methods-use-this */\n  removeRow($target) {\n    const row = $target.closest('tr');\n    $('.js-delete-mirror', row).tooltip('hide');\n    row.remove();\n  }\n  /* eslint-enable class-methods-use-this */\n}\n","import initForm from '../form';\nimport MirrorRepos from '~/mirrors/mirror_repos';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initForm();\n\n  const mirrorReposContainer = document.querySelector('.js-mirror-settings');\n  if (mirrorReposContainer) new MirrorRepos(mirrorReposContainer).init();\n});\n","import $ from 'jquery';\nimport { __ } from './locale';\n\nfunction expandSection($section) {\n  $section.find('.js-settings-toggle:not(.js-settings-toggle-trigger-only)').text(__('Collapse'));\n  $section\n    .find('.settings-content')\n    .off('scroll.expandSection')\n    .scrollTop(0);\n  $section.addClass('expanded');\n  if (!$section.hasClass('no-animate')) {\n    $section\n      .addClass('animating')\n      .one('animationend.animateSection', () => $section.removeClass('animating'));\n  }\n}\n\nfunction closeSection($section) {\n  $section.find('.js-settings-toggle:not(.js-settings-toggle-trigger-only)').text(__('Expand'));\n  $section.find('.settings-content').on('scroll.expandSection', () => expandSection($section));\n  $section.removeClass('expanded');\n  if (!$section.hasClass('no-animate')) {\n    $section\n      .addClass('animating')\n      .one('animationend.animateSection', () => $section.removeClass('animating'));\n  }\n}\n\nfunction toggleSection($section) {\n  $section.removeClass('no-animate');\n  if ($section.hasClass('expanded')) {\n    closeSection($section);\n  } else {\n    expandSection($section);\n  }\n}\n\nexport default function initSettingsPanels() {\n  $('.settings').each((i, elm) => {\n    const $section = $(elm);\n    $section.on('click.toggleSection', '.js-settings-toggle', () => toggleSection($section));\n\n    if (!$section.hasClass('expanded')) {\n      $section.find('.settings-content').on('scroll.expandSection', () => {\n        $section.removeClass('no-animate');\n        expandSection($section);\n      });\n    }\n  });\n\n  if (window.location.hash) {\n    const $target = $(window.location.hash);\n    if ($target.length && $target.hasClass('settings')) {\n      expandSection($target);\n    }\n  }\n}\n","import _ from 'underscore';\n\nexport default class CreateItemDropdown {\n  /**\n   * @param {Object} options containing\n   *                         `$dropdown` target element\n   *                          `onSelect` event callback\n   * $dropdown must be an element created using `dropdown_tag()` rails helper\n   */\n  constructor(options) {\n    this.defaultToggleLabel = options.defaultToggleLabel;\n    this.fieldName = options.fieldName;\n    this.onSelect = options.onSelect || (() => {});\n    this.getDataOption = options.getData;\n    this.getDataRemote = !!options.filterRemote;\n    this.createNewItemFromValueOption = options.createNewItemFromValue;\n    this.$dropdown = options.$dropdown;\n    this.$dropdownContainer = this.$dropdown.parent();\n    this.$dropdownFooter = this.$dropdownContainer.find('.dropdown-footer');\n    this.$createButton = this.$dropdownContainer.find('.js-dropdown-create-new-item');\n\n    this.buildDropdown();\n    this.bindEvents();\n\n    // Hide footer\n    this.toggleFooter(true);\n  }\n\n  buildDropdown() {\n    this.$dropdown.glDropdown({\n      data: this.getData.bind(this),\n      filterable: true,\n      filterRemote: this.getDataRemote,\n      search: {\n        fields: ['text'],\n      },\n      selectable: true,\n      toggleLabel(selected) {\n        return selected && 'id' in selected ? _.escape(selected.title) : this.defaultToggleLabel;\n      },\n      fieldName: this.fieldName,\n      text(item) {\n        return _.escape(item.text);\n      },\n      id(item) {\n        return _.escape(item.id);\n      },\n      onFilter: this.toggleCreateNewButton.bind(this),\n      clicked: options => {\n        options.e.preventDefault();\n        this.onSelect();\n      },\n    });\n  }\n\n  clearDropdown() {\n    this.$dropdownContainer.find('.dropdown-content').html('');\n    this.$dropdownContainer.find('.dropdown-input-field').val('');\n  }\n\n  bindEvents() {\n    this.$createButton.on('click', this.onClickCreateWildcard.bind(this));\n  }\n\n  onClickCreateWildcard(e) {\n    e.preventDefault();\n\n    this.refreshData();\n    this.$dropdown.data('glDropdown').selectRowAtIndex();\n  }\n\n  refreshData() {\n    // Refresh the dropdown's data, which ends up calling `getData`\n    this.$dropdown.data('glDropdown').remote.execute();\n  }\n\n  getData(term, callback) {\n    this.getDataOption(term, (data = []) => {\n      // Ensure the selected item isn't already in the data to avoid duplicates\n      const alreadyHasSelectedItem =\n        this.selectedItem && data.some(item => item.id === this.selectedItem.id);\n\n      let uniqueData = data;\n      if (!alreadyHasSelectedItem) {\n        uniqueData = data.concat(this.selectedItem || []);\n      }\n\n      callback(uniqueData);\n    });\n  }\n\n  createNewItemFromValue(newValue) {\n    if (this.createNewItemFromValueOption) {\n      return this.createNewItemFromValueOption(newValue);\n    }\n\n    return {\n      title: newValue,\n      id: newValue,\n      text: newValue,\n    };\n  }\n\n  toggleCreateNewButton(newValue) {\n    if (newValue) {\n      this.selectedItem = this.createNewItemFromValue(newValue);\n\n      this.$dropdownContainer.find('.js-dropdown-create-new-item code').text(newValue);\n    }\n\n    this.toggleFooter(!newValue);\n  }\n\n  toggleFooter(toggleState) {\n    this.$dropdownFooter.toggleClass('hidden', toggleState);\n  }\n}\n","import Mousetrap from 'mousetrap';\nimport findAndFollowLink from '../../lib/utils/navigation_utility';\nimport Shortcuts from './shortcuts';\n\nexport default class ShortcutsNavigation extends Shortcuts {\n  constructor() {\n    super();\n\n    Mousetrap.bind('g p', () => findAndFollowLink('.shortcuts-project'));\n    Mousetrap.bind('g v', () => findAndFollowLink('.shortcuts-project-activity'));\n    Mousetrap.bind('g r', () => findAndFollowLink('.shortcuts-project-releases'));\n    Mousetrap.bind('g f', () => findAndFollowLink('.shortcuts-tree'));\n    Mousetrap.bind('g c', () => findAndFollowLink('.shortcuts-commits'));\n    Mousetrap.bind('g j', () => findAndFollowLink('.shortcuts-builds'));\n    Mousetrap.bind('g n', () => findAndFollowLink('.shortcuts-network'));\n    Mousetrap.bind('g d', () => findAndFollowLink('.shortcuts-repository-charts'));\n    Mousetrap.bind('g i', () => findAndFollowLink('.shortcuts-issues'));\n    Mousetrap.bind('g b', () => findAndFollowLink('.shortcuts-issue-boards'));\n    Mousetrap.bind('g m', () => findAndFollowLink('.shortcuts-merge_requests'));\n    Mousetrap.bind('g w', () => findAndFollowLink('.shortcuts-wiki'));\n    Mousetrap.bind('g s', () => findAndFollowLink('.shortcuts-snippets'));\n    Mousetrap.bind('g k', () => findAndFollowLink('.shortcuts-kubernetes'));\n    Mousetrap.bind('g e', () => findAndFollowLink('.shortcuts-environments'));\n    Mousetrap.bind('g l', () => findAndFollowLink('.shortcuts-metrics'));\n    Mousetrap.bind('i', () => findAndFollowLink('.shortcuts-new-issue'));\n\n    this.enabledHelp.push('.hidden-shortcut.project');\n  }\n}\n","import $ from 'jquery';\nimport AccessorUtilities from './lib/utils/accessor';\n\nexport default class ProjectSelectComboButton {\n  constructor(select) {\n    this.projectSelectInput = $(select);\n    this.newItemBtn = $('.new-project-item-link');\n    this.resourceType = this.newItemBtn.data('type');\n    this.resourceLabel = this.newItemBtn.data('label');\n    this.formattedText = this.deriveTextVariants();\n    this.groupId = this.projectSelectInput.data('groupId');\n    this.bindEvents();\n    this.initLocalStorage();\n  }\n\n  bindEvents() {\n    this.projectSelectInput\n      .siblings('.new-project-item-select-button')\n      .on('click', e => this.openDropdown(e));\n\n    this.newItemBtn.on('click', e => {\n      if (!this.getProjectFromLocalStorage()) {\n        e.preventDefault();\n        this.openDropdown(e);\n      }\n    });\n\n    this.projectSelectInput.on('change', () => this.selectProject());\n  }\n\n  initLocalStorage() {\n    const localStorageIsSafe = AccessorUtilities.isLocalStorageAccessSafe();\n\n    if (localStorageIsSafe) {\n      this.localStorageKey = [\n        'group',\n        this.groupId,\n        this.formattedText.localStorageItemType,\n        'recent-project',\n      ].join('-');\n      this.setBtnTextFromLocalStorage();\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  openDropdown(event) {\n    $(event.currentTarget)\n      .siblings('.project-item-select')\n      .select2('open');\n  }\n\n  selectProject() {\n    const selectedProjectData = JSON.parse(this.projectSelectInput.val());\n    const projectUrl = `${selectedProjectData.url}/${this.projectSelectInput.data('relativePath')}`;\n    const projectName = selectedProjectData.name;\n\n    const projectMeta = {\n      url: projectUrl,\n      name: projectName,\n    };\n\n    this.setNewItemBtnAttributes(projectMeta);\n    this.setProjectInLocalStorage(projectMeta);\n  }\n\n  setBtnTextFromLocalStorage() {\n    const cachedProjectData = this.getProjectFromLocalStorage();\n\n    this.setNewItemBtnAttributes(cachedProjectData);\n  }\n\n  setNewItemBtnAttributes(project) {\n    if (project) {\n      this.newItemBtn.attr('href', project.url);\n      this.newItemBtn.text(`${this.formattedText.defaultTextPrefix} in ${project.name}`);\n    } else {\n      this.newItemBtn.text(`Select project to create ${this.formattedText.presetTextSuffix}`);\n    }\n  }\n\n  getProjectFromLocalStorage() {\n    const projectString = localStorage.getItem(this.localStorageKey);\n\n    return JSON.parse(projectString);\n  }\n\n  setProjectInLocalStorage(projectMeta) {\n    const projectString = JSON.stringify(projectMeta);\n\n    localStorage.setItem(this.localStorageKey, projectString);\n  }\n\n  deriveTextVariants() {\n    const defaultTextPrefix = this.resourceLabel;\n\n    // the trailing slice call depluralizes each of these strings (e.g. new-issues -> new-issue)\n    const localStorageItemType = `new-${this.resourceType\n      .split('_')\n      .join('-')\n      .slice(0, -1)}`;\n    const presetTextSuffix = this.resourceType\n      .split('_')\n      .join(' ')\n      .slice(0, -1);\n\n    return {\n      localStorageItemType, // new-issue / new-merge-request\n      defaultTextPrefix, // New issue / New merge request\n      presetTextSuffix, // issue / merge request\n    };\n  }\n}\n","/* eslint-disable func-names, no-var, object-shorthand, one-var, no-else-return */\n\nimport $ from 'jquery';\nimport Api from './api';\nimport ProjectSelectComboButton from './project_select_combo_button';\n\nexport default function projectSelect() {\n  $('.ajax-project-select').each(function(i, select) {\n    var placeholder;\n    const simpleFilter = $(select).data('simpleFilter') || false;\n    this.groupId = $(select).data('groupId');\n    this.includeGroups = $(select).data('includeGroups');\n    this.allProjects = $(select).data('allProjects') || false;\n    this.orderBy = $(select).data('orderBy') || 'id';\n    this.withIssuesEnabled = $(select).data('withIssuesEnabled');\n    this.withMergeRequestsEnabled = $(select).data('withMergeRequestsEnabled');\n    this.withShared =\n      $(select).data('withShared') === undefined ? true : $(select).data('withShared');\n    this.includeProjectsInSubgroups = $(select).data('includeProjectsInSubgroups') || false;\n    this.allowClear = $(select).data('allowClear') || false;\n\n    placeholder = 'Search for project';\n    if (this.includeGroups) {\n      placeholder += ' or group';\n    }\n\n    $(select).select2({\n      placeholder: placeholder,\n      minimumInputLength: 0,\n      query: (function(_this) {\n        return function(query) {\n          var finalCallback, projectsCallback;\n          finalCallback = function(projects) {\n            var data;\n            data = {\n              results: projects,\n            };\n            return query.callback(data);\n          };\n          if (_this.includeGroups) {\n            projectsCallback = function(projects) {\n              var groupsCallback;\n              groupsCallback = function(groups) {\n                var data;\n                data = groups.concat(projects);\n                return finalCallback(data);\n              };\n              return Api.groups(query.term, {}, groupsCallback);\n            };\n          } else {\n            projectsCallback = finalCallback;\n          }\n          if (_this.groupId) {\n            return Api.groupProjects(\n              _this.groupId,\n              query.term,\n              {\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                with_shared: _this.withShared,\n                include_subgroups: _this.includeProjectsInSubgroups,\n              },\n              projectsCallback,\n            );\n          } else {\n            return Api.projects(\n              query.term,\n              {\n                order_by: _this.orderBy,\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                membership: !_this.allProjects,\n              },\n              projectsCallback,\n            );\n          }\n        };\n      })(this),\n      id: function(project) {\n        if (simpleFilter) return project.id;\n        return JSON.stringify({\n          name: project.name,\n          url: project.web_url,\n        });\n      },\n      text: function(project) {\n        return project.name_with_namespace || project.name;\n      },\n\n      initSelection: function(el, callback) {\n        return Api.project(el.val()).then(({ data }) => callback(data));\n      },\n\n      allowClear: this.allowClear,\n\n      dropdownCssClass: 'ajax-project-dropdown',\n    });\n    if (simpleFilter) return select;\n    return new ProjectSelectComboButton(select);\n  });\n}\n","/* eslint-disable func-names, no-var, no-return-assign, one-var, object-shorthand, vars-on-top */\n\nimport $ from 'jquery';\nimport Cookies from 'js-cookie';\nimport { __ } from '~/locale';\nimport { visitUrl } from '~/lib/utils/url_utility';\nimport axios from '~/lib/utils/axios_utils';\nimport flash from '~/flash';\nimport projectSelect from '../../project_select';\n\nexport default class Project {\n  constructor() {\n    const $cloneOptions = $('ul.clone-options-dropdown');\n    const $projectCloneField = $('#project_clone');\n    const $cloneBtnLabel = $('.js-git-clone-holder .js-clone-dropdown-label');\n    const mobileCloneField = document.querySelector(\n      '.js-mobile-git-clone .js-clone-dropdown-label',\n    );\n\n    const selectedCloneOption = $cloneBtnLabel.text().trim();\n    if (selectedCloneOption.length > 0) {\n      $(`a:contains('${selectedCloneOption}')`, $cloneOptions).addClass('is-active');\n    }\n\n    $('a', $cloneOptions).on('click', e => {\n      e.preventDefault();\n      const $this = $(e.currentTarget);\n      const url = $this.attr('href');\n      const cloneType = $this.data('cloneType');\n\n      $('.is-active', $cloneOptions).removeClass('is-active');\n      $(`a[data-clone-type=\"${cloneType}\"]`).each(function() {\n        const $el = $(this);\n        const activeText = $el.find('.dropdown-menu-inner-title').text();\n        const $container = $el.closest('.project-clone-holder');\n        const $label = $container.find('.js-clone-dropdown-label');\n\n        $el.toggleClass('is-active');\n        $label.text(activeText);\n      });\n\n      if (mobileCloneField) {\n        mobileCloneField.dataset.clipboardText = url;\n      } else {\n        $projectCloneField.val(url);\n      }\n      $('.js-git-empty .js-clone').text(url);\n    });\n    // Ref switcher\n    Project.initRefSwitcher();\n    $('.project-refs-select').on('change', function() {\n      return $(this)\n        .parents('form')\n        .submit();\n    });\n    $('.hide-no-ssh-message').on('click', function(e) {\n      Cookies.set('hide_no_ssh_message', 'false');\n      $(this)\n        .parents('.no-ssh-key-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-no-password-message').on('click', function(e) {\n      Cookies.set('hide_no_password_message', 'false');\n      $(this)\n        .parents('.no-password-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-auto-devops-implicitly-enabled-banner').on('click', function(e) {\n      const projectId = $(this).data('project-id');\n      const cookieKey = `hide_auto_devops_implicitly_enabled_banner_${projectId}`;\n      Cookies.set(cookieKey, 'false');\n      $(this)\n        .parents('.auto-devops-implicitly-enabled-banner')\n        .remove();\n      return e.preventDefault();\n    });\n    Project.projectSelectDropdown();\n  }\n\n  static projectSelectDropdown() {\n    projectSelect();\n    $('.project-item-select').on('click', e => Project.changeProject($(e.currentTarget).val()));\n  }\n\n  static changeProject(url) {\n    return (window.location = url);\n  }\n\n  static initRefSwitcher() {\n    var refListItem = document.createElement('li');\n    var refLink = document.createElement('a');\n\n    refLink.href = '#';\n\n    return $('.js-project-refs-dropdown').each(function() {\n      var $dropdown, selected;\n      $dropdown = $(this);\n      selected = $dropdown.data('selected');\n      return $dropdown.glDropdown({\n        data(term, callback) {\n          axios\n            .get($dropdown.data('refsUrl'), {\n              params: {\n                ref: $dropdown.data('ref'),\n                search: term,\n              },\n            })\n            .then(({ data }) => callback(data))\n            .catch(() => flash(__('An error occurred while getting projects')));\n        },\n        selectable: true,\n        filterable: true,\n        filterRemote: true,\n        filterByText: true,\n        inputFieldName: $dropdown.data('inputFieldName'),\n        fieldName: $dropdown.data('fieldName'),\n        renderRow: function(ref) {\n          var li = refListItem.cloneNode(false);\n\n          if (ref.header != null) {\n            li.className = 'dropdown-header';\n            li.textContent = ref.header;\n          } else {\n            var link = refLink.cloneNode(false);\n\n            if (ref === selected) {\n              link.className = 'is-active';\n            }\n\n            link.textContent = ref;\n            link.dataset.ref = ref;\n\n            li.appendChild(link);\n          }\n\n          return li;\n        },\n        id: function(obj, $el) {\n          return $el.attr('data-ref');\n        },\n        toggleLabel: function(obj, $el) {\n          return $el.text().trim();\n        },\n        clicked: function(options) {\n          const { e } = options;\n          e.preventDefault();\n          if ($('input[name=\"ref\"]').length) {\n            var $form = $dropdown.closest('form');\n\n            var $visit = $dropdown.data('visit');\n            var shouldVisit = $visit ? true : $visit;\n            var action = $form.attr('action');\n            var divider = action.indexOf('?') === -1 ? '?' : '&';\n            if (shouldVisit) {\n              visitUrl(`${action}${divider}${$form.serialize()}`);\n            }\n          }\n        },\n      });\n    });\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav-links scrolling-tabs separator\"},_vm._l((_vm.tabs),function(tab,i){return _c('li',{key:i,class:{\n      active: tab.isActive,\n    }},[_c('a',{class:(\"js-\" + _vm.scope + \"-tab-\" + (tab.scope)),attrs:{\"role\":\"button\"},on:{\"click\":function($event){_vm.onTabClick(tab);}}},[_vm._v(\"\\n      \"+_vm._s(tab.name)+\"\\n\\n      \"),(_vm.shouldRenderBadge(tab.count))?_c('span',{staticClass:\"badge badge-pill\"},[_vm._v(\" \"+_vm._s(tab.count)+\" \")]):_vm._e()])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./navigation_tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./navigation_tabs.vue?vue&type=script&lang=js&\"","<script>\nimport $ from 'jquery';\n\n/**\n * Given an array of tabs, renders non linked bootstrap tabs.\n * When a tab is clicked it will trigger an event and provide the clicked scope.\n *\n * This component is used in apps that handle the API call.\n * If you only need to change the URL this component should not be used.\n *\n * @example\n * <navigation-tabs\n *   :tabs=\"[\n *   {\n *      name: String,\n *      scope: String,\n *      count: Number || Undefined || Null,\n *      isActive: Boolean,\n *    },\n *   ]\"\n *   @onChangeTab=\"onChangeTab\"\n *   />\n */\nexport default {\n  name: 'NavigationTabs',\n  props: {\n    tabs: {\n      type: Array,\n      required: true,\n    },\n    scope: {\n      type: String,\n      required: false,\n      default: '',\n    },\n  },\n  mounted() {\n    $(document).trigger('init.scrolling-tabs');\n  },\n  methods: {\n    shouldRenderBadge(count) {\n      // 0 is valid in a badge, but evaluates to false, we need to check for undefined or null\n      return !(count === undefined || count === null);\n    },\n\n    onTabClick(tab) {\n      this.$emit('onChangeTab', tab.scope);\n    },\n  },\n};\n</script>\n<template>\n  <ul class=\"nav-links scrolling-tabs separator\">\n    <li\n      v-for=\"(tab, i) in tabs\"\n      :key=\"i\"\n      :class=\"{\n        active: tab.isActive,\n      }\"\n    >\n      <a :class=\"`js-${scope}-tab-${tab.scope}`\" role=\"button\" @click=\"onTabClick(tab);\">\n        {{ tab.name }}\n\n        <span v-if=\"shouldRenderBadge(tab.count)\" class=\"badge badge-pill\"> {{ tab.count }} </span>\n      </a>\n    </li>\n  </ul>\n</template>\n","import { render, staticRenderFns } from \"./navigation_tabs.vue?vue&type=template&id=0d7efa2c&\"\nimport script from \"./navigation_tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./navigation_tabs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"navigation_tabs.vue\"\nexport default component.exports","export default (buttonSelector, fileSelector) => {\n  const btn = document.querySelector(buttonSelector);\n  const fileInput = document.querySelector(fileSelector);\n  const form = btn.closest('form');\n\n  btn.addEventListener('click', () => {\n    fileInput.click();\n  });\n\n  fileInput.addEventListener('change', () => {\n    form.querySelector('.js-filename').textContent = fileInput.value.replace(/^.*[\\\\\\/]/, ''); // eslint-disable-line no-useless-escape\n  });\n};\n","import $ from 'jquery';\n\nexport default {\n  bind(el) {\n    $(el).tooltip({\n      trigger: 'hover',\n    });\n  },\n\n  componentUpdated(el) {\n    $(el).tooltip('_fixTitle');\n\n    // update visible tooltips\n    const tooltipInstance = $(el).data('bs.tooltip');\n    const tip = tooltipInstance.getTipElement();\n    tooltipInstance.setElementContent(\n      $(tip.querySelectorAll('.tooltip-inner')),\n      tooltipInstance.getTitle(),\n    );\n  },\n\n  unbind(el) {\n    $(el).tooltip('dispose');\n  },\n};\n","import initGkeDropdowns from '~/projects/gke_cluster_dropdowns';\nimport PersistentUserCallout from '../../persistent_user_callout';\nimport Project from './project';\nimport ShortcutsNavigation from '../../behaviors/shortcuts/shortcuts_navigation';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const { page } = document.body.dataset;\n  const newClusterViews = [\n    'projects:clusters:new',\n    'projects:clusters:create_gcp',\n    'projects:clusters:create_user',\n  ];\n\n  if (newClusterViews.indexOf(page) > -1) {\n    const callout = document.querySelector('.gcp-signup-offer');\n    if (callout) new PersistentUserCallout(callout); // eslint-disable-line no-new\n\n    initGkeDropdowns();\n  }\n\n  new Project(); // eslint-disable-line no-new\n  new ShortcutsNavigation(); // eslint-disable-line no-new\n});\n","export default class ProtectedTagAccessDropdown {\n  constructor(options) {\n    this.options = options;\n    this.initDropdown();\n  }\n\n  initDropdown() {\n    const { onSelect } = this.options;\n    this.options.$dropdown.glDropdown({\n      data: this.options.data,\n      selectable: true,\n      inputId: this.options.$dropdown.data('inputId'),\n      fieldName: this.options.$dropdown.data('fieldName'),\n      toggleLabel(item, $el) {\n        if ($el.is('.is-active')) {\n          return item.text;\n        }\n        return 'Select';\n      },\n      clicked(options) {\n        options.e.preventDefault();\n        onSelect();\n      },\n    });\n  }\n}\n","import $ from 'jquery';\nimport ProtectedTagAccessDropdown from './protected_tag_access_dropdown';\nimport CreateItemDropdown from '../create_item_dropdown';\n\nexport default class ProtectedTagCreate {\n  constructor() {\n    this.$form = $('.js-new-protected-tag');\n    this.buildDropdowns();\n  }\n\n  buildDropdowns() {\n    const $allowedToCreateDropdown = this.$form.find('.js-allowed-to-create');\n\n    // Cache callback\n    this.onSelectCallback = this.onSelect.bind(this);\n\n    // Allowed to Create dropdown\n    this.protectedTagAccessDropdown = new ProtectedTagAccessDropdown({\n      $dropdown: $allowedToCreateDropdown,\n      data: gon.create_access_levels,\n      onSelect: this.onSelectCallback,\n    });\n\n    // Select default\n    $allowedToCreateDropdown.data('glDropdown').selectRowAtIndex(0);\n\n    // Protected tag dropdown\n    this.createItemDropdown = new CreateItemDropdown({\n      $dropdown: this.$form.find('.js-protected-tag-select'),\n      defaultToggleLabel: 'Protected Tag',\n      fieldName: 'protected_tag[name]',\n      onSelect: this.onSelectCallback,\n      getData: ProtectedTagCreate.getProtectedTags,\n    });\n  }\n\n  // This will run after clicked callback\n  onSelect() {\n    // Enable submit button\n    const $tagInput = this.$form.find('input[name=\"protected_tag[name]\"]');\n    const $allowedToCreateInput = this.$form.find('#create_access_levels_attributes');\n\n    this.$form\n      .find('input[type=\"submit\"]')\n      .prop('disabled', !($tagInput.val() && $allowedToCreateInput.length));\n  }\n\n  static getProtectedTags(term, callback) {\n    callback(gon.open_tags);\n  }\n}\n","import flash from '../flash';\nimport axios from '../lib/utils/axios_utils';\nimport ProtectedTagAccessDropdown from './protected_tag_access_dropdown';\n\nexport default class ProtectedTagEdit {\n  constructor(options) {\n    this.$wrap = options.$wrap;\n    this.$allowedToCreateDropdownButton = this.$wrap.find('.js-allowed-to-create');\n    this.onSelectCallback = this.onSelect.bind(this);\n\n    this.buildDropdowns();\n  }\n\n  buildDropdowns() {\n    // Allowed to create dropdown\n    this.protectedTagAccessDropdown = new ProtectedTagAccessDropdown({\n      $dropdown: this.$allowedToCreateDropdownButton,\n      data: gon.create_access_levels,\n      onSelect: this.onSelectCallback,\n    });\n  }\n\n  onSelect() {\n    const $allowedToCreateInput = this.$wrap.find(\n      `input[name=\"${this.$allowedToCreateDropdownButton.data('fieldName')}\"]`,\n    );\n\n    // Do not update if one dropdown has not selected any option\n    if (!$allowedToCreateInput.length) return;\n\n    this.$allowedToCreateDropdownButton.disable();\n\n    axios\n      .patch(this.$wrap.data('url'), {\n        protected_tag: {\n          create_access_levels_attributes: [\n            {\n              id: this.$allowedToCreateDropdownButton.data('accessLevelId'),\n              access_level: $allowedToCreateInput.val(),\n            },\n          ],\n        },\n      })\n      .then(() => {\n        this.$allowedToCreateDropdownButton.enable();\n      })\n      .catch(() => {\n        this.$allowedToCreateDropdownButton.enable();\n\n        flash('Failed to update tag!', 'alert', document.querySelector('.js-protected-tags-list'));\n      });\n  }\n}\n","/* eslint-disable no-new */\n\nimport $ from 'jquery';\nimport ProtectedTagEdit from './protected_tag_edit';\n\nexport default class ProtectedTagEditList {\n  constructor() {\n    this.$wrap = $('.protected-tags-list');\n    this.initEditForm();\n  }\n\n  initEditForm() {\n    this.$wrap.find('.js-protected-tag-edit-form').each((i, el) => {\n      new ProtectedTagEdit({\n        $wrap: $(el),\n      });\n    });\n  }\n}\n","import Vue from 'vue';\n\nexport default new Vue();\n","import axios from '~/lib/utils/axios_utils';\n\nexport default class DeployKeysService {\n  constructor(endpoint) {\n    this.axios = axios.create({\n      baseURL: endpoint,\n    });\n  }\n\n  getKeys() {\n    return this.axios.get().then(response => response.data);\n  }\n\n  enableKey(id) {\n    return this.axios.put(`${id}/enable`).then(response => response.data);\n  }\n\n  disableKey(id) {\n    return this.axios.put(`${id}/disable`).then(response => response.data);\n  }\n}\n","export default class DeployKeysStore {\n  constructor() {\n    this.keys = {};\n  }\n\n  isEnabled(id) {\n    return this.keys.enabled_keys.some(key => key.id === id);\n  }\n}\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action_btn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action_btn.vue?vue&type=script&lang=js&\"","<script>\nimport { GlLoadingIcon } from '@gitlab/ui';\nimport eventHub from '../eventhub';\n\nexport default {\n  components: {\n    GlLoadingIcon,\n  },\n  props: {\n    deployKey: {\n      type: Object,\n      required: true,\n    },\n    type: {\n      type: String,\n      required: true,\n    },\n    btnCssClass: {\n      type: String,\n      required: false,\n      default: 'btn-default',\n    },\n  },\n  data() {\n    return {\n      isLoading: false,\n    };\n  },\n  methods: {\n    doAction() {\n      this.isLoading = true;\n\n      eventHub.$emit(`${this.type}.key`, this.deployKey, () => {\n        this.isLoading = false;\n      });\n    },\n  },\n};\n</script>\n\n<template>\n  <button\n    :class=\"[{ disabled: isLoading }, btnCssClass]\"\n    :disabled=\"isLoading\"\n    class=\"btn\"\n    @click=\"doAction\"\n  >\n    <slot></slot>\n    <gl-loading-icon v-if=\"isLoading\" :inline=\"true\" />\n  </button>\n</template>\n","import { render, staticRenderFns } from \"./action_btn.vue?vue&type=template&id=e25cb08c&\"\nimport script from \"./action_btn.vue?vue&type=script&lang=js&\"\nexport * from \"./action_btn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"action_btn.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn\",class:[{ disabled: _vm.isLoading }, _vm.btnCssClass],attrs:{\"disabled\":_vm.isLoading},on:{\"click\":_vm.doAction}},[_vm._t(\"default\"),_vm._v(\" \"),(_vm.isLoading)?_c('gl-loading-icon',{attrs:{\"inline\":true}}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport _ from 'underscore';\nimport { s__, sprintf } from '~/locale';\nimport icon from '~/vue_shared/components/icon.vue';\nimport tooltip from '~/vue_shared/directives/tooltip';\nimport timeagoMixin from '~/vue_shared/mixins/timeago';\n\nimport actionBtn from './action_btn.vue';\n\nexport default {\n  components: {\n    actionBtn,\n    icon,\n  },\n  directives: {\n    tooltip,\n  },\n  mixins: [timeagoMixin],\n  props: {\n    deployKey: {\n      type: Object,\n      required: true,\n    },\n    store: {\n      type: Object,\n      required: true,\n    },\n    endpoint: {\n      type: String,\n      required: true,\n    },\n    projectId: {\n      type: String,\n      required: false,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      projectsExpanded: false,\n    };\n  },\n  computed: {\n    editDeployKeyPath() {\n      return `${this.endpoint}/${this.deployKey.id}/edit`;\n    },\n    projects() {\n      const projects = [...this.deployKey.deploy_keys_projects];\n\n      if (this.projectId !== null) {\n        const indexOfCurrentProject = _.findIndex(\n          projects,\n          project =>\n            project &&\n            project.project &&\n            project.project.id &&\n            project.project.id.toString() === this.projectId,\n        );\n\n        if (indexOfCurrentProject > -1) {\n          const currentProject = projects.splice(indexOfCurrentProject, 1);\n          currentProject[0].project.full_name = s__('DeployKeys|Current project');\n          return currentProject.concat(projects);\n        }\n      }\n      return projects;\n    },\n    firstProject() {\n      return _.head(this.projects);\n    },\n    restProjects() {\n      return _.tail(this.projects);\n    },\n    restProjectsTooltip() {\n      return sprintf(s__('DeployKeys|Expand %{count} other projects'), {\n        count: this.restProjects.length,\n      });\n    },\n    restProjectsLabel() {\n      return sprintf(s__('DeployKeys|+%{count} others'), { count: this.restProjects.length });\n    },\n    isEnabled() {\n      return this.store.isEnabled(this.deployKey.id);\n    },\n    isRemovable() {\n      return (\n        this.store.isEnabled(this.deployKey.id) &&\n        this.deployKey.destroyed_when_orphaned &&\n        this.deployKey.almost_orphaned\n      );\n    },\n    isExpandable() {\n      return !this.projectsExpanded && this.restProjects.length > 1;\n    },\n    isExpanded() {\n      return this.projectsExpanded || this.restProjects.length === 1;\n    },\n  },\n  methods: {\n    projectTooltipTitle(project) {\n      return project.can_push\n        ? s__('DeployKeys|Write access allowed')\n        : s__('DeployKeys|Read access only');\n    },\n    toggleExpanded() {\n      this.projectsExpanded = !this.projectsExpanded;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"gl-responsive-table-row deploy-key\">\n    <div class=\"table-section section-40\">\n      <div role=\"rowheader\" class=\"table-mobile-header\">{{ s__('DeployKeys|Deploy key') }}</div>\n      <div class=\"table-mobile-content\">\n        <strong class=\"title qa-key-title\"> {{ deployKey.title }} </strong>\n        <div class=\"fingerprint qa-key-fingerprint\">{{ deployKey.fingerprint }}</div>\n      </div>\n    </div>\n    <div class=\"table-section section-30 section-wrap\">\n      <div role=\"rowheader\" class=\"table-mobile-header\">{{ s__('DeployKeys|Project usage') }}</div>\n      <div class=\"table-mobile-content deploy-project-list\">\n        <template v-if=\"projects.length > 0\">\n          <a\n            v-tooltip\n            :title=\"projectTooltipTitle(firstProject)\"\n            class=\"label deploy-project-label\"\n          >\n            <span> {{ firstProject.project.full_name }} </span>\n            <icon :name=\"firstProject.can_push ? 'lock-open' : 'lock'\" />\n          </a>\n          <a\n            v-if=\"isExpandable\"\n            v-tooltip\n            :title=\"restProjectsTooltip\"\n            class=\"label deploy-project-label\"\n            @click=\"toggleExpanded\"\n          >\n            <span>{{ restProjectsLabel }}</span>\n          </a>\n          <a\n            v-for=\"deployKeysProject in restProjects\"\n            v-else-if=\"isExpanded\"\n            :key=\"deployKeysProject.project.full_path\"\n            v-tooltip\n            :href=\"deployKeysProject.project.full_path\"\n            :title=\"projectTooltipTitle(deployKeysProject)\"\n            class=\"label deploy-project-label\"\n          >\n            <span> {{ deployKeysProject.project.full_name }} </span>\n            <icon :name=\"deployKeysProject.can_push ? 'lock-open' : 'lock'\" />\n          </a>\n        </template>\n        <span v-else class=\"text-secondary\">{{ __('None') }}</span>\n      </div>\n    </div>\n    <div class=\"table-section section-15 text-right\">\n      <div role=\"rowheader\" class=\"table-mobile-header\">{{ __('Created') }}</div>\n      <div class=\"table-mobile-content text-secondary key-created-at\">\n        <span v-tooltip :title=\"tooltipTitle(deployKey.created_at)\">\n          <icon name=\"calendar\" /> <span>{{ timeFormated(deployKey.created_at) }}</span>\n        </span>\n      </div>\n    </div>\n    <div class=\"table-section section-15 table-button-footer deploy-key-actions\">\n      <div class=\"btn-group table-action-buttons\">\n        <action-btn v-if=\"!isEnabled\" :deploy-key=\"deployKey\" type=\"enable\">\n          {{ __('Enable') }}\n        </action-btn>\n        <a\n          v-if=\"deployKey.can_edit\"\n          v-tooltip\n          :href=\"editDeployKeyPath\"\n          :title=\"__('Edit')\"\n          class=\"btn btn-default text-secondary\"\n          data-container=\"body\"\n        >\n          <icon name=\"pencil\" />\n        </a>\n        <action-btn\n          v-if=\"isRemovable\"\n          v-tooltip\n          :deploy-key=\"deployKey\"\n          :title=\"__('Remove')\"\n          btn-css-class=\"btn-danger\"\n          type=\"remove\"\n          data-container=\"body\"\n        >\n          <icon name=\"remove\" />\n        </action-btn>\n        <action-btn\n          v-else-if=\"isEnabled\"\n          v-tooltip\n          :deploy-key=\"deployKey\"\n          :title=\"__('Disable')\"\n          btn-css-class=\"btn-warning\"\n          type=\"disable\"\n          data-container=\"body\"\n        >\n          <icon name=\"cancel\" />\n        </action-btn>\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./key.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./key.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./key.vue?vue&type=template&id=17018472&\"\nimport script from \"./key.vue?vue&type=script&lang=js&\"\nexport * from \"./key.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"key.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"gl-responsive-table-row deploy-key\"},[_c('div',{staticClass:\"table-section section-40\"},[_c('div',{staticClass:\"table-mobile-header\",attrs:{\"role\":\"rowheader\"}},[_vm._v(_vm._s(_vm.s__('DeployKeys|Deploy key')))]),_vm._v(\" \"),_c('div',{staticClass:\"table-mobile-content\"},[_c('strong',{staticClass:\"title qa-key-title\"},[_vm._v(\" \"+_vm._s(_vm.deployKey.title)+\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"fingerprint qa-key-fingerprint\"},[_vm._v(_vm._s(_vm.deployKey.fingerprint))])])]),_vm._v(\" \"),_c('div',{staticClass:\"table-section section-30 section-wrap\"},[_c('div',{staticClass:\"table-mobile-header\",attrs:{\"role\":\"rowheader\"}},[_vm._v(_vm._s(_vm.s__('DeployKeys|Project usage')))]),_vm._v(\" \"),_c('div',{staticClass:\"table-mobile-content deploy-project-list\"},[(_vm.projects.length > 0)?[_c('a',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],staticClass:\"label deploy-project-label\",attrs:{\"title\":_vm.projectTooltipTitle(_vm.firstProject)}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.firstProject.project.full_name)+\" \")]),_vm._v(\" \"),_c('icon',{attrs:{\"name\":_vm.firstProject.can_push ? 'lock-open' : 'lock'}})],1),_vm._v(\" \"),(_vm.isExpandable)?_c('a',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],staticClass:\"label deploy-project-label\",attrs:{\"title\":_vm.restProjectsTooltip},on:{\"click\":_vm.toggleExpanded}},[_c('span',[_vm._v(_vm._s(_vm.restProjectsLabel))])]):(_vm.isExpanded)?_vm._l((_vm.restProjects),function(deployKeysProject){return _c('a',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],key:deployKeysProject.project.full_path,staticClass:\"label deploy-project-label\",attrs:{\"href\":deployKeysProject.project.full_path,\"title\":_vm.projectTooltipTitle(deployKeysProject)}},[_c('span',[_vm._v(\" \"+_vm._s(deployKeysProject.project.full_name)+\" \")]),_vm._v(\" \"),_c('icon',{attrs:{\"name\":deployKeysProject.can_push ? 'lock-open' : 'lock'}})],1)}):_vm._e()]:_c('span',{staticClass:\"text-secondary\"},[_vm._v(_vm._s(_vm.__('None')))])],2)]),_vm._v(\" \"),_c('div',{staticClass:\"table-section section-15 text-right\"},[_c('div',{staticClass:\"table-mobile-header\",attrs:{\"role\":\"rowheader\"}},[_vm._v(_vm._s(_vm.__('Created')))]),_vm._v(\" \"),_c('div',{staticClass:\"table-mobile-content text-secondary key-created-at\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],attrs:{\"title\":_vm.tooltipTitle(_vm.deployKey.created_at)}},[_c('icon',{attrs:{\"name\":\"calendar\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.timeFormated(_vm.deployKey.created_at)))])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"table-section section-15 table-button-footer deploy-key-actions\"},[_c('div',{staticClass:\"btn-group table-action-buttons\"},[(!_vm.isEnabled)?_c('action-btn',{attrs:{\"deploy-key\":_vm.deployKey,\"type\":\"enable\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.__('Enable'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.deployKey.can_edit)?_c('a',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],staticClass:\"btn btn-default text-secondary\",attrs:{\"href\":_vm.editDeployKeyPath,\"title\":_vm.__('Edit'),\"data-container\":\"body\"}},[_c('icon',{attrs:{\"name\":\"pencil\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.isRemovable)?_c('action-btn',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],attrs:{\"deploy-key\":_vm.deployKey,\"title\":_vm.__('Remove'),\"btn-css-class\":\"btn-danger\",\"type\":\"remove\",\"data-container\":\"body\"}},[_c('icon',{attrs:{\"name\":\"remove\"}})],1):(_vm.isEnabled)?_c('action-btn',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],attrs:{\"deploy-key\":_vm.deployKey,\"title\":_vm.__('Disable'),\"btn-css-class\":\"btn-warning\",\"type\":\"disable\",\"data-container\":\"body\"}},[_c('icon',{attrs:{\"name\":\"cancel\"}})],1):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./keys_panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./keys_panel.vue?vue&type=script&lang=js&\"","<script>\nimport deployKey from './key.vue';\n\nexport default {\n  components: {\n    deployKey,\n  },\n  props: {\n    keys: {\n      type: Array,\n      required: true,\n    },\n    store: {\n      type: Object,\n      required: true,\n    },\n    endpoint: {\n      type: String,\n      required: true,\n    },\n    projectId: {\n      type: String,\n      required: false,\n      default: null,\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"deploy-keys-panel table-holder\">\n    <template v-if=\"keys.length > 0\">\n      <div role=\"row\" class=\"gl-responsive-table-row table-row-header\">\n        <div role=\"rowheader\" class=\"table-section section-40\">\n          {{ s__('DeployKeys|Deploy key') }}\n        </div>\n        <div role=\"rowheader\" class=\"table-section section-30\">\n          {{ s__('DeployKeys|Project usage') }}\n        </div>\n        <div role=\"rowheader\" class=\"table-section section-15 text-right\">{{ __('Created') }}</div>\n      </div>\n      <deploy-key\n        v-for=\"deployKey in keys\"\n        :key=\"deployKey.id\"\n        :deploy-key=\"deployKey\"\n        :store=\"store\"\n        :endpoint=\"endpoint\"\n        :project-id=\"projectId\"\n      />\n    </template>\n    <div v-else class=\"settings-message text-center\">\n      {{ s__('DeployKeys|No deploy keys found. Create one with the form above.') }}\n    </div>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./keys_panel.vue?vue&type=template&id=1ab9d1e0&\"\nimport script from \"./keys_panel.vue?vue&type=script&lang=js&\"\nexport * from \"./keys_panel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"keys_panel.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"deploy-keys-panel table-holder\"},[(_vm.keys.length > 0)?[_c('div',{staticClass:\"gl-responsive-table-row table-row-header\",attrs:{\"role\":\"row\"}},[_c('div',{staticClass:\"table-section section-40\",attrs:{\"role\":\"rowheader\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.s__('DeployKeys|Deploy key'))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"table-section section-30\",attrs:{\"role\":\"rowheader\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.s__('DeployKeys|Project usage'))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"table-section section-15 text-right\",attrs:{\"role\":\"rowheader\"}},[_vm._v(_vm._s(_vm.__('Created')))])]),_vm._v(\" \"),_vm._l((_vm.keys),function(deployKey){return _c('deploy-key',{key:deployKey.id,attrs:{\"deploy-key\":deployKey,\"store\":_vm.store,\"endpoint\":_vm.endpoint,\"project-id\":_vm.projectId}})})]:_c('div',{staticClass:\"settings-message text-center\"},[_vm._v(\"\\n    \"+_vm._s(_vm.s__('DeployKeys|No deploy keys found. Create one with the form above.'))+\"\\n  \")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"","<script>\nimport { s__ } from '~/locale';\nimport Flash from '~/flash';\nimport NavigationTabs from '~/vue_shared/components/navigation_tabs.vue';\nimport eventHub from '../eventhub';\nimport DeployKeysService from '../service';\nimport DeployKeysStore from '../store';\nimport KeysPanel from './keys_panel.vue';\nimport { GlLoadingIcon } from '@gitlab/ui';\n\nexport default {\n  components: {\n    KeysPanel,\n    NavigationTabs,\n    GlLoadingIcon,\n  },\n  props: {\n    endpoint: {\n      type: String,\n      required: true,\n    },\n    projectId: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      currentTab: 'enabled_keys',\n      isLoading: false,\n      store: new DeployKeysStore(),\n    };\n  },\n  scopes: {\n    enabled_keys: s__('DeployKeys|Enabled deploy keys'),\n    available_project_keys: s__('DeployKeys|Privately accessible deploy keys'),\n    public_keys: s__('DeployKeys|Publicly accessible deploy keys'),\n  },\n  computed: {\n    tabs() {\n      return Object.keys(this.$options.scopes).map(scope => {\n        const count = Array.isArray(this.keys[scope]) ? this.keys[scope].length : null;\n\n        return {\n          name: this.$options.scopes[scope],\n          scope,\n          isActive: scope === this.currentTab,\n          count,\n        };\n      });\n    },\n    hasKeys() {\n      return Object.keys(this.keys).length;\n    },\n    keys() {\n      return this.store.keys;\n    },\n  },\n  created() {\n    this.service = new DeployKeysService(this.endpoint);\n\n    eventHub.$on('enable.key', this.enableKey);\n    eventHub.$on('remove.key', this.disableKey);\n    eventHub.$on('disable.key', this.disableKey);\n  },\n  mounted() {\n    this.fetchKeys();\n  },\n  beforeDestroy() {\n    eventHub.$off('enable.key', this.enableKey);\n    eventHub.$off('remove.key', this.disableKey);\n    eventHub.$off('disable.key', this.disableKey);\n  },\n  methods: {\n    onChangeTab(tab) {\n      this.currentTab = tab;\n    },\n    fetchKeys() {\n      this.isLoading = true;\n\n      return this.service\n        .getKeys()\n        .then(data => {\n          this.isLoading = false;\n          this.store.keys = data;\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.store.keys = {};\n          return new Flash(s__('DeployKeys|Error getting deploy keys'));\n        });\n    },\n    enableKey(deployKey) {\n      this.service\n        .enableKey(deployKey.id)\n        .then(this.fetchKeys)\n        .catch(() => new Flash(s__('DeployKeys|Error enabling deploy key')));\n    },\n    disableKey(deployKey, callback) {\n      if (\n        // eslint-disable-next-line no-alert\n        window.confirm(s__('DeployKeys|You are going to remove this deploy key. Are you sure?'))\n      ) {\n        this.service\n          .disableKey(deployKey.id)\n          .then(this.fetchKeys)\n          .then(callback)\n          .catch(() => new Flash(s__('DeployKeys|Error removing deploy key')));\n      } else {\n        callback();\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"append-bottom-default deploy-keys\">\n    <gl-loading-icon\n      v-if=\"isLoading && !hasKeys\"\n      :label=\"s__('DeployKeys|Loading deploy keys')\"\n      :size=\"2\"\n    />\n    <template v-else-if=\"hasKeys\">\n      <div class=\"top-area scrolling-tabs-container inner-page-scroll-tabs\">\n        <div class=\"fade-left\"><i class=\"fa fa-angle-left\" aria-hidden=\"true\"> </i></div>\n        <div class=\"fade-right\"><i class=\"fa fa-angle-right\" aria-hidden=\"true\"> </i></div>\n\n        <navigation-tabs :tabs=\"tabs\" scope=\"deployKeys\" @onChangeTab=\"onChangeTab\" />\n      </div>\n      <keys-panel\n        :project-id=\"projectId\"\n        :keys=\"keys[currentTab]\"\n        :store=\"store\"\n        :endpoint=\"endpoint\"\n        class=\"qa-project-deploy-keys\"\n      />\n    </template>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./app.vue?vue&type=template&id=6fa76ad1&\"\nimport script from \"./app.vue?vue&type=script&lang=js&\"\nexport * from \"./app.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"app.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"append-bottom-default deploy-keys\"},[(_vm.isLoading && !_vm.hasKeys)?_c('gl-loading-icon',{attrs:{\"label\":_vm.s__('DeployKeys|Loading deploy keys'),\"size\":2}}):(_vm.hasKeys)?[_c('div',{staticClass:\"top-area scrolling-tabs-container inner-page-scroll-tabs\"},[_c('div',{staticClass:\"fade-left\"},[_c('i',{staticClass:\"fa fa-angle-left\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"fade-right\"},[_c('i',{staticClass:\"fa fa-angle-right\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),_c('navigation-tabs',{attrs:{\"tabs\":_vm.tabs,\"scope\":\"deployKeys\"},on:{\"onChangeTab\":_vm.onChangeTab}})],1),_vm._v(\" \"),_c('keys-panel',{staticClass:\"qa-project-deploy-keys\",attrs:{\"project-id\":_vm.projectId,\"keys\":_vm.keys[_vm.currentTab],\"store\":_vm.store,\"endpoint\":_vm.endpoint}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class ProtectedBranchAccessDropdown {\n  constructor(options) {\n    this.options = options;\n    this.initDropdown();\n  }\n\n  initDropdown() {\n    const { $dropdown, data, onSelect } = this.options;\n    $dropdown.glDropdown({\n      data,\n      selectable: true,\n      inputId: $dropdown.data('inputId'),\n      fieldName: $dropdown.data('fieldName'),\n      toggleLabel(item, $el) {\n        if ($el.is('.is-active')) {\n          return item.text;\n        }\n        return 'Select';\n      },\n      clicked(options) {\n        options.e.preventDefault();\n        onSelect();\n      },\n    });\n  }\n}\n","import $ from 'jquery';\nimport ProtectedBranchAccessDropdown from './protected_branch_access_dropdown';\nimport CreateItemDropdown from '../create_item_dropdown';\nimport AccessorUtilities from '../lib/utils/accessor';\n\nexport default class ProtectedBranchCreate {\n  constructor() {\n    this.$form = $('.js-new-protected-branch');\n    this.isLocalStorageAvailable = AccessorUtilities.isLocalStorageAccessSafe();\n    this.currentProjectUserDefaults = {};\n    this.buildDropdowns();\n  }\n\n  buildDropdowns() {\n    const $allowedToMergeDropdown = this.$form.find('.js-allowed-to-merge');\n    const $allowedToPushDropdown = this.$form.find('.js-allowed-to-push');\n    const $protectedBranchDropdown = this.$form.find('.js-protected-branch-select');\n\n    // Cache callback\n    this.onSelectCallback = this.onSelect.bind(this);\n\n    // Allowed to Merge dropdown\n    this.protectedBranchMergeAccessDropdown = new ProtectedBranchAccessDropdown({\n      $dropdown: $allowedToMergeDropdown,\n      data: gon.merge_access_levels,\n      onSelect: this.onSelectCallback,\n    });\n\n    // Allowed to Push dropdown\n    this.protectedBranchPushAccessDropdown = new ProtectedBranchAccessDropdown({\n      $dropdown: $allowedToPushDropdown,\n      data: gon.push_access_levels,\n      onSelect: this.onSelectCallback,\n    });\n\n    this.createItemDropdown = new CreateItemDropdown({\n      $dropdown: $protectedBranchDropdown,\n      defaultToggleLabel: 'Protected Branch',\n      fieldName: 'protected_branch[name]',\n      onSelect: this.onSelectCallback,\n      getData: ProtectedBranchCreate.getProtectedBranches,\n    });\n  }\n\n  // This will run after clicked callback\n  onSelect() {\n    // Enable submit button\n    const $branchInput = this.$form.find('input[name=\"protected_branch[name]\"]');\n    const $allowedToMergeInput = this.$form.find(\n      'input[name=\"protected_branch[merge_access_levels_attributes][0][access_level]\"]',\n    );\n    const $allowedToPushInput = this.$form.find(\n      'input[name=\"protected_branch[push_access_levels_attributes][0][access_level]\"]',\n    );\n    const completedForm = !(\n      $branchInput.val() &&\n      $allowedToMergeInput.length &&\n      $allowedToPushInput.length\n    );\n\n    this.$form.find('input[type=\"submit\"]').prop('disabled', completedForm);\n  }\n\n  static getProtectedBranches(term, callback) {\n    callback(gon.open_branches);\n  }\n}\n","import flash from '../flash';\nimport axios from '../lib/utils/axios_utils';\nimport ProtectedBranchAccessDropdown from './protected_branch_access_dropdown';\n\nexport default class ProtectedBranchEdit {\n  constructor(options) {\n    this.$wrap = options.$wrap;\n    this.$allowedToMergeDropdown = this.$wrap.find('.js-allowed-to-merge');\n    this.$allowedToPushDropdown = this.$wrap.find('.js-allowed-to-push');\n    this.onSelectCallback = this.onSelect.bind(this);\n\n    this.buildDropdowns();\n  }\n\n  buildDropdowns() {\n    // Allowed to merge dropdown\n    this.protectedBranchAccessDropdown = new ProtectedBranchAccessDropdown({\n      $dropdown: this.$allowedToMergeDropdown,\n      data: gon.merge_access_levels,\n      onSelect: this.onSelectCallback,\n    });\n\n    // Allowed to push dropdown\n    this.protectedBranchAccessDropdown = new ProtectedBranchAccessDropdown({\n      $dropdown: this.$allowedToPushDropdown,\n      data: gon.push_access_levels,\n      onSelect: this.onSelectCallback,\n    });\n  }\n\n  onSelect() {\n    const $allowedToMergeInput = this.$wrap.find(\n      `input[name=\"${this.$allowedToMergeDropdown.data('fieldName')}\"]`,\n    );\n    const $allowedToPushInput = this.$wrap.find(\n      `input[name=\"${this.$allowedToPushDropdown.data('fieldName')}\"]`,\n    );\n\n    // Do not update if one dropdown has not selected any option\n    if (!($allowedToMergeInput.length && $allowedToPushInput.length)) return;\n\n    this.$allowedToMergeDropdown.disable();\n    this.$allowedToPushDropdown.disable();\n\n    axios\n      .patch(this.$wrap.data('url'), {\n        protected_branch: {\n          merge_access_levels_attributes: [\n            {\n              id: this.$allowedToMergeDropdown.data('accessLevelId'),\n              access_level: $allowedToMergeInput.val(),\n            },\n          ],\n          push_access_levels_attributes: [\n            {\n              id: this.$allowedToPushDropdown.data('accessLevelId'),\n              access_level: $allowedToPushInput.val(),\n            },\n          ],\n        },\n      })\n      .then(() => {\n        this.$allowedToMergeDropdown.enable();\n        this.$allowedToPushDropdown.enable();\n      })\n      .catch(() => {\n        this.$allowedToMergeDropdown.enable();\n        this.$allowedToPushDropdown.enable();\n\n        flash(\n          'Failed to update branch!',\n          'alert',\n          document.querySelector('.js-protected-branches-list'),\n        );\n      });\n  }\n}\n","/* eslint-disable no-new */\n\nimport $ from 'jquery';\nimport ProtectedBranchEdit from './protected_branch_edit';\n\nexport default class ProtectedBranchEditList {\n  constructor() {\n    this.$wrap = $('.protected-branches-list');\n    this.initEditForm();\n  }\n\n  initEditForm() {\n    this.$wrap.find('.js-protected-branch-edit-form').each((i, el) => {\n      new ProtectedBranchEdit({\n        $wrap: $(el),\n      });\n    });\n  }\n}\n","/* eslint-disable no-new */\n\nimport ProtectedTagCreate from '~/protected_tags/protected_tag_create';\nimport ProtectedTagEditList from '~/protected_tags/protected_tag_edit_list';\nimport initSettingsPanels from '~/settings_panels';\nimport initDeployKeys from '~/deploy_keys';\nimport ProtectedBranchCreate from '~/protected_branches/protected_branch_create';\nimport ProtectedBranchEditList from '~/protected_branches/protected_branch_edit_list';\nimport DueDateSelectors from '~/due_date_select';\nimport fileUpload from '~/lib/utils/file_upload';\n\nexport default () => {\n  new ProtectedTagCreate();\n  new ProtectedTagEditList();\n  initDeployKeys();\n  initSettingsPanels();\n  new ProtectedBranchCreate();\n  new ProtectedBranchEditList();\n  new DueDateSelectors();\n  fileUpload('.js-choose-file', '.js-object-map-input');\n};\n","import Vue from 'vue';\nimport deployKeysApp from './components/app.vue';\n\nexport default () =>\n  new Vue({\n    el: document.getElementById('js-deploy-keys'),\n    components: {\n      deployKeysApp,\n    },\n    data() {\n      return {\n        endpoint: this.$options.el.dataset.endpoint,\n        projectId: this.$options.el.dataset.projectId,\n      };\n    },\n    render(createElement) {\n      return createElement('deploy-keys-app', {\n        props: {\n          endpoint: this.endpoint,\n          projectId: this.projectId,\n        },\n      });\n    },\n  });\n","import { formatDate, getTimeago } from '../../lib/utils/datetime_utility';\n\n/**\n * Mixin with time ago methods used in some vue components\n */\nexport default {\n  methods: {\n    timeFormated(time) {\n      const timeago = getTimeago();\n\n      return timeago.format(time);\n    },\n\n    tooltipTitle(time) {\n      return formatDate(time);\n    },\n  },\n};\n"],"sourceRoot":""}