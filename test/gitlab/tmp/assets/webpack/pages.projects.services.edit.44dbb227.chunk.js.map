{"version":3,"sources":["webpack:///./integrations/integration_settings_form.js","webpack:///./prometheus_metrics/constants.js","webpack:///./prometheus_metrics/prometheus_metrics.js","webpack:///./pages/projects/services/edit/index.js","webpack:///./behaviors/shortcuts/shortcuts_navigation.js","webpack:///./project_select_combo_button.js","webpack:///./project_select.js","webpack:///./pages/projects/project.js","webpack:///./pages/projects/index.js"],"names":["IntegrationSettingsForm","formSelector","_classCallCheck","this","$form","$","canTestService","data","testEndPoint","$serviceToggle","find","$submitBtn","$submitBtnLoader","$submitBtnLabel","_this","toggleServiceState","is","on","e","handleServiceToggle","handleSettingsSave","get","checkValidity","preventDefault","testSettings","serialize","currentTarget","serviceActive","toggleSubmitBtnLabel","removeAttr","attr","btnLabel","text","saveTestActive","disable","removeClass","enable","addClass","formData","_this2","toggleSubmitBtnState","axios","put","then","_ref","flashActions","error","test_failed","title","clickHandler","submit","flash","concat","message","service_response","document","catch","constants","PrometheusMetrics","wrapperSelector","prometheus_metrics_classCallCheck","backOffRequestCounter","$wrapper","$monitoredMetricsPanel","$monitoredMetricsCount","$monitoredMetricsLoading","$monitoredMetricsEmpty","$monitoredMetricsList","$missingEnvVarPanel","$panelToggle","$missingEnvVarMetricCount","$missingEnvVarMetricsList","activeMetricsEndpoint","helpMetricsPath","handlePanelToggle","$toggleBtn","closest","toggleClass","hasClass","stateName","PANEL_STATE","metrics","totalMonitoredMetrics","totalMissingEnvVarMetrics","totalExporters","forEach","metric","active_metrics","append","_","escape","group","metrics_missing_requirements","emptyCommonMetricsText","sprintf","s__","docsUrl","empty","showMonitoringMetricsPanelState","metricsCountText","exporters","n__","_this3","backOff","next","stop","success","res","length","populateActiveMetrics","addEventListener","prometheusSettingsWrapper","querySelector","init","loadActiveMetrics","ShortcutsNavigation","_possibleConstructorReturn","_getPrototypeOf","call","Mousetrap","bind","findAndFollowLink","enabledHelp","push","Shortcuts","ProjectSelectComboButton","select","projectSelectInput","newItemBtn","resourceType","resourceLabel","formattedText","deriveTextVariants","groupId","bindEvents","initLocalStorage","siblings","openDropdown","getProjectFromLocalStorage","selectProject","AccessorUtilities","isLocalStorageAccessSafe","localStorageKey","localStorageItemType","join","setBtnTextFromLocalStorage","event","select2","selectedProjectData","JSON","parse","val","projectMeta","url","name","setNewItemBtnAttributes","setProjectInLocalStorage","cachedProjectData","project","defaultTextPrefix","presetTextSuffix","projectString","localStorage","getItem","stringify","setItem","split","slice","projectSelect","each","i","placeholder","simpleFilter","includeGroups","allProjects","orderBy","withIssuesEnabled","withMergeRequestsEnabled","withShared","undefined","includeProjectsInSubgroups","allowClear","minimumInputLength","query","finalCallback","projectsCallback","projects","results","callback","groupsCallback","groups","Api","term","groupProjects","with_issues_enabled","with_merge_requests_enabled","with_shared","include_subgroups","order_by","membership","id","web_url","name_with_namespace","initSelection","el","dropdownCssClass","__webpack_require__","d","__webpack_exports__","Project","$cloneOptions","$projectCloneField","$cloneBtnLabel","mobileCloneField","selectedCloneOption","trim","$this","cloneType","$el","activeText","$label","dataset","clipboardText","initRefSwitcher","parents","Cookies","set","remove","projectId","cookieKey","projectSelectDropdown","changeProject","window","location","refListItem","createElement","refLink","href","$dropdown","selected","glDropdown","params","ref","search","__","selectable","filterable","filterRemote","filterByText","inputFieldName","fieldName","renderRow","li","cloneNode","header","className","textContent","link","appendChild","obj","toggleLabel","clicked","options","$visit","shouldVisit","action","divider","indexOf","visitUrl","r","_projects_gke_cluster_dropdowns__WEBPACK_IMPORTED_MODULE_0__","_persistent_user_callout__WEBPACK_IMPORTED_MODULE_1__","_project__WEBPACK_IMPORTED_MODULE_2__","_behaviors_shortcuts_shortcuts_navigation__WEBPACK_IMPORTED_MODULE_3__","page","body","callout","PersistentUserCallout","initGkeDropdowns"],"mappings":"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","file":"pages.projects.services.edit.44dbb227.chunk.js","sourcesContent":["import $ from 'jquery';\nimport axios from '../lib/utils/axios_utils';\nimport flash from '../flash';\n\nexport default class IntegrationSettingsForm {\n  constructor(formSelector) {\n    this.$form = $(formSelector);\n\n    // Form Metadata\n    this.canTestService = this.$form.data('canTest');\n    this.testEndPoint = this.$form.data('testUrl');\n\n    // Form Child Elements\n    this.$serviceToggle = this.$form.find('#service_active');\n    this.$submitBtn = this.$form.find('button[type=\"submit\"]');\n    this.$submitBtnLoader = this.$submitBtn.find('.js-btn-spinner');\n    this.$submitBtnLabel = this.$submitBtn.find('.js-btn-label');\n  }\n\n  init() {\n    // Initialize View\n    this.toggleServiceState(this.$serviceToggle.is(':checked'));\n\n    // Bind Event Listeners\n    this.$serviceToggle.on('change', e => this.handleServiceToggle(e));\n    this.$submitBtn.on('click', e => this.handleSettingsSave(e));\n  }\n\n  handleSettingsSave(e) {\n    // Check if Service is marked active, as if not marked active,\n    // We can skip testing it and directly go ahead to allow form to\n    // be submitted\n    if (!this.$serviceToggle.is(':checked')) {\n      return;\n    }\n\n    // Service was marked active so now we check;\n    // 1) If form contents are valid\n    // 2) If this service can be tested\n    // If both conditions are true, we override form submission\n    // and test the service using provided configuration.\n    if (this.$form.get(0).checkValidity() && this.canTestService) {\n      e.preventDefault();\n      this.testSettings(this.$form.serialize());\n    }\n  }\n\n  handleServiceToggle(e) {\n    this.toggleServiceState($(e.currentTarget).is(':checked'));\n  }\n\n  /**\n   * Change Form's validation enforcement based on service status (active/inactive)\n   */\n  toggleServiceState(serviceActive) {\n    this.toggleSubmitBtnLabel(serviceActive);\n    if (serviceActive) {\n      this.$form.removeAttr('novalidate');\n    } else if (!this.$form.attr('novalidate')) {\n      this.$form.attr('novalidate', 'novalidate');\n    }\n  }\n\n  /**\n   * Toggle Submit button label based on Integration status and ability to test service\n   */\n  toggleSubmitBtnLabel(serviceActive) {\n    let btnLabel = 'Save changes';\n\n    if (serviceActive && this.canTestService) {\n      btnLabel = 'Test settings and save changes';\n    }\n\n    this.$submitBtnLabel.text(btnLabel);\n  }\n\n  /**\n   * Toggle Submit button state based on provided boolean value of `saveTestActive`\n   * When enabled, it does two things, and reverts back when disabled\n   *\n   * 1. It shows load spinner on submit button\n   * 2. Makes submit button disabled\n   */\n  toggleSubmitBtnState(saveTestActive) {\n    if (saveTestActive) {\n      this.$submitBtn.disable();\n      this.$submitBtnLoader.removeClass('hidden');\n    } else {\n      this.$submitBtn.enable();\n      this.$submitBtnLoader.addClass('hidden');\n    }\n  }\n\n  /**\n   * Test Integration config\n   */\n  testSettings(formData) {\n    this.toggleSubmitBtnState(true);\n\n    return axios\n      .put(this.testEndPoint, formData)\n      .then(({ data }) => {\n        if (data.error) {\n          let flashActions;\n\n          if (data.test_failed) {\n            flashActions = {\n              title: 'Save anyway',\n              clickHandler: e => {\n                e.preventDefault();\n                this.$form.submit();\n              },\n            };\n          }\n\n          flash(`${data.message} ${data.service_response}`, 'alert', document, flashActions);\n        } else {\n          this.$form.submit();\n        }\n\n        this.toggleSubmitBtnState(false);\n      })\n      .catch(() => {\n        flash('Something went wrong on our end.');\n        this.toggleSubmitBtnState(false);\n      });\n  }\n}\n","export default {\n  EMPTY: 'empty',\n  LOADING: 'loading',\n  LIST: 'list',\n};\n","import $ from 'jquery';\nimport _ from 'underscore';\nimport { s__, n__, sprintf } from '~/locale';\nimport axios from '../lib/utils/axios_utils';\nimport PANEL_STATE from './constants';\nimport { backOff } from '../lib/utils/common_utils';\n\nexport default class PrometheusMetrics {\n  constructor(wrapperSelector) {\n    this.backOffRequestCounter = 0;\n\n    this.$wrapper = $(wrapperSelector);\n\n    this.$monitoredMetricsPanel = this.$wrapper.find('.js-panel-monitored-metrics');\n    this.$monitoredMetricsCount = this.$monitoredMetricsPanel.find('.js-monitored-count');\n    this.$monitoredMetricsLoading = this.$monitoredMetricsPanel.find('.js-loading-metrics');\n    this.$monitoredMetricsEmpty = this.$monitoredMetricsPanel.find('.js-empty-metrics');\n    this.$monitoredMetricsList = this.$monitoredMetricsPanel.find('.js-metrics-list');\n\n    this.$missingEnvVarPanel = this.$wrapper.find('.js-panel-missing-env-vars');\n    this.$panelToggle = this.$missingEnvVarPanel.find('.js-panel-toggle');\n    this.$missingEnvVarMetricCount = this.$missingEnvVarPanel.find('.js-env-var-count');\n    this.$missingEnvVarMetricsList = this.$missingEnvVarPanel.find('.js-missing-var-metrics-list');\n\n    this.activeMetricsEndpoint = this.$monitoredMetricsPanel.data('activeMetrics');\n    this.helpMetricsPath = this.$monitoredMetricsPanel.data('metrics-help-path');\n\n    this.$panelToggle.on('click', e => this.handlePanelToggle(e));\n  }\n\n  /* eslint-disable class-methods-use-this */\n  handlePanelToggle(e) {\n    const $toggleBtn = $(e.currentTarget);\n    const $currentPanelBody = $toggleBtn.closest('.card').find('.card-body');\n    $currentPanelBody.toggleClass('hidden');\n    if ($toggleBtn.hasClass('fa-caret-down')) {\n      $toggleBtn.removeClass('fa-caret-down').addClass('fa-caret-right');\n    } else {\n      $toggleBtn.removeClass('fa-caret-right').addClass('fa-caret-down');\n    }\n  }\n\n  showMonitoringMetricsPanelState(stateName) {\n    switch (stateName) {\n      case PANEL_STATE.LOADING:\n        this.$monitoredMetricsLoading.removeClass('hidden');\n        this.$monitoredMetricsEmpty.addClass('hidden');\n        this.$monitoredMetricsList.addClass('hidden');\n        break;\n      case PANEL_STATE.LIST:\n        this.$monitoredMetricsLoading.addClass('hidden');\n        this.$monitoredMetricsEmpty.addClass('hidden');\n        this.$monitoredMetricsList.removeClass('hidden');\n        break;\n      default:\n        this.$monitoredMetricsLoading.addClass('hidden');\n        this.$monitoredMetricsEmpty.removeClass('hidden');\n        this.$monitoredMetricsList.addClass('hidden');\n        break;\n    }\n  }\n\n  populateActiveMetrics(metrics) {\n    let totalMonitoredMetrics = 0;\n    let totalMissingEnvVarMetrics = 0;\n    let totalExporters = 0;\n\n    metrics.forEach(metric => {\n      if (metric.active_metrics > 0) {\n        totalExporters += 1;\n        this.$monitoredMetricsList.append(\n          `<li>${_.escape(metric.group)}<span class=\"badge\">${_.escape(\n            metric.active_metrics,\n          )}</span></li>`,\n        );\n        totalMonitoredMetrics += metric.active_metrics;\n        if (metric.metrics_missing_requirements > 0) {\n          this.$missingEnvVarMetricsList.append(`<li>${_.escape(metric.group)}</li>`);\n          totalMissingEnvVarMetrics += 1;\n        }\n      }\n    });\n\n    if (totalMonitoredMetrics === 0) {\n      const emptyCommonMetricsText = sprintf(\n        s__(\n          'PrometheusService|<p class=\"text-tertiary\">No <a href=\"%{docsUrl}\">common metrics</a> were found</p>',\n        ),\n        {\n          docsUrl: this.helpMetricsPath,\n        },\n        false,\n      );\n      this.$monitoredMetricsEmpty.empty();\n      this.$monitoredMetricsEmpty.append(emptyCommonMetricsText);\n      this.showMonitoringMetricsPanelState(PANEL_STATE.EMPTY);\n    } else {\n      const metricsCountText = sprintf(\n        s__('PrometheusService|%{exporters} with %{metrics} were found'),\n        {\n          exporters: n__('%d exporter', '%d exporters', totalExporters),\n          metrics: n__('%d metric', '%d metrics', totalMonitoredMetrics),\n        },\n      );\n      this.$monitoredMetricsCount.text(metricsCountText);\n      this.showMonitoringMetricsPanelState(PANEL_STATE.LIST);\n\n      if (totalMissingEnvVarMetrics > 0) {\n        this.$missingEnvVarPanel.removeClass('hidden');\n        this.$missingEnvVarMetricCount.text(totalMissingEnvVarMetrics);\n      }\n    }\n  }\n\n  loadActiveMetrics() {\n    this.showMonitoringMetricsPanelState(PANEL_STATE.LOADING);\n    backOff((next, stop) => {\n      axios\n        .get(this.activeMetricsEndpoint)\n        .then(({ data }) => {\n          if (data && data.success) {\n            stop(data);\n          } else {\n            this.backOffRequestCounter += 1;\n            if (this.backOffRequestCounter < 3) {\n              next();\n            } else {\n              stop(data);\n            }\n          }\n        })\n        .catch(stop);\n    })\n      .then(res => {\n        if (res && res.data && res.data.length) {\n          this.populateActiveMetrics(res.data);\n        } else {\n          this.showMonitoringMetricsPanelState(PANEL_STATE.EMPTY);\n        }\n      })\n      .catch(() => {\n        this.showMonitoringMetricsPanelState(PANEL_STATE.EMPTY);\n      });\n  }\n}\n","import IntegrationSettingsForm from '~/integrations/integration_settings_form';\nimport PrometheusMetrics from '~/prometheus_metrics/prometheus_metrics';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const prometheusSettingsWrapper = document.querySelector('.js-prometheus-metrics-monitoring');\n  const integrationSettingsForm = new IntegrationSettingsForm('.js-integration-settings-form');\n  integrationSettingsForm.init();\n\n  if (prometheusSettingsWrapper) {\n    const prometheusMetrics = new PrometheusMetrics('.js-prometheus-metrics-monitoring');\n    prometheusMetrics.loadActiveMetrics();\n  }\n});\n","import Mousetrap from 'mousetrap';\nimport findAndFollowLink from '../../lib/utils/navigation_utility';\nimport Shortcuts from './shortcuts';\n\nexport default class ShortcutsNavigation extends Shortcuts {\n  constructor() {\n    super();\n\n    Mousetrap.bind('g p', () => findAndFollowLink('.shortcuts-project'));\n    Mousetrap.bind('g v', () => findAndFollowLink('.shortcuts-project-activity'));\n    Mousetrap.bind('g r', () => findAndFollowLink('.shortcuts-project-releases'));\n    Mousetrap.bind('g f', () => findAndFollowLink('.shortcuts-tree'));\n    Mousetrap.bind('g c', () => findAndFollowLink('.shortcuts-commits'));\n    Mousetrap.bind('g j', () => findAndFollowLink('.shortcuts-builds'));\n    Mousetrap.bind('g n', () => findAndFollowLink('.shortcuts-network'));\n    Mousetrap.bind('g d', () => findAndFollowLink('.shortcuts-repository-charts'));\n    Mousetrap.bind('g i', () => findAndFollowLink('.shortcuts-issues'));\n    Mousetrap.bind('g b', () => findAndFollowLink('.shortcuts-issue-boards'));\n    Mousetrap.bind('g m', () => findAndFollowLink('.shortcuts-merge_requests'));\n    Mousetrap.bind('g w', () => findAndFollowLink('.shortcuts-wiki'));\n    Mousetrap.bind('g s', () => findAndFollowLink('.shortcuts-snippets'));\n    Mousetrap.bind('g k', () => findAndFollowLink('.shortcuts-kubernetes'));\n    Mousetrap.bind('g e', () => findAndFollowLink('.shortcuts-environments'));\n    Mousetrap.bind('g l', () => findAndFollowLink('.shortcuts-metrics'));\n    Mousetrap.bind('i', () => findAndFollowLink('.shortcuts-new-issue'));\n\n    this.enabledHelp.push('.hidden-shortcut.project');\n  }\n}\n","import $ from 'jquery';\nimport AccessorUtilities from './lib/utils/accessor';\n\nexport default class ProjectSelectComboButton {\n  constructor(select) {\n    this.projectSelectInput = $(select);\n    this.newItemBtn = $('.new-project-item-link');\n    this.resourceType = this.newItemBtn.data('type');\n    this.resourceLabel = this.newItemBtn.data('label');\n    this.formattedText = this.deriveTextVariants();\n    this.groupId = this.projectSelectInput.data('groupId');\n    this.bindEvents();\n    this.initLocalStorage();\n  }\n\n  bindEvents() {\n    this.projectSelectInput\n      .siblings('.new-project-item-select-button')\n      .on('click', e => this.openDropdown(e));\n\n    this.newItemBtn.on('click', e => {\n      if (!this.getProjectFromLocalStorage()) {\n        e.preventDefault();\n        this.openDropdown(e);\n      }\n    });\n\n    this.projectSelectInput.on('change', () => this.selectProject());\n  }\n\n  initLocalStorage() {\n    const localStorageIsSafe = AccessorUtilities.isLocalStorageAccessSafe();\n\n    if (localStorageIsSafe) {\n      this.localStorageKey = [\n        'group',\n        this.groupId,\n        this.formattedText.localStorageItemType,\n        'recent-project',\n      ].join('-');\n      this.setBtnTextFromLocalStorage();\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  openDropdown(event) {\n    $(event.currentTarget)\n      .siblings('.project-item-select')\n      .select2('open');\n  }\n\n  selectProject() {\n    const selectedProjectData = JSON.parse(this.projectSelectInput.val());\n    const projectUrl = `${selectedProjectData.url}/${this.projectSelectInput.data('relativePath')}`;\n    const projectName = selectedProjectData.name;\n\n    const projectMeta = {\n      url: projectUrl,\n      name: projectName,\n    };\n\n    this.setNewItemBtnAttributes(projectMeta);\n    this.setProjectInLocalStorage(projectMeta);\n  }\n\n  setBtnTextFromLocalStorage() {\n    const cachedProjectData = this.getProjectFromLocalStorage();\n\n    this.setNewItemBtnAttributes(cachedProjectData);\n  }\n\n  setNewItemBtnAttributes(project) {\n    if (project) {\n      this.newItemBtn.attr('href', project.url);\n      this.newItemBtn.text(`${this.formattedText.defaultTextPrefix} in ${project.name}`);\n    } else {\n      this.newItemBtn.text(`Select project to create ${this.formattedText.presetTextSuffix}`);\n    }\n  }\n\n  getProjectFromLocalStorage() {\n    const projectString = localStorage.getItem(this.localStorageKey);\n\n    return JSON.parse(projectString);\n  }\n\n  setProjectInLocalStorage(projectMeta) {\n    const projectString = JSON.stringify(projectMeta);\n\n    localStorage.setItem(this.localStorageKey, projectString);\n  }\n\n  deriveTextVariants() {\n    const defaultTextPrefix = this.resourceLabel;\n\n    // the trailing slice call depluralizes each of these strings (e.g. new-issues -> new-issue)\n    const localStorageItemType = `new-${this.resourceType\n      .split('_')\n      .join('-')\n      .slice(0, -1)}`;\n    const presetTextSuffix = this.resourceType\n      .split('_')\n      .join(' ')\n      .slice(0, -1);\n\n    return {\n      localStorageItemType, // new-issue / new-merge-request\n      defaultTextPrefix, // New issue / New merge request\n      presetTextSuffix, // issue / merge request\n    };\n  }\n}\n","/* eslint-disable func-names, no-var, object-shorthand, one-var, no-else-return */\n\nimport $ from 'jquery';\nimport Api from './api';\nimport ProjectSelectComboButton from './project_select_combo_button';\n\nexport default function projectSelect() {\n  $('.ajax-project-select').each(function(i, select) {\n    var placeholder;\n    const simpleFilter = $(select).data('simpleFilter') || false;\n    this.groupId = $(select).data('groupId');\n    this.includeGroups = $(select).data('includeGroups');\n    this.allProjects = $(select).data('allProjects') || false;\n    this.orderBy = $(select).data('orderBy') || 'id';\n    this.withIssuesEnabled = $(select).data('withIssuesEnabled');\n    this.withMergeRequestsEnabled = $(select).data('withMergeRequestsEnabled');\n    this.withShared =\n      $(select).data('withShared') === undefined ? true : $(select).data('withShared');\n    this.includeProjectsInSubgroups = $(select).data('includeProjectsInSubgroups') || false;\n    this.allowClear = $(select).data('allowClear') || false;\n\n    placeholder = 'Search for project';\n    if (this.includeGroups) {\n      placeholder += ' or group';\n    }\n\n    $(select).select2({\n      placeholder: placeholder,\n      minimumInputLength: 0,\n      query: (function(_this) {\n        return function(query) {\n          var finalCallback, projectsCallback;\n          finalCallback = function(projects) {\n            var data;\n            data = {\n              results: projects,\n            };\n            return query.callback(data);\n          };\n          if (_this.includeGroups) {\n            projectsCallback = function(projects) {\n              var groupsCallback;\n              groupsCallback = function(groups) {\n                var data;\n                data = groups.concat(projects);\n                return finalCallback(data);\n              };\n              return Api.groups(query.term, {}, groupsCallback);\n            };\n          } else {\n            projectsCallback = finalCallback;\n          }\n          if (_this.groupId) {\n            return Api.groupProjects(\n              _this.groupId,\n              query.term,\n              {\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                with_shared: _this.withShared,\n                include_subgroups: _this.includeProjectsInSubgroups,\n              },\n              projectsCallback,\n            );\n          } else {\n            return Api.projects(\n              query.term,\n              {\n                order_by: _this.orderBy,\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                membership: !_this.allProjects,\n              },\n              projectsCallback,\n            );\n          }\n        };\n      })(this),\n      id: function(project) {\n        if (simpleFilter) return project.id;\n        return JSON.stringify({\n          name: project.name,\n          url: project.web_url,\n        });\n      },\n      text: function(project) {\n        return project.name_with_namespace || project.name;\n      },\n\n      initSelection: function(el, callback) {\n        return Api.project(el.val()).then(({ data }) => callback(data));\n      },\n\n      allowClear: this.allowClear,\n\n      dropdownCssClass: 'ajax-project-dropdown',\n    });\n    if (simpleFilter) return select;\n    return new ProjectSelectComboButton(select);\n  });\n}\n","/* eslint-disable func-names, no-var, no-return-assign, one-var, object-shorthand, vars-on-top */\n\nimport $ from 'jquery';\nimport Cookies from 'js-cookie';\nimport { __ } from '~/locale';\nimport { visitUrl } from '~/lib/utils/url_utility';\nimport axios from '~/lib/utils/axios_utils';\nimport flash from '~/flash';\nimport projectSelect from '../../project_select';\n\nexport default class Project {\n  constructor() {\n    const $cloneOptions = $('ul.clone-options-dropdown');\n    const $projectCloneField = $('#project_clone');\n    const $cloneBtnLabel = $('.js-git-clone-holder .js-clone-dropdown-label');\n    const mobileCloneField = document.querySelector(\n      '.js-mobile-git-clone .js-clone-dropdown-label',\n    );\n\n    const selectedCloneOption = $cloneBtnLabel.text().trim();\n    if (selectedCloneOption.length > 0) {\n      $(`a:contains('${selectedCloneOption}')`, $cloneOptions).addClass('is-active');\n    }\n\n    $('a', $cloneOptions).on('click', e => {\n      e.preventDefault();\n      const $this = $(e.currentTarget);\n      const url = $this.attr('href');\n      const cloneType = $this.data('cloneType');\n\n      $('.is-active', $cloneOptions).removeClass('is-active');\n      $(`a[data-clone-type=\"${cloneType}\"]`).each(function() {\n        const $el = $(this);\n        const activeText = $el.find('.dropdown-menu-inner-title').text();\n        const $container = $el.closest('.project-clone-holder');\n        const $label = $container.find('.js-clone-dropdown-label');\n\n        $el.toggleClass('is-active');\n        $label.text(activeText);\n      });\n\n      if (mobileCloneField) {\n        mobileCloneField.dataset.clipboardText = url;\n      } else {\n        $projectCloneField.val(url);\n      }\n      $('.js-git-empty .js-clone').text(url);\n    });\n    // Ref switcher\n    Project.initRefSwitcher();\n    $('.project-refs-select').on('change', function() {\n      return $(this)\n        .parents('form')\n        .submit();\n    });\n    $('.hide-no-ssh-message').on('click', function(e) {\n      Cookies.set('hide_no_ssh_message', 'false');\n      $(this)\n        .parents('.no-ssh-key-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-no-password-message').on('click', function(e) {\n      Cookies.set('hide_no_password_message', 'false');\n      $(this)\n        .parents('.no-password-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-auto-devops-implicitly-enabled-banner').on('click', function(e) {\n      const projectId = $(this).data('project-id');\n      const cookieKey = `hide_auto_devops_implicitly_enabled_banner_${projectId}`;\n      Cookies.set(cookieKey, 'false');\n      $(this)\n        .parents('.auto-devops-implicitly-enabled-banner')\n        .remove();\n      return e.preventDefault();\n    });\n    Project.projectSelectDropdown();\n  }\n\n  static projectSelectDropdown() {\n    projectSelect();\n    $('.project-item-select').on('click', e => Project.changeProject($(e.currentTarget).val()));\n  }\n\n  static changeProject(url) {\n    return (window.location = url);\n  }\n\n  static initRefSwitcher() {\n    var refListItem = document.createElement('li');\n    var refLink = document.createElement('a');\n\n    refLink.href = '#';\n\n    return $('.js-project-refs-dropdown').each(function() {\n      var $dropdown, selected;\n      $dropdown = $(this);\n      selected = $dropdown.data('selected');\n      return $dropdown.glDropdown({\n        data(term, callback) {\n          axios\n            .get($dropdown.data('refsUrl'), {\n              params: {\n                ref: $dropdown.data('ref'),\n                search: term,\n              },\n            })\n            .then(({ data }) => callback(data))\n            .catch(() => flash(__('An error occurred while getting projects')));\n        },\n        selectable: true,\n        filterable: true,\n        filterRemote: true,\n        filterByText: true,\n        inputFieldName: $dropdown.data('inputFieldName'),\n        fieldName: $dropdown.data('fieldName'),\n        renderRow: function(ref) {\n          var li = refListItem.cloneNode(false);\n\n          if (ref.header != null) {\n            li.className = 'dropdown-header';\n            li.textContent = ref.header;\n          } else {\n            var link = refLink.cloneNode(false);\n\n            if (ref === selected) {\n              link.className = 'is-active';\n            }\n\n            link.textContent = ref;\n            link.dataset.ref = ref;\n\n            li.appendChild(link);\n          }\n\n          return li;\n        },\n        id: function(obj, $el) {\n          return $el.attr('data-ref');\n        },\n        toggleLabel: function(obj, $el) {\n          return $el.text().trim();\n        },\n        clicked: function(options) {\n          const { e } = options;\n          e.preventDefault();\n          if ($('input[name=\"ref\"]').length) {\n            var $form = $dropdown.closest('form');\n\n            var $visit = $dropdown.data('visit');\n            var shouldVisit = $visit ? true : $visit;\n            var action = $form.attr('action');\n            var divider = action.indexOf('?') === -1 ? '?' : '&';\n            if (shouldVisit) {\n              visitUrl(`${action}${divider}${$form.serialize()}`);\n            }\n          }\n        },\n      });\n    });\n  }\n}\n","import initGkeDropdowns from '~/projects/gke_cluster_dropdowns';\nimport PersistentUserCallout from '../../persistent_user_callout';\nimport Project from './project';\nimport ShortcutsNavigation from '../../behaviors/shortcuts/shortcuts_navigation';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const { page } = document.body.dataset;\n  const newClusterViews = [\n    'projects:clusters:new',\n    'projects:clusters:create_gcp',\n    'projects:clusters:create_user',\n  ];\n\n  if (newClusterViews.indexOf(page) > -1) {\n    const callout = document.querySelector('.gcp-signup-offer');\n    if (callout) new PersistentUserCallout(callout); // eslint-disable-line no-new\n\n    initGkeDropdowns();\n  }\n\n  new Project(); // eslint-disable-line no-new\n  new ShortcutsNavigation(); // eslint-disable-line no-new\n});\n"],"sourceRoot":""}