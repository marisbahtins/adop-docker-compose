(this.webpackJsonp=this.webpackJsonp||[]).push([[27],{129:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(19);function o(){"file"===i()('input[name="blacklist_type"]:checked').val()?(i()(".blacklist-file").show(),i()(".blacklist-raw").hide()):(i()(".blacklist-file").hide(),i()(".blacklist-raw").show())}var s=n(1),c=Object(s.a)("Regex pattern"),l=Object(s.a)("To define internal users, first enable new users set to external");function u(e){var t=document.getElementById("application_setting_user_default_internal_regex");e&&t&&(e.checked?(t.readOnly=!1,t.placeholder=c):(t.readOnly=!0,t.placeholder=l))}document.addEventListener("DOMContentLoaded",function(){var e,t;e=i()(".change-owner-holder"),i()("input#user_force_random_password").on("change",function(){var e=i()("#user_password, #user_password_confirmation");i()(this).attr("checked")?e.val("").prop("disabled",!0):e.prop("disabled",!1)}),i()("body").on("click",".js-toggle-colors-link",function(e){e.preventDefault(),i()(".js-toggle-colors-container").toggleClass("hide")}),i()(".log-tabs a").on("click",function(e){e.preventDefault(),i()(this).tab("show")}),i()(".log-bottom").on("click",function(e){e.preventDefault();var t=i()(".file-content:visible");t.animate({scrollTop:t.find("ol").height()},"fast")}),i()(".change-owner-link").on("click",function(t){t.preventDefault(),i()(this).hide(),e.show()}),i()(".change-owner-cancel-link").on("click",function(t){t.preventDefault(),e.hide(),i()(".change-owner-link").show()}),i()("li.project_member, li.group_member").on("ajax:success",r.e),i()("input[name='blacklist_type']").on("click",o),o(),u(t=document.getElementById("application_setting_user_default_external")),t.addEventListener("change",function(){u(t)})})},1446:function(e,t,n){"use strict";n.r(t);var a=n(6),i=n(1),r=n(7);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trigger=t,this.container=n,this.isVisible=!1,this.isInserted=!1}var t,n,s;return t=e,(n=[{key:"init",value:function(){var e=this;this.spinner=this.trigger.querySelector(".js-spinner"),this.text=this.trigger.querySelector(".js-text"),this.trigger.addEventListener("click",function(t){return t.preventDefault(),e.isVisible?e.hidePayload():e.requestPayload()})}},{key:"requestPayload",value:function(){var e=this;return this.isInserted?this.showPayload():(this.spinner.classList.add("d-inline"),a.a.get(this.container.dataset.endpoint,{responseType:"text"}).then(function(t){var n=t.data;e.spinner.classList.remove("d-inline"),e.insertPayload(n)}).catch(function(){e.spinner.classList.remove("d-inline"),Object(r.a)(Object(i.a)("Error fetching usage ping data."))}))}},{key:"hidePayload",value:function(){this.isVisible=!1,this.container.classList.add("d-none"),this.text.textContent=Object(i.a)("Preview payload")}},{key:"showPayload",value:function(){this.isVisible=!0,this.container.classList.remove("d-none"),this.text.textContent=Object(i.a)("Hide payload")}},{key:"insertPayload",value:function(e){this.isInserted=!0,this.container.innerHTML=e,this.showPayload()}}])&&o(t.prototype,n),s&&o(t,s),e}();document.addEventListener("DOMContentLoaded",function(){new s(document.querySelector(".js-usage-ping-payload-trigger"),document.querySelector(".js-usage-ping-payload")).init()})},155:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(0),i=n.n(a),r=n(1);function o(e){e.find(".js-settings-toggle:not(.js-settings-toggle-trigger-only)").text(Object(r.a)("Collapse")),e.find(".settings-content").off("scroll.expandSection").scrollTop(0),e.addClass("expanded"),e.hasClass("no-animate")||e.addClass("animating").one("animationend.animateSection",function(){return e.removeClass("animating")})}function s(e){e.removeClass("no-animate"),e.hasClass("expanded")?function(e){e.find(".js-settings-toggle:not(.js-settings-toggle-trigger-only)").text(Object(r.a)("Expand")),e.find(".settings-content").on("scroll.expandSection",function(){return o(e)}),e.removeClass("expanded"),e.hasClass("no-animate")||e.addClass("animating").one("animationend.animateSection",function(){return e.removeClass("animating")})}(e):o(e)}function c(){if(i()(".settings").each(function(e,t){var n=i()(t);n.on("click.toggleSection",".js-settings-toggle",function(){return s(n)}),n.hasClass("expanded")||n.find(".settings-content").on("scroll.expandSection",function(){n.removeClass("no-animate"),o(n)})}),window.location.hash){var e=i()(window.location.hash);e.length&&e.hasClass("settings")&&o(e)}}},28:function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(12),o=n(31);function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=i()(t),this.newItemBtn=i()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,n,a;return t=e,(n=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",function(t){return e.openDropdown(t)}),this.newItemBtn.on("click",function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))}),this.projectSelectInput.on("change",function(){return e.selectProject()})}},{key:"initLocalStorage",value:function(){o.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){i()(e.currentTarget).siblings(".project-item-select").select2("open")}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&s(t.prototype,n),a&&s(t,a),e}();function l(){i()(".ajax-project-select").each(function(e,t){var n,a,o=i()(t).data("simpleFilter")||!1;return this.groupId=i()(t).data("groupId"),this.includeGroups=i()(t).data("includeGroups"),this.allProjects=i()(t).data("allProjects")||!1,this.orderBy=i()(t).data("orderBy")||"id",this.withIssuesEnabled=i()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=i()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===i()(t).data("withShared")||i()(t).data("withShared"),this.includeProjectsInSubgroups=i()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=i()(t).data("allowClear")||!1,n="Search for project",this.includeGroups&&(n+=" or group"),i()(t).select2({placeholder:n,minimumInputLength:0,query:(a=this,function(e){var t,n;return t=function(t){var n;return n={results:t},e.callback(n)},n=a.includeGroups?function(n){var a;return a=function(e){var a;return a=e.concat(n),t(a)},r.a.groups(e.term,{},a)}:t,a.groupId?r.a.groupProjects(a.groupId,e.term,{with_issues_enabled:a.withIssuesEnabled,with_merge_requests_enabled:a.withMergeRequestsEnabled,with_shared:a.withShared,include_subgroups:a.includeProjectsInSubgroups},n):r.a.projects(e.term,{order_by:a.orderBy,with_issues_enabled:a.withIssuesEnabled,with_merge_requests_enabled:a.withMergeRequestsEnabled,membership:!a.allProjects},n)}),id:function(e){return o?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return r.a.project(e.val()).then(function(e){var n=e.data;return t(n)})},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),o?t:new c(t)})}n.d(t,"a",function(){return l})},598:function(e,t,n){"use strict";n.r(t);var a=n(155),i=n(28);document.addEventListener("DOMContentLoaded",function(){Object(a.a)(),Object(i.a)()})},968:function(e,t,n){n(42),n(129),n(598),e.exports=n(1446)}},[[968,1,0]]]);
//# sourceMappingURL=pages.admin.application_settings.metrics_and_profiling.26e2d798.chunk.js.map