{"version":3,"sources":["webpack:///./pages/groups/milestones/edit/index.js","webpack:///./pages/groups/index.js","webpack:////home/git/gitlab/node_modules/mousetrap/plugins/pause/mousetrap-pause.js","webpack:///./due_date_select.js","webpack:///./boards/stores/boards_store.js","webpack:///./shared/milestones/form.js","webpack:///./dropzone_input.js","webpack:///./gl_form.js","webpack:///./zen_mode.js","webpack:////home/git/gitlab/node_modules/pikaday/pikaday.js"],"names":["__webpack_require__","r","__webpack_exports__","_shared_milestones_form__WEBPACK_IMPORTED_MODULE_0__","document","addEventListener","initForm","_persistent_user_callout__WEBPACK_IMPORTED_MODULE_0__","_projects_gke_cluster_dropdowns__WEBPACK_IMPORTED_MODULE_1__","callout","page","body","dataset","indexOf","querySelector","PersistentUserCallout","initGkeDropdowns","Mousetrap","self","_originalStopCallback","stopCallback","enabled","e","element","combo","pause","unpause","DueDateSelect","_ref","arguments","length","undefined","$dropdown","$loading","_classCallCheck","this","$dropdownParent","closest","$block","$datePicker","find","$sidebarCollapsedValue","$selectbox","$value","$valueContent","$sidebarValue","$","fieldName","data","abilityName","issueUpdateURL","rawSelectedDate","displayedDate","datePayload","initGlDropdown","initRemoveDueDate","initDatePicker","_this","glDropdown","opened","show","hidden","hide","css","_this2","$dueDateInput","concat","calendar","Pikaday","field","get","theme","format","parse","dateString","parsePikadayDate","toString","date","pikadayToString","onSelect","dateText","val","hasClass","boardsStore","detail","issue","dueDate","updateIssueBoardIssue","saveDueDate","setDate","append","el","_this3","on","preventDefault","isDropdown","parseSelectedDate","prepSelectedDate","submitSelectedDate","dateArray","split","map","v","parseInt","dateObj","Date","dateFormat","due_date","_this4","fadeIn","trigger","fadeOutLoader","fadeOut","update","attr","then","catch","_this5","selectedDateValue","hasDueDate","displayedDateStyle","removeClass","html","toggleClass","axios","put","tooltipText","__","timeFor","dropdown","DueDateSelectors","initMilestoneDatePicker","initIssuableSelect","each","datePickerVal","container","parent","target","siblings","i","d","boardStoreIssueSet","boardStoreIssueDelete","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","n","underscore__WEBPACK_IMPORTED_MODULE_1__","underscore__WEBPACK_IMPORTED_MODULE_1___default","vue__WEBPACK_IMPORTED_MODULE_2__","js_cookie__WEBPACK_IMPORTED_MODULE_3__","js_cookie__WEBPACK_IMPORTED_MODULE_3___default","_lib_utils_common_utils__WEBPACK_IMPORTED_MODULE_4__","disabled","filter","path","state","moving","list","create","lists","getUrlParamsArray","join","addList","listObj","defaultAvatar","List","push","new","backlogList","findList","save","issues","forEach","removeIssue","bind","_","sortBy","removeBlankState","updateNewListDropdown","listId","shouldAddBlankState","type","addBlankState","welcomeIsHidden","id","list_type","title","position","removeList","Cookies","set","expires","parseBoolean","moveList","listFrom","orderLists","moveIssueToList","listTo","newIndex","issueTo","findIssue","issueLists","getLists","listLabels","listIssue","label","updateIssueLabel","removeLabel","findAssignee","assignee","removeAssignee","currentMilestone","milestone","currentLists","some","removeMilestone","addMilestone","currentList","addIssue","removeLabels","shouldRemoveIssue","moveIssueInList","oldIndex","idArray","beforeId","afterId","moveIssue","key","byType","findListByLabelId","updateFiltersUrl","window","history","pushState","_len","args","Array","_key","Vue","apply","_len2","_key2","delete","_zen_mode__WEBPACK_IMPORTED_MODULE_1__","_due_date_select__WEBPACK_IMPORTED_MODULE_2__","_gl_form__WEBPACK_IMPORTED_MODULE_3__","initGFM","ZenMode","GLForm","emojis","members","mergeRequests","epics","milestones","labels","snippets","dropzoneInput","form","handlePaste","pasteText","addFileToForm","updateAttachingMessage","isImage","getFilename","uploadFile","$attachButton","$attachingFileMessage","$cancelButton","$retryLink","$uploadProgress","$uploadingErrorContainer","$uploadingErrorMessage","$uploadingProgressContainer","uploadsPath","uploads_path","maxFileSize","gon","max_file_size","formTextarea","wrap","event","$mdArea","setupMarkdownPreview","$formDropzone","addClass","dropzone","url","dictDefaultMessage","clickable","paramName","maxFilesize","uploadMultiple","headers","csrf","previewContainer","processing","alert","dragover","dragleave","drop","focus","success","header","response","processingFileCount","getQueuedFiles","getUploadingFiles","shouldPad","link","markdown","error","file","res","errorMessage","xhr","message","responseText","isString","totaluploadprogress","totalUploadProgress","files","text","Math","round","sending","removedfile","queuecomplete","remove","child","children","stopPropagation","Dropzone","forElement","removeAllFiles","dropzoneInstance","failedFiles","failedFile","status","ERROR","accepted","addFile","pasteEvent","originalEvent","clipboardData","items","image","filename","getAsFile","item","formattedText","textarea","caretStart","selectionStart","caretEnd","selectionEnd","textEnd","beforeSelection","substring","afterSelection","setSelectionRange","style","height","scrollHeight","dispatchEvent","Event","escape","value","getData","closeSpinner","formData","FormData","post","md","$child","index","replace","insertToTextArea","messageContainer","attachingMessage","filesCount","click","autoDiscover","enableGFM","Object","assign","GFMConfig","dataSources","gl","GfmAutoComplete","keys","destroy","setupForm","clearEventListeners","autoComplete","isNewForm","is","utils","disableButtonIfEmptyField","setup","autosize","addEventListeners","addMarkdownListeners","isAutosizeable","setupAutosize","off","setHeightData","destroyAutosize","setTimeout","outerHeight","removeMarkdownListeners","active_backdrop","active_textarea","currentTarget","enter","exit","keyCode","backdrop","removeAttr","scrollTo","$dropzone","enable","zen_area","offset","root","factory","moment","Error","code","module","exports","hasMoment","hasEventListeners","sto","addEvent","callback","capture","attachEvent","removeEvent","removeEventListener","detachEvent","cn","className","isArray","obj","test","prototype","call","isDate","isNaN","getTime","isWeekend","day","getDay","getDaysInMonth","year","month","isLeapYear","setToStartOfDay","setHours","compareDates","a","b","extend","to","from","overwrite","prop","hasProp","nodeName","slice","fireEvent","eventName","ev","createEvent","initEvent","createEventObject","adjustCalendar","ceil","abs","floor","defaults","bound","reposition","defaultDate","setDefaultDate","firstDay","formatStrict","minDate","maxDate","yearRange","showWeekNumber","pickWholeWeek","minYear","maxYear","minMonth","maxMonth","startRange","endRange","isRTL","yearSuffix","showMonthAfterYear","showDaysInNextAndPreviousMonths","enableSelectionDaysInNextAndPreviousMonths","numberOfMonths","mainCalendar","blurFieldOnSelect","i18n","previousMonth","nextMonth","months","weekdays","weekdaysShort","events","onOpen","onClose","onDraw","renderDayName","opts","abbr","renderDay","arr","ariaSelected","isEmpty","isDisabled","isToday","isSelected","hasEvent","isInRange","isStartRange","isEndRange","renderRow","days","isRowSelected","reverse","renderTitle","instance","c","refYear","randId","j","monthHtml","yearHtml","_o","isMinYear","isMaxYear","prev","next","options","config","_onMouseDown","_v","srcElement","parentNode","prevMonth","getAttribute","blur","_c","returnValue","_onChange","gotoMonth","gotoYear","_onKeyChange","isVisible","adjustDate","_onInputChange","firedBy","isValid","toDate","_onInputFocus","_onInputClick","_onInputBlur","pEl","activeElement","_b","_onClick","onchange","setAttribute","createElement","appendChild","insertBefore","nextSibling","defDate","gotoDate","disableWeekends","disableDayFn","nom","setMinDate","setMaxDate","fallback","getFullYear","_d","toDateString","getMoment","setMoment","preventOnSelect","isMoment","getDate","draw","min","max","newCalendar","calendars","firstVisibleDate","lastVisibleDate","visibleDate","setMonth","getMonth","adjustCalendars","sign","newDay","difference","valueOf","gotoToday","setStartRange","setEndRange","force","_y","_m","random","substr","render","innerHTML","adjustPosition","width","viewportWidth","viewportHeight","scrollTop","left","top","clientRect","offsetWidth","offsetHeight","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","pageYOffset","getBoundingClientRect","pageXOffset","bottom","offsetLeft","offsetTop","offsetParent","now","before","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","after","m","y","onejan","isWeekSelected","dayNumber","monthNumber","yearNumber","dayConfig","unshift","renderHead","renderTable","str","trim","removeChild"],"mappings":"gJAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,KAEAI,SAASC,iBAAiB,mBAAoB,kBAAMC,aAAS,uCCF7DN,EAAAC,EAAAC,GAAA,IAAAK,EAAAP,EAAA,IAAAQ,EAAAR,EAAA,IASAI,SAASC,iBAAiB,mBAAoB,WAAM,IAL5CI,EAMEC,EAASN,SAASO,KAAKC,QAAvBF,MAEN,sBACA,6BACA,+BAGkBG,QAAQH,IAAS,KAb/BD,EAAUL,SAASU,cAAc,uBAE1B,IAAIC,IAAsBN,GAarCO,oCCbJC,UAAA,SAAAA,GACA,IAAAC,EAAAD,EACAE,EAAAD,EAAAE,aACAC,GAAA,EAkBA,OAhBAH,EAAAE,aAAA,SAAAE,EAAAC,EAAAC,GACA,OAAAH,GAIAF,EAAAG,EAAAC,EAAAC,IAGAN,EAAAO,MAAA,WACAJ,GAAA,GAGAH,EAAAQ,QAAA,WACAL,GAAA,GAGAH,EArBA,CAsBCD,meCpBKU,aACJ,SAAAA,IAA0C,IAAAC,EAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,MAA5BG,EAA4BJ,EAA5BI,UAAWC,EAAiBL,EAAjBK,SAAiBC,EAAAC,KAAAR,GACxC,IAAMS,EAAkBJ,EAAUK,QAAQ,aACpCC,EAASN,EAAUK,QAAQ,UACjCF,KAAKF,SAAWA,EAChBE,KAAKH,UAAYA,EACjBG,KAAKC,gBAAkBA,EACvBD,KAAKI,YAAcH,EAAgBI,KAAK,yBACxCL,KAAKG,OAASA,EACdH,KAAKM,uBAAyBH,EAAOE,KAAK,2BAC1CL,KAAKO,WAAaV,EAAUK,QAAQ,cACpCF,KAAKQ,OAASL,EAAOE,KAAK,UAC1BL,KAAKS,cAAgBN,EAAOE,KAAK,kBACjCL,KAAKU,cAAgBC,IAAE,6BAA8BR,GACrDH,KAAKY,UAAYf,EAAUgB,KAAK,aAChCb,KAAKc,YAAcjB,EAAUgB,KAAK,eAClCb,KAAKe,eAAiBlB,EAAUgB,KAAK,eAErCb,KAAKgB,gBAAkB,KACvBhB,KAAKiB,cAAgB,KACrBjB,KAAKkB,YAAc,KAEnBlB,KAAKmB,iBACLnB,KAAKoB,oBACLpB,KAAKqB,oEAGU,IAAAC,EAAAtB,KACfA,KAAKH,UAAU0B,YACbC,OAAQ,WACWF,EAAKlB,YAAYS,KAAK,WAC9BY,QAEXC,OAAQ,WACNJ,EAAKf,WAAWoB,OAChBL,EAAKd,OAAOoB,IAAI,UAAW,gDAKhB,IAAAC,EAAA7B,KACT8B,EAAgBnB,IAAC,eAAAoB,OAAgB/B,KAAKY,UAArB,OACjBoB,EAAW,IAAIC,KACnBC,MAAOJ,EAAcK,IAAI,GACzBC,MAAO,eACPC,OAAQ,aACRC,MAAO,SAAAC,GAAU,OAAIC,YAAiBD,IACtCE,SAAU,SAAAC,GAAI,OAAIC,YAAgBD,IAClCE,SAAU,SAAAC,GACRf,EAAcgB,IAAId,EAASS,SAASI,IAEhChB,EAAKhC,UAAUkD,SAAS,6BAC1BC,IAAYC,OAAOC,MAAMC,QAAUrB,EAAcgB,MACjDjB,EAAKuB,yBAELvB,EAAKwB,aAAY,MAKvBrB,EAASsB,QAAQd,YAAiBV,EAAcgB,QAChD9C,KAAKI,YAAYmD,OAAOvB,EAASwB,IACjCxD,KAAKI,YAAYS,KAAK,UAAWmB,+CAGf,IAAAyB,EAAAzD,KAClBA,KAAKG,OAAOuD,GAAG,QAAS,sBAAuB,SAAAvE,GAC7C,IAAM6C,EAAWyB,EAAKrD,YAAYS,KAAK,WACvC1B,EAAEwE,iBAEF3B,EAASsB,QAAQ,MAEbG,EAAK5D,UAAUkD,SAAS,6BAC1BC,IAAYC,OAAOC,MAAMC,QAAU,GACnCM,EAAKL,0BAELzC,IAAC,eAAAoB,OAAgB0B,EAAK7C,UAArB,OAAoCkC,IAAI,IACzCW,EAAKJ,aAAY,0CAKXO,GACV5D,KAAK6D,oBACL7D,KAAK8D,mBACL9D,KAAK+D,mBAAmBH,+CAMxB,GAFA5D,KAAKgB,gBAAkBL,IAAC,eAAAoB,OAAgB/B,KAAKY,UAArB,OAAoCkC,MAExD9C,KAAKgB,gBAAgBrB,OAAQ,CAE/B,IAAMqE,EAAYhE,KAAKgB,gBAAgBiD,MAAM,KAAKC,IAAI,SAAAC,GAAC,OAAIC,SAASD,EAAG,MACjEE,EAAU,IAAIC,KAAKN,EAAU,GAAIA,EAAU,GAAK,EAAGA,EAAU,IACnEhE,KAAKiB,cAAgBsD,IAAWF,EAAS,oBAEzCrE,KAAKiB,cAAgB,yDAKvB,IAAMC,KACNA,EAAYlB,KAAKc,gBACjBI,EAAYlB,KAAKc,aAAa0D,SAAWxE,KAAKgB,gBAC9ChB,KAAKkB,YAAcA,kDAGG,IAAAuD,EAAAzE,KACtBA,KAAKF,SAAS4E,SACd1E,KAAKH,UAAU8E,QAAQ,uBACvB3E,KAAKO,WAAWoB,OAChB3B,KAAKQ,OAAOoB,IAAI,UAAW,IAC3B,IAAMgD,EAAgB,WACpBH,EAAK3E,SAAS+E,WAGhB7B,IAAYC,OAAOC,MAChB4B,OAAO9E,KAAKH,UAAUkF,KAAK,sBAC3BC,KAAKJ,GACLK,MAAML,8CAGQhB,GAAY,IAAAsB,EAAAlF,KACvBmF,EAAoBnF,KAAKkB,YAAYlB,KAAKc,aAAa0D,SACvDY,EAAoC,gBAAvBpF,KAAKiB,cAClBoE,EAAqBD,EAAa,OAAS,WAejD,OAbApF,KAAKF,SAASwF,YAAY,UAAUZ,SAEhCd,IACF5D,KAAKH,UAAU8E,QAAQ,uBACvB3E,KAAKO,WAAWoB,QAGlB3B,KAAKQ,OAAOoB,IAAI,UAAW,IAC3B5B,KAAKS,cAAc8E,KAAnB,gBAAAxD,OAAwCsD,EAAxC,MAAAtD,OAA+D/B,KAAKiB,cAApE,YACAjB,KAAKU,cAAc6E,KAAKvF,KAAKiB,eAE7BN,IAAE,8BAA8B6E,YAAY,SAAUL,EAAkBxF,QAEjE8F,IAAMC,IAAI1F,KAAKe,eAAgBf,KAAKkB,aAAa8D,KAAK,WAC3D,IAAMW,EAAcP,EAAU,GAAArD,OACvB6D,YAAG,YADoB,UAAA7D,OACAoD,EADA,MAAApD,OACsB8D,YAAQV,GAD9B,KAE1BS,YAAG,YAOP,OANIhC,IACFsB,EAAKrF,UAAU8E,QAAQ,sBACvBO,EAAKrF,UAAUiG,SAAS,WAE1BZ,EAAK5E,uBAAuByE,KAAK,sBAAuBY,GAEjDT,EAAKpF,SAAS+E,qBAKNkB,aACnB,SAAAA,IAAchG,EAAAC,KAAA+F,GACZ/F,KAAKgG,0BACLhG,KAAKiG,iFAILtF,IAAE,eAAeuF,KAAK,WACpB,IAAM9F,EAAcO,IAAEX,MAChBmG,EAAgB/F,EAAY0C,MAE5Bd,EAAW,IAAIC,KACnBC,MAAO9B,EAAY+B,IAAI,GACvBC,MAAO,8BACPC,OAAQ,aACR+D,UAAWhG,EAAYiG,SAASlE,IAAI,GACpCG,MAAO,SAAAC,GAAU,OAAIC,YAAiBD,IACtCE,SAAU,SAAAC,GAAI,OAAIC,YAAgBD,IAClCE,SAP2B,SAOlBC,GACPzC,EAAY0C,IAAId,EAASS,SAASI,OAItCb,EAASsB,QAAQd,YAAiB2D,IAElC/F,EAAYS,KAAK,UAAWmB,KAG9BrB,IAAE,2CAA2C+C,GAAG,QAAS,SAAAvE,GACvDA,EAAEwE,iBACehD,IAAExB,EAAEmH,QAClBC,SAAS,eACT1F,KAAK,WACCyC,QAAQ,qDAKnB,IAAMxD,EAAWa,IAAE,iCAChBN,KAAK,kBACLsB,OAEHhB,IAAE,uBAAuBuF,KAAK,SAACM,EAAGV,GAChC,IAAMjG,EAAYc,IAAEmF,GAEpB,IAAItG,GACFK,YACAC,yDCnNRjC,EAAA4I,EAAA1I,EAAA,sBAAA2I,IAAA7I,EAAA4I,EAAA1I,EAAA,sBAAA4I,IAAA,IAAAC,EAAA/I,EAAA,GAAAgJ,EAAAhJ,EAAAiJ,EAAAF,GAAAG,EAAAlJ,EAAA,GAAAmJ,EAAAnJ,EAAAiJ,EAAAC,GAAAE,EAAApJ,EAAA,IAAAqJ,EAAArJ,EAAA,IAAAsJ,EAAAtJ,EAAAiJ,EAAAI,GAAAE,EAAAvJ,EAAA,IASMmF,GACJqE,UAAU,EACVC,QACEC,KAAM,IAERC,SACAvE,QACEC,UAEFuE,QACEvE,SACAwE,SAEFC,OAbkB,WAchB3H,KAAKwH,MAAMI,SACX5H,KAAKsH,OAAOC,KAAOM,cAAoBC,KAAK,KAC5C9H,KAAKiD,QACHC,WAGJ6E,QApBkB,SAoBVC,EAASC,GACf,IAAMP,EAAO,IAAIQ,KAAKF,EAASC,GAG/B,OAFAjI,KAAKwH,MAAMI,MAAMO,KAAKT,GAEfA,GAETU,IA1BkB,SA0BdJ,GAAS,IAAA1G,EAAAtB,KACL0H,EAAO1H,KAAK+H,QAAQC,GACpBK,EAAcrI,KAAKsI,SAAS,OAAQ,UAAW,WAErDZ,EACGa,OACAvD,KAAK,WAGJ0C,EAAKc,OAAOC,QAAQJ,EAAYK,YAAYC,KAAKN,IACjD/G,EAAKkG,MAAMI,MAAQgB,IAAEC,OAAOvH,EAAKkG,MAAMI,MAAO,cAE/C3C,MAAM,cAGTjF,KAAK8I,oBAEPC,sBA3CkB,SA2CIC,GACpBrI,IAAC,kBAAAoB,OAAmBiH,IAAU1D,YAAY,cAE5C2D,oBA9CkB,WAgDhB,OAAQjJ,KAAKwH,MAAMI,MAAMN,OAAO,SAAAI,GAAI,MAAkB,YAAdA,EAAKwB,MAAoC,WAAdxB,EAAKwB,OAAmB,IAE7FC,cAlDkB,YAmDXnJ,KAAKiJ,uBAAyBjJ,KAAKoJ,mBAAqBpJ,KAAKqH,WAElErH,KAAK+H,SACHsB,GAAI,QACJC,UAAW,QACXC,MAAO,+BACPC,SAAU,IAGZxJ,KAAKwH,MAAMI,MAAQgB,IAAEC,OAAO7I,KAAKwH,MAAMI,MAAO,cAEhDkB,iBA9DkB,WA+DhB9I,KAAKyJ,WAAW,SAEhBC,IAAQC,IAAI,6BAA8B,QACxCC,QAAS,KACTrC,KAAM,MAGV6B,gBAtEkB,WAuEhB,OAAOS,YAAaH,IAAQvH,IAAI,gCAElCsH,WAzEkB,SAyEPJ,GAAoB,IAAhBH,EAAgBxJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAT,QACPM,KAAKsI,SAAS,KAAMe,EAAIH,KAIrClJ,KAAKwH,MAAMI,MAAQ5H,KAAKwH,MAAMI,MAAMN,OAAO,SAAAI,GAAI,OAAIA,EAAK2B,KAAOA,MAEjES,SAhFkB,SAgFTC,EAAUC,GAAY,IAAAnI,EAAA7B,KAC7BgK,EAAWvB,QAAQ,SAACY,EAAI7C,GACT3E,EAAKyG,SAAS,KAAMlE,SAASiF,EAAI,KAEzCG,SAAWhD,IAElBuD,EAASjF,UAEXmF,gBAxFkB,SAwFFF,EAAUG,EAAQhH,EAAOiH,GACvC,IAAMC,EAAUF,EAAOG,UAAUnH,EAAMmG,IACjCiB,EAAapH,EAAMqH,WACnBC,EAAaF,EAAWpG,IAAI,SAAAuG,GAAS,OAAIA,EAAUC,QAEzD,GAAKN,EAwBHF,EAAOS,iBAAiBzH,EAAO6G,GAC/BK,EAAQQ,YAAYb,EAASW,YAvB7B,GACkB,aAAhBR,EAAOhB,MACW,aAAlBa,EAASb,MACThG,EAAM2H,aAAaX,EAAOY,UAENZ,EAAOG,UAAUnH,EAAMmG,IAC/B0B,eAAehB,EAASe,eAC/B,GAAoB,cAAhBZ,EAAOhB,KAAsB,CACtC,IAAM8B,EAAmB9H,EAAM+H,UACzBC,EAAelL,KAAKwH,MAAMI,MAC7BN,OAAO,SAAAI,GAAI,MAAkB,cAAdA,EAAKwB,MAAwBxB,EAAK2B,KAAOa,EAAOb,KAC/D/B,OAAO,SAAAI,GAAI,OAAIA,EAAKc,OAAO2C,KAAK,SAAAV,GAAS,OAAIvH,EAAMmG,KAAOoB,EAAUpB,OAEvEnG,EAAMkI,gBAAgBJ,GACtB9H,EAAMmI,aAAanB,EAAOe,WAC1BC,EAAazC,QAAQ,SAAA6C,GAAW,OAAIA,EAAY5C,YAAYxF,KAC5DgH,EAAOqB,SAASrI,EAAO6G,EAAUI,QAGjCD,EAAOqB,SAASrI,EAAO6G,EAAUI,GAOjB,WAAhBD,EAAOhB,MAAuC,YAAlBa,EAASb,MACvCoB,EAAW7B,QAAQ,SAAAf,GACjBA,EAAKgB,YAAYxF,KAEnBA,EAAMsI,aAAahB,IACM,YAAhBN,EAAOhB,MAAwC,aAAlBa,EAASb,MAC/ChG,EAAM6H,eAAehB,EAASe,UAC9Bf,EAASrB,YAAYxF,IACI,YAAhBgH,EAAOhB,MAAwC,cAAlBa,EAASb,MAC/ChG,EAAMkI,gBAAgBrB,EAASkB,WAC/BlB,EAASrB,YAAYxF,IACZlD,KAAKyL,kBAAkB1B,EAAUG,IAC1CH,EAASrB,YAAYxF,IAGzBuI,kBAxIkB,SAwIA1B,EAAUG,GAC1B,MACmB,UAAhBA,EAAOhB,MAAsC,aAAlBa,EAASb,MACpB,aAAhBgB,EAAOhB,MAAyC,UAAlBa,EAASb,MACtB,YAAlBa,EAASb,MAGbwC,gBA/IkB,SA+IFhE,EAAMxE,EAAOyI,EAAUxB,EAAUyB,GAC/C,IAAMC,EAAWzH,SAASwH,EAAQzB,EAAW,GAAI,KAAO,KAClD2B,EAAU1H,SAASwH,EAAQzB,EAAW,GAAI,KAAO,KAEvDzC,EAAKqE,UAAU7I,EAAOyI,EAAUxB,EAAU0B,EAAUC,IAEtDxD,SArJkB,SAqJT0D,EAAKlJ,GAAqB,IAAhBoG,EAAgBxJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAT,QAQxB,OAPqBM,KAAKwH,MAAMI,MAAMN,OAAO,SAAAI,GAC3C,IAAMuE,GAAS/C,IACXxB,EAAKwB,OAASA,GAAsB,aAAdxB,EAAKwB,MAAqC,cAAdxB,EAAKwB,MAG3D,OAAOxB,EAAKsE,KAASlJ,GAAOmJ,IAEV,IAEtBC,kBA/JkB,SA+JA7C,GAChB,OAAOrJ,KAAKwH,MAAMI,MAAMvH,KAAK,SAAAqH,GAAI,MAAkB,UAAdA,EAAKwB,MAAoBxB,EAAKgD,MAAMrB,KAAOA,KAElF8C,iBAlKkB,WAmKhBC,OAAOC,QAAQC,UAAU,KAAM,KAA/B,IAAAvK,OAAyC/B,KAAKsH,OAAOC,SAOlD,SAASb,IAA4B,QAAA6F,EAAA7M,UAAAC,OAAN6M,EAAM,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAANF,EAAME,GAAAhN,UAAAgN,GAC1CC,UAAIhD,IAAJiD,MAAAD,WAAQ3J,EAAYC,OAAOC,OAAxBnB,OAAkCyK,IAGhC,SAAS7F,IAA+B,QAAAkG,EAAAnN,UAAAC,OAAN6M,EAAM,IAAAC,MAAAI,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANN,EAAMM,GAAApN,UAAAoN,GAC7CH,UAAII,OAAJH,MAAAD,WAAW3J,EAAYC,OAAOC,OAA3BnB,OAAqCyK,IAG3BxJ,wCC3Lf,IAAA4D,EAAA/I,EAAA,GAAAgJ,EAAAhJ,EAAAiJ,EAAAF,GAAAoG,EAAAnP,EAAA,IAAAoP,EAAApP,EAAA,KAAAqP,EAAArP,EAAA,IAKeE,EAAA,aAAoB,IAAnBoP,IAAmBzN,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GACjC,IAAI0N,IACJ,IAAIrH,IAEJ,IAAIsH,IAAO1M,IAAE,oBACX2M,QAAQ,EACRC,QAASJ,EACT3E,OAAQ2E,EACRK,cAAeL,EACfM,MAAON,EACPO,WAAYP,EACZQ,OAAQR,EACRS,SAAUT,4ICKC,SAASU,EAAcC,GACpC,IAaIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAjBEC,EAAgBR,EAAKzN,KAAK,uBAC1BkO,EAAwBT,EAAKzN,KAAK,2BAClCmO,EAAgBV,EAAKzN,KAAK,kCAC1BoO,EAAaX,EAAKzN,KAAK,yBACvBqO,EAAkBZ,EAAKzN,KAAK,uBAC5BsO,EAA2Bb,EAAKzN,KAAK,8BACrCuO,EAAyBd,EAAKzN,KAAK,4BACnCwO,EAA8Bf,EAAKzN,KAAK,iCACxCyO,EAAchB,EAAKjN,KAAK,iBAAmBuL,OAAO2C,cAAgB,KAClEC,EAAcC,IAAIC,eAAiB,GACnCC,EAAerB,EAAKzN,KAAK,iBAS/B8O,EAAaC,KAAK,oCAClBD,EAAazL,GAAG,QAAS,SAAA2L,GAAK,OAAItB,EAAYsB,KAG9C,IAAMC,EAAUH,EAAajP,QAAQ,YACrC4N,EAAKyB,uBACL,IAAMC,EAAgB1B,EAAKzN,KAAK,iBAKhC,GAJAmP,EAAcnJ,SAASoJ,SAAS,wBAChCD,EAAcjM,OA7BG,0CA8BjBiM,EAAcnP,KAAK,uBAAuBkD,OA7BpB,sDA+BjBuL,EAEH,OADAU,EAAcC,SAAS,uBAChB,KAGT,IAAMC,EAAWF,EAAcE,UAC7BC,IAAKb,EACLc,mBAAoB,GACpBC,WAAW,EACXC,UAAW,OACXC,YAAaf,EACbgB,gBAAgB,EAChBC,QAASC,IAAKD,QACdE,kBAAkB,EAClBC,WAAY,kBAAMzP,IAAE,uBAAuB0P,MAAM,UACjDC,SAAU,WACRhB,EAAQG,SAAS,qBACjB3B,EAAKzN,KAAK,uBAAuBuB,IAAI,UAAW,KAElD2O,UAAW,WACTjB,EAAQhK,YAAY,qBACpBwI,EAAKzN,KAAK,uBAAuBuB,IAAI,UAAW,IAElD4O,KAAM,WACJlB,EAAQhK,YAAY,qBACpBwI,EAAKzN,KAAK,uBAAuBuB,IAAI,UAAW,GAChDuN,EAAasB,SAEfC,QAvBsC,SAuB9BC,EAAQC,GACd,IAAMC,EAAsB7Q,KAAK8Q,iBAAiBnR,OAASK,KAAK+Q,oBAAoBpR,OAC9EqR,EAAYH,GAAuB,EAEzC7C,EAAU4C,EAASK,KAAKC,SAAUF,GAE7BH,GAAqBvC,EAAchJ,YAAY,QACpD2I,EAAc2C,EAASK,KAAKtB,MAE9BwB,MAAO,SAACC,GAA2D,IA9E9CC,EA8EPC,EAAqD5R,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtC,6BAA8B6R,EAAQ7R,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAO3D4R,IArFaH,EAqFaC,GAAgBC,EAAIE,eApF5C7I,IAAE8I,SAASL,GACdA,EAGFA,EAAIG,QAkFP7C,EAAyBrJ,YAAY,QACrCsJ,EAAuBrJ,KAAKiM,GAC5BlD,EAAcmB,SAAS,QACvBjB,EAAciB,SAAS,SAEzBkC,oBA9CsC,SA8ClBC,GAClB1D,EAAuBlO,KAAK6R,MAAOtD,GACnCG,EAAgBoD,KAAhB,GAAA/P,OAAwBgQ,KAAKC,MAAMJ,GAAnC,OAEFK,QAAS,WAIP3D,EAAcmB,SAAS,QACvBd,EAAyBc,SAAS,QAClCZ,EAA4BvJ,YAAY,QACxCkJ,EAAclJ,YAAY,SAE5B4M,YAAa,WACX5D,EAAchJ,YAAY,QAC1BkJ,EAAciB,SAAS,QACvBZ,EAA4BY,SAAS,QACrCd,EAAyBc,SAAS,SAEpC0C,cAAe,WACbxR,IAAE,eAAeyR,SACjBzR,IAAE,kBAAkBgE,QAAQ,SAE5BkK,EAA4BY,SAAS,QACrCjB,EAAciB,SAAS,WAIrB4C,EAAQ1R,IAAE+O,EAAS,IAAI4C,SAAS,YAItC9D,EAAc9K,GAAG,QAAS,SAAAvE,GACxBA,EAAEwE,iBACFxE,EAAEoT,kBACFC,IAASC,WAAWjD,EAAcrN,IAAI,IAAIuQ,gBAAe,KAO3DjE,EAAW/K,GAAG,QAAS,SAAAvE,GACrB,IAAMwT,EAAmBH,IAASC,WAChCtT,EAAEmH,OAAOpG,QAAQ,wBAAwBvB,cAAc,kBAEnDiU,EAAcD,EAAiBd,MAErC1S,EAAEwE,iBAIFgP,EAAiBD,gBAAe,GAEhCE,EAAY1O,IAAI,SAAA2O,GACd,IAAMzB,EAAOyB,EAOb,OALIzB,EAAK0B,SAAWN,IAASO,QAC3B3B,EAAK0B,YAASlT,EACdwR,EAAK4B,cAAWpT,GAGX+S,EAAiBM,QAAQ7B,OAIpCrD,EAAc,SAAAsB,GACZ,IAAM6D,EAAa7D,EAAM8D,cACzB,GAAID,EAAWE,eAAiBF,EAAWE,cAAcC,MAAO,CAC9D,IAAMC,EAAQnF,EAAQ+E,GACtB,GAAII,EAAO,CACTjE,EAAM1L,iBACN,IAAM4P,EAAWnF,EAAY8E,IAAe,YACtCpB,EAAI,KAAA/P,OAAQwR,EAAR,MAEV,OADAvF,EAAU8D,GACHzD,EAAWiF,EAAME,YAAaD,MAK3CpF,EAAU,SAAAtN,GAER,IADA,IAAI2F,EAAI,EACDA,EAAI3F,EAAKuS,cAAcC,MAAM1T,QAAQ,CAC1C,IAAM8T,EAAO5S,EAAKuS,cAAcC,MAAM7M,GACtC,IAAoC,IAAhCiN,EAAKvK,KAAKxK,QAAQ,SACpB,OAAO+U,EAETjN,GAAK,EAEP,OAAO,GAGTwH,EAAY,SAAC8D,EAAMd,GACjB,IAAI0C,EAAgB5B,EAChBd,IACF0C,GAAiB,QAEnB,IAAMC,EAAWtB,EAAMlQ,IAAI,GACrByR,EAAaD,EAASE,eACtBC,EAAWH,EAASI,aACpBC,EAAUrT,IAAE0R,GAAOvP,MAAMnD,OACzBsU,EAAkBtT,IAAE0R,GACvBvP,MACAoR,UAAU,EAAGN,GACVO,EAAiBxT,IAAE0R,GACtBvP,MACAoR,UAAUJ,EAAUE,GAKvB,OAJArT,IAAE0R,GAAOvP,IAAImR,EAAkBP,EAAgBS,GAC/CR,EAASS,kBAAkBR,EAAaF,EAAc/T,OAAQmU,EAAWJ,EAAc/T,QACvFgU,EAASU,MAAMC,OAAf,GAAAvS,OAA2B4R,EAASY,aAApC,MACApF,EAAahN,IAAI,GAAGqS,cAAc,IAAIC,MAAM,UACrCtF,EAAaxK,QAAQ,UAG9BsJ,EAAgB,SAAA1G,GACd5G,IAAEmN,GAAMvK,OAAR,8CAAAxB,OAA6D6G,IAAE8L,OAAOnN,GAAtE,QAGF6G,EAAc,SAAAjP,GACZ,IAAIwV,EAOJ,OANIvI,OAAOgH,eAAiBhH,OAAOgH,cAAcwB,QAC/CD,EAAQvI,OAAOgH,cAAcwB,QAAQ,QAC5BzV,EAAEiU,eAAiBjU,EAAEiU,cAAcwB,UAC5CD,EAAQxV,EAAEiU,cAAcwB,QAAQ,gBAElCD,EAAQA,EAAM1Q,MAAM,OACP,IAGf,IAEM4Q,EAAe,kBAAMhG,EAA4BY,SAAS,SA8DhE,OA9CApB,EAAa,SAACoF,EAAMF,GAClB,IAAMuB,EAAW,IAAIC,SACrBD,EAASvR,OAAO,OAAQkQ,EAAMF,GApBN1E,EAA4BvJ,YAAY,QASlCwI,EAAKzN,KAAK,uBAAuBgQ,MAAM,SAgBrE5K,IACGuP,KAAKlG,EAAagG,GAClB9P,KAAK,SAAAvF,GAAc,IACZwV,EADYxV,EAAXoB,KACSoQ,KAAKC,UAjBF,SAACqC,EAAU5D,GAClC,IAAMuF,EAASvU,IAAE0R,GACjB6C,EAAOpS,IAAI,SAACqS,EAAOrS,GAAR,OAAgBA,EAAIsS,QAAJ,KAAArT,OAAiBwR,EAAjB,MAA+B5D,KAE1DuF,EAAOvQ,QAAQ,UAeX0Q,CAAiB9B,EAAU0B,GAC3BJ,MAED5P,MAAM,SAAA9F,GA7BO,IAAAqS,IA8BFrS,EAAEyR,SAAS/P,KAAK2Q,QA7B9B7C,EAAyBrJ,YAAY,QACrCsJ,EAAuBrJ,KAAKiM,GA6BxBqD,OAIN3G,EAAyB,SAAC2D,EAAOyD,GAC/B,IAAIC,EACEC,EAAa3D,EAAMvK,OAAO,SAAA8J,GAAI,MAAoB,cAAhBA,EAAK0B,QAA0C,WAAhB1B,EAAK0B,SACzEnT,OAKD4V,EADEC,EAAa,EACC,aAAAzT,OAAgByT,EAAhB,YAEG,qBAGrBF,EAAiBxD,KAAKyD,IAGxBzH,EAAKzN,KAAK,sBAAsBoV,MAAM,SAAyBtW,GAC7DA,EAAEwE,iBACFhD,IAAEX,MACCE,QAAQ,aACRG,KAAK,iBACLoV,QACHtG,EAAasB,UAGR+B,IAASC,WAAWjD,EAAcrN,IAAI,IApS/CqQ,IAASkD,cAAe,wNCDHrI,aACnB,SAAAA,EAAYS,GAAsB,IAAAxM,EAAAtB,KAAhB2V,EAAgBjW,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,mGAAAK,CAAAC,KAAAqN,GAChCrN,KAAK8N,KAAOA,EACZ9N,KAAK2T,SAAW3T,KAAK8N,KAAKzN,KAAK,yBAC/BL,KAAK2V,UAAYC,OAAOC,UAAWC,IAAqCH,GAExE,IAAMI,EAAeC,GAAGC,iBAAmBD,GAAGC,gBAAgBF,gBAC9DH,OAAOM,KAAKlW,KAAK2V,WAAWlN,QAAQ,SAAAgL,GACrB,WAATA,IACFnS,EAAKqU,UAAUlC,KAAUsC,EAAYtC,MAIzCzT,KAAKmW,UAELnW,KAAKoW,YACLpW,KAAK8N,KAAKjN,KAAK,SAAUb,+DAKzBA,KAAKqW,sBACDrW,KAAKsW,cACPtW,KAAKsW,aAAaH,UAEpBnW,KAAK8N,KAAKjN,KAAK,SAAU,0CAIzB,IAAM0V,EAAYvW,KAAK8N,KAAK0I,GAAG,mBAC/BxW,KAAK8N,KAAKxI,YAAY,oBAClBiR,IACFvW,KAAK8N,KAAKzN,KAAK,iBAAiB+R,SAChCpS,KAAK8N,KAAK2B,SAAS,YAEnBuG,GAAGS,MAAMC,0BACP1W,KAAK8N,KAAKzN,KAAK,iBACfL,KAAK8N,KAAKzN,KAAK,gDAEjBL,KAAKsW,aAAe,IAAIL,IAAgBD,GAAGC,iBAAmBD,GAAGC,gBAAgBF,aACjF/V,KAAKsW,aAAaK,MAAM3W,KAAK8N,KAAKzN,KAAK,iBAAkBL,KAAK2V,WAC9D9H,EAAc7N,KAAK8N,MACnB8I,IAAS5W,KAAK2T,WAGhB3T,KAAK6W,oBACLC,YAAqB9W,KAAK8N,MAC1B9N,KAAK8N,KAAKrM,OACNzB,KAAK+W,gBAAgB/W,KAAKgX,wDAGhB,IAAAnV,EAAA7B,KACdA,KAAK2T,SAASsD,IAAI,oBAAoBvT,GAAG,mBAAoB1D,KAAKkX,cAAcvO,KAAK3I,OAErFA,KAAK2T,SAASsD,IAAI,oBAAoBvT,GAAG,mBAAoB1D,KAAKmX,gBAAgBxO,KAAK3I,OAEvFoX,WAAW,WACTR,IAAS/U,EAAK8R,UACd9R,EAAK8R,SAAS/R,IAAI,SAAU,aAC3B,2CAIH5B,KAAK2T,SAAS9S,KAAK,SAAUb,KAAK2T,SAAS0D,yDAI3C,IAAMA,EAAcrX,KAAK2T,SAAS0D,cAE9BrX,KAAK2T,SAAS9S,KAAK,YAAcwW,IAErCT,IAAST,QAAQnW,KAAK2T,UAEtB3T,KAAK2T,SAAS9S,KAAK,SAAUwW,GAC7BrX,KAAK2T,SAAS0D,YAAYA,GAC1BrX,KAAK2T,SAAS/R,IAAI,aAAcwK,OAAOiL,4DAIvCrX,KAAK2T,SAASsD,IAAI,SAClBjX,KAAK2T,SAASsD,IAAI,QAClBK,YAAwBtX,KAAK8N,kDAI7B9N,KAAK2T,SAASjQ,GAAG,QAAS,WACxB/C,IAAEX,MACCE,QAAQ,YACRuP,SAAS,gBAEdzP,KAAK2T,SAASjQ,GAAG,OAAQ,WACvB/C,IAAEX,MACCE,QAAQ,YACRoF,YAAY,iWCtFrBkN,IAASkD,cAAe,MAwBHtI,aACnB,SAAAA,IAaK,IAAS9L,+FAbAvB,CAAAC,KAAAoN,GACZpN,KAAKuX,gBAAkB,KACvBvX,KAAKwX,gBAAkB,KACvB7W,IAAE1C,UAAUyF,GAAG,QAAS,gBAAiB,SAASvE,GAEhD,OADAA,EAAEwE,iBACKhD,IAAExB,EAAEsY,eAAe9S,QAAQ,oBAEpChE,IAAE1C,UAAUyF,GAAG,QAAS,gBAAiB,SAASvE,GAEhD,OADAA,EAAEwE,iBACKhD,IAAExB,EAAEsY,eAAe9S,QAAQ,oBAEpChE,IAAE1C,UAAUyF,GACV,kBACUpC,EAQPtB,KAPM,SAASb,GACd,OAAOmC,EAAMoW,MACX/W,IAAExB,EAAEmH,QACDpG,QAAQ,YACRG,KAAK,qBAKhBM,IAAE1C,UAAUyF,GACV,iBACC,SAASpC,GACR,OAAO,SAASnC,GACd,OAAOmC,EAAMqW,QAFhB,CAIE3X,OAELW,IAAE1C,UAAUyF,GAAG,UAAW,SAASvE,GAEjC,GAAkB,KAAdA,EAAEyY,QAEJ,OADAzY,EAAEwE,iBACKhD,IAAE1C,UAAU0G,QAAQ,yEAK3BkT,GACJ/Y,IAAUQ,QACVU,KAAKuX,gBAAkB5W,IAAEkX,GACzB7X,KAAKuX,gBAAgB9H,SAAS,cAC9BzP,KAAKwX,gBAAkBxX,KAAKuX,gBAAgBlX,KAAK,YAEjDL,KAAKwX,gBAAgBM,WAAW,SAChC9X,KAAKwX,gBAAgB/G,uCAIrB,GAAIzQ,KAAKwX,gBAAiB,CACxB1Y,IAAUS,UACVS,KAAKwX,gBAAgBtX,QAAQ,iBAAiBoF,YAAY,cAC1DtF,KAAK+X,SAAS/X,KAAKwX,iBACnBxX,KAAKwX,gBAAkB,KACvBxX,KAAKuX,gBAAkB,KAEvB,IAAMS,EAAYrX,IAAE,iBAChBqX,IAAcA,EAAUjV,SAAS,wBACnCyP,IAASC,WAAW,iBAAiBwF,2CAKlCC,GACP,OAAOvX,IAAEoX,SAASG,EAAU,GAC1BC,QAAS;;;;;;CCnGf,SAAAC,EAAAC,GAEA,aAEA,IAAAC,EAIA,IAAaA,EAAUza,GAAQ,eAAAsB,EAAA,IAAAoZ,MAAA,qCAAApZ,EAAAqZ,KAAA,mBAAArZ,EAAA,IAAY,MAAAA,IAC3CsZ,EAAAC,QAaC,SAAAJ,GAOD,IAAAK,EAAA,mBAAAL,EAEAM,IAAAxM,OAAAlO,iBAEAD,EAAAmO,OAAAnO,SAEA4a,EAAAzM,OAAAgL,WAEA0B,EAAA,SAAAtV,EAAArE,EAAA4Z,EAAAC,GAEAJ,EACApV,EAAAtF,iBAAAiB,EAAA4Z,IAAAC,GAEAxV,EAAAyV,YAAA,KAAA9Z,EAAA4Z,IAIAG,EAAA,SAAA1V,EAAArE,EAAA4Z,EAAAC,GAEAJ,EACApV,EAAA2V,oBAAAha,EAAA4Z,IAAAC,GAEAxV,EAAA4V,YAAA,KAAAja,EAAA4Z,IASAhW,EAAA,SAAAS,EAAA6V,GAEA,gBAAA7V,EAAA8V,UAAA,KAAA5a,QAAA,IAAA2a,EAAA,MAeAE,EAAA,SAAAC,GAEA,cAAAC,KAAA7D,OAAA8D,UAAAjX,SAAAkX,KAAAH,KAGAI,EAAA,SAAAJ,GAEA,aAAAC,KAAA7D,OAAA8D,UAAAjX,SAAAkX,KAAAH,MAAAK,MAAAL,EAAAM,YAGAC,EAAA,SAAArX,GAEA,IAAAsX,EAAAtX,EAAAuX,SACA,WAAAD,GAAA,IAAAA,GASAE,EAAA,SAAAC,EAAAC,GAEA,UARA,SAAAD,GAGA,OAAAA,EAAA,MAAAA,EAAA,QAAAA,EAAA,OAKAE,CAAAF,GAAA,qCAAAC,IAGAE,EAAA,SAAA5X,GAEAkX,EAAAlX,MAAA6X,SAAA,UAGAC,EAAA,SAAAC,EAAAC,GAGA,OAAAD,EAAAX,YAAAY,EAAAZ,WAGAa,EAAA,SAAAC,EAAAC,EAAAC,GAEA,IAAAC,EAAAC,EACA,IAAAD,KAAAF,GACAG,OAAApb,IAAAgb,EAAAG,KACA,iBAAAF,EAAAE,IAAA,OAAAF,EAAAE,SAAAnb,IAAAib,EAAAE,GAAAE,SACArB,EAAAiB,EAAAE,IACAD,IACAF,EAAAG,GAAA,IAAAzW,KAAAuW,EAAAE,GAAAjB,YAGAP,EAAAsB,EAAAE,IACAD,IACAF,EAAAG,GAAAF,EAAAE,GAAAG,MAAA,IAGAN,EAAAG,GAAAJ,KAAwCE,EAAAE,GAAAD,IAE3BA,GAAAE,IACbJ,EAAAG,GAAAF,EAAAE,IAGA,OAAAH,GAGAO,EAAA,SAAA3X,EAAA4X,EAAAva,GAEA,IAAAwa,EAEApd,EAAAqd,cACAD,EAAApd,EAAAqd,YAAA,eACAC,UAAAH,GAAA,MACAC,EAAAV,EAAAU,EAAAxa,GACA2C,EAAAgR,cAAA6G,IACSpd,EAAAud,oBACTH,EAAApd,EAAAud,oBACAH,EAAAV,EAAAU,EAAAxa,GACA2C,EAAA2X,UAAA,KAAAC,EAAAC,KAIAI,EAAA,SAAAzZ,GASA,OARAA,EAAAoY,MAAA,IACApY,EAAAmY,MAAApI,KAAA2J,KAAA3J,KAAA4J,IAAA3Z,EAAAoY,OAAA,IACApY,EAAAoY,OAAA,IAEApY,EAAAoY,MAAA,KACApY,EAAAmY,MAAApI,KAAA6J,MAAA7J,KAAA4J,IAAA3Z,EAAAoY,OAAA,IACApY,EAAAoY,OAAA,IAEApY,GAMA6Z,GAGA3Z,MAAA,KAGA4Z,WAAAlc,EAIA4J,SAAA,cAGAuS,YAAA,EAGA1Z,OAAA,aAIAI,SAAA,KAGAH,MAAA,KAGA0Z,YAAA,KAGAC,gBAAA,EAGAC,SAAA,EAGAC,cAAA,EAGAC,QAAA,KAEAC,QAAA,KAGAC,UAAA,GAGAC,gBAAA,EAGAC,eAAA,EAGAC,QAAA,EACAC,QAAA,KACAC,cAAA/c,EACAgd,cAAAhd,EAEAid,WAAA,KACAC,SAAA,KAEAC,OAAA,EAGAC,WAAA,GAGAC,oBAAA,EAGAC,iCAAA,EAGAC,4CAAA,EAGAC,eAAA,EAIAC,aAAA,OAGAjX,eAAAxG,EAGA0d,mBAAA,EAGAC,MACAC,cAAA,iBACAC,UAAA,aACAC,QAAA,+GACAC,UAAA,wEACAC,eAAA,4CAIAxb,MAAA,KAGAyb,UAGAjb,SAAA,KACAkb,OAAA,KACAC,QAAA,KACAC,OAAA,MAOAC,EAAA,SAAAC,EAAAlE,EAAAmE,GAGA,IADAnE,GAAAkE,EAAAhC,SACAlC,GAAA,GACAA,GAAA,EAEA,OAAAmE,EAAAD,EAAAX,KAAAK,cAAA5D,GAAAkE,EAAAX,KAAAI,SAAA3D,IAGAoE,EAAA,SAAAF,GAEA,IAAAG,KACAC,EAAA,QACA,GAAAJ,EAAAK,QAAA,CACA,IAAAL,EAAAhB,gCAQA,mCAPAmB,EAAAlW,KAAA,4BAEA+V,EAAAf,4CACAkB,EAAAlW,KAAA,yBA6BA,OAtBA+V,EAAAM,YACAH,EAAAlW,KAAA,eAEA+V,EAAAO,SACAJ,EAAAlW,KAAA,YAEA+V,EAAAQ,aACAL,EAAAlW,KAAA,eACAmW,EAAA,QAEAJ,EAAAS,UACAN,EAAAlW,KAAA,aAEA+V,EAAAU,WACAP,EAAAlW,KAAA,cAEA+V,EAAAW,cACAR,EAAAlW,KAAA,iBAEA+V,EAAAY,YACAT,EAAAlW,KAAA,eAEA,iBAAA+V,EAAAlE,IAAA,YAAAqE,EAAAvW,KAAA,yBAAAwW,EAAA,wEAEAJ,EAAA/D,KAAA,sBAAA+D,EAAA9D,MAAA,oBAAA8D,EAAAlE,IAAA,KACAkE,EAAAlE,IACA,kBAWA+E,EAAA,SAAAC,EAAAjC,EAAAP,EAAAyC,GAEA,6BAAAzC,EAAA,wBAAAyC,EAAA,yBAAAlC,EAAAiC,EAAAE,UAAAF,GAAAlX,KAAA,aAoBAqX,EAAA,SAAAC,EAAAC,EAAAlF,EAAAC,EAAAkF,EAAAC,GAEA,IAAA/Y,EAAAgZ,EAAAnB,EAKAoB,EACAC,EALAxB,EAAAkB,EAAAO,GACAC,EAAAzF,IAAA+D,EAAAzB,QACAoD,EAAA1F,IAAA+D,EAAAxB,QACAnX,EAAA,YAAAga,EAAA,6DAGAO,GAAA,EACAC,GAAA,EAEA,IAAA1B,KAAA7X,EAAA,EAA6BA,EAAA,GAAQA,IACrC6X,EAAAlW,KAAA,mBAAAgS,IAAAmF,EAAA9Y,EAAA6Y,EAAA,GAAA7Y,EAAA6Y,GAAA,KACA7Y,IAAA4T,EAAA,4BACAwF,GAAApZ,EAAA0X,EAAAvB,UAAAkD,GAAArZ,EAAA0X,EAAAtB,SAAA,8BACAsB,EAAAX,KAAAG,OAAAlX,GAAA,aAaA,IAVAiZ,EAAA,2BAAAvB,EAAAX,KAAAG,OAAAtD,GAAA,+DAAAiE,EAAAvW,KAAA,sBAEAyR,EAAA2E,EAAA5B,YACA9V,EAAA0X,EAAA5B,UAAA,GACAkD,EAAAtB,EAAA5B,UAAA,OAEA9V,EAAA2T,EAAA+D,EAAA5B,UACAkD,EAAA,EAAArF,EAAA+D,EAAA5B,WAGA+B,KAAsB7X,EAAAgZ,GAAAhZ,GAAA0X,EAAAxB,QAA4BlW,IAClDA,GAAA0X,EAAAzB,SACA4B,EAAAlW,KAAA,kBAAA3B,EAAA,KAAAA,IAAA2T,EAAA,8CA0BA,OAvBAuF,EAAA,2BAAAvF,EAAA+D,EAAAlB,WAAA,8DAAAqB,EAAAvW,KAAA,sBAEAoW,EAAAjB,mBACA1X,GAAAma,EAAAD,EAEAla,GAAAka,EAAAC,EAGAE,IAAA,IAAAxF,GAAA8D,EAAAvB,UAAAvC,KACA0F,GAAA,GAGAD,IAAA,KAAAzF,GAAA8D,EAAAtB,UAAAxC,KACA2F,GAAA,GAGA,IAAAV,IACA9Z,GAAA,4BAAAua,EAAA,sCAAA5B,EAAAX,KAAAC,cAAA,aAEA6B,IAAAD,EAAAO,GAAAvC,eAAA,IACA7X,GAAA,4BAAAwa,EAAA,sCAAA7B,EAAAX,KAAAE,UAAA,aAGAlY,GAAA,UAYAtD,EAAA,SAAA+d,GAEA,IAAAjhB,EAAAiB,KACAke,EAAAnf,EAAAkhB,OAAAD,GAEAjhB,EAAAmhB,aAAA,SAAA/gB,GAEA,GAAAJ,EAAAohB,GAAA,CAIA,IAAA7Z,GADAnH,KAAAiN,OAAAiD,OACA/I,QAAAnH,EAAAihB,WACA,GAAA9Z,EAuBA,GAnBAvD,EAAAuD,EAAA,kBACAvD,EAAAuD,EAAA,gBAAAvD,EAAAuD,EAAA,aAAAvD,EAAAuD,EAAA+Z,WAAA,eAWAtd,EAAAuD,EAAA,aACAvH,EAAAuhB,YAEAvd,EAAAuD,EAAA,cACAvH,EAAA0e,aAdA1e,EAAAuE,QAAA,IAAAgB,KAAAgC,EAAAia,aAAA,kBAAAja,EAAAia,aAAA,mBAAAja,EAAAia,aAAA,mBACArC,EAAApC,OACAjD,EAAA,WACA9Z,EAAA4C,OACAuc,EAAAZ,mBAAAY,EAAAhc,OACAgc,EAAAhc,MAAAse,QAEyB,OAUzBzd,EAAAuD,EAAA,eASAvH,EAAA0hB,IAAA,MATA,CAEA,IAAAthB,EAAAwE,eAIA,OADAxE,EAAAuhB,aAAA,GACA,EAHAvhB,EAAAwE,oBAUA5E,EAAA4hB,UAAA,SAAAxhB,GAGA,IAAAmH,GADAnH,KAAAiN,OAAAiD,OACA/I,QAAAnH,EAAAihB,WACA9Z,IAGAvD,EAAAuD,EAAA,qBACAvH,EAAA6hB,UAAAta,EAAAqO,OAEA5R,EAAAuD,EAAA,qBACAvH,EAAA8hB,SAAAva,EAAAqO,SAIA5V,EAAA+hB,aAAA,SAAA3hB,GAIA,GAFAA,KAAAiN,OAAAiD,MAEAtQ,EAAAgiB,YAEA,OAAA5hB,EAAAyY,SACA,QACA,QACAsG,EAAAhc,OACAgc,EAAAhc,MAAAse,OAEA,MACA,QACArhB,EAAAwE,iBACA5E,EAAAiiB,WAAA,cACA,MACA,QACAjiB,EAAAiiB,WAAA,cACA,MACA,QACAjiB,EAAAiiB,WAAA,SACA,MACA,QACAjiB,EAAAiiB,WAAA,WAMAjiB,EAAAkiB,eAAA,SAAA9hB,GAEA,IAAAuD,EAEAvD,EAAA+hB,UAAAniB,IAIA2D,EADAwb,EAAA5b,MACA4b,EAAA5b,MAAA4b,EAAAhc,MAAAyS,MAAAuJ,EAAA7b,QACasW,GACbjW,EAAA4V,EAAA4F,EAAAhc,MAAAyS,MAAAuJ,EAAA7b,OAAA6b,EAAA/B,gBACAzZ,EAAAye,UAAAze,EAAA0e,SAAA,KAGA,IAAA9c,UAAAhC,MAAA4b,EAAAhc,MAAAyS,QAEAiF,EAAAlX,IACA3D,EAAAuE,QAAAZ,GAEA3D,EAAAohB,IACAphB,EAAA0C,SAIA1C,EAAAsiB,cAAA,WAEAtiB,EAAA0C,QAGA1C,EAAAuiB,cAAA,WAEAviB,EAAA0C,QAGA1C,EAAAwiB,aAAA,WAGA,IAAAC,EAAAvjB,EAAAwjB,cACA,GACA,GAAA1e,EAAAye,EAAA,eACA,aAGAA,IAAAnB,YAEAthB,EAAA0hB,KACA1hB,EAAA2iB,GAAA7I,EAAA,WACA9Z,EAAA4C,QACiB,KAEjB5C,EAAA0hB,IAAA,GAGA1hB,EAAA4iB,SAAA,SAAAxiB,GAGA,IAAAmH,GADAnH,KAAAiN,OAAAiD,OACA/I,QAAAnH,EAAAihB,WACAoB,EAAAlb,EACA,GAAAA,EAAA,EAGAsS,GAAA7V,EAAAuD,EAAA,iBACAA,EAAAsb,WACAtb,EAAAub,aAAA,sBACA/I,EAAAxS,EAAA,SAAAvH,EAAA4hB,aAGA,GACA,GAAA5d,EAAAye,EAAA,gBAAAA,IAAAtD,EAAAvZ,QACA,aAGA6c,IAAAnB,YACAthB,EAAAohB,IAAA7Z,IAAA4X,EAAAvZ,SAAA6c,IAAAtD,EAAAvZ,SACA5F,EAAA4C,SAIA5C,EAAAyE,GAAAvF,EAAA6jB,cAAA,OACA/iB,EAAAyE,GAAA8V,UAAA,eAAA4E,EAAAnB,MAAA,eAAAmB,EAAA9b,MAAA,IAAA8b,EAAA9b,MAAA,IAEA0W,EAAA/Z,EAAAyE,GAAA,YAAAzE,EAAAmhB,cAAA,GACApH,EAAA/Z,EAAAyE,GAAA,WAAAzE,EAAAmhB,cAAA,GACApH,EAAA/Z,EAAAyE,GAAA,SAAAzE,EAAA4hB,WACA7H,EAAA7a,EAAA,UAAAc,EAAA+hB,cAEA5C,EAAAhc,QACAgc,EAAA9X,UACA8X,EAAA9X,UAAA2b,YAAAhjB,EAAAyE,IACa0a,EAAApC,MACb7d,EAAAO,KAAAujB,YAAAhjB,EAAAyE,IAEA0a,EAAAhc,MAAAme,WAAA2B,aAAAjjB,EAAAyE,GAAA0a,EAAAhc,MAAA+f,aAEAnJ,EAAAoF,EAAAhc,MAAA,SAAAnD,EAAAkiB,gBAEA/C,EAAAlC,cACArD,GAAAuF,EAAAhc,MAAAyS,MACAuJ,EAAAlC,YAAA1D,EAAA4F,EAAAhc,MAAAyS,MAAAuJ,EAAA7b,QAAA+e,SAEAlD,EAAAlC,YAAA,IAAA1X,UAAAhC,MAAA4b,EAAAhc,MAAAyS,QAEAuJ,EAAAjC,gBAAA,IAIA,IAAAiG,EAAAhE,EAAAlC,YAEApC,EAAAsI,GACAhE,EAAAjC,eACAld,EAAAuE,QAAA4e,GAAA,GAEAnjB,EAAAojB,SAAAD,GAGAnjB,EAAAojB,SAAA,IAAA7d,MAGA4Z,EAAApC,OACA9b,KAAA2B,OACA5C,EAAAyE,GAAA8V,WAAA,YACAR,EAAAoF,EAAAvZ,QAAA,QAAA5F,EAAAuiB,eACAxI,EAAAoF,EAAAvZ,QAAA,QAAA5F,EAAAsiB,eACAvI,EAAAoF,EAAAvZ,QAAA,OAAA5F,EAAAwiB,eAEAvhB,KAAAyB,QA4jBA,OApjBAQ,EAAAyX,WAMAuG,OAAA,SAAAD,GAEAhgB,KAAA2f,KACA3f,KAAA2f,GAAAhF,KAAmCkB,GAAA,IAGnC,IAAAqC,EAAAvD,EAAA3a,KAAA2f,GAAAK,GAAA,GAEA9B,EAAAnB,QAAAmB,EAAAnB,MAEAmB,EAAAhc,MAAAgc,EAAAhc,OAAAgc,EAAAhc,MAAA+Y,SAAAiD,EAAAhc,MAAA,KAEAgc,EAAA9b,MAAA,iBAAA8b,EAAA9b,OAAA8b,EAAA9b,MAAA8b,EAAA9b,MAAA,KAEA8b,EAAApC,cAAAlc,IAAAse,EAAApC,MAAAoC,EAAAhc,OAAAgc,EAAApC,MAAAoC,EAAAhc,OAEAgc,EAAAvZ,QAAAuZ,EAAAvZ,SAAAuZ,EAAAvZ,QAAAsW,SAAAiD,EAAAvZ,QAAAuZ,EAAAhc,MAEAgc,EAAAkE,kBAAAlE,EAAAkE,gBAEAlE,EAAAmE,aAAA,mBAAAnE,EAAAmE,aAAAnE,EAAAmE,aAAA,KAEA,IAAAC,EAAAle,SAAA8Z,EAAAd,eAAA,OAmBA,GAlBAc,EAAAd,eAAAkF,EAAA,IAAAA,EAEA1I,EAAAsE,EAAA9B,WACA8B,EAAA9B,SAAA,GAEAxC,EAAAsE,EAAA7B,WACA6B,EAAA7B,SAAA,GAEA6B,EAAA9B,SAAA8B,EAAA7B,SAAA6B,EAAA7B,QAAA6B,EAAA9B,UACA8B,EAAA7B,QAAA6B,EAAA9B,SAAA,GAEA8B,EAAA9B,SACApc,KAAAuiB,WAAArE,EAAA9B,SAEA8B,EAAA7B,SACArc,KAAAwiB,WAAAtE,EAAA7B,SAGA9C,EAAA2E,EAAA5B,WAAA,CACA,IAAAmG,GAAA,IAAAne,MAAAoe,cAAA,GACAxE,EAAA5B,UAAA,GAAAlY,SAAA8Z,EAAA5B,UAAA,QAAAmG,EACAvE,EAAA5B,UAAA,GAAAlY,SAAA8Z,EAAA5B,UAAA,QAAAmG,OAEAvE,EAAA5B,UAAAvK,KAAA4J,IAAAvX,SAAA8Z,EAAA5B,UAAA,MAAAT,EAAAS,UACA4B,EAAA5B,UAAA,MACA4B,EAAA5B,UAAA,KAIA,OAAA4B,GAMAzb,SAAA,SAAAJ,GAGA,OADAA,KAAArC,KAAA2f,GAAAtd,OACAuX,EAAA5Z,KAAA2iB,IAGA3iB,KAAA2f,GAAAld,SACAzC,KAAA2f,GAAAld,SAAAzC,KAAA2iB,GAAAtgB,GAEAsW,EACAL,EAAAtY,KAAA2iB,IAAAtgB,UAEArC,KAAA2iB,GAAAC,eARA,IAcAC,UAAA,WAEA,OAAAlK,EAAAL,EAAAtY,KAAA2iB,IAAA,MAMAG,UAAA,SAAApgB,EAAAqgB,GAEApK,GAAAL,EAAA0K,SAAAtgB,IACA1C,KAAAsD,QAAAZ,EAAA0e,SAAA2B,IAOAE,QAAA,WAEA,OAAArJ,EAAA5Z,KAAA2iB,IAAA,IAAAre,KAAAtE,KAAA2iB,GAAA7I,WAAA,MAMAxW,QAAA,SAAAZ,EAAAqgB,GAEA,IAAArgB,EAQA,OAPA1C,KAAA2iB,GAAA,KAEA3iB,KAAA2f,GAAAzd,QACAlC,KAAA2f,GAAAzd,MAAAyS,MAAA,GACAwG,EAAAnb,KAAA2f,GAAAzd,MAAA,UAAwDgf,QAAAlhB,QAGxDA,KAAAkjB,OAKA,GAHA,iBAAAxgB,IACAA,EAAA,IAAA4B,UAAAhC,MAAAI,KAEAkX,EAAAlX,GAAA,CAIA,IAAAygB,EAAAnjB,KAAA2f,GAAAvD,QACAgH,EAAApjB,KAAA2f,GAAAtD,QAEAzC,EAAAuJ,IAAAzgB,EAAAygB,EACAzgB,EAAAygB,EACavJ,EAAAwJ,IAAA1gB,EAAA0gB,IACb1gB,EAAA0gB,GAGApjB,KAAA2iB,GAAA,IAAAre,KAAA5B,EAAAoX,WACAQ,EAAAta,KAAA2iB,IACA3iB,KAAAmiB,SAAAniB,KAAA2iB,IAEA3iB,KAAA2f,GAAAzd,QACAlC,KAAA2f,GAAAzd,MAAAyS,MAAA3U,KAAAyC,WACA0Y,EAAAnb,KAAA2f,GAAAzd,MAAA,UAAoDgf,QAAAlhB,QAEpD+iB,GAAA,mBAAA/iB,KAAA2f,GAAA/c,UACA5C,KAAA2f,GAAA/c,SAAA+W,KAAA3Z,UAAAijB,aAOAd,SAAA,SAAAzf,GAEA,IAAA2gB,GAAA,EAEA,GAAAzJ,EAAAlX,GAAA,CAIA,GAAA1C,KAAAsjB,UAAA,CACA,IAAAC,EAAA,IAAAjf,KAAAtE,KAAAsjB,UAAA,GAAAnJ,KAAAna,KAAAsjB,UAAA,GAAAlJ,MAAA,GACAoJ,EAAA,IAAAlf,KAAAtE,KAAAsjB,UAAAtjB,KAAAsjB,UAAA3jB,OAAA,GAAAwa,KAAAna,KAAAsjB,UAAAtjB,KAAAsjB,UAAA3jB,OAAA,GAAAya,MAAA,GACAqJ,EAAA/gB,EAAAoX,UAEA0J,EAAAE,SAAAF,EAAAG,WAAA,GACAH,EAAAlgB,QAAAkgB,EAAAP,UAAA,GACAI,EAAAI,EAAAF,EAAAzJ,WAAA0J,EAAA1J,UAAA2J,EAGAJ,IACArjB,KAAAsjB,YACAlJ,MAAA1X,EAAAihB,WACAxJ,KAAAzX,EAAAggB,gBAEA,UAAA1iB,KAAA2f,GAAAtC,eACArd,KAAAsjB,UAAA,GAAAlJ,OAAA,EAAApa,KAAA2f,GAAAvC,iBAIApd,KAAA4jB,oBAGA5C,WAAA,SAAA6C,EAAA7E,GAEA,IAGA8E,EAHA9J,EAAAha,KAAAijB,WAAA,IAAA3e,KACAyf,EAAA,GAAA3f,SAAA4a,GAAA,UAIA,QAAA6E,EACAC,EAAA,IAAAxf,KAAA0V,EAAAgK,UAAAD,GACa,aAAAF,IACbC,EAAA,IAAAxf,KAAA0V,EAAAgK,UAAAD,IAGA/jB,KAAAsD,QAAAwgB,IAGAF,gBAAA,WACA5jB,KAAAsjB,UAAA,GAAA7H,EAAAzb,KAAAsjB,UAAA,IACA,QAAAjE,EAAA,EAA2BA,EAAArf,KAAA2f,GAAAvC,eAA4BiC,IACvDrf,KAAAsjB,UAAAjE,GAAA5D,GACArB,MAAApa,KAAAsjB,UAAA,GAAAlJ,MAAAiF,EACAlF,KAAAna,KAAAsjB,UAAA,GAAAnJ,OAGAna,KAAAkjB,QAGAe,UAAA,WAEAjkB,KAAAmiB,SAAA,IAAA7d,OAMAsc,UAAA,SAAAxG,GAEAP,MAAAO,KACApa,KAAAsjB,UAAA,GAAAlJ,MAAAhW,SAAAgW,EAAA,IACApa,KAAA4jB,oBAIAnG,UAAA,WAEAzd,KAAAsjB,UAAA,GAAAlJ,QACApa,KAAA4jB,mBAGAtD,UAAA,WAEAtgB,KAAAsjB,UAAA,GAAAlJ,QACApa,KAAA4jB,mBAMA/C,SAAA,SAAA1G,GAEAN,MAAAM,KACAna,KAAAsjB,UAAA,GAAAnJ,KAAA/V,SAAA+V,EAAA,IACAna,KAAA4jB,oBAOArB,WAAA,SAAA5N,GAEAA,aAAArQ,MACAgW,EAAA3F,GACA3U,KAAA2f,GAAAvD,QAAAzH,EACA3U,KAAA2f,GAAAlD,QAAA9H,EAAA+N,cACA1iB,KAAA2f,GAAAhD,SAAAhI,EAAAgP,aAEA3jB,KAAA2f,GAAAvD,QAAAP,EAAAO,QACApc,KAAA2f,GAAAlD,QAAAZ,EAAAY,QACAzc,KAAA2f,GAAAhD,SAAAd,EAAAc,SACA3c,KAAA2f,GAAA9C,WAAAhB,EAAAgB,YAGA7c,KAAAkjB,QAMAV,WAAA,SAAA7N,GAEAA,aAAArQ,MACAgW,EAAA3F,GACA3U,KAAA2f,GAAAtD,QAAA1H,EACA3U,KAAA2f,GAAAjD,QAAA/H,EAAA+N,cACA1iB,KAAA2f,GAAA/C,SAAAjI,EAAAgP,aAEA3jB,KAAA2f,GAAAtD,QAAAR,EAAAQ,QACArc,KAAA2f,GAAAjD,QAAAb,EAAAa,QACA1c,KAAA2f,GAAA/C,SAAAf,EAAAe,SACA5c,KAAA2f,GAAA7C,SAAAjB,EAAAiB,UAGA9c,KAAAkjB,QAGAgB,cAAA,SAAAvP,GAEA3U,KAAA2f,GAAA9C,WAAAlI,GAGAwP,YAAA,SAAAxP,GAEA3U,KAAA2f,GAAA7C,SAAAnI,GAMAuO,KAAA,SAAAkB,GAEA,GAAApkB,KAAAmgB,IAAAiE,EAAA,CAGA,IAMA7E,EANArB,EAAAle,KAAA2f,GACAlD,EAAAyB,EAAAzB,QACAC,EAAAwB,EAAAxB,QACAC,EAAAuB,EAAAvB,SACAC,EAAAsB,EAAAtB,SACArX,EAAA,GAGAvF,KAAAqkB,IAAA5H,IACAzc,KAAAqkB,GAAA5H,GACA5C,MAAA8C,IAAA3c,KAAAskB,GAAA3H,IACA3c,KAAAskB,GAAA3H,IAGA3c,KAAAqkB,IAAA3H,IACA1c,KAAAqkB,GAAA3H,GACA7C,MAAA+C,IAAA5c,KAAAskB,GAAA1H,IACA5c,KAAAskB,GAAA1H,IAIA2C,EAAA,cAAAxN,KAAAwS,SAAA9hB,SAAA,IAAA2S,QAAA,eAAAoP,OAAA,KAEA,QAAAnF,EAAA,EAA2BA,EAAAnB,EAAAd,eAAyBiC,IACpD9Z,GAAA,4BAAA4Z,EAAAnf,KAAAqf,EAAArf,KAAAsjB,UAAAjE,GAAAlF,KAAAna,KAAAsjB,UAAAjE,GAAAjF,MAAApa,KAAAsjB,UAAA,GAAAnJ,KAAAoF,GAAAvf,KAAAykB,OAAAzkB,KAAAsjB,UAAAjE,GAAAlF,KAAAna,KAAAsjB,UAAAjE,GAAAjF,MAAAmF,GAAA,SAGAvf,KAAAwD,GAAAkhB,UAAAnf,EAEA2Y,EAAApC,OACA,WAAAoC,EAAAhc,MAAAgH,MACA2P,EAAA,WACAqF,EAAAvZ,QAAA8L,SACqB,GAIrB,mBAAAzQ,KAAA2f,GAAA3B,QACAhe,KAAA2f,GAAA3B,OAAAhe,MAGAke,EAAApC,OAEAoC,EAAAhc,MAAA2f,aAAA,oDAIA8C,eAAA,WAEA,IAAAziB,EAAAsf,EAAAoD,EAAAtQ,EAAAuQ,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAEA,IAAAllB,KAAA2f,GAAAvZ,UAAA,CAYA,GAVApG,KAAAwD,GAAA6Q,MAAA7K,SAAA,WAGAgY,EADAtf,EAAAlC,KAAA2f,GAAAhb,QAEAigB,EAAA5kB,KAAAwD,GAAA2hB,YACA7Q,EAAAtU,KAAAwD,GAAA4hB,aACAP,EAAAzY,OAAAiZ,YAAApnB,EAAAqnB,gBAAAC,YACAT,EAAA1Y,OAAAoZ,aAAAvnB,EAAAqnB,gBAAAG,aACAV,EAAA3Y,OAAAsZ,aAAAznB,EAAAO,KAAAumB,WAAA9mB,EAAAqnB,gBAAAP,UAEA,mBAAA7iB,EAAAyjB,sBAEAX,GADAE,EAAAhjB,EAAAyjB,yBACAX,KAAA5Y,OAAAwZ,YACAX,EAAAC,EAAAW,OAAAzZ,OAAAsZ,iBAIA,IAFAV,EAAAxD,EAAAsE,WACAb,EAAAzD,EAAAuE,UAAAvE,EAAA4D,aACA5D,IAAAwE,cACAhB,GAAAxD,EAAAsE,WACAb,GAAAzD,EAAAuE,WAKA/lB,KAAA2f,GAAA5D,YAAAiJ,EAAAJ,EAAAC,GAEA7kB,KAAA2f,GAAAnW,SAAA9K,QAAA,aACAsmB,EAAAJ,EAAA1iB,EAAAijB,YAAA,KAGAH,IAAAJ,EAAA1iB,EAAAijB,cAEAnlB,KAAA2f,GAAA5D,YAAAkJ,EAAA3Q,EAAAwQ,EAAAC,GAEA/kB,KAAA2f,GAAAnW,SAAA9K,QAAA,WACAumB,EAAA3Q,EAAApS,EAAAkjB,aAAA,KAGAH,IAAA3Q,EAAApS,EAAAkjB,cAGAplB,KAAAwD,GAAA6Q,MAAA2Q,OAAA,KACAhlB,KAAAwD,GAAA6Q,MAAA4Q,MAAA,OAMAR,OAAA,SAAAtK,EAAAC,EAAAmF,GAEA,IAAArB,EAAAle,KAAA2f,GACAsG,EAAA,IAAA3hB,KACA0a,EAAA9E,EAAAC,EAAAC,GACA8L,EAAA,IAAA5hB,KAAA6V,EAAAC,EAAA,GAAAH,SACApZ,KACAslB,KACA7L,EAAA2L,GACA/H,EAAAhC,SAAA,IACAgK,GAAAhI,EAAAhC,UACA,IACAgK,GAAA,GAUA,IAPA,IAAA1I,EAAA,IAAApD,EAAA,GAAAA,EAAA,EACAqD,EAAA,KAAArD,EAAA,EAAAA,EAAA,EACAgM,EAAA,IAAAhM,EAAAD,EAAA,EAAAA,EACAkM,EAAA,KAAAjM,EAAAD,EAAA,EAAAA,EACAmM,EAAApM,EAAAkM,EAAA5I,GACA+I,EAAAvH,EAAAkH,EACAM,EAAAD,EACAC,EAAA,GACAA,GAAA,EAEAD,GAAA,EAAAC,EAEA,IADA,IAtvBA/f,EAAAggB,EAAAC,EAEAC,EAovBAC,GAAA,EACApgB,EAAA,EAAA1I,EAAA,EAAkC0I,EAAA+f,EAAW/f,IAC7C,CACA,IAAAwT,EAAA,IAAA1V,KAAA6V,EAAAC,EAAA5T,EAAA0f,EAAA,GACAxH,IAAA9E,EAAA5Z,KAAA2iB,KAAAnI,EAAAR,EAAAha,KAAA2iB,IACAlE,EAAAjE,EAAAR,EAAAiM,GACAtH,GAAA,IAAAT,EAAAL,OAAAnf,QAAAsb,EAAA4I,gBACArE,EAAA/X,EAAA0f,GAAA1f,GAAAwY,EAAAkH,EACAW,EAAArgB,EAAA0f,EAAA,EACAY,EAAA1M,EACA2M,EAAA5M,EACA0E,EAAAX,EAAArB,YAAArC,EAAA0D,EAAArB,WAAA7C,GACA8E,EAAAZ,EAAApB,UAAAtC,EAAA0D,EAAApB,SAAA9C,GACA4E,EAAAV,EAAArB,YAAAqB,EAAApB,UAAAoB,EAAArB,WAAA7C,KAAAkE,EAAApB,SACA0B,EAAAN,EAAA9B,SAAApC,EAAAkE,EAAA9B,SACA8B,EAAA7B,SAAArC,EAAAkE,EAAA7B,SACA6B,EAAAkE,iBAAArI,EAAAC,IACAkE,EAAAmE,cAAAnE,EAAAmE,aAAArI,GAEAuE,IACA/X,EAAA0f,GACAW,EAAAP,EAAAO,EACAC,EAAAtJ,EACAuJ,EAAAX,IAEAS,GAAA7H,EACA8H,EAAArJ,EACAsJ,EAAAV,IAIA,IAAAW,GACAhN,IAAA6M,EACAzM,MAAA0M,EACA3M,KAAA4M,EACApI,WACAD,aACAD,UACAD,aACAD,UACAM,eACAC,aACAF,YACA1B,gCAAAgB,EAAAhB,gCACAC,2CAAAe,EAAAf,4CAGAe,EAAA1B,eAAAkC,IACAkI,GAAA,GAGAT,EAAAhe,KAAAiW,EAAA4I,IAEA,KAAAlpB,IACAogB,EAAA3B,gBACA4J,EAAAc,SA7yBAxgB,EA6yBAD,EAAA0f,EA7yBAO,EA6yBArM,EA7yBAsM,EA6yBAvM,EA3yBAwM,WAAA,IAAAriB,KAAAoiB,EAAA,KAEA,yBADA3U,KAAA2J,OAAA,IAAApX,KAAAoiB,EAAAD,EAAAhgB,GAAAkgB,GAAA,MAAAA,EAAA1M,SAAA,MACA,UA2yBApZ,EAAAsH,KAAA4W,EAAAoH,EAAAjI,EAAAnB,MAAAmB,EAAA1B,cAAAoK,IACAT,KACAroB,EAAA,EACA8oB,GAAA,GAGA,OA5tBA,SAAA1I,EAAArd,EAAA0e,GAEA,gGAAAA,EAAA,KA1EA,SAAArB,GAEA,IAAA1X,EAAA6X,KAIA,IAHAH,EAAA3B,gBACA8B,EAAAlW,KAAA,aAEA3B,EAAA,EAAmBA,EAAA,EAAOA,IAC1B6X,EAAAlW,KAAA,gCAAA8V,EAAAC,EAAA1X,GAAA,KAAAyX,EAAAC,EAAA1X,GAAA,mBAEA,qBAAA0X,EAAAnB,MAAAsB,EAAAa,UAAAb,GAAAvW,KAAA,oBAiEAof,CAAAhJ,IA7EA,UA6EArd,EA7EAiH,KAAA,gBA6EA,WA0tBAqf,CAAAjJ,EAAArd,EAAA0e,IAGAwB,UAAA,WAEA,OAAA/gB,KAAAmgB,IAGA1e,KAAA,WAxkCA,IAAA+B,EAAA6V,EAjBA+N,EA2lCApnB,KAAA+gB,cACA/gB,KAAAmgB,IAAA,EACAngB,KAAAkjB,OA5kCA1f,EA6kCAxD,KAAAwD,GA7kCA6V,EA6kCA,YA3kCA7V,EAAA8V,WAnBA8N,GAmBA,IAAA5jB,EAAA8V,UAAA,KAAAlE,QAAA,IAAAiE,EAAA,UAjBAgO,KAAAD,EAAAC,OAAAD,EAAAhS,QAAA,iBA6lCApV,KAAA2f,GAAA7D,QACAhD,EAAA7a,EAAA,QAAA+B,KAAA2hB,UACA3hB,KAAA2kB,kBAEA,mBAAA3kB,KAAA2f,GAAA7B,QACA9d,KAAA2f,GAAA7B,OAAAnE,KAAA3Z,QAKA2B,KAAA,WAEA,IAjmCA6B,EAAA6V,EAimCAlV,EAAAnE,KAAAmgB,IACA,IAAAhc,IACAnE,KAAA2f,GAAA7D,OACA5C,EAAAjb,EAAA,QAAA+B,KAAA2hB,UAEA3hB,KAAAwD,GAAA6Q,MAAA7K,SAAA,SACAxJ,KAAAwD,GAAA6Q,MAAA2Q,KAAA,OACAhlB,KAAAwD,GAAA6Q,MAAA4Q,IAAA,OAxmCAzhB,EAymCAxD,KAAAwD,GAvmCAT,EAAAS,EAFA6V,EAymCA,eAtmCA7V,EAAA8V,UAAA,KAAA9V,EAAA8V,UAAAD,EAAA7V,EAAA8V,UAAA,IAAAD,GAumCArZ,KAAAmgB,IAAA,OACAvgB,IAAAuE,GAAA,mBAAAnE,KAAA2f,GAAA5B,SACA/d,KAAA2f,GAAA5B,QAAApE,KAAA3Z,QAQAmW,QAAA,WAEAnW,KAAA2B,OACAuX,EAAAlZ,KAAAwD,GAAA,YAAAxD,KAAAkgB,cAAA,GACAhH,EAAAlZ,KAAAwD,GAAA,WAAAxD,KAAAkgB,cAAA,GACAhH,EAAAlZ,KAAAwD,GAAA,SAAAxD,KAAA2gB,WACAzH,EAAAjb,EAAA,UAAA+B,KAAA8gB,cACA9gB,KAAA2f,GAAAzd,QACAgX,EAAAlZ,KAAA2f,GAAAzd,MAAA,SAAAlC,KAAAihB,gBACAjhB,KAAA2f,GAAA7D,QACA5C,EAAAlZ,KAAA2f,GAAAhb,QAAA,QAAA3E,KAAAshB,eACApI,EAAAlZ,KAAA2f,GAAAhb,QAAA,QAAA3E,KAAAqhB,eACAnI,EAAAlZ,KAAA2f,GAAAhb,QAAA,OAAA3E,KAAAuhB,gBAGAvhB,KAAAwD,GAAA6c,YACArgB,KAAAwD,GAAA6c,WAAAiH,YAAAtnB,KAAAwD,MAMAvB,EAlsCAoW,CAAAC,GATA","file":"pages.groups.milestones.edit.a6fd7213.chunk.js","sourcesContent":["import initForm from '../../../../shared/milestones/form';\n\ndocument.addEventListener('DOMContentLoaded', () => initForm(false));\n","import PersistentUserCallout from '~/persistent_user_callout';\nimport initGkeDropdowns from '~/projects/gke_cluster_dropdowns';\n\nfunction initGcpSignupCallout() {\n  const callout = document.querySelector('.gcp-signup-offer');\n\n  if (callout) new PersistentUserCallout(callout); // eslint-disable-line no-new\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const { page } = document.body.dataset;\n  const newClusterViews = [\n    'groups:clusters:new',\n    'groups:clusters:create_gcp',\n    'groups:clusters:create_user',\n  ];\n\n  if (newClusterViews.indexOf(page) > -1) {\n    initGcpSignupCallout();\n    initGkeDropdowns();\n  }\n});\n","/**\n * adds a pause and unpause method to Mousetrap\n * this allows you to enable or disable keyboard shortcuts\n * without having to reset Mousetrap and rebind everything\n */\n/* global Mousetrap:true */\nMousetrap = (function(Mousetrap) {\n    var self = Mousetrap,\n        _originalStopCallback = self.stopCallback,\n        enabled = true;\n\n    self.stopCallback = function(e, element, combo) {\n        if (!enabled) {\n            return true;\n        }\n\n        return _originalStopCallback(e, element, combo);\n    };\n\n    self.pause = function() {\n        enabled = false;\n    };\n\n    self.unpause = function() {\n        enabled = true;\n    };\n\n    return self;\n}) (Mousetrap);\n","import $ from 'jquery';\nimport Pikaday from 'pikaday';\nimport dateFormat from 'dateformat';\nimport { __ } from '~/locale';\nimport axios from './lib/utils/axios_utils';\nimport { timeFor, parsePikadayDate, pikadayToString } from './lib/utils/datetime_utility';\nimport boardsStore from './boards/stores/boards_store';\n\nclass DueDateSelect {\n  constructor({ $dropdown, $loading } = {}) {\n    const $dropdownParent = $dropdown.closest('.dropdown');\n    const $block = $dropdown.closest('.block');\n    this.$loading = $loading;\n    this.$dropdown = $dropdown;\n    this.$dropdownParent = $dropdownParent;\n    this.$datePicker = $dropdownParent.find('.js-due-date-calendar');\n    this.$block = $block;\n    this.$sidebarCollapsedValue = $block.find('.sidebar-collapsed-icon');\n    this.$selectbox = $dropdown.closest('.selectbox');\n    this.$value = $block.find('.value');\n    this.$valueContent = $block.find('.value-content');\n    this.$sidebarValue = $('.js-due-date-sidebar-value', $block);\n    this.fieldName = $dropdown.data('fieldName');\n    this.abilityName = $dropdown.data('abilityName');\n    this.issueUpdateURL = $dropdown.data('issueUpdate');\n\n    this.rawSelectedDate = null;\n    this.displayedDate = null;\n    this.datePayload = null;\n\n    this.initGlDropdown();\n    this.initRemoveDueDate();\n    this.initDatePicker();\n  }\n\n  initGlDropdown() {\n    this.$dropdown.glDropdown({\n      opened: () => {\n        const calendar = this.$datePicker.data('pikaday');\n        calendar.show();\n      },\n      hidden: () => {\n        this.$selectbox.hide();\n        this.$value.css('display', '');\n      },\n    });\n  }\n\n  initDatePicker() {\n    const $dueDateInput = $(`input[name='${this.fieldName}']`);\n    const calendar = new Pikaday({\n      field: $dueDateInput.get(0),\n      theme: 'gitlab-theme',\n      format: 'yyyy-mm-dd',\n      parse: dateString => parsePikadayDate(dateString),\n      toString: date => pikadayToString(date),\n      onSelect: dateText => {\n        $dueDateInput.val(calendar.toString(dateText));\n\n        if (this.$dropdown.hasClass('js-issue-boards-due-date')) {\n          boardsStore.detail.issue.dueDate = $dueDateInput.val();\n          this.updateIssueBoardIssue();\n        } else {\n          this.saveDueDate(true);\n        }\n      },\n    });\n\n    calendar.setDate(parsePikadayDate($dueDateInput.val()));\n    this.$datePicker.append(calendar.el);\n    this.$datePicker.data('pikaday', calendar);\n  }\n\n  initRemoveDueDate() {\n    this.$block.on('click', '.js-remove-due-date', e => {\n      const calendar = this.$datePicker.data('pikaday');\n      e.preventDefault();\n\n      calendar.setDate(null);\n\n      if (this.$dropdown.hasClass('js-issue-boards-due-date')) {\n        boardsStore.detail.issue.dueDate = '';\n        this.updateIssueBoardIssue();\n      } else {\n        $(`input[name='${this.fieldName}']`).val('');\n        this.saveDueDate(false);\n      }\n    });\n  }\n\n  saveDueDate(isDropdown) {\n    this.parseSelectedDate();\n    this.prepSelectedDate();\n    this.submitSelectedDate(isDropdown);\n  }\n\n  parseSelectedDate() {\n    this.rawSelectedDate = $(`input[name='${this.fieldName}']`).val();\n\n    if (this.rawSelectedDate.length) {\n      // Construct Date object manually to avoid buggy dateString support within Date constructor\n      const dateArray = this.rawSelectedDate.split('-').map(v => parseInt(v, 10));\n      const dateObj = new Date(dateArray[0], dateArray[1] - 1, dateArray[2]);\n      this.displayedDate = dateFormat(dateObj, 'mmm d, yyyy');\n    } else {\n      this.displayedDate = 'No due date';\n    }\n  }\n\n  prepSelectedDate() {\n    const datePayload = {};\n    datePayload[this.abilityName] = {};\n    datePayload[this.abilityName].due_date = this.rawSelectedDate;\n    this.datePayload = datePayload;\n  }\n\n  updateIssueBoardIssue() {\n    this.$loading.fadeIn();\n    this.$dropdown.trigger('loading.gl.dropdown');\n    this.$selectbox.hide();\n    this.$value.css('display', '');\n    const fadeOutLoader = () => {\n      this.$loading.fadeOut();\n    };\n\n    boardsStore.detail.issue\n      .update(this.$dropdown.attr('data-issue-update'))\n      .then(fadeOutLoader)\n      .catch(fadeOutLoader);\n  }\n\n  submitSelectedDate(isDropdown) {\n    const selectedDateValue = this.datePayload[this.abilityName].due_date;\n    const hasDueDate = this.displayedDate !== 'No due date';\n    const displayedDateStyle = hasDueDate ? 'bold' : 'no-value';\n\n    this.$loading.removeClass('hidden').fadeIn();\n\n    if (isDropdown) {\n      this.$dropdown.trigger('loading.gl.dropdown');\n      this.$selectbox.hide();\n    }\n\n    this.$value.css('display', '');\n    this.$valueContent.html(`<span class='${displayedDateStyle}'>${this.displayedDate}</span>`);\n    this.$sidebarValue.html(this.displayedDate);\n\n    $('.js-remove-due-date-holder').toggleClass('hidden', selectedDateValue.length);\n\n    return axios.put(this.issueUpdateURL, this.datePayload).then(() => {\n      const tooltipText = hasDueDate\n        ? `${__('Due date')}<br />${selectedDateValue} (${timeFor(selectedDateValue)})`\n        : __('Due date');\n      if (isDropdown) {\n        this.$dropdown.trigger('loaded.gl.dropdown');\n        this.$dropdown.dropdown('toggle');\n      }\n      this.$sidebarCollapsedValue.attr('data-original-title', tooltipText);\n\n      return this.$loading.fadeOut();\n    });\n  }\n}\n\nexport default class DueDateSelectors {\n  constructor() {\n    this.initMilestoneDatePicker();\n    this.initIssuableSelect();\n  }\n  // eslint-disable-next-line class-methods-use-this\n  initMilestoneDatePicker() {\n    $('.datepicker').each(function initPikadayMilestone() {\n      const $datePicker = $(this);\n      const datePickerVal = $datePicker.val();\n\n      const calendar = new Pikaday({\n        field: $datePicker.get(0),\n        theme: 'gitlab-theme animate-picker',\n        format: 'yyyy-mm-dd',\n        container: $datePicker.parent().get(0),\n        parse: dateString => parsePikadayDate(dateString),\n        toString: date => pikadayToString(date),\n        onSelect(dateText) {\n          $datePicker.val(calendar.toString(dateText));\n        },\n      });\n\n      calendar.setDate(parsePikadayDate(datePickerVal));\n\n      $datePicker.data('pikaday', calendar);\n    });\n\n    $('.js-clear-due-date,.js-clear-start-date').on('click', e => {\n      e.preventDefault();\n      const calendar = $(e.target)\n        .siblings('.datepicker')\n        .data('pikaday');\n      calendar.setDate(null);\n    });\n  }\n  // eslint-disable-next-line class-methods-use-this\n  initIssuableSelect() {\n    const $loading = $('.js-issuable-update .due_date')\n      .find('.block-loading')\n      .hide();\n\n    $('.js-due-date-select').each((i, dropdown) => {\n      const $dropdown = $(dropdown);\n      // eslint-disable-next-line no-new\n      new DueDateSelect({\n        $dropdown,\n        $loading,\n      });\n    });\n  }\n}\n","/* eslint-disable no-shadow */\n/* global List */\n\nimport $ from 'jquery';\nimport _ from 'underscore';\nimport Vue from 'vue';\nimport Cookies from 'js-cookie';\nimport { getUrlParamsArray, parseBoolean } from '~/lib/utils/common_utils';\n\nconst boardsStore = {\n  disabled: false,\n  filter: {\n    path: '',\n  },\n  state: {},\n  detail: {\n    issue: {},\n  },\n  moving: {\n    issue: {},\n    list: {},\n  },\n  create() {\n    this.state.lists = [];\n    this.filter.path = getUrlParamsArray().join('&');\n    this.detail = {\n      issue: {},\n    };\n  },\n  addList(listObj, defaultAvatar) {\n    const list = new List(listObj, defaultAvatar);\n    this.state.lists.push(list);\n\n    return list;\n  },\n  new(listObj) {\n    const list = this.addList(listObj);\n    const backlogList = this.findList('type', 'backlog', 'backlog');\n\n    list\n      .save()\n      .then(() => {\n        // Remove any new issues from the backlog\n        // as they will be visible in the new list\n        list.issues.forEach(backlogList.removeIssue.bind(backlogList));\n        this.state.lists = _.sortBy(this.state.lists, 'position');\n      })\n      .catch(() => {\n        // https://gitlab.com/gitlab-org/gitlab-ce/issues/30821\n      });\n    this.removeBlankState();\n  },\n  updateNewListDropdown(listId) {\n    $(`.js-board-list-${listId}`).removeClass('is-active');\n  },\n  shouldAddBlankState() {\n    // Decide whether to add the blank state\n    return !this.state.lists.filter(list => list.type !== 'backlog' && list.type !== 'closed')[0];\n  },\n  addBlankState() {\n    if (!this.shouldAddBlankState() || this.welcomeIsHidden() || this.disabled) return;\n\n    this.addList({\n      id: 'blank',\n      list_type: 'blank',\n      title: 'Welcome to your Issue Board!',\n      position: 0,\n    });\n\n    this.state.lists = _.sortBy(this.state.lists, 'position');\n  },\n  removeBlankState() {\n    this.removeList('blank');\n\n    Cookies.set('issue_board_welcome_hidden', 'true', {\n      expires: 365 * 10,\n      path: '',\n    });\n  },\n  welcomeIsHidden() {\n    return parseBoolean(Cookies.get('issue_board_welcome_hidden'));\n  },\n  removeList(id, type = 'blank') {\n    const list = this.findList('id', id, type);\n\n    if (!list) return;\n\n    this.state.lists = this.state.lists.filter(list => list.id !== id);\n  },\n  moveList(listFrom, orderLists) {\n    orderLists.forEach((id, i) => {\n      const list = this.findList('id', parseInt(id, 10));\n\n      list.position = i;\n    });\n    listFrom.update();\n  },\n  moveIssueToList(listFrom, listTo, issue, newIndex) {\n    const issueTo = listTo.findIssue(issue.id);\n    const issueLists = issue.getLists();\n    const listLabels = issueLists.map(listIssue => listIssue.label);\n\n    if (!issueTo) {\n      // Check if target list assignee is already present in this issue\n      if (\n        listTo.type === 'assignee' &&\n        listFrom.type === 'assignee' &&\n        issue.findAssignee(listTo.assignee)\n      ) {\n        const targetIssue = listTo.findIssue(issue.id);\n        targetIssue.removeAssignee(listFrom.assignee);\n      } else if (listTo.type === 'milestone') {\n        const currentMilestone = issue.milestone;\n        const currentLists = this.state.lists\n          .filter(list => list.type === 'milestone' && list.id !== listTo.id)\n          .filter(list => list.issues.some(listIssue => issue.id === listIssue.id));\n\n        issue.removeMilestone(currentMilestone);\n        issue.addMilestone(listTo.milestone);\n        currentLists.forEach(currentList => currentList.removeIssue(issue));\n        listTo.addIssue(issue, listFrom, newIndex);\n      } else {\n        // Add to new lists issues if it doesn't already exist\n        listTo.addIssue(issue, listFrom, newIndex);\n      }\n    } else {\n      listTo.updateIssueLabel(issue, listFrom);\n      issueTo.removeLabel(listFrom.label);\n    }\n\n    if (listTo.type === 'closed' && listFrom.type !== 'backlog') {\n      issueLists.forEach(list => {\n        list.removeIssue(issue);\n      });\n      issue.removeLabels(listLabels);\n    } else if (listTo.type === 'backlog' && listFrom.type === 'assignee') {\n      issue.removeAssignee(listFrom.assignee);\n      listFrom.removeIssue(issue);\n    } else if (listTo.type === 'backlog' && listFrom.type === 'milestone') {\n      issue.removeMilestone(listFrom.milestone);\n      listFrom.removeIssue(issue);\n    } else if (this.shouldRemoveIssue(listFrom, listTo)) {\n      listFrom.removeIssue(issue);\n    }\n  },\n  shouldRemoveIssue(listFrom, listTo) {\n    return (\n      (listTo.type !== 'label' && listFrom.type === 'assignee') ||\n      (listTo.type !== 'assignee' && listFrom.type === 'label') ||\n      listFrom.type === 'backlog'\n    );\n  },\n  moveIssueInList(list, issue, oldIndex, newIndex, idArray) {\n    const beforeId = parseInt(idArray[newIndex - 1], 10) || null;\n    const afterId = parseInt(idArray[newIndex + 1], 10) || null;\n\n    list.moveIssue(issue, oldIndex, newIndex, beforeId, afterId);\n  },\n  findList(key, val, type = 'label') {\n    const filteredList = this.state.lists.filter(list => {\n      const byType = type\n        ? list.type === type || list.type === 'assignee' || list.type === 'milestone'\n        : true;\n\n      return list[key] === val && byType;\n    });\n    return filteredList[0];\n  },\n  findListByLabelId(id) {\n    return this.state.lists.find(list => list.type === 'label' && list.label.id === id);\n  },\n  updateFiltersUrl() {\n    window.history.pushState(null, null, `?${this.filter.path}`);\n  },\n};\n\n// hacks added in order to allow milestone_select to function properly\n// TODO: remove these\n\nexport function boardStoreIssueSet(...args) {\n  Vue.set(boardsStore.detail.issue, ...args);\n}\n\nexport function boardStoreIssueDelete(...args) {\n  Vue.delete(boardsStore.detail.issue, ...args);\n}\n\nexport default boardsStore;\n","import $ from 'jquery';\nimport ZenMode from '../../zen_mode';\nimport DueDateSelectors from '../../due_date_select';\nimport GLForm from '../../gl_form';\n\nexport default (initGFM = true) => {\n  new ZenMode(); // eslint-disable-line no-new\n  new DueDateSelectors(); // eslint-disable-line no-new\n  // eslint-disable-next-line no-new\n  new GLForm($('.milestone-form'), {\n    emojis: true,\n    members: initGFM,\n    issues: initGFM,\n    mergeRequests: initGFM,\n    epics: initGFM,\n    milestones: initGFM,\n    labels: initGFM,\n    snippets: initGFM,\n  });\n};\n","import $ from 'jquery';\nimport Dropzone from 'dropzone';\nimport _ from 'underscore';\nimport './behaviors/preview_markdown';\nimport csrf from './lib/utils/csrf';\nimport axios from './lib/utils/axios_utils';\n\nDropzone.autoDiscover = false;\n\n/**\n * Return the error message string from the given response.\n *\n * @param {String|Object} res\n */\nfunction getErrorMessage(res) {\n  if (!res || _.isString(res)) {\n    return res;\n  }\n\n  return res.message;\n}\n\nexport default function dropzoneInput(form) {\n  const divHover = '<div class=\"div-dropzone-hover\"></div>';\n  const iconPaperclip = '<i class=\"fa fa-paperclip div-dropzone-icon\"></i>';\n  const $attachButton = form.find('.button-attach-file');\n  const $attachingFileMessage = form.find('.attaching-file-message');\n  const $cancelButton = form.find('.button-cancel-uploading-files');\n  const $retryLink = form.find('.retry-uploading-link');\n  const $uploadProgress = form.find('.uploading-progress');\n  const $uploadingErrorContainer = form.find('.uploading-error-container');\n  const $uploadingErrorMessage = form.find('.uploading-error-message');\n  const $uploadingProgressContainer = form.find('.uploading-progress-container');\n  const uploadsPath = form.data('uploads-path') || window.uploads_path || null;\n  const maxFileSize = gon.max_file_size || 10;\n  const formTextarea = form.find('.js-gfm-input');\n  let handlePaste;\n  let pasteText;\n  let addFileToForm;\n  let updateAttachingMessage;\n  let isImage;\n  let getFilename;\n  let uploadFile;\n\n  formTextarea.wrap('<div class=\"div-dropzone\"></div>');\n  formTextarea.on('paste', event => handlePaste(event));\n\n  // Add dropzone area to the form.\n  const $mdArea = formTextarea.closest('.md-area');\n  form.setupMarkdownPreview();\n  const $formDropzone = form.find('.div-dropzone');\n  $formDropzone.parent().addClass('div-dropzone-wrapper');\n  $formDropzone.append(divHover);\n  $formDropzone.find('.div-dropzone-hover').append(iconPaperclip);\n\n  if (!uploadsPath) {\n    $formDropzone.addClass('js-invalid-dropzone');\n    return null;\n  }\n\n  const dropzone = $formDropzone.dropzone({\n    url: uploadsPath,\n    dictDefaultMessage: '',\n    clickable: true,\n    paramName: 'file',\n    maxFilesize: maxFileSize,\n    uploadMultiple: false,\n    headers: csrf.headers,\n    previewContainer: false,\n    processing: () => $('.div-dropzone-alert').alert('close'),\n    dragover: () => {\n      $mdArea.addClass('is-dropzone-hover');\n      form.find('.div-dropzone-hover').css('opacity', 0.7);\n    },\n    dragleave: () => {\n      $mdArea.removeClass('is-dropzone-hover');\n      form.find('.div-dropzone-hover').css('opacity', 0);\n    },\n    drop: () => {\n      $mdArea.removeClass('is-dropzone-hover');\n      form.find('.div-dropzone-hover').css('opacity', 0);\n      formTextarea.focus();\n    },\n    success(header, response) {\n      const processingFileCount = this.getQueuedFiles().length + this.getUploadingFiles().length;\n      const shouldPad = processingFileCount >= 1;\n\n      pasteText(response.link.markdown, shouldPad);\n      // Show 'Attach a file' link only when all files have been uploaded.\n      if (!processingFileCount) $attachButton.removeClass('hide');\n      addFileToForm(response.link.url);\n    },\n    error: (file, errorMessage = 'Attaching the file failed.', xhr) => {\n      // If 'error' event is fired by dropzone, the second parameter is error message.\n      // If the 'errorMessage' parameter is empty, the default error message is set.\n      // If the 'error' event is fired by backend (xhr) error response, the third parameter is\n      // xhr object (xhr.responseText is error message).\n      // On error we hide the 'Attach' and 'Cancel' buttons\n      // and show an error.\n      const message = getErrorMessage(errorMessage || xhr.responseText);\n\n      $uploadingErrorContainer.removeClass('hide');\n      $uploadingErrorMessage.html(message);\n      $attachButton.addClass('hide');\n      $cancelButton.addClass('hide');\n    },\n    totaluploadprogress(totalUploadProgress) {\n      updateAttachingMessage(this.files, $attachingFileMessage);\n      $uploadProgress.text(`${Math.round(totalUploadProgress)}%`);\n    },\n    sending: () => {\n      // DOM elements already exist.\n      // Instead of dynamically generating them,\n      // we just either hide or show them.\n      $attachButton.addClass('hide');\n      $uploadingErrorContainer.addClass('hide');\n      $uploadingProgressContainer.removeClass('hide');\n      $cancelButton.removeClass('hide');\n    },\n    removedfile: () => {\n      $attachButton.removeClass('hide');\n      $cancelButton.addClass('hide');\n      $uploadingProgressContainer.addClass('hide');\n      $uploadingErrorContainer.addClass('hide');\n    },\n    queuecomplete: () => {\n      $('.dz-preview').remove();\n      $('.markdown-area').trigger('input');\n\n      $uploadingProgressContainer.addClass('hide');\n      $cancelButton.addClass('hide');\n    },\n  });\n\n  const child = $(dropzone[0]).children('textarea');\n\n  // removeAllFiles(true) stops uploading files (if any)\n  // and remove them from dropzone files queue.\n  $cancelButton.on('click', e => {\n    e.preventDefault();\n    e.stopPropagation();\n    Dropzone.forElement($formDropzone.get(0)).removeAllFiles(true);\n  });\n\n  // If 'error' event is fired, we store a failed files,\n  // clear dropzone files queue, change status of failed files to undefined,\n  // and add that files to the dropzone files queue again.\n  // addFile() adds file to dropzone files queue and upload it.\n  $retryLink.on('click', e => {\n    const dropzoneInstance = Dropzone.forElement(\n      e.target.closest('.js-main-target-form').querySelector('.div-dropzone'),\n    );\n    const failedFiles = dropzoneInstance.files;\n\n    e.preventDefault();\n\n    // 'true' parameter of removeAllFiles() cancels\n    // uploading of files that are being uploaded at the moment.\n    dropzoneInstance.removeAllFiles(true);\n\n    failedFiles.map(failedFile => {\n      const file = failedFile;\n\n      if (file.status === Dropzone.ERROR) {\n        file.status = undefined;\n        file.accepted = undefined;\n      }\n\n      return dropzoneInstance.addFile(file);\n    });\n  });\n  // eslint-disable-next-line consistent-return\n  handlePaste = event => {\n    const pasteEvent = event.originalEvent;\n    if (pasteEvent.clipboardData && pasteEvent.clipboardData.items) {\n      const image = isImage(pasteEvent);\n      if (image) {\n        event.preventDefault();\n        const filename = getFilename(pasteEvent) || 'image.png';\n        const text = `{{${filename}}}`;\n        pasteText(text);\n        return uploadFile(image.getAsFile(), filename);\n      }\n    }\n  };\n\n  isImage = data => {\n    let i = 0;\n    while (i < data.clipboardData.items.length) {\n      const item = data.clipboardData.items[i];\n      if (item.type.indexOf('image') !== -1) {\n        return item;\n      }\n      i += 1;\n    }\n    return false;\n  };\n\n  pasteText = (text, shouldPad) => {\n    let formattedText = text;\n    if (shouldPad) {\n      formattedText += '\\n\\n';\n    }\n    const textarea = child.get(0);\n    const caretStart = textarea.selectionStart;\n    const caretEnd = textarea.selectionEnd;\n    const textEnd = $(child).val().length;\n    const beforeSelection = $(child)\n      .val()\n      .substring(0, caretStart);\n    const afterSelection = $(child)\n      .val()\n      .substring(caretEnd, textEnd);\n    $(child).val(beforeSelection + formattedText + afterSelection);\n    textarea.setSelectionRange(caretStart + formattedText.length, caretEnd + formattedText.length);\n    textarea.style.height = `${textarea.scrollHeight}px`;\n    formTextarea.get(0).dispatchEvent(new Event('input'));\n    return formTextarea.trigger('input');\n  };\n\n  addFileToForm = path => {\n    $(form).append(`<input type=\"hidden\" name=\"files[]\" value=\"${_.escape(path)}\">`);\n  };\n\n  getFilename = e => {\n    let value;\n    if (window.clipboardData && window.clipboardData.getData) {\n      value = window.clipboardData.getData('Text');\n    } else if (e.clipboardData && e.clipboardData.getData) {\n      value = e.clipboardData.getData('text/plain');\n    }\n    value = value.split('\\r');\n    return value[0];\n  };\n\n  const showSpinner = () => $uploadingProgressContainer.removeClass('hide');\n\n  const closeSpinner = () => $uploadingProgressContainer.addClass('hide');\n\n  const showError = message => {\n    $uploadingErrorContainer.removeClass('hide');\n    $uploadingErrorMessage.html(message);\n  };\n\n  const closeAlertMessage = () => form.find('.div-dropzone-alert').alert('close');\n\n  const insertToTextArea = (filename, url) => {\n    const $child = $(child);\n    $child.val((index, val) => val.replace(`{{${filename}}}`, url));\n\n    $child.trigger('change');\n  };\n\n  uploadFile = (item, filename) => {\n    const formData = new FormData();\n    formData.append('file', item, filename);\n\n    showSpinner();\n    closeAlertMessage();\n\n    axios\n      .post(uploadsPath, formData)\n      .then(({ data }) => {\n        const md = data.link.markdown;\n\n        insertToTextArea(filename, md);\n        closeSpinner();\n      })\n      .catch(e => {\n        showError(e.response.data.message);\n        closeSpinner();\n      });\n  };\n\n  updateAttachingMessage = (files, messageContainer) => {\n    let attachingMessage;\n    const filesCount = files.filter(file => file.status === 'uploading' || file.status === 'queued')\n      .length;\n\n    // Dinamycally change uploading files text depending on files number in\n    // dropzone files queue.\n    if (filesCount > 1) {\n      attachingMessage = `Attaching ${filesCount} files -`;\n    } else {\n      attachingMessage = 'Attaching a file -';\n    }\n\n    messageContainer.text(attachingMessage);\n  };\n\n  form.find('.markdown-selector').click(function onMarkdownClick(e) {\n    e.preventDefault();\n    $(this)\n      .closest('.gfm-form')\n      .find('.div-dropzone')\n      .click();\n    formTextarea.focus();\n  });\n\n  return Dropzone.forElement($formDropzone.get(0));\n}\n","import $ from 'jquery';\nimport autosize from 'autosize';\nimport GfmAutoComplete, * as GFMConfig from './gfm_auto_complete';\nimport dropzoneInput from './dropzone_input';\nimport { addMarkdownListeners, removeMarkdownListeners } from './lib/utils/text_markdown';\n\nexport default class GLForm {\n  constructor(form, enableGFM = {}) {\n    this.form = form;\n    this.textarea = this.form.find('textarea.js-gfm-input');\n    this.enableGFM = Object.assign({}, GFMConfig.defaultAutocompleteConfig, enableGFM);\n    // Disable autocomplete for keywords which do not have dataSources available\n    const dataSources = (gl.GfmAutoComplete && gl.GfmAutoComplete.dataSources) || {};\n    Object.keys(this.enableGFM).forEach(item => {\n      if (item !== 'emojis') {\n        this.enableGFM[item] = !!dataSources[item];\n      }\n    });\n    // Before we start, we should clean up any previous data for this form\n    this.destroy();\n    // Set up the form\n    this.setupForm();\n    this.form.data('glForm', this);\n  }\n\n  destroy() {\n    // Clean form listeners\n    this.clearEventListeners();\n    if (this.autoComplete) {\n      this.autoComplete.destroy();\n    }\n    this.form.data('glForm', null);\n  }\n\n  setupForm() {\n    const isNewForm = this.form.is(':not(.gfm-form)');\n    this.form.removeClass('js-new-note-form');\n    if (isNewForm) {\n      this.form.find('.div-dropzone').remove();\n      this.form.addClass('gfm-form');\n      // remove notify commit author checkbox for non-commit notes\n      gl.utils.disableButtonIfEmptyField(\n        this.form.find('.js-note-text'),\n        this.form.find('.js-comment-button, .js-note-new-discussion'),\n      );\n      this.autoComplete = new GfmAutoComplete(gl.GfmAutoComplete && gl.GfmAutoComplete.dataSources);\n      this.autoComplete.setup(this.form.find('.js-gfm-input'), this.enableGFM);\n      dropzoneInput(this.form);\n      autosize(this.textarea);\n    }\n    // form and textarea event listeners\n    this.addEventListeners();\n    addMarkdownListeners(this.form);\n    this.form.show();\n    if (this.isAutosizeable) this.setupAutosize();\n  }\n\n  setupAutosize() {\n    this.textarea.off('autosize:resized').on('autosize:resized', this.setHeightData.bind(this));\n\n    this.textarea.off('mouseup.autosize').on('mouseup.autosize', this.destroyAutosize.bind(this));\n\n    setTimeout(() => {\n      autosize(this.textarea);\n      this.textarea.css('resize', 'vertical');\n    }, 0);\n  }\n\n  setHeightData() {\n    this.textarea.data('height', this.textarea.outerHeight());\n  }\n\n  destroyAutosize() {\n    const outerHeight = this.textarea.outerHeight();\n\n    if (this.textarea.data('height') === outerHeight) return;\n\n    autosize.destroy(this.textarea);\n\n    this.textarea.data('height', outerHeight);\n    this.textarea.outerHeight(outerHeight);\n    this.textarea.css('max-height', window.outerHeight);\n  }\n\n  clearEventListeners() {\n    this.textarea.off('focus');\n    this.textarea.off('blur');\n    removeMarkdownListeners(this.form);\n  }\n\n  addEventListeners() {\n    this.textarea.on('focus', function focusTextArea() {\n      $(this)\n        .closest('.md-area')\n        .addClass('is-focused');\n    });\n    this.textarea.on('blur', function blurTextArea() {\n      $(this)\n        .closest('.md-area')\n        .removeClass('is-focused');\n    });\n  }\n}\n","/* eslint-disable func-names, prefer-arrow-callback, no-unused-vars, consistent-return, camelcase, class-methods-use-this */\n\n// Zen Mode (full screen) textarea\n//\n/*= provides zen_mode:enter */\n/*= provides zen_mode:leave */\n\nimport $ from 'jquery';\nimport 'vendor/jquery.scrollTo';\nimport Dropzone from 'dropzone';\nimport Mousetrap from 'mousetrap';\nimport 'mousetrap/plugins/pause/mousetrap-pause';\n\nDropzone.autoDiscover = false;\n\n//\n// ### Events\n//\n// `zen_mode:enter`\n//\n// Fired when the \"Edit in fullscreen\" link is clicked.\n//\n// **Synchronicity** Sync\n// **Bubbles** Yes\n// **Cancelable** No\n// **Target** a.js-zen-enter\n//\n// `zen_mode:leave`\n//\n// Fired when the \"Leave Fullscreen\" link is clicked.\n//\n// **Synchronicity** Sync\n// **Bubbles** Yes\n// **Cancelable** No\n// **Target** a.js-zen-leave\n//\n\nexport default class ZenMode {\n  constructor() {\n    this.active_backdrop = null;\n    this.active_textarea = null;\n    $(document).on('click', '.js-zen-enter', function(e) {\n      e.preventDefault();\n      return $(e.currentTarget).trigger('zen_mode:enter');\n    });\n    $(document).on('click', '.js-zen-leave', function(e) {\n      e.preventDefault();\n      return $(e.currentTarget).trigger('zen_mode:leave');\n    });\n    $(document).on(\n      'zen_mode:enter',\n      (function(_this) {\n        return function(e) {\n          return _this.enter(\n            $(e.target)\n              .closest('.md-area')\n              .find('.zen-backdrop'),\n          );\n        };\n      })(this),\n    );\n    $(document).on(\n      'zen_mode:leave',\n      (function(_this) {\n        return function(e) {\n          return _this.exit();\n        };\n      })(this),\n    );\n    $(document).on('keydown', function(e) {\n      // Esc\n      if (e.keyCode === 27) {\n        e.preventDefault();\n        return $(document).trigger('zen_mode:leave');\n      }\n    });\n  }\n\n  enter(backdrop) {\n    Mousetrap.pause();\n    this.active_backdrop = $(backdrop);\n    this.active_backdrop.addClass('fullscreen');\n    this.active_textarea = this.active_backdrop.find('textarea');\n    // Prevent a user-resized textarea from persisting to fullscreen\n    this.active_textarea.removeAttr('style');\n    this.active_textarea.focus();\n  }\n\n  exit() {\n    if (this.active_textarea) {\n      Mousetrap.unpause();\n      this.active_textarea.closest('.zen-backdrop').removeClass('fullscreen');\n      this.scrollTo(this.active_textarea);\n      this.active_textarea = null;\n      this.active_backdrop = null;\n\n      const $dropzone = $('.div-dropzone');\n      if ($dropzone && !$dropzone.hasClass('js-invalid-dropzone')) {\n        Dropzone.forElement('.div-dropzone').enable();\n      }\n    }\n  }\n\n  scrollTo(zen_area) {\n    return $.scrollTo(zen_area, 0, {\n      offset: -150,\n    });\n  }\n}\n","/*!\n * Pikaday\n *\n * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday\n */\n\n(function (root, factory)\n{\n    'use strict';\n\n    var moment;\n    if (typeof exports === 'object') {\n        // CommonJS module\n        // Load moment.js as an optional dependency\n        try { moment = require('moment'); } catch (e) {}\n        module.exports = factory(moment);\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(function (req)\n        {\n            // Load moment.js as an optional dependency\n            var id = 'moment';\n            try { moment = req(id); } catch (e) {}\n            return factory(moment);\n        });\n    } else {\n        root.Pikaday = factory(root.moment);\n    }\n}(this, function (moment)\n{\n    'use strict';\n\n    /**\n     * feature detection and helper functions\n     */\n    var hasMoment = typeof moment === 'function',\n\n    hasEventListeners = !!window.addEventListener,\n\n    document = window.document,\n\n    sto = window.setTimeout,\n\n    addEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.addEventListener(e, callback, !!capture);\n        } else {\n            el.attachEvent('on' + e, callback);\n        }\n    },\n\n    removeEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.removeEventListener(e, callback, !!capture);\n        } else {\n            el.detachEvent('on' + e, callback);\n        }\n    },\n\n    trim = function(str)\n    {\n        return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g,'');\n    },\n\n    hasClass = function(el, cn)\n    {\n        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;\n    },\n\n    addClass = function(el, cn)\n    {\n        if (!hasClass(el, cn)) {\n            el.className = (el.className === '') ? cn : el.className + ' ' + cn;\n        }\n    },\n\n    removeClass = function(el, cn)\n    {\n        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));\n    },\n\n    isArray = function(obj)\n    {\n        return (/Array/).test(Object.prototype.toString.call(obj));\n    },\n\n    isDate = function(obj)\n    {\n        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    },\n\n    isWeekend = function(date)\n    {\n        var day = date.getDay();\n        return day === 0 || day === 6;\n    },\n\n    isLeapYear = function(year)\n    {\n        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\n        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n\n    getDaysInMonth = function(year, month)\n    {\n        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n\n    setToStartOfDay = function(date)\n    {\n        if (isDate(date)) date.setHours(0,0,0,0);\n    },\n\n    compareDates = function(a,b)\n    {\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n        return a.getTime() === b.getTime();\n    },\n\n    extend = function(to, from, overwrite)\n    {\n        var prop, hasProp;\n        for (prop in from) {\n            hasProp = to[prop] !== undefined;\n            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {\n                if (isDate(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = new Date(from[prop].getTime());\n                    }\n                }\n                else if (isArray(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = from[prop].slice(0);\n                    }\n                } else {\n                    to[prop] = extend({}, from[prop], overwrite);\n                }\n            } else if (overwrite || !hasProp) {\n                to[prop] = from[prop];\n            }\n        }\n        return to;\n    },\n\n    fireEvent = function(el, eventName, data)\n    {\n        var ev;\n\n        if (document.createEvent) {\n            ev = document.createEvent('HTMLEvents');\n            ev.initEvent(eventName, true, false);\n            ev = extend(ev, data);\n            el.dispatchEvent(ev);\n        } else if (document.createEventObject) {\n            ev = document.createEventObject();\n            ev = extend(ev, data);\n            el.fireEvent('on' + eventName, ev);\n        }\n    },\n\n    adjustCalendar = function(calendar) {\n        if (calendar.month < 0) {\n            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);\n            calendar.month += 12;\n        }\n        if (calendar.month > 11) {\n            calendar.year += Math.floor(Math.abs(calendar.month)/12);\n            calendar.month -= 12;\n        }\n        return calendar;\n    },\n\n    /**\n     * defaults and localisation\n     */\n    defaults = {\n\n        // bind the picker to a form field\n        field: null,\n\n        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)\n        bound: undefined,\n\n        // position of the datepicker, relative to the field (default to bottom & left)\n        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)\n        position: 'bottom left',\n\n        // automatically fit in the viewport even if it means repositioning from the position option\n        reposition: true,\n\n        // the default output format for `.toString()` and `field` value\n        format: 'YYYY-MM-DD',\n\n        // the toString function which gets passed a current date object and format\n        // and returns a string\n        toString: null,\n\n        // used to create date object from current input string\n        parse: null,\n\n        // the initial date to view when first opened\n        defaultDate: null,\n\n        // make the `defaultDate` the initial selected value\n        setDefaultDate: false,\n\n        // first day of week (0: Sunday, 1: Monday etc)\n        firstDay: 0,\n\n        // the default flag for moment's strict date parsing\n        formatStrict: false,\n\n        // the minimum/earliest date that can be selected\n        minDate: null,\n        // the maximum/latest date that can be selected\n        maxDate: null,\n\n        // number of years either side, or array of upper/lower range\n        yearRange: 10,\n\n        // show week numbers at head of row\n        showWeekNumber: false,\n\n        // Week picker mode\n        pickWholeWeek: false,\n\n        // used internally (don't config outside)\n        minYear: 0,\n        maxYear: 9999,\n        minMonth: undefined,\n        maxMonth: undefined,\n\n        startRange: null,\n        endRange: null,\n\n        isRTL: false,\n\n        // Additional text to append to the year in the calendar title\n        yearSuffix: '',\n\n        // Render the month after year in the calendar title\n        showMonthAfterYear: false,\n\n        // Render days of the calendar grid that fall in the next or previous month\n        showDaysInNextAndPreviousMonths: false,\n\n        // Allows user to select days that fall in the next or previous month\n        enableSelectionDaysInNextAndPreviousMonths: false,\n\n        // how many months are visible\n        numberOfMonths: 1,\n\n        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)\n        // only used for the first display or when a selected date is not visible\n        mainCalendar: 'left',\n\n        // Specify a DOM element to render the calendar in\n        container: undefined,\n\n        // Blur field when date is selected\n        blurFieldOnSelect : true,\n\n        // internationalization\n        i18n: {\n            previousMonth : 'Previous Month',\n            nextMonth     : 'Next Month',\n            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],\n            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\n            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']\n        },\n\n        // Theme Classname\n        theme: null,\n\n        // events array\n        events: [],\n\n        // callback function\n        onSelect: null,\n        onOpen: null,\n        onClose: null,\n        onDraw: null\n    },\n\n\n    /**\n     * templating functions to abstract HTML rendering\n     */\n    renderDayName = function(opts, day, abbr)\n    {\n        day += opts.firstDay;\n        while (day >= 7) {\n            day -= 7;\n        }\n        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];\n    },\n\n    renderDay = function(opts)\n    {\n        var arr = [];\n        var ariaSelected = 'false';\n        if (opts.isEmpty) {\n            if (opts.showDaysInNextAndPreviousMonths) {\n                arr.push('is-outside-current-month');\n\n                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {\n                    arr.push('is-selection-disabled');\n                }\n\n            } else {\n                return '<td class=\"is-empty\"></td>';\n            }\n        }\n        if (opts.isDisabled) {\n            arr.push('is-disabled');\n        }\n        if (opts.isToday) {\n            arr.push('is-today');\n        }\n        if (opts.isSelected) {\n            arr.push('is-selected');\n            ariaSelected = 'true';\n        }\n        if (opts.hasEvent) {\n            arr.push('has-event');\n        }\n        if (opts.isInRange) {\n            arr.push('is-inrange');\n        }\n        if (opts.isStartRange) {\n            arr.push('is-startrange');\n        }\n        if (opts.isEndRange) {\n            arr.push('is-endrange');\n        }\n        return '<td data-day=\"' + opts.day + '\" class=\"' + arr.join(' ') + '\" aria-selected=\"' + ariaSelected + '\">' +\n                 '<button class=\"pika-button pika-day\" type=\"button\" ' +\n                    'data-pika-year=\"' + opts.year + '\" data-pika-month=\"' + opts.month + '\" data-pika-day=\"' + opts.day + '\">' +\n                        opts.day +\n                 '</button>' +\n               '</td>';\n    },\n\n    renderWeek = function (d, m, y) {\n        // Lifted from http://javascript.about.com/library/blweekyear.htm, lightly modified.\n        var onejan = new Date(y, 0, 1),\n            weekNum = Math.ceil((((new Date(y, m, d) - onejan) / 86400000) + onejan.getDay()+1)/7);\n        return '<td class=\"pika-week\">' + weekNum + '</td>';\n    },\n\n    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)\n    {\n        return '<tr class=\"pika-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '\">' + (isRTL ? days.reverse() : days).join('') + '</tr>';\n    },\n\n    renderBody = function(rows)\n    {\n        return '<tbody>' + rows.join('') + '</tbody>';\n    },\n\n    renderHead = function(opts)\n    {\n        var i, arr = [];\n        if (opts.showWeekNumber) {\n            arr.push('<th></th>');\n        }\n        for (i = 0; i < 7; i++) {\n            arr.push('<th scope=\"col\"><abbr title=\"' + renderDayName(opts, i) + '\">' + renderDayName(opts, i, true) + '</abbr></th>');\n        }\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    },\n\n    renderTitle = function(instance, c, year, month, refYear, randId)\n    {\n        var i, j, arr,\n            opts = instance._o,\n            isMinYear = year === opts.minYear,\n            isMaxYear = year === opts.maxYear,\n            html = '<div id=\"' + randId + '\" class=\"pika-title\" role=\"heading\" aria-live=\"assertive\">',\n            monthHtml,\n            yearHtml,\n            prev = true,\n            next = true;\n\n        for (arr = [], i = 0; i < 12; i++) {\n            arr.push('<option value=\"' + (year === refYear ? i - c : 12 + i - c) + '\"' +\n                (i === month ? ' selected=\"selected\"': '') +\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? 'disabled=\"disabled\"' : '') + '>' +\n                opts.i18n.months[i] + '</option>');\n        }\n\n        monthHtml = '<div class=\"pika-label\">' + opts.i18n.months[month] + '<select class=\"pika-select pika-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (isArray(opts.yearRange)) {\n            i = opts.yearRange[0];\n            j = opts.yearRange[1] + 1;\n        } else {\n            i = year - opts.yearRange;\n            j = 1 + year + opts.yearRange;\n        }\n\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\n            if (i >= opts.minYear) {\n                arr.push('<option value=\"' + i + '\"' + (i === year ? ' selected=\"selected\"': '') + '>' + (i) + '</option>');\n            }\n        }\n        yearHtml = '<div class=\"pika-label\">' + year + opts.yearSuffix + '<select class=\"pika-select pika-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (opts.showMonthAfterYear) {\n            html += yearHtml + monthHtml;\n        } else {\n            html += monthHtml + yearHtml;\n        }\n\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n            prev = false;\n        }\n\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n            next = false;\n        }\n\n        if (c === 0) {\n            html += '<button class=\"pika-prev' + (prev ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.previousMonth + '</button>';\n        }\n        if (c === (instance._o.numberOfMonths - 1) ) {\n            html += '<button class=\"pika-next' + (next ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.nextMonth + '</button>';\n        }\n\n        return html += '</div>';\n    },\n\n    renderTable = function(opts, data, randId)\n    {\n        return '<table cellpadding=\"0\" cellspacing=\"0\" class=\"pika-table\" role=\"grid\" aria-labelledby=\"' + randId + '\">' + renderHead(opts) + renderBody(data) + '</table>';\n    },\n\n\n    /**\n     * Pikaday constructor\n     */\n    Pikaday = function(options)\n    {\n        var self = this,\n            opts = self.config(options);\n\n        self._onMouseDown = function(e)\n        {\n            if (!self._v) {\n                return;\n            }\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n\n            if (!hasClass(target, 'is-disabled')) {\n                if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {\n                    self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));\n                    if (opts.bound) {\n                        sto(function() {\n                            self.hide();\n                            if (opts.blurFieldOnSelect && opts.field) {\n                                opts.field.blur();\n                            }\n                        }, 100);\n                    }\n                }\n                else if (hasClass(target, 'pika-prev')) {\n                    self.prevMonth();\n                }\n                else if (hasClass(target, 'pika-next')) {\n                    self.nextMonth();\n                }\n            }\n            if (!hasClass(target, 'pika-select')) {\n                // if this is touch event prevent mouse events emulation\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                    return false;\n                }\n            } else {\n                self._c = true;\n            }\n        };\n\n        self._onChange = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n            if (hasClass(target, 'pika-select-month')) {\n                self.gotoMonth(target.value);\n            }\n            else if (hasClass(target, 'pika-select-year')) {\n                self.gotoYear(target.value);\n            }\n        };\n\n        self._onKeyChange = function(e)\n        {\n            e = e || window.event;\n\n            if (self.isVisible()) {\n\n                switch(e.keyCode){\n                    case 13:\n                    case 27:\n                        if (opts.field) {\n                            opts.field.blur();\n                        }\n                        break;\n                    case 37:\n                        e.preventDefault();\n                        self.adjustDate('subtract', 1);\n                        break;\n                    case 38:\n                        self.adjustDate('subtract', 7);\n                        break;\n                    case 39:\n                        self.adjustDate('add', 1);\n                        break;\n                    case 40:\n                        self.adjustDate('add', 7);\n                        break;\n                }\n            }\n        };\n\n        self._onInputChange = function(e)\n        {\n            var date;\n\n            if (e.firedBy === self) {\n                return;\n            }\n            if (opts.parse) {\n                date = opts.parse(opts.field.value, opts.format);\n            } else if (hasMoment) {\n                date = moment(opts.field.value, opts.format, opts.formatStrict);\n                date = (date && date.isValid()) ? date.toDate() : null;\n            }\n            else {\n                date = new Date(Date.parse(opts.field.value));\n            }\n            if (isDate(date)) {\n              self.setDate(date);\n            }\n            if (!self._v) {\n                self.show();\n            }\n        };\n\n        self._onInputFocus = function()\n        {\n            self.show();\n        };\n\n        self._onInputClick = function()\n        {\n            self.show();\n        };\n\n        self._onInputBlur = function()\n        {\n            // IE allows pika div to gain focus; catch blur the input field\n            var pEl = document.activeElement;\n            do {\n                if (hasClass(pEl, 'pika-single')) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n\n            if (!self._c) {\n                self._b = sto(function() {\n                    self.hide();\n                }, 50);\n            }\n            self._c = false;\n        };\n\n        self._onClick = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement,\n                pEl = target;\n            if (!target) {\n                return;\n            }\n            if (!hasEventListeners && hasClass(target, 'pika-select')) {\n                if (!target.onchange) {\n                    target.setAttribute('onchange', 'return;');\n                    addEvent(target, 'change', self._onChange);\n                }\n            }\n            do {\n                if (hasClass(pEl, 'pika-single') || pEl === opts.trigger) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {\n                self.hide();\n            }\n        };\n\n        self.el = document.createElement('div');\n        self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '');\n\n        addEvent(self.el, 'mousedown', self._onMouseDown, true);\n        addEvent(self.el, 'touchend', self._onMouseDown, true);\n        addEvent(self.el, 'change', self._onChange);\n        addEvent(document, 'keydown', self._onKeyChange);\n\n        if (opts.field) {\n            if (opts.container) {\n                opts.container.appendChild(self.el);\n            } else if (opts.bound) {\n                document.body.appendChild(self.el);\n            } else {\n                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);\n            }\n            addEvent(opts.field, 'change', self._onInputChange);\n\n            if (!opts.defaultDate) {\n                if (hasMoment && opts.field.value) {\n                    opts.defaultDate = moment(opts.field.value, opts.format).toDate();\n                } else {\n                    opts.defaultDate = new Date(Date.parse(opts.field.value));\n                }\n                opts.setDefaultDate = true;\n            }\n        }\n\n        var defDate = opts.defaultDate;\n\n        if (isDate(defDate)) {\n            if (opts.setDefaultDate) {\n                self.setDate(defDate, true);\n            } else {\n                self.gotoDate(defDate);\n            }\n        } else {\n            self.gotoDate(new Date());\n        }\n\n        if (opts.bound) {\n            this.hide();\n            self.el.className += ' is-bound';\n            addEvent(opts.trigger, 'click', self._onInputClick);\n            addEvent(opts.trigger, 'focus', self._onInputFocus);\n            addEvent(opts.trigger, 'blur', self._onInputBlur);\n        } else {\n            this.show();\n        }\n    };\n\n\n    /**\n     * public Pikaday API\n     */\n    Pikaday.prototype = {\n\n\n        /**\n         * configure functionality\n         */\n        config: function(options)\n        {\n            if (!this._o) {\n                this._o = extend({}, defaults, true);\n            }\n\n            var opts = extend(this._o, options, true);\n\n            opts.isRTL = !!opts.isRTL;\n\n            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;\n\n            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;\n\n            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);\n\n            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;\n\n            opts.disableWeekends = !!opts.disableWeekends;\n\n            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;\n\n            var nom = parseInt(opts.numberOfMonths, 10) || 1;\n            opts.numberOfMonths = nom > 4 ? 4 : nom;\n\n            if (!isDate(opts.minDate)) {\n                opts.minDate = false;\n            }\n            if (!isDate(opts.maxDate)) {\n                opts.maxDate = false;\n            }\n            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {\n                opts.maxDate = opts.minDate = false;\n            }\n            if (opts.minDate) {\n                this.setMinDate(opts.minDate);\n            }\n            if (opts.maxDate) {\n                this.setMaxDate(opts.maxDate);\n            }\n\n            if (isArray(opts.yearRange)) {\n                var fallback = new Date().getFullYear() - 10;\n                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;\n                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;\n            } else {\n                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;\n                if (opts.yearRange > 100) {\n                    opts.yearRange = 100;\n                }\n            }\n\n            return opts;\n        },\n\n        /**\n         * return a formatted string of the current selection (using Moment.js if available)\n         */\n        toString: function(format)\n        {\n            format = format || this._o.format;\n            if (!isDate(this._d)) {\n                return '';\n            }\n            if (this._o.toString) {\n              return this._o.toString(this._d, format);\n            }\n            if (hasMoment) {\n              return moment(this._d).format(format);\n            }\n            return this._d.toDateString();\n        },\n\n        /**\n         * return a Moment.js object of the current selection (if available)\n         */\n        getMoment: function()\n        {\n            return hasMoment ? moment(this._d) : null;\n        },\n\n        /**\n         * set the current selection from a Moment.js object (if available)\n         */\n        setMoment: function(date, preventOnSelect)\n        {\n            if (hasMoment && moment.isMoment(date)) {\n                this.setDate(date.toDate(), preventOnSelect);\n            }\n        },\n\n        /**\n         * return a Date object of the current selection\n         */\n        getDate: function()\n        {\n            return isDate(this._d) ? new Date(this._d.getTime()) : null;\n        },\n\n        /**\n         * set the current selection\n         */\n        setDate: function(date, preventOnSelect)\n        {\n            if (!date) {\n                this._d = null;\n\n                if (this._o.field) {\n                    this._o.field.value = '';\n                    fireEvent(this._o.field, 'change', { firedBy: this });\n                }\n\n                return this.draw();\n            }\n            if (typeof date === 'string') {\n                date = new Date(Date.parse(date));\n            }\n            if (!isDate(date)) {\n                return;\n            }\n\n            var min = this._o.minDate,\n                max = this._o.maxDate;\n\n            if (isDate(min) && date < min) {\n                date = min;\n            } else if (isDate(max) && date > max) {\n                date = max;\n            }\n\n            this._d = new Date(date.getTime());\n            setToStartOfDay(this._d);\n            this.gotoDate(this._d);\n\n            if (this._o.field) {\n                this._o.field.value = this.toString();\n                fireEvent(this._o.field, 'change', { firedBy: this });\n            }\n            if (!preventOnSelect && typeof this._o.onSelect === 'function') {\n                this._o.onSelect.call(this, this.getDate());\n            }\n        },\n\n        /**\n         * change view to a specific date\n         */\n        gotoDate: function(date)\n        {\n            var newCalendar = true;\n\n            if (!isDate(date)) {\n                return;\n            }\n\n            if (this.calendars) {\n                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),\n                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),\n                    visibleDate = date.getTime();\n                // get the end of the month\n                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);\n                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);\n                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);\n            }\n\n            if (newCalendar) {\n                this.calendars = [{\n                    month: date.getMonth(),\n                    year: date.getFullYear()\n                }];\n                if (this._o.mainCalendar === 'right') {\n                    this.calendars[0].month += 1 - this._o.numberOfMonths;\n                }\n            }\n\n            this.adjustCalendars();\n        },\n\n        adjustDate: function(sign, days) {\n\n            var day = this.getDate() || new Date();\n            var difference = parseInt(days)*24*60*60*1000;\n\n            var newDay;\n\n            if (sign === 'add') {\n                newDay = new Date(day.valueOf() + difference);\n            } else if (sign === 'subtract') {\n                newDay = new Date(day.valueOf() - difference);\n            }\n\n            this.setDate(newDay);\n        },\n\n        adjustCalendars: function() {\n            this.calendars[0] = adjustCalendar(this.calendars[0]);\n            for (var c = 1; c < this._o.numberOfMonths; c++) {\n                this.calendars[c] = adjustCalendar({\n                    month: this.calendars[0].month + c,\n                    year: this.calendars[0].year\n                });\n            }\n            this.draw();\n        },\n\n        gotoToday: function()\n        {\n            this.gotoDate(new Date());\n        },\n\n        /**\n         * change view to a specific month (zero-index, e.g. 0: January)\n         */\n        gotoMonth: function(month)\n        {\n            if (!isNaN(month)) {\n                this.calendars[0].month = parseInt(month, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        nextMonth: function()\n        {\n            this.calendars[0].month++;\n            this.adjustCalendars();\n        },\n\n        prevMonth: function()\n        {\n            this.calendars[0].month--;\n            this.adjustCalendars();\n        },\n\n        /**\n         * change view to a specific full year (e.g. \"2012\")\n         */\n        gotoYear: function(year)\n        {\n            if (!isNaN(year)) {\n                this.calendars[0].year = parseInt(year, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        /**\n         * change the minDate\n         */\n        setMinDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.minDate = value;\n                this._o.minYear  = value.getFullYear();\n                this._o.minMonth = value.getMonth();\n            } else {\n                this._o.minDate = defaults.minDate;\n                this._o.minYear  = defaults.minYear;\n                this._o.minMonth = defaults.minMonth;\n                this._o.startRange = defaults.startRange;\n            }\n\n            this.draw();\n        },\n\n        /**\n         * change the maxDate\n         */\n        setMaxDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.maxDate = value;\n                this._o.maxYear = value.getFullYear();\n                this._o.maxMonth = value.getMonth();\n            } else {\n                this._o.maxDate = defaults.maxDate;\n                this._o.maxYear = defaults.maxYear;\n                this._o.maxMonth = defaults.maxMonth;\n                this._o.endRange = defaults.endRange;\n            }\n\n            this.draw();\n        },\n\n        setStartRange: function(value)\n        {\n            this._o.startRange = value;\n        },\n\n        setEndRange: function(value)\n        {\n            this._o.endRange = value;\n        },\n\n        /**\n         * refresh the HTML\n         */\n        draw: function(force)\n        {\n            if (!this._v && !force) {\n                return;\n            }\n            var opts = this._o,\n                minYear = opts.minYear,\n                maxYear = opts.maxYear,\n                minMonth = opts.minMonth,\n                maxMonth = opts.maxMonth,\n                html = '',\n                randId;\n\n            if (this._y <= minYear) {\n                this._y = minYear;\n                if (!isNaN(minMonth) && this._m < minMonth) {\n                    this._m = minMonth;\n                }\n            }\n            if (this._y >= maxYear) {\n                this._y = maxYear;\n                if (!isNaN(maxMonth) && this._m > maxMonth) {\n                    this._m = maxMonth;\n                }\n            }\n\n            randId = 'pika-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);\n\n            for (var c = 0; c < opts.numberOfMonths; c++) {\n                html += '<div class=\"pika-lendar\">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';\n            }\n\n            this.el.innerHTML = html;\n\n            if (opts.bound) {\n                if(opts.field.type !== 'hidden') {\n                    sto(function() {\n                        opts.trigger.focus();\n                    }, 1);\n                }\n            }\n\n            if (typeof this._o.onDraw === 'function') {\n                this._o.onDraw(this);\n            }\n\n            if (opts.bound) {\n                // let the screen reader user know to use arrow keys\n                opts.field.setAttribute('aria-label', 'Use the arrow keys to pick a date');\n            }\n        },\n\n        adjustPosition: function()\n        {\n            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect;\n\n            if (this._o.container) return;\n\n            this.el.style.position = 'absolute';\n\n            field = this._o.trigger;\n            pEl = field;\n            width = this.el.offsetWidth;\n            height = this.el.offsetHeight;\n            viewportWidth = window.innerWidth || document.documentElement.clientWidth;\n            viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n\n            if (typeof field.getBoundingClientRect === 'function') {\n                clientRect = field.getBoundingClientRect();\n                left = clientRect.left + window.pageXOffset;\n                top = clientRect.bottom + window.pageYOffset;\n            } else {\n                left = pEl.offsetLeft;\n                top  = pEl.offsetTop + pEl.offsetHeight;\n                while((pEl = pEl.offsetParent)) {\n                    left += pEl.offsetLeft;\n                    top  += pEl.offsetTop;\n                }\n            }\n\n            // default position is bottom & left\n            if ((this._o.reposition && left + width > viewportWidth) ||\n                (\n                    this._o.position.indexOf('right') > -1 &&\n                    left - width + field.offsetWidth > 0\n                )\n            ) {\n                left = left - width + field.offsetWidth;\n            }\n            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||\n                (\n                    this._o.position.indexOf('top') > -1 &&\n                    top - height - field.offsetHeight > 0\n                )\n            ) {\n                top = top - height - field.offsetHeight;\n            }\n\n            this.el.style.left = left + 'px';\n            this.el.style.top = top + 'px';\n        },\n\n        /**\n         * render HTML for a particular month\n         */\n        render: function(year, month, randId)\n        {\n            var opts   = this._o,\n                now    = new Date(),\n                days   = getDaysInMonth(year, month),\n                before = new Date(year, month, 1).getDay(),\n                data   = [],\n                row    = [];\n            setToStartOfDay(now);\n            if (opts.firstDay > 0) {\n                before -= opts.firstDay;\n                if (before < 0) {\n                    before += 7;\n                }\n            }\n            var previousMonth = month === 0 ? 11 : month - 1,\n                nextMonth = month === 11 ? 0 : month + 1,\n                yearOfPreviousMonth = month === 0 ? year - 1 : year,\n                yearOfNextMonth = month === 11 ? year + 1 : year,\n                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);\n            var cells = days + before,\n                after = cells;\n            while(after > 7) {\n                after -= 7;\n            }\n            cells += 7 - after;\n            var isWeekSelected = false;\n            for (var i = 0, r = 0; i < cells; i++)\n            {\n                var day = new Date(year, month, 1 + (i - before)),\n                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,\n                    isToday = compareDates(day, now),\n                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,\n                    isEmpty = i < before || i >= (days + before),\n                    dayNumber = 1 + (i - before),\n                    monthNumber = month,\n                    yearNumber = year,\n                    isStartRange = opts.startRange && compareDates(opts.startRange, day),\n                    isEndRange = opts.endRange && compareDates(opts.endRange, day),\n                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,\n                    isDisabled = (opts.minDate && day < opts.minDate) ||\n                                 (opts.maxDate && day > opts.maxDate) ||\n                                 (opts.disableWeekends && isWeekend(day)) ||\n                                 (opts.disableDayFn && opts.disableDayFn(day));\n\n                if (isEmpty) {\n                    if (i < before) {\n                        dayNumber = daysInPreviousMonth + dayNumber;\n                        monthNumber = previousMonth;\n                        yearNumber = yearOfPreviousMonth;\n                    } else {\n                        dayNumber = dayNumber - days;\n                        monthNumber = nextMonth;\n                        yearNumber = yearOfNextMonth;\n                    }\n                }\n\n                var dayConfig = {\n                        day: dayNumber,\n                        month: monthNumber,\n                        year: yearNumber,\n                        hasEvent: hasEvent,\n                        isSelected: isSelected,\n                        isToday: isToday,\n                        isDisabled: isDisabled,\n                        isEmpty: isEmpty,\n                        isStartRange: isStartRange,\n                        isEndRange: isEndRange,\n                        isInRange: isInRange,\n                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,\n                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths\n                    };\n\n                if (opts.pickWholeWeek && isSelected) {\n                    isWeekSelected = true;\n                }\n\n                row.push(renderDay(dayConfig));\n\n                if (++r === 7) {\n                    if (opts.showWeekNumber) {\n                        row.unshift(renderWeek(i - before, month, year));\n                    }\n                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));\n                    row = [];\n                    r = 0;\n                    isWeekSelected = false;\n                }\n            }\n            return renderTable(opts, data, randId);\n        },\n\n        isVisible: function()\n        {\n            return this._v;\n        },\n\n        show: function()\n        {\n            if (!this.isVisible()) {\n                this._v = true;\n                this.draw();\n                removeClass(this.el, 'is-hidden');\n                if (this._o.bound) {\n                    addEvent(document, 'click', this._onClick);\n                    this.adjustPosition();\n                }\n                if (typeof this._o.onOpen === 'function') {\n                    this._o.onOpen.call(this);\n                }\n            }\n        },\n\n        hide: function()\n        {\n            var v = this._v;\n            if (v !== false) {\n                if (this._o.bound) {\n                    removeEvent(document, 'click', this._onClick);\n                }\n                this.el.style.position = 'static'; // reset\n                this.el.style.left = 'auto';\n                this.el.style.top = 'auto';\n                addClass(this.el, 'is-hidden');\n                this._v = false;\n                if (v !== undefined && typeof this._o.onClose === 'function') {\n                    this._o.onClose.call(this);\n                }\n            }\n        },\n\n        /**\n         * GAME OVER\n         */\n        destroy: function()\n        {\n            this.hide();\n            removeEvent(this.el, 'mousedown', this._onMouseDown, true);\n            removeEvent(this.el, 'touchend', this._onMouseDown, true);\n            removeEvent(this.el, 'change', this._onChange);\n            removeEvent(document, 'keydown', this._onKeyChange);\n            if (this._o.field) {\n                removeEvent(this._o.field, 'change', this._onInputChange);\n                if (this._o.bound) {\n                    removeEvent(this._o.trigger, 'click', this._onInputClick);\n                    removeEvent(this._o.trigger, 'focus', this._onInputFocus);\n                    removeEvent(this._o.trigger, 'blur', this._onInputBlur);\n                }\n            }\n            if (this.el.parentNode) {\n                this.el.parentNode.removeChild(this.el);\n            }\n        }\n\n    };\n\n    return Pikaday;\n\n}));\n"],"sourceRoot":""}