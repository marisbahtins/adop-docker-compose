{"version":3,"sources":["webpack:////home/git/gitlab/node_modules/mousetrap/plugins/pause/mousetrap-pause.js","webpack:///./behaviors/shortcuts/shortcuts_wiki.js","webpack:///./pages/projects/wikis/wikis.js","webpack:///./pages/projects/wikis/components/delete_wiki_modal.vue?1a22","webpack:///pages/projects/wikis/components/delete_wiki_modal.vue","webpack:///./pages/projects/wikis/components/delete_wiki_modal.vue","webpack:///./pages/projects/wikis/components/delete_wiki_modal.vue?7c5f","webpack:///./pages/projects/wikis/index.js","webpack:///./behaviors/shortcuts/shortcuts_navigation.js","webpack:///./project_select_combo_button.js","webpack:///./project_select.js","webpack:///./pages/projects/project.js","webpack:///./pages/projects/index.js","webpack:///./dropzone_input.js","webpack:///./gl_form.js","webpack:///./zen_mode.js"],"names":["Mousetrap","self","_originalStopCallback","stopCallback","enabled","e","element","combo","pause","unpause","ShortcutsWiki","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","bind","editWiki","ShortcutsNavigation","findAndFollowLink","Wikis","wikis_classCallCheck","sidebarEl","document","querySelector","sidebarExpanded","sidebarToggles","querySelectorAll","i","length","addEventListener","handleToggleSidebar","newWikiForm","handleNewWikiSubmit","window","renderSidebar","bp","getBreakpointSize","slugInput","slug","value","wikisPath","getAttribute","params","parseQueryStringIntoObject","location","search","substr","url","mergeUrlParams","concat","redirectTo","preventDefault","classList","sidebarCanCollapse","contains","remove","add","components_delete_wiki_modalvue_type_script_lang_js_","components","GlModal","dist","directives","gl-modal","props","deleteWikiUrl","type","String","required","default","pageTitle","csrfToken","computed","modalId","message","Object","locale","title","underscore_default","a","escape","methods","onSubmit","$refs","form","submit","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","name","rawName","expression","attrs","_v","_s","__","ok-title","s__","modal-id","title-tag","ok-variant","on","ok","ref","action","method","domProps","options","__file","delete_wiki_modal","ZenMode","GLForm","$","deleteWikiModalWrapperEl","getElementById","Vue","use","Translate","_deleteWikiModalWrapp","dataset","el","data","render","createElement","deleteWikiModal","csrf","token","enabledHelp","push","Shortcuts","ProjectSelectComboButton","select","projectSelectInput","newItemBtn","resourceType","resourceLabel","formattedText","deriveTextVariants","groupId","bindEvents","initLocalStorage","siblings","openDropdown","getProjectFromLocalStorage","selectProject","AccessorUtilities","isLocalStorageAccessSafe","localStorageKey","localStorageItemType","join","setBtnTextFromLocalStorage","event","currentTarget","select2","selectedProjectData","JSON","parse","val","projectMeta","setNewItemBtnAttributes","setProjectInLocalStorage","cachedProjectData","project","attr","text","defaultTextPrefix","presetTextSuffix","projectString","localStorage","getItem","stringify","setItem","split","slice","projectSelect","each","placeholder","simpleFilter","includeGroups","allProjects","orderBy","withIssuesEnabled","withMergeRequestsEnabled","withShared","undefined","includeProjectsInSubgroups","allowClear","minimumInputLength","query","finalCallback","projectsCallback","projects","results","callback","groupsCallback","groups","Api","term","groupProjects","with_issues_enabled","with_merge_requests_enabled","with_shared","include_subgroups","order_by","membership","id","web_url","name_with_namespace","initSelection","then","_ref","dropdownCssClass","__webpack_require__","d","__webpack_exports__","Project","$cloneOptions","$projectCloneField","$cloneBtnLabel","mobileCloneField","selectedCloneOption","trim","addClass","$this","cloneType","removeClass","$el","activeText","find","$label","closest","toggleClass","clipboardText","initRefSwitcher","parents","Cookies","set","projectId","cookieKey","projectSelectDropdown","changeProject","refListItem","refLink","href","$dropdown","selected","glDropdown","axios","get","catch","flash","selectable","filterable","filterRemote","filterByText","inputFieldName","fieldName","renderRow","li","cloneNode","header","className","textContent","link","appendChild","obj","toggleLabel","clicked","$form","$visit","shouldVisit","divider","indexOf","visitUrl","serialize","r","_projects_gke_cluster_dropdowns__WEBPACK_IMPORTED_MODULE_0__","_persistent_user_callout__WEBPACK_IMPORTED_MODULE_1__","_project__WEBPACK_IMPORTED_MODULE_2__","_behaviors_shortcuts_shortcuts_navigation__WEBPACK_IMPORTED_MODULE_3__","page","body","callout","PersistentUserCallout","initGkeDropdowns","dropzoneInput","handlePaste","pasteText","addFileToForm","updateAttachingMessage","isImage","getFilename","uploadFile","$attachButton","$attachingFileMessage","$cancelButton","$retryLink","$uploadProgress","$uploadingErrorContainer","$uploadingErrorMessage","$uploadingProgressContainer","uploadsPath","uploads_path","maxFileSize","gon","max_file_size","formTextarea","wrap","$mdArea","setupMarkdownPreview","$formDropzone","parent","append","dropzone","dictDefaultMessage","clickable","paramName","maxFilesize","uploadMultiple","headers","previewContainer","processing","alert","dragover","css","dragleave","drop","focus","success","response","processingFileCount","getQueuedFiles","getUploadingFiles","shouldPad","markdown","error","file","res","errorMessage","arguments","xhr","responseText","_","isString","html","totaluploadprogress","totalUploadProgress","files","Math","round","sending","removedfile","queuecomplete","trigger","child","children","stopPropagation","Dropzone","forElement","removeAllFiles","dropzoneInstance","target","failedFiles","map","failedFile","status","ERROR","accepted","addFile","pasteEvent","originalEvent","clipboardData","items","image","filename","getAsFile","item","textarea","caretStart","selectionStart","caretEnd","selectionEnd","textEnd","beforeSelection","substring","afterSelection","setSelectionRange","style","height","scrollHeight","dispatchEvent","Event","path","getData","closeSpinner","formData","FormData","post","md","$child","index","replace","insertToTextArea","messageContainer","attachingMessage","filesCount","filter","click","autoDiscover","enableGFM","assign","GFMConfig","dataSources","gl","GfmAutoComplete","keys","forEach","destroy","setupForm","clearEventListeners","autoComplete","isNewForm","is","utils","disableButtonIfEmptyField","setup","autosize","addEventListeners","addMarkdownListeners","show","isAutosizeable","setupAutosize","_this2","off","setHeightData","destroyAutosize","setTimeout","outerHeight","removeMarkdownListeners","active_backdrop","active_textarea","enter","exit","keyCode","backdrop","removeAttr","scrollTo","$dropzone","hasClass","enable","zen_area","offset"],"mappings":"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","file":"pages.projects.wikis.52c7aad6.chunk.js","sourcesContent":["/**\n * adds a pause and unpause method to Mousetrap\n * this allows you to enable or disable keyboard shortcuts\n * without having to reset Mousetrap and rebind everything\n */\n/* global Mousetrap:true */\nMousetrap = (function(Mousetrap) {\n    var self = Mousetrap,\n        _originalStopCallback = self.stopCallback,\n        enabled = true;\n\n    self.stopCallback = function(e, element, combo) {\n        if (!enabled) {\n            return true;\n        }\n\n        return _originalStopCallback(e, element, combo);\n    };\n\n    self.pause = function() {\n        enabled = false;\n    };\n\n    self.unpause = function() {\n        enabled = true;\n    };\n\n    return self;\n}) (Mousetrap);\n","import Mousetrap from 'mousetrap';\nimport ShortcutsNavigation from './shortcuts_navigation';\nimport findAndFollowLink from '../../lib/utils/navigation_utility';\n\nexport default class ShortcutsWiki extends ShortcutsNavigation {\n  constructor() {\n    super();\n    Mousetrap.bind('e', ShortcutsWiki.editWiki);\n  }\n\n  static editWiki() {\n    findAndFollowLink('.js-wiki-edit');\n  }\n}\n","import bp from '../../../breakpoints';\nimport { parseQueryStringIntoObject } from '../../../lib/utils/common_utils';\nimport { mergeUrlParams, redirectTo } from '../../../lib/utils/url_utility';\n\nexport default class Wikis {\n  constructor() {\n    this.sidebarEl = document.querySelector('.js-wiki-sidebar');\n    this.sidebarExpanded = false;\n\n    const sidebarToggles = document.querySelectorAll('.js-sidebar-wiki-toggle');\n    for (let i = 0; i < sidebarToggles.length; i += 1) {\n      sidebarToggles[i].addEventListener('click', e => this.handleToggleSidebar(e));\n    }\n\n    this.newWikiForm = document.querySelector('form.new-wiki-page');\n    if (this.newWikiForm) {\n      this.newWikiForm.addEventListener('submit', e => this.handleNewWikiSubmit(e));\n    }\n\n    window.addEventListener('resize', () => this.renderSidebar());\n    this.renderSidebar();\n  }\n\n  handleNewWikiSubmit(e) {\n    if (!this.newWikiForm) return;\n\n    const slugInput = this.newWikiForm.querySelector('#new_wiki_path');\n\n    const slug = slugInput.value;\n\n    if (slug.length > 0) {\n      const wikisPath = slugInput.getAttribute('data-wikis-path');\n\n      // If the wiki is empty, we need to merge the current URL params to keep the \"create\" view.\n      const params = parseQueryStringIntoObject(window.location.search.substr(1));\n      const url = mergeUrlParams(params, `${wikisPath}/${slug}`);\n      redirectTo(url);\n\n      e.preventDefault();\n    }\n  }\n\n  handleToggleSidebar(e) {\n    e.preventDefault();\n    this.sidebarExpanded = !this.sidebarExpanded;\n    this.renderSidebar();\n  }\n\n  static sidebarCanCollapse() {\n    const bootstrapBreakpoint = bp.getBreakpointSize();\n    return bootstrapBreakpoint === 'xs';\n  }\n\n  renderSidebar() {\n    if (!this.sidebarEl) return;\n    const { classList } = this.sidebarEl;\n    if (this.sidebarExpanded || !Wikis.sidebarCanCollapse()) {\n      if (!classList.contains('right-sidebar-expanded')) {\n        classList.remove('right-sidebar-collapsed');\n        classList.add('right-sidebar-expanded');\n      }\n    } else if (classList.contains('right-sidebar-expanded')) {\n      classList.add('right-sidebar-collapsed');\n      classList.remove('right-sidebar-expanded');\n    }\n  }\n}\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delete_wiki_modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delete_wiki_modal.vue?vue&type=script&lang=js&\"","<script>\nimport _ from 'underscore';\nimport { s__, sprintf } from '~/locale';\nimport { GlModal, GlModalDirective } from '@gitlab/ui';\n\nexport default {\n  components: {\n    GlModal,\n  },\n  directives: {\n    'gl-modal': GlModalDirective,\n  },\n  props: {\n    deleteWikiUrl: {\n      type: String,\n      required: true,\n      default: '',\n    },\n    pageTitle: {\n      type: String,\n      required: true,\n      default: '',\n    },\n    csrfToken: {\n      type: String,\n      required: true,\n      default: '',\n    },\n  },\n  computed: {\n    modalId() {\n      return 'delete-wiki-modal';\n    },\n    message() {\n      return s__('WikiPageConfirmDelete|Are you sure you want to delete this page?');\n    },\n    title() {\n      return sprintf(\n        s__('WikiPageConfirmDelete|Delete page %{pageTitle}?'),\n        {\n          pageTitle: _.escape(this.pageTitle),\n        },\n        false,\n      );\n    },\n  },\n  methods: {\n    onSubmit() {\n      this.$refs.form.submit();\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"d-inline-block\">\n    <button v-gl-modal=\"modalId\" type=\"button\" class=\"btn btn-danger\">{{ __('Delete') }}</button>\n    <gl-modal\n      :title=\"title\"\n      :ok-title=\"s__('WikiPageConfirmDelete|Delete page')\"\n      :modal-id=\"modalId\"\n      title-tag=\"h4\"\n      ok-variant=\"danger\"\n      @ok=\"onSubmit\"\n    >\n      {{ message }}\n      <form ref=\"form\" :action=\"deleteWikiUrl\" method=\"post\" class=\"js-requires-input\">\n        <input ref=\"method\" type=\"hidden\" name=\"_method\" value=\"delete\" />\n        <input :value=\"csrfToken\" type=\"hidden\" name=\"authenticity_token\" />\n      </form>\n    </gl-modal>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./delete_wiki_modal.vue?vue&type=template&id=600605c2&\"\nimport script from \"./delete_wiki_modal.vue?vue&type=script&lang=js&\"\nexport * from \"./delete_wiki_modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"delete_wiki_modal.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-inline-block\"},[_c('button',{directives:[{name:\"gl-modal\",rawName:\"v-gl-modal\",value:(_vm.modalId),expression:\"modalId\"}],staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\"}},[_vm._v(_vm._s(_vm.__('Delete')))]),_vm._v(\" \"),_c('gl-modal',{attrs:{\"title\":_vm.title,\"ok-title\":_vm.s__('WikiPageConfirmDelete|Delete page'),\"modal-id\":_vm.modalId,\"title-tag\":\"h4\",\"ok-variant\":\"danger\"},on:{\"ok\":_vm.onSubmit}},[_vm._v(\"\\n    \"+_vm._s(_vm.message)+\"\\n    \"),_c('form',{ref:\"form\",staticClass:\"js-requires-input\",attrs:{\"action\":_vm.deleteWikiUrl,\"method\":\"post\"}},[_c('input',{ref:\"method\",attrs:{\"type\":\"hidden\",\"name\":\"_method\",\"value\":\"delete\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"authenticity_token\"},domProps:{\"value\":_vm.csrfToken}})])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import $ from 'jquery';\nimport Vue from 'vue';\nimport Translate from '~/vue_shared/translate';\nimport csrf from '~/lib/utils/csrf';\nimport ShortcutsWiki from '~/behaviors/shortcuts/shortcuts_wiki';\nimport Wikis from './wikis';\nimport ZenMode from '../../../zen_mode';\nimport GLForm from '../../../gl_form';\nimport deleteWikiModal from './components/delete_wiki_modal.vue';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  new Wikis(); // eslint-disable-line no-new\n  new ShortcutsWiki(); // eslint-disable-line no-new\n  new ZenMode(); // eslint-disable-line no-new\n  new GLForm($('.wiki-form')); // eslint-disable-line no-new\n\n  const deleteWikiModalWrapperEl = document.getElementById('delete-wiki-modal-wrapper');\n\n  if (deleteWikiModalWrapperEl) {\n    Vue.use(Translate);\n\n    const { deleteWikiUrl, pageTitle } = deleteWikiModalWrapperEl.dataset;\n\n    // eslint-disable-next-line no-new\n    new Vue({\n      el: deleteWikiModalWrapperEl,\n      data: {\n        deleteWikiUrl: '',\n      },\n      render(createElement) {\n        return createElement(deleteWikiModal, {\n          props: {\n            pageTitle,\n            deleteWikiUrl,\n            csrfToken: csrf.token,\n          },\n        });\n      },\n    });\n  }\n});\n","import Mousetrap from 'mousetrap';\nimport findAndFollowLink from '../../lib/utils/navigation_utility';\nimport Shortcuts from './shortcuts';\n\nexport default class ShortcutsNavigation extends Shortcuts {\n  constructor() {\n    super();\n\n    Mousetrap.bind('g p', () => findAndFollowLink('.shortcuts-project'));\n    Mousetrap.bind('g v', () => findAndFollowLink('.shortcuts-project-activity'));\n    Mousetrap.bind('g r', () => findAndFollowLink('.shortcuts-project-releases'));\n    Mousetrap.bind('g f', () => findAndFollowLink('.shortcuts-tree'));\n    Mousetrap.bind('g c', () => findAndFollowLink('.shortcuts-commits'));\n    Mousetrap.bind('g j', () => findAndFollowLink('.shortcuts-builds'));\n    Mousetrap.bind('g n', () => findAndFollowLink('.shortcuts-network'));\n    Mousetrap.bind('g d', () => findAndFollowLink('.shortcuts-repository-charts'));\n    Mousetrap.bind('g i', () => findAndFollowLink('.shortcuts-issues'));\n    Mousetrap.bind('g b', () => findAndFollowLink('.shortcuts-issue-boards'));\n    Mousetrap.bind('g m', () => findAndFollowLink('.shortcuts-merge_requests'));\n    Mousetrap.bind('g w', () => findAndFollowLink('.shortcuts-wiki'));\n    Mousetrap.bind('g s', () => findAndFollowLink('.shortcuts-snippets'));\n    Mousetrap.bind('g k', () => findAndFollowLink('.shortcuts-kubernetes'));\n    Mousetrap.bind('g e', () => findAndFollowLink('.shortcuts-environments'));\n    Mousetrap.bind('g l', () => findAndFollowLink('.shortcuts-metrics'));\n    Mousetrap.bind('i', () => findAndFollowLink('.shortcuts-new-issue'));\n\n    this.enabledHelp.push('.hidden-shortcut.project');\n  }\n}\n","import $ from 'jquery';\nimport AccessorUtilities from './lib/utils/accessor';\n\nexport default class ProjectSelectComboButton {\n  constructor(select) {\n    this.projectSelectInput = $(select);\n    this.newItemBtn = $('.new-project-item-link');\n    this.resourceType = this.newItemBtn.data('type');\n    this.resourceLabel = this.newItemBtn.data('label');\n    this.formattedText = this.deriveTextVariants();\n    this.groupId = this.projectSelectInput.data('groupId');\n    this.bindEvents();\n    this.initLocalStorage();\n  }\n\n  bindEvents() {\n    this.projectSelectInput\n      .siblings('.new-project-item-select-button')\n      .on('click', e => this.openDropdown(e));\n\n    this.newItemBtn.on('click', e => {\n      if (!this.getProjectFromLocalStorage()) {\n        e.preventDefault();\n        this.openDropdown(e);\n      }\n    });\n\n    this.projectSelectInput.on('change', () => this.selectProject());\n  }\n\n  initLocalStorage() {\n    const localStorageIsSafe = AccessorUtilities.isLocalStorageAccessSafe();\n\n    if (localStorageIsSafe) {\n      this.localStorageKey = [\n        'group',\n        this.groupId,\n        this.formattedText.localStorageItemType,\n        'recent-project',\n      ].join('-');\n      this.setBtnTextFromLocalStorage();\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  openDropdown(event) {\n    $(event.currentTarget)\n      .siblings('.project-item-select')\n      .select2('open');\n  }\n\n  selectProject() {\n    const selectedProjectData = JSON.parse(this.projectSelectInput.val());\n    const projectUrl = `${selectedProjectData.url}/${this.projectSelectInput.data('relativePath')}`;\n    const projectName = selectedProjectData.name;\n\n    const projectMeta = {\n      url: projectUrl,\n      name: projectName,\n    };\n\n    this.setNewItemBtnAttributes(projectMeta);\n    this.setProjectInLocalStorage(projectMeta);\n  }\n\n  setBtnTextFromLocalStorage() {\n    const cachedProjectData = this.getProjectFromLocalStorage();\n\n    this.setNewItemBtnAttributes(cachedProjectData);\n  }\n\n  setNewItemBtnAttributes(project) {\n    if (project) {\n      this.newItemBtn.attr('href', project.url);\n      this.newItemBtn.text(`${this.formattedText.defaultTextPrefix} in ${project.name}`);\n    } else {\n      this.newItemBtn.text(`Select project to create ${this.formattedText.presetTextSuffix}`);\n    }\n  }\n\n  getProjectFromLocalStorage() {\n    const projectString = localStorage.getItem(this.localStorageKey);\n\n    return JSON.parse(projectString);\n  }\n\n  setProjectInLocalStorage(projectMeta) {\n    const projectString = JSON.stringify(projectMeta);\n\n    localStorage.setItem(this.localStorageKey, projectString);\n  }\n\n  deriveTextVariants() {\n    const defaultTextPrefix = this.resourceLabel;\n\n    // the trailing slice call depluralizes each of these strings (e.g. new-issues -> new-issue)\n    const localStorageItemType = `new-${this.resourceType\n      .split('_')\n      .join('-')\n      .slice(0, -1)}`;\n    const presetTextSuffix = this.resourceType\n      .split('_')\n      .join(' ')\n      .slice(0, -1);\n\n    return {\n      localStorageItemType, // new-issue / new-merge-request\n      defaultTextPrefix, // New issue / New merge request\n      presetTextSuffix, // issue / merge request\n    };\n  }\n}\n","/* eslint-disable func-names, no-var, object-shorthand, one-var, no-else-return */\n\nimport $ from 'jquery';\nimport Api from './api';\nimport ProjectSelectComboButton from './project_select_combo_button';\n\nexport default function projectSelect() {\n  $('.ajax-project-select').each(function(i, select) {\n    var placeholder;\n    const simpleFilter = $(select).data('simpleFilter') || false;\n    this.groupId = $(select).data('groupId');\n    this.includeGroups = $(select).data('includeGroups');\n    this.allProjects = $(select).data('allProjects') || false;\n    this.orderBy = $(select).data('orderBy') || 'id';\n    this.withIssuesEnabled = $(select).data('withIssuesEnabled');\n    this.withMergeRequestsEnabled = $(select).data('withMergeRequestsEnabled');\n    this.withShared =\n      $(select).data('withShared') === undefined ? true : $(select).data('withShared');\n    this.includeProjectsInSubgroups = $(select).data('includeProjectsInSubgroups') || false;\n    this.allowClear = $(select).data('allowClear') || false;\n\n    placeholder = 'Search for project';\n    if (this.includeGroups) {\n      placeholder += ' or group';\n    }\n\n    $(select).select2({\n      placeholder: placeholder,\n      minimumInputLength: 0,\n      query: (function(_this) {\n        return function(query) {\n          var finalCallback, projectsCallback;\n          finalCallback = function(projects) {\n            var data;\n            data = {\n              results: projects,\n            };\n            return query.callback(data);\n          };\n          if (_this.includeGroups) {\n            projectsCallback = function(projects) {\n              var groupsCallback;\n              groupsCallback = function(groups) {\n                var data;\n                data = groups.concat(projects);\n                return finalCallback(data);\n              };\n              return Api.groups(query.term, {}, groupsCallback);\n            };\n          } else {\n            projectsCallback = finalCallback;\n          }\n          if (_this.groupId) {\n            return Api.groupProjects(\n              _this.groupId,\n              query.term,\n              {\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                with_shared: _this.withShared,\n                include_subgroups: _this.includeProjectsInSubgroups,\n              },\n              projectsCallback,\n            );\n          } else {\n            return Api.projects(\n              query.term,\n              {\n                order_by: _this.orderBy,\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                membership: !_this.allProjects,\n              },\n              projectsCallback,\n            );\n          }\n        };\n      })(this),\n      id: function(project) {\n        if (simpleFilter) return project.id;\n        return JSON.stringify({\n          name: project.name,\n          url: project.web_url,\n        });\n      },\n      text: function(project) {\n        return project.name_with_namespace || project.name;\n      },\n\n      initSelection: function(el, callback) {\n        return Api.project(el.val()).then(({ data }) => callback(data));\n      },\n\n      allowClear: this.allowClear,\n\n      dropdownCssClass: 'ajax-project-dropdown',\n    });\n    if (simpleFilter) return select;\n    return new ProjectSelectComboButton(select);\n  });\n}\n","/* eslint-disable func-names, no-var, no-return-assign, one-var, object-shorthand, vars-on-top */\n\nimport $ from 'jquery';\nimport Cookies from 'js-cookie';\nimport { __ } from '~/locale';\nimport { visitUrl } from '~/lib/utils/url_utility';\nimport axios from '~/lib/utils/axios_utils';\nimport flash from '~/flash';\nimport projectSelect from '../../project_select';\n\nexport default class Project {\n  constructor() {\n    const $cloneOptions = $('ul.clone-options-dropdown');\n    const $projectCloneField = $('#project_clone');\n    const $cloneBtnLabel = $('.js-git-clone-holder .js-clone-dropdown-label');\n    const mobileCloneField = document.querySelector(\n      '.js-mobile-git-clone .js-clone-dropdown-label',\n    );\n\n    const selectedCloneOption = $cloneBtnLabel.text().trim();\n    if (selectedCloneOption.length > 0) {\n      $(`a:contains('${selectedCloneOption}')`, $cloneOptions).addClass('is-active');\n    }\n\n    $('a', $cloneOptions).on('click', e => {\n      e.preventDefault();\n      const $this = $(e.currentTarget);\n      const url = $this.attr('href');\n      const cloneType = $this.data('cloneType');\n\n      $('.is-active', $cloneOptions).removeClass('is-active');\n      $(`a[data-clone-type=\"${cloneType}\"]`).each(function() {\n        const $el = $(this);\n        const activeText = $el.find('.dropdown-menu-inner-title').text();\n        const $container = $el.closest('.project-clone-holder');\n        const $label = $container.find('.js-clone-dropdown-label');\n\n        $el.toggleClass('is-active');\n        $label.text(activeText);\n      });\n\n      if (mobileCloneField) {\n        mobileCloneField.dataset.clipboardText = url;\n      } else {\n        $projectCloneField.val(url);\n      }\n      $('.js-git-empty .js-clone').text(url);\n    });\n    // Ref switcher\n    Project.initRefSwitcher();\n    $('.project-refs-select').on('change', function() {\n      return $(this)\n        .parents('form')\n        .submit();\n    });\n    $('.hide-no-ssh-message').on('click', function(e) {\n      Cookies.set('hide_no_ssh_message', 'false');\n      $(this)\n        .parents('.no-ssh-key-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-no-password-message').on('click', function(e) {\n      Cookies.set('hide_no_password_message', 'false');\n      $(this)\n        .parents('.no-password-message')\n        .remove();\n      return e.preventDefault();\n    });\n    $('.hide-auto-devops-implicitly-enabled-banner').on('click', function(e) {\n      const projectId = $(this).data('project-id');\n      const cookieKey = `hide_auto_devops_implicitly_enabled_banner_${projectId}`;\n      Cookies.set(cookieKey, 'false');\n      $(this)\n        .parents('.auto-devops-implicitly-enabled-banner')\n        .remove();\n      return e.preventDefault();\n    });\n    Project.projectSelectDropdown();\n  }\n\n  static projectSelectDropdown() {\n    projectSelect();\n    $('.project-item-select').on('click', e => Project.changeProject($(e.currentTarget).val()));\n  }\n\n  static changeProject(url) {\n    return (window.location = url);\n  }\n\n  static initRefSwitcher() {\n    var refListItem = document.createElement('li');\n    var refLink = document.createElement('a');\n\n    refLink.href = '#';\n\n    return $('.js-project-refs-dropdown').each(function() {\n      var $dropdown, selected;\n      $dropdown = $(this);\n      selected = $dropdown.data('selected');\n      return $dropdown.glDropdown({\n        data(term, callback) {\n          axios\n            .get($dropdown.data('refsUrl'), {\n              params: {\n                ref: $dropdown.data('ref'),\n                search: term,\n              },\n            })\n            .then(({ data }) => callback(data))\n            .catch(() => flash(__('An error occurred while getting projects')));\n        },\n        selectable: true,\n        filterable: true,\n        filterRemote: true,\n        filterByText: true,\n        inputFieldName: $dropdown.data('inputFieldName'),\n        fieldName: $dropdown.data('fieldName'),\n        renderRow: function(ref) {\n          var li = refListItem.cloneNode(false);\n\n          if (ref.header != null) {\n            li.className = 'dropdown-header';\n            li.textContent = ref.header;\n          } else {\n            var link = refLink.cloneNode(false);\n\n            if (ref === selected) {\n              link.className = 'is-active';\n            }\n\n            link.textContent = ref;\n            link.dataset.ref = ref;\n\n            li.appendChild(link);\n          }\n\n          return li;\n        },\n        id: function(obj, $el) {\n          return $el.attr('data-ref');\n        },\n        toggleLabel: function(obj, $el) {\n          return $el.text().trim();\n        },\n        clicked: function(options) {\n          const { e } = options;\n          e.preventDefault();\n          if ($('input[name=\"ref\"]').length) {\n            var $form = $dropdown.closest('form');\n\n            var $visit = $dropdown.data('visit');\n            var shouldVisit = $visit ? true : $visit;\n            var action = $form.attr('action');\n            var divider = action.indexOf('?') === -1 ? '?' : '&';\n            if (shouldVisit) {\n              visitUrl(`${action}${divider}${$form.serialize()}`);\n            }\n          }\n        },\n      });\n    });\n  }\n}\n","import initGkeDropdowns from '~/projects/gke_cluster_dropdowns';\nimport PersistentUserCallout from '../../persistent_user_callout';\nimport Project from './project';\nimport ShortcutsNavigation from '../../behaviors/shortcuts/shortcuts_navigation';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const { page } = document.body.dataset;\n  const newClusterViews = [\n    'projects:clusters:new',\n    'projects:clusters:create_gcp',\n    'projects:clusters:create_user',\n  ];\n\n  if (newClusterViews.indexOf(page) > -1) {\n    const callout = document.querySelector('.gcp-signup-offer');\n    if (callout) new PersistentUserCallout(callout); // eslint-disable-line no-new\n\n    initGkeDropdowns();\n  }\n\n  new Project(); // eslint-disable-line no-new\n  new ShortcutsNavigation(); // eslint-disable-line no-new\n});\n","import $ from 'jquery';\nimport Dropzone from 'dropzone';\nimport _ from 'underscore';\nimport './behaviors/preview_markdown';\nimport csrf from './lib/utils/csrf';\nimport axios from './lib/utils/axios_utils';\n\nDropzone.autoDiscover = false;\n\n/**\n * Return the error message string from the given response.\n *\n * @param {String|Object} res\n */\nfunction getErrorMessage(res) {\n  if (!res || _.isString(res)) {\n    return res;\n  }\n\n  return res.message;\n}\n\nexport default function dropzoneInput(form) {\n  const divHover = '<div class=\"div-dropzone-hover\"></div>';\n  const iconPaperclip = '<i class=\"fa fa-paperclip div-dropzone-icon\"></i>';\n  const $attachButton = form.find('.button-attach-file');\n  const $attachingFileMessage = form.find('.attaching-file-message');\n  const $cancelButton = form.find('.button-cancel-uploading-files');\n  const $retryLink = form.find('.retry-uploading-link');\n  const $uploadProgress = form.find('.uploading-progress');\n  const $uploadingErrorContainer = form.find('.uploading-error-container');\n  const $uploadingErrorMessage = form.find('.uploading-error-message');\n  const $uploadingProgressContainer = form.find('.uploading-progress-container');\n  const uploadsPath = form.data('uploads-path') || window.uploads_path || null;\n  const maxFileSize = gon.max_file_size || 10;\n  const formTextarea = form.find('.js-gfm-input');\n  let handlePaste;\n  let pasteText;\n  let addFileToForm;\n  let updateAttachingMessage;\n  let isImage;\n  let getFilename;\n  let uploadFile;\n\n  formTextarea.wrap('<div class=\"div-dropzone\"></div>');\n  formTextarea.on('paste', event => handlePaste(event));\n\n  // Add dropzone area to the form.\n  const $mdArea = formTextarea.closest('.md-area');\n  form.setupMarkdownPreview();\n  const $formDropzone = form.find('.div-dropzone');\n  $formDropzone.parent().addClass('div-dropzone-wrapper');\n  $formDropzone.append(divHover);\n  $formDropzone.find('.div-dropzone-hover').append(iconPaperclip);\n\n  if (!uploadsPath) {\n    $formDropzone.addClass('js-invalid-dropzone');\n    return null;\n  }\n\n  const dropzone = $formDropzone.dropzone({\n    url: uploadsPath,\n    dictDefaultMessage: '',\n    clickable: true,\n    paramName: 'file',\n    maxFilesize: maxFileSize,\n    uploadMultiple: false,\n    headers: csrf.headers,\n    previewContainer: false,\n    processing: () => $('.div-dropzone-alert').alert('close'),\n    dragover: () => {\n      $mdArea.addClass('is-dropzone-hover');\n      form.find('.div-dropzone-hover').css('opacity', 0.7);\n    },\n    dragleave: () => {\n      $mdArea.removeClass('is-dropzone-hover');\n      form.find('.div-dropzone-hover').css('opacity', 0);\n    },\n    drop: () => {\n      $mdArea.removeClass('is-dropzone-hover');\n      form.find('.div-dropzone-hover').css('opacity', 0);\n      formTextarea.focus();\n    },\n    success(header, response) {\n      const processingFileCount = this.getQueuedFiles().length + this.getUploadingFiles().length;\n      const shouldPad = processingFileCount >= 1;\n\n      pasteText(response.link.markdown, shouldPad);\n      // Show 'Attach a file' link only when all files have been uploaded.\n      if (!processingFileCount) $attachButton.removeClass('hide');\n      addFileToForm(response.link.url);\n    },\n    error: (file, errorMessage = 'Attaching the file failed.', xhr) => {\n      // If 'error' event is fired by dropzone, the second parameter is error message.\n      // If the 'errorMessage' parameter is empty, the default error message is set.\n      // If the 'error' event is fired by backend (xhr) error response, the third parameter is\n      // xhr object (xhr.responseText is error message).\n      // On error we hide the 'Attach' and 'Cancel' buttons\n      // and show an error.\n      const message = getErrorMessage(errorMessage || xhr.responseText);\n\n      $uploadingErrorContainer.removeClass('hide');\n      $uploadingErrorMessage.html(message);\n      $attachButton.addClass('hide');\n      $cancelButton.addClass('hide');\n    },\n    totaluploadprogress(totalUploadProgress) {\n      updateAttachingMessage(this.files, $attachingFileMessage);\n      $uploadProgress.text(`${Math.round(totalUploadProgress)}%`);\n    },\n    sending: () => {\n      // DOM elements already exist.\n      // Instead of dynamically generating them,\n      // we just either hide or show them.\n      $attachButton.addClass('hide');\n      $uploadingErrorContainer.addClass('hide');\n      $uploadingProgressContainer.removeClass('hide');\n      $cancelButton.removeClass('hide');\n    },\n    removedfile: () => {\n      $attachButton.removeClass('hide');\n      $cancelButton.addClass('hide');\n      $uploadingProgressContainer.addClass('hide');\n      $uploadingErrorContainer.addClass('hide');\n    },\n    queuecomplete: () => {\n      $('.dz-preview').remove();\n      $('.markdown-area').trigger('input');\n\n      $uploadingProgressContainer.addClass('hide');\n      $cancelButton.addClass('hide');\n    },\n  });\n\n  const child = $(dropzone[0]).children('textarea');\n\n  // removeAllFiles(true) stops uploading files (if any)\n  // and remove them from dropzone files queue.\n  $cancelButton.on('click', e => {\n    e.preventDefault();\n    e.stopPropagation();\n    Dropzone.forElement($formDropzone.get(0)).removeAllFiles(true);\n  });\n\n  // If 'error' event is fired, we store a failed files,\n  // clear dropzone files queue, change status of failed files to undefined,\n  // and add that files to the dropzone files queue again.\n  // addFile() adds file to dropzone files queue and upload it.\n  $retryLink.on('click', e => {\n    const dropzoneInstance = Dropzone.forElement(\n      e.target.closest('.js-main-target-form').querySelector('.div-dropzone'),\n    );\n    const failedFiles = dropzoneInstance.files;\n\n    e.preventDefault();\n\n    // 'true' parameter of removeAllFiles() cancels\n    // uploading of files that are being uploaded at the moment.\n    dropzoneInstance.removeAllFiles(true);\n\n    failedFiles.map(failedFile => {\n      const file = failedFile;\n\n      if (file.status === Dropzone.ERROR) {\n        file.status = undefined;\n        file.accepted = undefined;\n      }\n\n      return dropzoneInstance.addFile(file);\n    });\n  });\n  // eslint-disable-next-line consistent-return\n  handlePaste = event => {\n    const pasteEvent = event.originalEvent;\n    if (pasteEvent.clipboardData && pasteEvent.clipboardData.items) {\n      const image = isImage(pasteEvent);\n      if (image) {\n        event.preventDefault();\n        const filename = getFilename(pasteEvent) || 'image.png';\n        const text = `{{${filename}}}`;\n        pasteText(text);\n        return uploadFile(image.getAsFile(), filename);\n      }\n    }\n  };\n\n  isImage = data => {\n    let i = 0;\n    while (i < data.clipboardData.items.length) {\n      const item = data.clipboardData.items[i];\n      if (item.type.indexOf('image') !== -1) {\n        return item;\n      }\n      i += 1;\n    }\n    return false;\n  };\n\n  pasteText = (text, shouldPad) => {\n    let formattedText = text;\n    if (shouldPad) {\n      formattedText += '\\n\\n';\n    }\n    const textarea = child.get(0);\n    const caretStart = textarea.selectionStart;\n    const caretEnd = textarea.selectionEnd;\n    const textEnd = $(child).val().length;\n    const beforeSelection = $(child)\n      .val()\n      .substring(0, caretStart);\n    const afterSelection = $(child)\n      .val()\n      .substring(caretEnd, textEnd);\n    $(child).val(beforeSelection + formattedText + afterSelection);\n    textarea.setSelectionRange(caretStart + formattedText.length, caretEnd + formattedText.length);\n    textarea.style.height = `${textarea.scrollHeight}px`;\n    formTextarea.get(0).dispatchEvent(new Event('input'));\n    return formTextarea.trigger('input');\n  };\n\n  addFileToForm = path => {\n    $(form).append(`<input type=\"hidden\" name=\"files[]\" value=\"${_.escape(path)}\">`);\n  };\n\n  getFilename = e => {\n    let value;\n    if (window.clipboardData && window.clipboardData.getData) {\n      value = window.clipboardData.getData('Text');\n    } else if (e.clipboardData && e.clipboardData.getData) {\n      value = e.clipboardData.getData('text/plain');\n    }\n    value = value.split('\\r');\n    return value[0];\n  };\n\n  const showSpinner = () => $uploadingProgressContainer.removeClass('hide');\n\n  const closeSpinner = () => $uploadingProgressContainer.addClass('hide');\n\n  const showError = message => {\n    $uploadingErrorContainer.removeClass('hide');\n    $uploadingErrorMessage.html(message);\n  };\n\n  const closeAlertMessage = () => form.find('.div-dropzone-alert').alert('close');\n\n  const insertToTextArea = (filename, url) => {\n    const $child = $(child);\n    $child.val((index, val) => val.replace(`{{${filename}}}`, url));\n\n    $child.trigger('change');\n  };\n\n  uploadFile = (item, filename) => {\n    const formData = new FormData();\n    formData.append('file', item, filename);\n\n    showSpinner();\n    closeAlertMessage();\n\n    axios\n      .post(uploadsPath, formData)\n      .then(({ data }) => {\n        const md = data.link.markdown;\n\n        insertToTextArea(filename, md);\n        closeSpinner();\n      })\n      .catch(e => {\n        showError(e.response.data.message);\n        closeSpinner();\n      });\n  };\n\n  updateAttachingMessage = (files, messageContainer) => {\n    let attachingMessage;\n    const filesCount = files.filter(file => file.status === 'uploading' || file.status === 'queued')\n      .length;\n\n    // Dinamycally change uploading files text depending on files number in\n    // dropzone files queue.\n    if (filesCount > 1) {\n      attachingMessage = `Attaching ${filesCount} files -`;\n    } else {\n      attachingMessage = 'Attaching a file -';\n    }\n\n    messageContainer.text(attachingMessage);\n  };\n\n  form.find('.markdown-selector').click(function onMarkdownClick(e) {\n    e.preventDefault();\n    $(this)\n      .closest('.gfm-form')\n      .find('.div-dropzone')\n      .click();\n    formTextarea.focus();\n  });\n\n  return Dropzone.forElement($formDropzone.get(0));\n}\n","import $ from 'jquery';\nimport autosize from 'autosize';\nimport GfmAutoComplete, * as GFMConfig from './gfm_auto_complete';\nimport dropzoneInput from './dropzone_input';\nimport { addMarkdownListeners, removeMarkdownListeners } from './lib/utils/text_markdown';\n\nexport default class GLForm {\n  constructor(form, enableGFM = {}) {\n    this.form = form;\n    this.textarea = this.form.find('textarea.js-gfm-input');\n    this.enableGFM = Object.assign({}, GFMConfig.defaultAutocompleteConfig, enableGFM);\n    // Disable autocomplete for keywords which do not have dataSources available\n    const dataSources = (gl.GfmAutoComplete && gl.GfmAutoComplete.dataSources) || {};\n    Object.keys(this.enableGFM).forEach(item => {\n      if (item !== 'emojis') {\n        this.enableGFM[item] = !!dataSources[item];\n      }\n    });\n    // Before we start, we should clean up any previous data for this form\n    this.destroy();\n    // Set up the form\n    this.setupForm();\n    this.form.data('glForm', this);\n  }\n\n  destroy() {\n    // Clean form listeners\n    this.clearEventListeners();\n    if (this.autoComplete) {\n      this.autoComplete.destroy();\n    }\n    this.form.data('glForm', null);\n  }\n\n  setupForm() {\n    const isNewForm = this.form.is(':not(.gfm-form)');\n    this.form.removeClass('js-new-note-form');\n    if (isNewForm) {\n      this.form.find('.div-dropzone').remove();\n      this.form.addClass('gfm-form');\n      // remove notify commit author checkbox for non-commit notes\n      gl.utils.disableButtonIfEmptyField(\n        this.form.find('.js-note-text'),\n        this.form.find('.js-comment-button, .js-note-new-discussion'),\n      );\n      this.autoComplete = new GfmAutoComplete(gl.GfmAutoComplete && gl.GfmAutoComplete.dataSources);\n      this.autoComplete.setup(this.form.find('.js-gfm-input'), this.enableGFM);\n      dropzoneInput(this.form);\n      autosize(this.textarea);\n    }\n    // form and textarea event listeners\n    this.addEventListeners();\n    addMarkdownListeners(this.form);\n    this.form.show();\n    if (this.isAutosizeable) this.setupAutosize();\n  }\n\n  setupAutosize() {\n    this.textarea.off('autosize:resized').on('autosize:resized', this.setHeightData.bind(this));\n\n    this.textarea.off('mouseup.autosize').on('mouseup.autosize', this.destroyAutosize.bind(this));\n\n    setTimeout(() => {\n      autosize(this.textarea);\n      this.textarea.css('resize', 'vertical');\n    }, 0);\n  }\n\n  setHeightData() {\n    this.textarea.data('height', this.textarea.outerHeight());\n  }\n\n  destroyAutosize() {\n    const outerHeight = this.textarea.outerHeight();\n\n    if (this.textarea.data('height') === outerHeight) return;\n\n    autosize.destroy(this.textarea);\n\n    this.textarea.data('height', outerHeight);\n    this.textarea.outerHeight(outerHeight);\n    this.textarea.css('max-height', window.outerHeight);\n  }\n\n  clearEventListeners() {\n    this.textarea.off('focus');\n    this.textarea.off('blur');\n    removeMarkdownListeners(this.form);\n  }\n\n  addEventListeners() {\n    this.textarea.on('focus', function focusTextArea() {\n      $(this)\n        .closest('.md-area')\n        .addClass('is-focused');\n    });\n    this.textarea.on('blur', function blurTextArea() {\n      $(this)\n        .closest('.md-area')\n        .removeClass('is-focused');\n    });\n  }\n}\n","/* eslint-disable func-names, prefer-arrow-callback, no-unused-vars, consistent-return, camelcase, class-methods-use-this */\n\n// Zen Mode (full screen) textarea\n//\n/*= provides zen_mode:enter */\n/*= provides zen_mode:leave */\n\nimport $ from 'jquery';\nimport 'vendor/jquery.scrollTo';\nimport Dropzone from 'dropzone';\nimport Mousetrap from 'mousetrap';\nimport 'mousetrap/plugins/pause/mousetrap-pause';\n\nDropzone.autoDiscover = false;\n\n//\n// ### Events\n//\n// `zen_mode:enter`\n//\n// Fired when the \"Edit in fullscreen\" link is clicked.\n//\n// **Synchronicity** Sync\n// **Bubbles** Yes\n// **Cancelable** No\n// **Target** a.js-zen-enter\n//\n// `zen_mode:leave`\n//\n// Fired when the \"Leave Fullscreen\" link is clicked.\n//\n// **Synchronicity** Sync\n// **Bubbles** Yes\n// **Cancelable** No\n// **Target** a.js-zen-leave\n//\n\nexport default class ZenMode {\n  constructor() {\n    this.active_backdrop = null;\n    this.active_textarea = null;\n    $(document).on('click', '.js-zen-enter', function(e) {\n      e.preventDefault();\n      return $(e.currentTarget).trigger('zen_mode:enter');\n    });\n    $(document).on('click', '.js-zen-leave', function(e) {\n      e.preventDefault();\n      return $(e.currentTarget).trigger('zen_mode:leave');\n    });\n    $(document).on(\n      'zen_mode:enter',\n      (function(_this) {\n        return function(e) {\n          return _this.enter(\n            $(e.target)\n              .closest('.md-area')\n              .find('.zen-backdrop'),\n          );\n        };\n      })(this),\n    );\n    $(document).on(\n      'zen_mode:leave',\n      (function(_this) {\n        return function(e) {\n          return _this.exit();\n        };\n      })(this),\n    );\n    $(document).on('keydown', function(e) {\n      // Esc\n      if (e.keyCode === 27) {\n        e.preventDefault();\n        return $(document).trigger('zen_mode:leave');\n      }\n    });\n  }\n\n  enter(backdrop) {\n    Mousetrap.pause();\n    this.active_backdrop = $(backdrop);\n    this.active_backdrop.addClass('fullscreen');\n    this.active_textarea = this.active_backdrop.find('textarea');\n    // Prevent a user-resized textarea from persisting to fullscreen\n    this.active_textarea.removeAttr('style');\n    this.active_textarea.focus();\n  }\n\n  exit() {\n    if (this.active_textarea) {\n      Mousetrap.unpause();\n      this.active_textarea.closest('.zen-backdrop').removeClass('fullscreen');\n      this.scrollTo(this.active_textarea);\n      this.active_textarea = null;\n      this.active_backdrop = null;\n\n      const $dropzone = $('.div-dropzone');\n      if ($dropzone && !$dropzone.hasClass('js-invalid-dropzone')) {\n        Dropzone.forElement('.div-dropzone').enable();\n      }\n    }\n  }\n\n  scrollTo(zen_area) {\n    return $.scrollTo(zen_area, 0, {\n      offset: -150,\n    });\n  }\n}\n"],"sourceRoot":""}