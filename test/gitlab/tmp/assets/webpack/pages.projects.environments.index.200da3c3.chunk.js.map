{"version":3,"sources":["webpack:///./environments/components/empty_state.vue?7a60","webpack:///environments/components/empty_state.vue","webpack:///./environments/components/empty_state.vue","webpack:///./environments/components/empty_state.vue?18cd","webpack:///./environments/components/environments_app.vue?65ec","webpack:///environments/components/environments_app.vue","webpack:///./environments/components/environments_app.vue","webpack:///./environments/components/environments_app.vue?a5f1","webpack:///./environments/index.js","webpack:///./pages/projects/environments/index/index.js"],"names":["components_empty_statevue_type_script_lang_js_","name","props","newPath","type","String","required","canCreateEnvironment","Boolean","helpPath","component","Object","componentNormalizer","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","s__","attrs","href","_e","options","__file","empty_state","components_environments_appvue_type_script_lang_js_","components","emptyState","StopEnvironmentModal","mixins","ci_pagination_api_mixin","environments_mixin","endpoint","canCreateDeployment","canReadEnvironment","cssContainerClass","newEnvironmentPath","helpPagePath","created","event_hub","$on","toggleFolder","beforeDestroy","$off","methods","folder","store","isOpen","fetchChildEnvironments","_this","showLoader","arguments","length","undefined","updateEnvironmentProp","service","getFolderContent","folder_path","then","response","setfolderContent","data","environments","catch","flash","locale","successCallback","resp","_this2","saveData","openFolders","getOpenFolders","forEach","environments_app_component","class","environment","environmentInStopModal","tabs","scope","on","onChangeTab","isLoading","is-loading","state","pagination","paginationInformation","can-create-deployment","can-read-environment","onChangePage","slot","new-path","help-path","can-create-environment","environments_app","Vue","use","Translate","document","addEventListener","el","environmentsComponent","environmentsData","querySelector","$options","dataset","environmentsDataEndpoint","cssClass","parseBoolean","render","createElement"],"mappings":"8KAAqNA,GCErNC,KAAA,yBACAC,OACAC,SACAC,KAAAC,OACAC,UAAA,GAEAC,sBACAH,KAAAI,QACAF,UAAA,GAEAG,UACAL,KAAAC,OACAC,UAAA,YCPAI,EAAgBC,OAAAC,EAAA,EAAAD,CACdX,ECRQ,WAAgB,IAAAa,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,gBAA0BF,EAAA,OAAYE,YAAA,iBAA2BF,EAAA,MAAWE,YAAA,2CAAqDN,EAAAO,GAAA,WAAAP,EAAAQ,GAAAR,EAAAS,IAAA,uEAAAT,EAAAO,GAAA,KAAAH,EAAA,KAA8HE,YAAA,qBAA+BN,EAAAO,GAAA,WAAAP,EAAAQ,GAAAR,EAAAS,IAAA,qHAAAL,EAAA,KAAgKM,OAAOC,KAAAX,EAAAJ,YAAqBI,EAAAO,GAAA,IAAAP,EAAAQ,GAAAR,EAAAS,IAAA,uDAAAT,EAAAO,GAAA,KAAAH,EAAA,OAAyGE,YAAA,gBAA0BN,EAAA,qBAAAI,EAAA,KAAqCE,YAAA,4CAAAI,OAA+DC,KAAAX,EAAAV,WAAoBU,EAAAO,GAAA,aAAAP,EAAAQ,GAAAR,EAAAS,IAAA,+CAAAT,EAAAY,gBDW/zB,EACA,KACA,KACA,MAIAf,EAAAgB,QAAAC,OAAA,kBACe,IAAAC,EAAAlB,qCEnB2MmB,GCU1NC,YACAC,WAAAH,EACAI,4BAAA,GAGAC,QAAAC,EAAA,EAAAC,EAAA,GAEAjC,OACAkC,UACAhC,KAAAC,OACAC,UAAA,GAEAC,sBACAH,KAAAI,QACAF,UAAA,GAEA+B,qBACAjC,KAAAI,QACAF,UAAA,GAEAgC,oBACAlC,KAAAI,QACAF,UAAA,GAEAiC,mBACAnC,KAAAC,OACAC,UAAA,GAEAkC,oBACApC,KAAAC,OACAC,UAAA,GAEAmC,cACArC,KAAAC,OACAC,UAAA,IAIAoC,QAvCA,WAwCAC,EAAA,EAAAC,IAAA,eAAA9B,KAAA+B,eAGAC,cA3CA,WA4CAH,EAAA,EAAAI,KAAA,iBAGAC,SACAH,aADA,SACAI,GACAnC,KAAAoC,MAAAL,aAAAI,GAEAA,EAAAE,QACArC,KAAAsC,uBAAAH,GAAA,IAIAG,uBATA,SASAH,GAAA,IAAAI,EAAAvC,KAAAwC,EAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACAzC,KAAAoC,MAAAQ,sBAAAT,EAAA,yBAAAK,GAEAxC,KAAA6C,QACAC,iBAAAX,EAAAY,aACAC,KAAA,SAAAC,GAAA,OAAAV,EAAAH,MAAAc,iBAAAf,EAAAc,EAAAE,KAAAC,gBACAJ,KAAA,kBAAAT,EAAAH,MAAAQ,sBAAAT,EAAA,+BACAkB,MAAA,WACAxD,OAAAyD,EAAA,EAAAzD,QAAA0D,EAAA,EAAA1D,CAAA,oEACA0C,EAAAH,MAAAQ,sBAAAT,EAAA,gCAIAqB,gBAtBA,SAsBAC,GAAA,IAAAC,EAAA1D,KACAA,KAAA2D,SAAAF,GAGA,IAAAG,EAAA5D,KAAAoC,MAAAyB,iBACAD,EAAAlB,QACAkB,EAAAE,QAAA,SAAA3B,GAAA,OAAAuB,EAAApB,uBAAAH,QC7EI4B,EAAYlE,OAAAC,EAAA,EAAAD,CACdkB,ECRF,WAA0B,IAAAhB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiB6D,MAAAjE,EAAA0B,oBAA4BtB,EAAA,0BAA+BM,OAAOwD,YAAAlE,EAAAmE,0BAA0CnE,EAAAO,GAAA,KAAAH,EAAA,OAAwBE,YAAA,aAAuBF,EAAA,QAAaM,OAAO0D,KAAApE,EAAAoE,KAAAC,MAAA,gBAAuCC,IAAKC,YAAAvE,EAAAuE,eAA+BvE,EAAAO,GAAA,KAAAP,EAAAN,uBAAAM,EAAAwE,UAAApE,EAAA,OAAqEE,YAAA,iBAA2BF,EAAA,KAAUE,YAAA,kBAAAI,OAAqCC,KAAAX,EAAA2B,sBAA+B3B,EAAAO,GAAA,aAAAP,EAAAQ,GAAAR,EAAAS,IAAA,iDAAAT,EAAAY,MAAA,GAAAZ,EAAAO,GAAA,KAAAH,EAAA,aAA+HM,OAAO+D,aAAAzE,EAAAwE,UAAAnB,aAAArD,EAAA0E,MAAArB,aAAAsB,WAAA3E,EAAA0E,MAAAE,sBAAAC,wBAAA7E,EAAAwB,oBAAAsD,uBAAA9E,EAAAyB,oBAA4M6C,IAAKS,aAAA/E,EAAA+E,gBAAiC/E,EAAAwE,WAAA,IAAAxE,EAAA0E,MAAArB,aAAAV,OAA2O3C,EAAAY,KAA3OR,EAAA,eAA4EM,OAAOsE,KAAA,aAAAC,WAAAjF,EAAA2B,mBAAAuD,YAAAlF,EAAA4B,aAAAuD,yBAAAnF,EAAAN,sBAAqIsF,KAAA,gBAAmB,YDWrnC,EACA,KACA,KACA,MAIAhB,EAASnD,QAAAC,OAAA,uBACM,IAAAsE,EAAApB,0BEdfqB,UAAIC,IAAIC,KCHRC,SAASC,iBAAiB,mBDKX,kBACb,IAAIJ,WACFK,GAAI,0BACJzE,YACE0E,yBAEFvC,KALM,WAMJ,IAAMwC,EAAmBJ,SAASK,cAAc5F,KAAK6F,SAASJ,IAAIK,QAElE,OACExE,SAAUqE,EAAiBI,yBAC3BrE,mBAAoBiE,EAAiBjE,mBACrCC,aAAcgE,EAAiBhE,aAC/BF,kBAAmBkE,EAAiBK,SACpCvG,qBAAsBwG,YAAaN,EAAiBlG,sBACpD8B,oBAAqB0E,YAAaN,EAAiBpE,qBACnDC,mBAAoByE,YAAaN,EAAiBnE,sBAGtD0E,OAlBM,SAkBCC,GACL,OAAOA,EAAc,0BACnB/G,OACEkC,SAAUtB,KAAKsB,SACfI,mBAAoB1B,KAAK0B,mBACzBC,aAAc3B,KAAK2B,aACnBF,kBAAmBzB,KAAKyB,kBACxBhC,qBAAsBO,KAAKP,qBAC3B8B,oBAAqBvB,KAAKuB,oBAC1BC,mBAAoBxB,KAAKwB","file":"pages.projects.environments.index.200da3c3.chunk.js","sourcesContent":["import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./empty_state.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./empty_state.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  name: 'EnvironmentsEmptyState',\n  props: {\n    newPath: {\n      type: String,\n      required: true,\n    },\n    canCreateEnvironment: {\n      type: Boolean,\n      required: true,\n    },\n    helpPath: {\n      type: String,\n      required: true,\n    },\n  },\n};\n</script>\n<template>\n  <div class=\"empty-state\">\n    <div class=\"text-content\">\n      <h4 class=\"blank-state-title js-blank-state-title\">\n        {{ s__(\"Environments|You don't have any environments right now\") }}\n      </h4>\n      <p class=\"blank-state-text\">\n        {{\n          s__(`Environments|Environments are places where\n        code gets deployed, such as staging or production.`)\n        }}\n        <a :href=\"helpPath\"> {{ s__('Environments|Read more about environments') }} </a>\n      </p>\n\n      <div class=\"text-center\">\n        <a\n          v-if=\"canCreateEnvironment\"\n          :href=\"newPath\"\n          class=\"btn btn-success js-new-environment-button\"\n        >\n          {{ s__('Environments|New environment') }}\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./empty_state.vue?vue&type=template&id=08c722c4&\"\nimport script from \"./empty_state.vue?vue&type=script&lang=js&\"\nexport * from \"./empty_state.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"empty_state.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"empty-state\"},[_c('div',{staticClass:\"text-content\"},[_c('h4',{staticClass:\"blank-state-title js-blank-state-title\"},[_vm._v(\"\\n      \"+_vm._s(_vm.s__(\"Environments|You don't have any environments right now\"))+\"\\n    \")]),_vm._v(\" \"),_c('p',{staticClass:\"blank-state-text\"},[_vm._v(\"\\n      \"+_vm._s(_vm.s__(\"Environments|Environments are places where\\n      code gets deployed, such as staging or production.\"))+\"\\n      \"),_c('a',{attrs:{\"href\":_vm.helpPath}},[_vm._v(\" \"+_vm._s(_vm.s__('Environments|Read more about environments'))+\" \")])]),_vm._v(\" \"),_c('div',{staticClass:\"text-center\"},[(_vm.canCreateEnvironment)?_c('a',{staticClass:\"btn btn-success js-new-environment-button\",attrs:{\"href\":_vm.newPath}},[_vm._v(\"\\n        \"+_vm._s(_vm.s__('Environments|New environment'))+\"\\n      \")]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./environments_app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./environments_app.vue?vue&type=script&lang=js&\"","<script>\nimport Flash from '../../flash';\nimport { s__ } from '../../locale';\nimport emptyState from './empty_state.vue';\nimport eventHub from '../event_hub';\nimport environmentsMixin from '../mixins/environments_mixin';\nimport CIPaginationMixin from '../../vue_shared/mixins/ci_pagination_api_mixin';\nimport StopEnvironmentModal from './stop_environment_modal.vue';\n\nexport default {\n  components: {\n    emptyState,\n    StopEnvironmentModal,\n  },\n\n  mixins: [CIPaginationMixin, environmentsMixin],\n\n  props: {\n    endpoint: {\n      type: String,\n      required: true,\n    },\n    canCreateEnvironment: {\n      type: Boolean,\n      required: true,\n    },\n    canCreateDeployment: {\n      type: Boolean,\n      required: true,\n    },\n    canReadEnvironment: {\n      type: Boolean,\n      required: true,\n    },\n    cssContainerClass: {\n      type: String,\n      required: true,\n    },\n    newEnvironmentPath: {\n      type: String,\n      required: true,\n    },\n    helpPagePath: {\n      type: String,\n      required: true,\n    },\n  },\n\n  created() {\n    eventHub.$on('toggleFolder', this.toggleFolder);\n  },\n\n  beforeDestroy() {\n    eventHub.$off('toggleFolder');\n  },\n\n  methods: {\n    toggleFolder(folder) {\n      this.store.toggleFolder(folder);\n\n      if (!folder.isOpen) {\n        this.fetchChildEnvironments(folder, true);\n      }\n    },\n\n    fetchChildEnvironments(folder, showLoader = false) {\n      this.store.updateEnvironmentProp(folder, 'isLoadingFolderContent', showLoader);\n\n      this.service\n        .getFolderContent(folder.folder_path)\n        .then(response => this.store.setfolderContent(folder, response.data.environments))\n        .then(() => this.store.updateEnvironmentProp(folder, 'isLoadingFolderContent', false))\n        .catch(() => {\n          Flash(s__('Environments|An error occurred while fetching the environments.'));\n          this.store.updateEnvironmentProp(folder, 'isLoadingFolderContent', false);\n        });\n    },\n\n    successCallback(resp) {\n      this.saveData(resp);\n\n      // We need to verify if any folder is open to also update it\n      const openFolders = this.store.getOpenFolders();\n      if (openFolders.length) {\n        openFolders.forEach(folder => this.fetchChildEnvironments(folder));\n      }\n    },\n  },\n};\n</script>\n<template>\n  <div :class=\"cssContainerClass\">\n    <stop-environment-modal :environment=\"environmentInStopModal\" />\n\n    <div class=\"top-area\">\n      <tabs :tabs=\"tabs\" scope=\"environments\" @onChangeTab=\"onChangeTab\" />\n\n      <div v-if=\"canCreateEnvironment && !isLoading\" class=\"nav-controls\">\n        <a :href=\"newEnvironmentPath\" class=\"btn btn-success\">\n          {{ s__('Environments|New environment') }}\n        </a>\n      </div>\n    </div>\n\n    <container\n      :is-loading=\"isLoading\"\n      :environments=\"state.environments\"\n      :pagination=\"state.paginationInformation\"\n      :can-create-deployment=\"canCreateDeployment\"\n      :can-read-environment=\"canReadEnvironment\"\n      @onChangePage=\"onChangePage\"\n    >\n      <empty-state\n        v-if=\"!isLoading && state.environments.length === 0\"\n        slot=\"emptyState\"\n        :new-path=\"newEnvironmentPath\"\n        :help-path=\"helpPagePath\"\n        :can-create-environment=\"canCreateEnvironment\"\n      />\n    </container>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./environments_app.vue?vue&type=template&id=34b1c0ec&\"\nimport script from \"./environments_app.vue?vue&type=script&lang=js&\"\nexport * from \"./environments_app.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"environments_app.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.cssContainerClass},[_c('stop-environment-modal',{attrs:{\"environment\":_vm.environmentInStopModal}}),_vm._v(\" \"),_c('div',{staticClass:\"top-area\"},[_c('tabs',{attrs:{\"tabs\":_vm.tabs,\"scope\":\"environments\"},on:{\"onChangeTab\":_vm.onChangeTab}}),_vm._v(\" \"),(_vm.canCreateEnvironment && !_vm.isLoading)?_c('div',{staticClass:\"nav-controls\"},[_c('a',{staticClass:\"btn btn-success\",attrs:{\"href\":_vm.newEnvironmentPath}},[_vm._v(\"\\n        \"+_vm._s(_vm.s__('Environments|New environment'))+\"\\n      \")])]):_vm._e()],1),_vm._v(\" \"),_c('container',{attrs:{\"is-loading\":_vm.isLoading,\"environments\":_vm.state.environments,\"pagination\":_vm.state.paginationInformation,\"can-create-deployment\":_vm.canCreateDeployment,\"can-read-environment\":_vm.canReadEnvironment},on:{\"onChangePage\":_vm.onChangePage}},[(!_vm.isLoading && _vm.state.environments.length === 0)?_c('empty-state',{attrs:{\"slot\":\"emptyState\",\"new-path\":_vm.newEnvironmentPath,\"help-path\":_vm.helpPagePath,\"can-create-environment\":_vm.canCreateEnvironment},slot:\"emptyState\"}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport environmentsComponent from './components/environments_app.vue';\nimport { parseBoolean } from '../lib/utils/common_utils';\nimport Translate from '../vue_shared/translate';\n\nVue.use(Translate);\n\nexport default () =>\n  new Vue({\n    el: '#environments-list-view',\n    components: {\n      environmentsComponent,\n    },\n    data() {\n      const environmentsData = document.querySelector(this.$options.el).dataset;\n\n      return {\n        endpoint: environmentsData.environmentsDataEndpoint,\n        newEnvironmentPath: environmentsData.newEnvironmentPath,\n        helpPagePath: environmentsData.helpPagePath,\n        cssContainerClass: environmentsData.cssClass,\n        canCreateEnvironment: parseBoolean(environmentsData.canCreateEnvironment),\n        canCreateDeployment: parseBoolean(environmentsData.canCreateDeployment),\n        canReadEnvironment: parseBoolean(environmentsData.canReadEnvironment),\n      };\n    },\n    render(createElement) {\n      return createElement('environments-component', {\n        props: {\n          endpoint: this.endpoint,\n          newEnvironmentPath: this.newEnvironmentPath,\n          helpPagePath: this.helpPagePath,\n          cssContainerClass: this.cssContainerClass,\n          canCreateEnvironment: this.canCreateEnvironment,\n          canCreateDeployment: this.canCreateDeployment,\n          canReadEnvironment: this.canReadEnvironment,\n        },\n      });\n    },\n  });\n","import initEnviroments from '~/environments/';\n\ndocument.addEventListener('DOMContentLoaded', initEnviroments);\n"],"sourceRoot":""}