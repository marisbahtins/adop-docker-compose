{"version":3,"sources":["webpack:///./pages/groups/index.js","webpack:///./groups/transfer_dropdown.js","webpack:///./dirty_submit/dirty_submit_form.js","webpack:///./dirty_submit/dirty_submit_collection.js","webpack:///./pages/groups/edit/index.js","webpack:///./dirty_submit/dirty_submit_factory.js","webpack:///./settings_panels.js","webpack:///./project_select_combo_button.js","webpack:///./project_select.js","webpack:///./group_avatar.js","webpack:///./confirm_danger_modal.js","webpack:///./groups_select.js"],"names":["__webpack_require__","r","__webpack_exports__","_persistent_user_callout__WEBPACK_IMPORTED_MODULE_0__","_projects_gke_cluster_dropdowns__WEBPACK_IMPORTED_MODULE_1__","document","addEventListener","callout","page","body","dataset","indexOf","querySelector","PersistentUserCallout","initGkeDropdowns","TransferDropdown","_classCallCheck","this","groupDropdown","$","parentInput","data","init","buildDropdown","_this","glDropdown","selectable","filterable","toggleLabel","item","text","search","fields","id","concat","clicked","options","e","preventDefault","assignSelected","selectedObj","selected","val","DirtySubmitForm","form","dirty_submit_form_classCallCheck","dirtyInputs","isDisabled","element","isDirtySubmitInput","dirtySubmitOriginalValue","inputCurrentValue","input","type","isInputCheckable","checked","toString","value","inputs","querySelectorAll","submits","forEach","initInput","toggleSubmission","registerListeners","throttledUpdateDirtyInput","_","throttle","event","updateDirtyInput","THROTTLE_DURATION","formSubmit","target","updateDirtyInputs","name","isDirty","indexOfInputName","isExisting","push","splice","_this2","length","disabled","stopImmediatePropagation","DirtySubmitCollection","forms","dirty_submit_collection_classCallCheck","dirtySubmits","formOrForms","groupAvatar","initConfirmDangerModal","initSettingsPanels","NodeList","Array","mountBadgeSettings","GROUP_BADGE","groupsSelect","projectSelect","d","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","n","_locale__WEBPACK_IMPORTED_MODULE_1__","expandSection","$section","find","__","off","scrollTop","addClass","hasClass","one","removeClass","toggleSection","on","closeSection","each","i","elm","window","location","hash","$target","ProjectSelectComboButton","select","projectSelectInput","newItemBtn","resourceType","resourceLabel","formattedText","deriveTextVariants","groupId","bindEvents","initLocalStorage","siblings","openDropdown","getProjectFromLocalStorage","selectProject","AccessorUtilities","isLocalStorageAccessSafe","localStorageKey","localStorageItemType","join","setBtnTextFromLocalStorage","currentTarget","select2","selectedProjectData","JSON","parse","projectMeta","url","setNewItemBtnAttributes","setProjectInLocalStorage","cachedProjectData","project","attr","defaultTextPrefix","presetTextSuffix","projectString","localStorage","getItem","stringify","setItem","split","slice","placeholder","simpleFilter","includeGroups","allProjects","orderBy","withIssuesEnabled","withMergeRequestsEnabled","withShared","undefined","includeProjectsInSubgroups","allowClear","minimumInputLength","query","finalCallback","projectsCallback","projects","results","callback","groupsCallback","groups","Api","term","groupProjects","with_issues_enabled","with_merge_requests_enabled","with_shared","include_subgroups","order_by","membership","web_url","name_with_namespace","initSelection","el","then","_ref","dropdownCssClass","closest","click","filename","replace","_lib_utils_common_utils__WEBPACK_IMPORTED_MODULE_1__","$btn","$form","$input","modal","confirmTextMatch","$submit","disable","focus","rstrip","enable","submit","openConfirmDangerModal","_lib_utils_axios_utils__WEBPACK_IMPORTED_MODULE_1__","_api__WEBPACK_IMPORTED_MODULE_2__","_lib_utils_common_utils__WEBPACK_IMPORTED_MODULE_3__","GROUP_SELECT_PER_PAGE","$select","allAvailable","skipGroups","parentGroupID","groupsPath","subgroupsPath","multiple","ajax","buildUrl","dataType","quietMillis","transport","params","axios","toLowerCase","res","headers","normalizeHeaders","more","parseInt","success","pagination","catch","error","per_page","all_available","filter","group","formatResult","object","full_name","full_path","formatSelection","escapeMarkup","m","dropdown","style","height","Math","floor","scrollHeight"],"mappings":"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","file":"pages.groups.edit.3757b709.chunk.js","sourcesContent":["import PersistentUserCallout from '~/persistent_user_callout';\nimport initGkeDropdowns from '~/projects/gke_cluster_dropdowns';\n\nfunction initGcpSignupCallout() {\n  const callout = document.querySelector('.gcp-signup-offer');\n\n  if (callout) new PersistentUserCallout(callout); // eslint-disable-line no-new\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const { page } = document.body.dataset;\n  const newClusterViews = [\n    'groups:clusters:new',\n    'groups:clusters:create_gcp',\n    'groups:clusters:create_user',\n  ];\n\n  if (newClusterViews.indexOf(page) > -1) {\n    initGcpSignupCallout();\n    initGkeDropdowns();\n  }\n});\n","import $ from 'jquery';\n\nexport default class TransferDropdown {\n  constructor() {\n    this.groupDropdown = $('.js-groups-dropdown');\n    this.parentInput = $('#new_parent_group_id');\n    this.data = this.groupDropdown.data('data');\n    this.init();\n  }\n\n  init() {\n    this.buildDropdown();\n  }\n\n  buildDropdown() {\n    const extraOptions = [{ id: '', text: 'No parent group' }, 'divider'];\n\n    this.groupDropdown.glDropdown({\n      selectable: true,\n      filterable: true,\n      toggleLabel: item => item.text,\n      search: { fields: ['text'] },\n      data: extraOptions.concat(this.data),\n      text: item => item.text,\n      clicked: options => {\n        const { e } = options;\n        e.preventDefault();\n        this.assignSelected(options.selectedObj);\n      },\n    });\n  }\n\n  assignSelected(selected) {\n    this.parentInput.val(selected.id);\n  }\n}\n","import _ from 'underscore';\n\nclass DirtySubmitForm {\n  constructor(form) {\n    this.form = form;\n    this.dirtyInputs = [];\n    this.isDisabled = true;\n\n    this.init();\n  }\n\n  init() {\n    this.inputs = this.form.querySelectorAll('input, textarea, select');\n    this.submits = this.form.querySelectorAll('input[type=submit], button[type=submit]');\n\n    this.inputs.forEach(DirtySubmitForm.initInput);\n    this.toggleSubmission();\n\n    this.registerListeners();\n  }\n\n  registerListeners() {\n    const throttledUpdateDirtyInput = _.throttle(\n      event => this.updateDirtyInput(event),\n      DirtySubmitForm.THROTTLE_DURATION,\n    );\n    this.form.addEventListener('input', throttledUpdateDirtyInput);\n    this.form.addEventListener('submit', event => this.formSubmit(event));\n  }\n\n  updateDirtyInput(event) {\n    const input = event.target;\n\n    if (!input.dataset.isDirtySubmitInput) return;\n\n    this.updateDirtyInputs(input);\n    this.toggleSubmission();\n  }\n\n  updateDirtyInputs(input) {\n    const { name } = input;\n    const isDirty =\n      input.dataset.dirtySubmitOriginalValue !== DirtySubmitForm.inputCurrentValue(input);\n    const indexOfInputName = this.dirtyInputs.indexOf(name);\n    const isExisting = indexOfInputName !== -1;\n\n    if (isDirty && !isExisting) this.dirtyInputs.push(name);\n    if (!isDirty && isExisting) this.dirtyInputs.splice(indexOfInputName, 1);\n  }\n\n  toggleSubmission() {\n    this.isDisabled = this.dirtyInputs.length === 0;\n    this.submits.forEach(element => {\n      element.disabled = this.isDisabled;\n    });\n  }\n\n  formSubmit(event) {\n    if (this.isDisabled) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n\n    return !this.isDisabled;\n  }\n\n  static initInput(element) {\n    element.dataset.isDirtySubmitInput = true;\n    element.dataset.dirtySubmitOriginalValue = DirtySubmitForm.inputCurrentValue(element);\n  }\n\n  static isInputCheckable(input) {\n    return input.type === 'checkbox' || input.type === 'radio';\n  }\n\n  static inputCurrentValue(input) {\n    return DirtySubmitForm.isInputCheckable(input) ? input.checked.toString() : input.value;\n  }\n}\n\nDirtySubmitForm.THROTTLE_DURATION = 500;\n\nexport default DirtySubmitForm;\n","import DirtySubmitForm from './dirty_submit_form';\n\nclass DirtySubmitCollection {\n  constructor(forms) {\n    this.forms = forms;\n\n    this.dirtySubmits = [];\n\n    this.forms.forEach(form => this.dirtySubmits.push(new DirtySubmitForm(form)));\n  }\n}\n\nexport default DirtySubmitCollection;\n","import groupAvatar from '~/group_avatar';\nimport TransferDropdown from '~/groups/transfer_dropdown';\nimport initConfirmDangerModal from '~/confirm_danger_modal';\nimport initSettingsPanels from '~/settings_panels';\nimport dirtySubmitFactory from '~/dirty_submit/dirty_submit_factory';\nimport mountBadgeSettings from '~/pages/shared/mount_badge_settings';\nimport { GROUP_BADGE } from '~/badges/constants';\nimport groupsSelect from '~/groups_select';\nimport projectSelect from '~/project_select';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  groupAvatar();\n  new TransferDropdown(); // eslint-disable-line no-new\n  initConfirmDangerModal();\n  initSettingsPanels();\n  dirtySubmitFactory(\n    document.querySelectorAll('.js-general-settings-form, .js-general-permissions-form'),\n  );\n  mountBadgeSettings(GROUP_BADGE);\n\n  // Initialize Subgroups selector\n  groupsSelect();\n\n  projectSelect();\n});\n","import DirtySubmitCollection from './dirty_submit_collection';\nimport DirtySubmitForm from './dirty_submit_form';\n\nexport default function dirtySubmitFactory(formOrForms) {\n  const isCollection = formOrForms instanceof NodeList || formOrForms instanceof Array;\n  const DirtySubmitClass = isCollection ? DirtySubmitCollection : DirtySubmitForm;\n\n  return new DirtySubmitClass(formOrForms);\n}\n","import $ from 'jquery';\nimport { __ } from './locale';\n\nfunction expandSection($section) {\n  $section.find('.js-settings-toggle:not(.js-settings-toggle-trigger-only)').text(__('Collapse'));\n  $section\n    .find('.settings-content')\n    .off('scroll.expandSection')\n    .scrollTop(0);\n  $section.addClass('expanded');\n  if (!$section.hasClass('no-animate')) {\n    $section\n      .addClass('animating')\n      .one('animationend.animateSection', () => $section.removeClass('animating'));\n  }\n}\n\nfunction closeSection($section) {\n  $section.find('.js-settings-toggle:not(.js-settings-toggle-trigger-only)').text(__('Expand'));\n  $section.find('.settings-content').on('scroll.expandSection', () => expandSection($section));\n  $section.removeClass('expanded');\n  if (!$section.hasClass('no-animate')) {\n    $section\n      .addClass('animating')\n      .one('animationend.animateSection', () => $section.removeClass('animating'));\n  }\n}\n\nfunction toggleSection($section) {\n  $section.removeClass('no-animate');\n  if ($section.hasClass('expanded')) {\n    closeSection($section);\n  } else {\n    expandSection($section);\n  }\n}\n\nexport default function initSettingsPanels() {\n  $('.settings').each((i, elm) => {\n    const $section = $(elm);\n    $section.on('click.toggleSection', '.js-settings-toggle', () => toggleSection($section));\n\n    if (!$section.hasClass('expanded')) {\n      $section.find('.settings-content').on('scroll.expandSection', () => {\n        $section.removeClass('no-animate');\n        expandSection($section);\n      });\n    }\n  });\n\n  if (window.location.hash) {\n    const $target = $(window.location.hash);\n    if ($target.length && $target.hasClass('settings')) {\n      expandSection($target);\n    }\n  }\n}\n","import $ from 'jquery';\nimport AccessorUtilities from './lib/utils/accessor';\n\nexport default class ProjectSelectComboButton {\n  constructor(select) {\n    this.projectSelectInput = $(select);\n    this.newItemBtn = $('.new-project-item-link');\n    this.resourceType = this.newItemBtn.data('type');\n    this.resourceLabel = this.newItemBtn.data('label');\n    this.formattedText = this.deriveTextVariants();\n    this.groupId = this.projectSelectInput.data('groupId');\n    this.bindEvents();\n    this.initLocalStorage();\n  }\n\n  bindEvents() {\n    this.projectSelectInput\n      .siblings('.new-project-item-select-button')\n      .on('click', e => this.openDropdown(e));\n\n    this.newItemBtn.on('click', e => {\n      if (!this.getProjectFromLocalStorage()) {\n        e.preventDefault();\n        this.openDropdown(e);\n      }\n    });\n\n    this.projectSelectInput.on('change', () => this.selectProject());\n  }\n\n  initLocalStorage() {\n    const localStorageIsSafe = AccessorUtilities.isLocalStorageAccessSafe();\n\n    if (localStorageIsSafe) {\n      this.localStorageKey = [\n        'group',\n        this.groupId,\n        this.formattedText.localStorageItemType,\n        'recent-project',\n      ].join('-');\n      this.setBtnTextFromLocalStorage();\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  openDropdown(event) {\n    $(event.currentTarget)\n      .siblings('.project-item-select')\n      .select2('open');\n  }\n\n  selectProject() {\n    const selectedProjectData = JSON.parse(this.projectSelectInput.val());\n    const projectUrl = `${selectedProjectData.url}/${this.projectSelectInput.data('relativePath')}`;\n    const projectName = selectedProjectData.name;\n\n    const projectMeta = {\n      url: projectUrl,\n      name: projectName,\n    };\n\n    this.setNewItemBtnAttributes(projectMeta);\n    this.setProjectInLocalStorage(projectMeta);\n  }\n\n  setBtnTextFromLocalStorage() {\n    const cachedProjectData = this.getProjectFromLocalStorage();\n\n    this.setNewItemBtnAttributes(cachedProjectData);\n  }\n\n  setNewItemBtnAttributes(project) {\n    if (project) {\n      this.newItemBtn.attr('href', project.url);\n      this.newItemBtn.text(`${this.formattedText.defaultTextPrefix} in ${project.name}`);\n    } else {\n      this.newItemBtn.text(`Select project to create ${this.formattedText.presetTextSuffix}`);\n    }\n  }\n\n  getProjectFromLocalStorage() {\n    const projectString = localStorage.getItem(this.localStorageKey);\n\n    return JSON.parse(projectString);\n  }\n\n  setProjectInLocalStorage(projectMeta) {\n    const projectString = JSON.stringify(projectMeta);\n\n    localStorage.setItem(this.localStorageKey, projectString);\n  }\n\n  deriveTextVariants() {\n    const defaultTextPrefix = this.resourceLabel;\n\n    // the trailing slice call depluralizes each of these strings (e.g. new-issues -> new-issue)\n    const localStorageItemType = `new-${this.resourceType\n      .split('_')\n      .join('-')\n      .slice(0, -1)}`;\n    const presetTextSuffix = this.resourceType\n      .split('_')\n      .join(' ')\n      .slice(0, -1);\n\n    return {\n      localStorageItemType, // new-issue / new-merge-request\n      defaultTextPrefix, // New issue / New merge request\n      presetTextSuffix, // issue / merge request\n    };\n  }\n}\n","/* eslint-disable func-names, no-var, object-shorthand, one-var, no-else-return */\n\nimport $ from 'jquery';\nimport Api from './api';\nimport ProjectSelectComboButton from './project_select_combo_button';\n\nexport default function projectSelect() {\n  $('.ajax-project-select').each(function(i, select) {\n    var placeholder;\n    const simpleFilter = $(select).data('simpleFilter') || false;\n    this.groupId = $(select).data('groupId');\n    this.includeGroups = $(select).data('includeGroups');\n    this.allProjects = $(select).data('allProjects') || false;\n    this.orderBy = $(select).data('orderBy') || 'id';\n    this.withIssuesEnabled = $(select).data('withIssuesEnabled');\n    this.withMergeRequestsEnabled = $(select).data('withMergeRequestsEnabled');\n    this.withShared =\n      $(select).data('withShared') === undefined ? true : $(select).data('withShared');\n    this.includeProjectsInSubgroups = $(select).data('includeProjectsInSubgroups') || false;\n    this.allowClear = $(select).data('allowClear') || false;\n\n    placeholder = 'Search for project';\n    if (this.includeGroups) {\n      placeholder += ' or group';\n    }\n\n    $(select).select2({\n      placeholder: placeholder,\n      minimumInputLength: 0,\n      query: (function(_this) {\n        return function(query) {\n          var finalCallback, projectsCallback;\n          finalCallback = function(projects) {\n            var data;\n            data = {\n              results: projects,\n            };\n            return query.callback(data);\n          };\n          if (_this.includeGroups) {\n            projectsCallback = function(projects) {\n              var groupsCallback;\n              groupsCallback = function(groups) {\n                var data;\n                data = groups.concat(projects);\n                return finalCallback(data);\n              };\n              return Api.groups(query.term, {}, groupsCallback);\n            };\n          } else {\n            projectsCallback = finalCallback;\n          }\n          if (_this.groupId) {\n            return Api.groupProjects(\n              _this.groupId,\n              query.term,\n              {\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                with_shared: _this.withShared,\n                include_subgroups: _this.includeProjectsInSubgroups,\n              },\n              projectsCallback,\n            );\n          } else {\n            return Api.projects(\n              query.term,\n              {\n                order_by: _this.orderBy,\n                with_issues_enabled: _this.withIssuesEnabled,\n                with_merge_requests_enabled: _this.withMergeRequestsEnabled,\n                membership: !_this.allProjects,\n              },\n              projectsCallback,\n            );\n          }\n        };\n      })(this),\n      id: function(project) {\n        if (simpleFilter) return project.id;\n        return JSON.stringify({\n          name: project.name,\n          url: project.web_url,\n        });\n      },\n      text: function(project) {\n        return project.name_with_namespace || project.name;\n      },\n\n      initSelection: function(el, callback) {\n        return Api.project(el.val()).then(({ data }) => callback(data));\n      },\n\n      allowClear: this.allowClear,\n\n      dropdownCssClass: 'ajax-project-dropdown',\n    });\n    if (simpleFilter) return select;\n    return new ProjectSelectComboButton(select);\n  });\n}\n","import $ from 'jquery';\n\nexport default function groupAvatar() {\n  $('.js-choose-group-avatar-button').on('click', function onClickGroupAvatar() {\n    const form = $(this).closest('form');\n    return form.find('.js-group-avatar-input').click();\n  });\n  $('.js-group-avatar-input').on('change', function onChangeAvatarInput() {\n    const form = $(this).closest('form');\n    const filename = $(this)\n      .val()\n      .replace(/^.*[\\\\\\/]/, ''); // eslint-disable-line no-useless-escape\n    return form.find('.js-avatar-filename').text(filename);\n  });\n}\n","import $ from 'jquery';\nimport { rstrip } from './lib/utils/common_utils';\n\nfunction openConfirmDangerModal($form, text) {\n  const $input = $('.js-confirm-danger-input');\n  $input.val('');\n\n  $('.js-confirm-text').text(text || '');\n  $('#modal-confirm-danger').modal('show');\n\n  const confirmTextMatch = $('.js-confirm-danger-match').text();\n  const $submit = $('.js-confirm-danger-submit');\n  $submit.disable();\n  $input.focus();\n\n  $('.js-confirm-danger-input')\n    .off('input')\n    .on('input', function handleInput() {\n      const confirmText = rstrip($(this).val());\n      if (confirmText === confirmTextMatch) {\n        $submit.enable();\n      } else {\n        $submit.disable();\n      }\n    });\n  $('.js-confirm-danger-submit')\n    .off('click')\n    .on('click', () => $form.submit());\n}\n\nexport default function initConfirmDangerModal() {\n  $(document).on('click', '.js-confirm-danger', e => {\n    e.preventDefault();\n    const $btn = $(e.target);\n    const $form = $btn.closest('form');\n    const text = $btn.data('confirmDangerMessage');\n    openConfirmDangerModal($form, text);\n  });\n}\n","import $ from 'jquery';\nimport axios from './lib/utils/axios_utils';\nimport Api from './api';\nimport { normalizeHeaders } from './lib/utils/common_utils';\n\nexport default function groupsSelect() {\n  // Needs to be accessible in rspec\n  window.GROUP_SELECT_PER_PAGE = 20;\n  $('.ajax-groups-select').each(function setAjaxGroupsSelect2() {\n    const $select = $(this);\n    const allAvailable = $select.data('allAvailable');\n    const skipGroups = $select.data('skipGroups') || [];\n    const parentGroupID = $select.data('parentId');\n    const groupsPath = parentGroupID\n      ? Api.subgroupsPath.replace(':id', parentGroupID)\n      : Api.groupsPath;\n\n    $select.select2({\n      placeholder: 'Search for a group',\n      allowClear: $select.hasClass('allowClear'),\n      multiple: $select.hasClass('multiselect'),\n      minimumInputLength: 0,\n      ajax: {\n        url: Api.buildUrl(groupsPath),\n        dataType: 'json',\n        quietMillis: 250,\n        transport(params) {\n          axios[params.type.toLowerCase()](params.url, {\n            params: params.data,\n          })\n            .then(res => {\n              const results = res.data || [];\n              const headers = normalizeHeaders(res.headers);\n              const currentPage = parseInt(headers['X-PAGE'], 10) || 0;\n              const totalPages = parseInt(headers['X-TOTAL-PAGES'], 10) || 0;\n              const more = currentPage < totalPages;\n\n              params.success({\n                results,\n                pagination: {\n                  more,\n                },\n              });\n            })\n            .catch(params.error);\n        },\n        data(search, page) {\n          return {\n            search,\n            page,\n            per_page: window.GROUP_SELECT_PER_PAGE,\n            all_available: allAvailable,\n          };\n        },\n        results(data, page) {\n          if (data.length) return { results: [] };\n\n          const groups = data.length ? data : data.results || [];\n          const more = data.pagination ? data.pagination.more : false;\n          const results = groups.filter(group => skipGroups.indexOf(group.id) === -1);\n\n          return {\n            results,\n            page,\n            more,\n          };\n        },\n      },\n      // eslint-disable-next-line consistent-return\n      initSelection(element, callback) {\n        const id = $(element).val();\n        if (id !== '') {\n          return Api.group(id, callback);\n        }\n      },\n      formatResult(object) {\n        return `<div class='group-result'> <div class='group-name'>${\n          object.full_name\n        }</div> <div class='group-path'>${object.full_path}</div> </div>`;\n      },\n      formatSelection(object) {\n        return object.full_name;\n      },\n      dropdownCssClass: 'ajax-groups-dropdown select2-infinite',\n      // we do not want to escape markup since we are displaying html in results\n      escapeMarkup(m) {\n        return m;\n      },\n    });\n\n    $select.on('select2-loaded', () => {\n      const dropdown = document.querySelector('.select2-infinite .select2-results');\n      dropdown.style.height = `${Math.floor(dropdown.scrollHeight)}px`;\n    });\n  });\n}\n"],"sourceRoot":""}