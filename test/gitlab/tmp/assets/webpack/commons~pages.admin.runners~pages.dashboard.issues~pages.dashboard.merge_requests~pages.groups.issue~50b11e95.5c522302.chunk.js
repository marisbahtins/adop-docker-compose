(this.webpackJsonp=this.webpackJsonp||[]).push([[8],{144:function(e,t,n){"use strict";var r=n(232),a=[{key:"author",type:"string",param:"username",symbol:"@",icon:"pencil",tag:"@author"},{key:"assignee",type:"string",param:"username",symbol:"@",icon:"user",tag:"@assignee"},{key:"milestone",type:"string",param:"title",symbol:"%",icon:"clock",tag:"%milestone"},{key:"label",type:"array",param:"name[]",symbol:"~",icon:"labels",tag:"~label"}];gon.current_user_id&&a.push({key:"my-reaction",type:"string",param:"emoji",symbol:"",icon:"thumb-up",tag:"emoji"});var s=new r.a(a,[{key:"label",type:"string",param:"name",symbol:"~"}],[{url:"assignee_id=None",tokenKey:"assignee",value:"none"},{url:"assignee_id=Any",tokenKey:"assignee",value:"any"},{url:"milestone_title=None",tokenKey:"milestone",value:"none"},{url:"milestone_title=Any",tokenKey:"milestone",value:"any"},{url:"milestone_title=%23upcoming",tokenKey:"milestone",value:"upcoming"},{url:"milestone_title=%23started",tokenKey:"milestone",value:"started"},{url:"label_name[]=None",tokenKey:"label",value:"none"},{url:"label_name[]=Any",tokenKey:"any",value:"any"},{url:"my_reaction_emoji=None",tokenKey:"my-reaction",value:"none"},{url:"my_reaction_emoji=Any",tokenKey:"my-reaction",value:"any"}]);t.a=s},217:function(e,t,n){"use strict";var r=n(5),a=n.n(r),s=n(13),i=n(144),o=n(19),c=n(7),l=n(120),h=n(11),u=new h.default,d=n(165),p={name:"RecentSearchesDropdownContent",props:{items:{type:Array,required:!0},isLocalStorageAvailable:{type:Boolean,required:!1,default:!0},allowedKeys:{type:Array,required:!0}},computed:{processedItems:function(){var e=this;return this.items.map(function(t){var n=d.a.processTokens(t,e.allowedKeys),r=n.tokens,a=n.searchToken;return{text:t,tokens:r.map(function(e){return{prefix:"".concat(e.key,":"),suffix:"".concat(e.symbol).concat(e.value)}}),searchToken:a}})},hasItems:function(){return this.items.length>0}},methods:{onItemActivated:function(e){u.$emit("recentSearchesItemSelected",e)},onRequestClearRecentSearches:function(e){e.stopPropagation(),u.$emit("requestClearRecentSearches")}}},v=n(3),f=Object(v.a)(p,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLocalStorageAvailable?e.hasItems?n("ul",[e._l(e.processedItems,function(t,r){return n("li",{key:"processed-items-"+r},[n("button",{staticClass:"filtered-search-history-dropdown-item",attrs:{type:"button"},on:{click:function(n){e.onItemActivated(t.text)}}},[n("span",e._l(t.tokens,function(t,r){return n("span",{key:"dropdown-token-"+r,staticClass:"filtered-search-history-dropdown-token"},[n("span",{staticClass:"name"},[e._v(e._s(t.prefix))]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(t.suffix))])])}),0),e._v(" "),n("span",{staticClass:"filtered-search-history-dropdown-search-token"},[e._v("\n          "+e._s(t.searchToken)+"\n        ")])])])}),e._v(" "),n("li",{staticClass:"divider"}),e._v(" "),n("li",[n("button",{staticClass:"filtered-search-history-clear-button",attrs:{type:"button"},on:{click:function(t){e.onRequestClearRecentSearches(t)}}},[e._v("\n        Clear recent searches\n      ")])])],2):n("div",{staticClass:"dropdown-info-note"},[e._v("You don't have any recent searches")]):n("div",{staticClass:"dropdown-info-note"},[e._v("\n    This feature requires local storage to be enabled\n  ")])])},[],!1,null,null,null);f.options.__file="recent_searches_dropdown_content.vue";var k=f.exports;function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.service=n,this.wrapperElement=r}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.bindEvents(),this.render()}},{key:"bindEvents",value:function(){this.onRequestClearRecentSearchesWrapper=this.onRequestClearRecentSearches.bind(this),u.$on("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}},{key:"unbindEvents",value:function(){u.$off("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}},{key:"render",value:function(){var e=this.store.state;this.vm=new h.default({el:this.wrapperElement,components:{RecentSearchesDropdownContent:k},data:function(){return e},template:'\n        <recent-searches-dropdown-content\n          :items="recentSearches"\n          :is-local-storage-available="isLocalStorageAvailable"\n          :allowed-keys="allowedKeys"\n          />\n      '})}},{key:"onRequestClearRecentSearches",value:function(){var e=this.store.setRecentSearches([]);this.service.save(e)}},{key:"destroy",value:function(){this.unbindEvents(),this.vm&&this.vm.$destroy()}}])&&S(t.prototype,n),r&&S(t,r),e}();function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=Object.assign({isLocalStorageAvailable:!0,recentSearches:[],allowedKeys:n},t)}var t,n,r;return t=e,(n=[{key:"addRecentSearch",value:function(e){return this.setRecentSearches([e].concat(this.state.recentSearches)),this.state.recentSearches}},{key:"setRecentSearches",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.trim()});return this.state.recentSearches=a.a.uniq(e).slice(0,5),this.state.recentSearches}}])&&y(t.prototype,n),r&&y(t,r),e}();var b=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="RecentSearchesServiceError",this.message=t||"Recent Searches Service is unavailable"};b.prototype=Error.prototype;var E=b,T=n(31);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"issuable-recent-searches";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.localStorageKey=t}var t,n,r;return t=e,r=[{key:"isAvailable",value:function(){return T.a.isLocalStorageAccessSafe()}}],(n=[{key:"fetch",value:function(){if(!e.isAvailable()){var t=new E;return Promise.reject(t)}var n=window.localStorage.getItem(this.localStorageKey),r=[];if(n&&n.length>0)try{r=JSON.parse(n)}catch(e){return Promise.reject(e)}return Promise.resolve(r)}},{key:"save",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.isAvailable()&&window.localStorage.setItem(this.localStorageKey,JSON.stringify(t))}}])&&w(t.prototype,n),r&&w(t,r),e}(),C=n(176),L=n(278),W=n(64),K=n(95);function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return R});var R=function(){function e(t){var n=t.page,r=t.isGroup,a=void 0!==r&&r,s=t.isGroupAncestor,o=void 0===s||s,c=t.isGroupDecendent,h=void 0!==c&&c,u=t.filteredSearchTokenKeys,d=void 0===u?i.a:u,p=t.stateFiltersSelector,v=void 0===p?".issues-state-filters":p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isGroup=a,this.isGroupAncestor=o,this.isGroupDecendent=h,this.states=["opened","closed","merged","all"],this.page=n,this.container=l.a.container,this.filteredSearchInput=this.container.querySelector(".filtered-search"),this.filteredSearchInputForm=this.filteredSearchInput.form,this.clearSearchButton=this.container.querySelector(".clear-search"),this.tokensContainer=this.container.querySelector(".tokens-container"),this.filteredSearchTokenKeys=d,this.stateFiltersSelector=v,this.recentsStorageKeyNames={issues:"issue-recent-searches",merge_requests:"merge-request-recent-searches"},this.recentSearchesStore=new g({isLocalStorageAvailable:I.isAvailable(),allowedKeys:this.filteredSearchTokenKeys.getKeys()}),this.searchHistoryDropdownElement=document.querySelector(".js-filtered-search-history-dropdown");var f=this.searchHistoryDropdownElement?this.searchHistoryDropdownElement.dataset.fullPath:"project",k="".concat(f,"-").concat(this.recentsStorageKeyNames[this.page]);this.recentSearchesService=new I(k)}var t,n,r;return t=e,(n=[{key:"setup",value:function(){var e=this;this.fetchingRecentSearchesPromise=this.recentSearchesService.fetch().catch(function(e){if("RecentSearchesServiceError"!==e.name)return new c.a("An error occurred while parsing recent searches"),[]}).then(function(t){if(t){var n=e.recentSearchesStore.setRecentSearches(e.recentSearchesStore.state.recentSearches.concat(t));e.recentSearchesService.save(n)}}),this.filteredSearchInput&&(this.tokenizer=d.a,this.dropdownManager=new L.a({baseEndpoint:this.filteredSearchInput.getAttribute("data-base-endpoint")||"",tokenizer:this.tokenizer,page:this.page,isGroup:this.isGroup,isGroupAncestor:this.isGroupAncestor,isGroupDecendent:this.isGroupDecendent,filteredSearchTokenKeys:this.filteredSearchTokenKeys}),this.recentSearchesRoot=new m(this.recentSearchesStore,this.recentSearchesService,this.searchHistoryDropdownElement),this.recentSearchesRoot.init(),this.bindEvents(),this.loadSearchParamsFromURL(),this.dropdownManager.setDropdown(),this.cleanupWrapper=this.cleanup.bind(this),document.addEventListener("beforeunload",this.cleanupWrapper))}},{key:"cleanup",value:function(){this.unbindEvents(),document.removeEventListener("beforeunload",this.cleanupWrapper),this.recentSearchesRoot&&this.recentSearchesRoot.destroy()}},{key:"bindStateEvents",value:function(){var e=this;this.stateFilters=document.querySelector(".container-fluid ".concat(this.stateFiltersSelector)),this.stateFilters&&(this.searchStateWrapper=this.searchState.bind(this),this.applyToStateFilters(function(t){t.addEventListener("click",e.searchStateWrapper)}))}},{key:"unbindStateEvents",value:function(){var e=this;this.stateFilters&&this.applyToStateFilters(function(t){t.removeEventListener("click",e.searchStateWrapper)})}},{key:"applyToStateFilters",value:function(e){var t=this;this.stateFilters.querySelectorAll("a[data-state]").forEach(function(n){t.states.indexOf(n.dataset.state)>-1&&e(n)})}},{key:"bindEvents",value:function(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.setDropdownWrapper=this.dropdownManager.setDropdown.bind(this.dropdownManager),this.toggleClearSearchButtonWrapper=this.toggleClearSearchButton.bind(this),this.handleInputPlaceholderWrapper=this.handleInputPlaceholder.bind(this),this.handleInputVisualTokenWrapper=this.handleInputVisualToken.bind(this),this.checkForEnterWrapper=this.checkForEnter.bind(this),this.onClearSearchWrapper=this.onClearSearch.bind(this),this.checkForBackspaceWrapper=this.checkForBackspace.call(this),this.removeSelectedTokenKeydownWrapper=this.removeSelectedTokenKeydown.bind(this),this.unselectEditTokensWrapper=this.unselectEditTokens.bind(this),this.editTokenWrapper=this.editToken.bind(this),this.tokenChange=this.tokenChange.bind(this),this.addInputContainerFocusWrapper=this.addInputContainerFocus.bind(this),this.removeInputContainerFocusWrapper=this.removeInputContainerFocus.bind(this),this.onrecentSearchesItemSelectedWrapper=this.onrecentSearchesItemSelected.bind(this),this.removeTokenWrapper=this.removeToken.bind(this),this.filteredSearchInputForm.addEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.addEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.addEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.addEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.addEventListener("input",this.handleInputVisualTokenWrapper),this.filteredSearchInput.addEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.addEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.addEventListener("click",this.tokenChange),this.filteredSearchInput.addEventListener("keyup",this.tokenChange),this.filteredSearchInput.addEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.addEventListener("click",this.removeTokenWrapper),this.tokensContainer.addEventListener("click",this.editTokenWrapper),this.clearSearchButton.addEventListener("click",this.onClearSearchWrapper),document.addEventListener("click",this.unselectEditTokensWrapper),document.addEventListener("click",this.removeInputContainerFocusWrapper),document.addEventListener("keydown",this.removeSelectedTokenKeydownWrapper),u.$on("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.bindStateEvents()}},{key:"unbindEvents",value:function(){this.filteredSearchInputForm.removeEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.removeEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.removeEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.removeEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.removeEventListener("input",this.handleInputVisualTokenWrapper),this.filteredSearchInput.removeEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.removeEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.removeEventListener("click",this.tokenChange),this.filteredSearchInput.removeEventListener("keyup",this.tokenChange),this.filteredSearchInput.removeEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.removeEventListener("click",this.removeTokenWrapper),this.tokensContainer.removeEventListener("click",this.editTokenWrapper),this.clearSearchButton.removeEventListener("click",this.onClearSearchWrapper),document.removeEventListener("click",this.unselectEditTokensWrapper),document.removeEventListener("click",this.removeInputContainerFocusWrapper),document.removeEventListener("keydown",this.removeSelectedTokenKeydownWrapper),u.$off("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.unbindStateEvents()}},{key:"checkForBackspace",value:function(){var e=this,t=0;return function(n){if(8===n.keyCode||46===n.keyCode){var r=W.a.getLastVisualTokenBeforeInput().lastVisualToken,a=K.a.getVisualTokenValues(r),s=a.tokenName,i=a.tokenValue,o=s&&e.canEdit&&e.canEdit(s,i);""===e.filteredSearchInput.value&&r&&o&&2===(t+=1)&&(t=0,e.filteredSearchInput.value=W.a.getLastTokenPartial(),W.a.removeLastTokenPartial()),e.dropdownManager.updateCurrentDropdownOffset()}else t=0}}},{key:"checkForEnter",value:function(e){if(38===e.keyCode||40===e.keyCode){var t=this.filteredSearchInput.selectionStart;e.preventDefault(),this.filteredSearchInput.setSelectionRange(t,t)}if(13===e.keyCode){var n=this.dropdownManager.mapping[this.dropdownManager.currentDropdown].element.querySelectorAll(".droplab-item-active");e.preventDefault(),n.length||(this.isHandledAsync?(e.stopImmediatePropagation(),this.filteredSearchInput.blur(),this.dropdownManager.resetDropdowns()):this.dropdownManager.destroyDroplab(),this.search())}}},{key:"addInputContainerFocus",value:function(){Object(C.a)(this.filteredSearchInput.closest(".filtered-search-box"),"focus")}},{key:"removeInputContainerFocus",value:function(e){var t=this.filteredSearchInput.closest(".filtered-search-box"),n=t&&t.contains(e.target),r=null!==e.target.closest(".filter-dropdown"),a=null!==e.target.closest("ul[data-dropdown]");n||r||a||!t||t.classList.remove("focus")}},{key:"removeToken",value:function(e){if(e.target.closest(".remove-token")){e.preventDefault(),e.stopImmediatePropagation();var t=e.target.closest(".selectable");W.a.selectToken(t,!0),this.removeSelectedToken()}}},{key:"unselectEditTokens",value:function(e){var t=this.container.querySelector(".filtered-search-box"),n=t&&t.contains(e.target),r=null!==e.target.closest(".filter-dropdown"),a=e.target.classList.contains("tokens-container");(!n&&!r||a)&&(W.a.moveInputToTheRight(),this.dropdownManager.resetDropdowns())}},{key:"editToken",value:function(e){var t=e.target.closest(".js-visual-token"),n=t&&t.querySelector(".name").textContent.trim(),r=this.canEdit&&this.canEdit(n);t&&r&&(e.preventDefault(),e.stopPropagation(),W.a.editToken(t),this.tokenChange())}},{key:"toggleClearSearchButton",value:function(){var e=K.a.getSearchQuery(),t=this.clearSearchButton.classList.contains("hidden");0!==e.length||t?e.length&&t&&this.clearSearchButton.classList.remove("hidden"):this.clearSearchButton.classList.add("hidden")}},{key:"handleInputPlaceholder",value:function(){var e=K.a.getSearchQuery(),t=this.filteredSearchInput.placeholder;0===e.length&&"Search or filter results..."!==t?this.filteredSearchInput.placeholder="Search or filter results...":e.length>0&&""!==t&&(this.filteredSearchInput.placeholder="")}},{key:"removeSelectedTokenKeydown",value:function(e){8!==e.keyCode&&46!==e.keyCode||this.removeSelectedToken()}},{key:"removeSelectedToken",value:function(){W.a.removeSelectedToken(),this.handleInputPlaceholder(),this.toggleClearSearchButton(),this.dropdownManager.updateCurrentDropdownOffset()}},{key:"onClearSearch",value:function(e){e.preventDefault(),this.clearSearch()}},{key:"clearSearch",value:function(){var e=this;this.filteredSearchInput.value="";var t=[];[].forEach.call(this.tokensContainer.children,function(n){var r=n.classList.contains("js-visual-token");if(r){var a=K.a.getVisualTokenValues(n),s=a.tokenName,i=a.tokenValue;r=e.canEdit&&e.canEdit(s,i)}r&&t.push(n)}),t.forEach(function(e){e.parentElement.removeChild(e)}),this.clearSearchButton.classList.add("hidden"),this.handleInputPlaceholder(),this.dropdownManager.resetDropdowns(),this.isHandledAsync&&this.search()}},{key:"handleInputVisualToken",value:function(){var e=this,t=this.filteredSearchInput,n=this.tokenizer.processTokens(t.value,this.filteredSearchTokenKeys.getKeys()),r=n.tokens,s=n.searchToken;if(W.a.getLastVisualTokenBeforeInput().isLastVisualTokenValid){r.forEach(function(n){t.value=t.value.replace("".concat(n.key,":").concat(n.symbol).concat(n.value),""),W.a.addFilterVisualToken(n.key,"".concat(n.symbol).concat(n.value),{uppercaseTokenName:e.filteredSearchTokenKeys.shouldUppercaseTokenName(n.key),capitalizeTokenValue:e.filteredSearchTokenKeys.shouldCapitalizeTokenValue(n.key)})});var i=s.split(":");if(i.length>1){var o=i[0].split(" "),c=a.a.last(o);if(o.length>1){o.pop();var l=o.join(" ");t.value=t.value.replace(l,""),W.a.addSearchVisualToken(l)}W.a.addFilterVisualToken(c,null,{uppercaseTokenName:this.filteredSearchTokenKeys.shouldUppercaseTokenName(c),capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(c)}),t.value=t.value.replace("".concat(c,":"),"")}}else{if(s.match(/([~%@]{0,1}".+")|([~%@]{0,1}'.+')|^((?![~%@]')(?![~%@]")(?!')(?!")).*/g)&&" "===t.value[t.value.length-1]){var h=W.a.getLastTokenPartial();W.a.addFilterVisualToken(s,null,{capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(h)}),t.value=t.value.replace(s,"").trim()}}}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),this.search()}},{key:"saveCurrentSearchQuery",value:function(){var e=this;this.fetchingRecentSearchesPromise.then(function(){var t=K.a.getSearchQuery();if(t.length>0){var n=e.recentSearchesStore.addRecentSearch(t);e.recentSearchesService.save(n)}}).catch(function(){})}},{key:"getAllParams",value:function(e){return this.modifyUrlParams?this.modifyUrlParams(e):e}},{key:"loadSearchParamsFromURL",value:function(){var e=this,t=Object(s.l)(),n=this.getAllParams(t),r=this.getUsernameParams(),a=!1;n.forEach(function(t){var n=t.split("="),s=decodeURIComponent(n[0]),i=n[1],o=e.filteredSearchTokenKeys.searchByConditionUrl(t);if(o){a=!0;var c=e.canEdit&&e.canEdit(o.tokenKey);W.a.addFilterVisualToken(o.tokenKey,o.value,{canEdit:c})}else{var l=i?decodeURIComponent(i.replace(/\+/g," ")):i,h=e.filteredSearchTokenKeys.searchByKeyParam(s);if(h){var u=s.lastIndexOf("_"),d=-1!==u?s.slice(0,u):s;d=d.replace("_","-");var p=h.symbol,v="";-1!==l.indexOf(" ")&&(v=-1===l.indexOf('"')?'"':"'"),a=!0;var f=e.canEdit&&e.canEdit(d,l),k=h.uppercaseTokenName,S=h.capitalizeTokenValue;W.a.addFilterVisualToken(d,"".concat(p).concat(v).concat(l).concat(v),{canEdit:f,uppercaseTokenName:k,capitalizeTokenValue:S})}else if(h||"assignee_id"!==s)if(h||"author_id"!==s)h||"search"!==s||(a=!0,e.filteredSearchInput.value=l);else{var m=parseInt(i,10);if(r[m]){a=!0;var y=e.canEdit&&e.canEdit("author");W.a.addFilterVisualToken("author","@".concat(r[m]),{canEdit:y})}}else{var g=parseInt(i,10);if(r[g]){a=!0;var b=e.canEdit&&e.canEdit("assignee");W.a.addFilterVisualToken("assignee","@".concat(r[g]),{canEdit:b})}}}}),this.saveCurrentSearchQuery(),a&&(this.clearSearchButton.classList.remove("hidden"),this.handleInputPlaceholder())}},{key:"searchState",value:function(e){e.preventDefault();var t=e.currentTarget;t.blur();var n=t.dataset&&t.dataset.state;n&&this.search(n)}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[],r=K.a.getSearchQuery();this.saveCurrentSearchQuery();var a=this.filteredSearchTokenKeys.getKeys(),i=this.tokenizer.processTokens(r,a),c=i.tokens,l=i.searchToken,h=t||Object(s.i)("state")||"opened";if(n.push("state=".concat(h)),c.forEach(function(t){var r=e.filteredSearchTokenKeys.searchByConditionKeyValue(t.key,t.value.toLowerCase()),a=e.filteredSearchTokenKeys.searchByKey(t.key)||{},s=a.param,i=t.key.replace("-","_"),o=s?"".concat(i,"_").concat(s):i,c="";if(r)c=r.url;else{var l=t.value;a.lowercaseValueOnSubmit&&(l=l.toLowerCase()),("'"===l[0]&&"'"===l[l.length-1]||'"'===l[0]&&'"'===l[l.length-1])&&(l=l.slice(1,l.length-1)),c="".concat(o,"=").concat(encodeURIComponent(l))}n.push(c)}),l){var u=l.split(" ").map(function(e){return encodeURIComponent(e)}).join("+");n.push("search=".concat(u))}var d="?scope=all&utf8=%E2%9C%93&".concat(n.join("&"));this.updateObject?this.updateObject(d):Object(o.g)(d)}},{key:"getUsernameParams",value:function(){var e={};try{var t=this.filteredSearchInput.getAttribute("data-username-params");JSON.parse(t).forEach(function(t){e[t.id]=t.username})}catch(e){}return e}},{key:"tokenChange",value:function(){var e=this.dropdownManager.mapping[this.dropdownManager.currentDropdown];if(e){var t=e.reference;this.setDropdownWrapper(),t.dispatchInputEvent()}}},{key:"onrecentSearchesItemSelected",value:function(e){this.clearSearch(),this.filteredSearchInput.value=e,this.filteredSearchInput.dispatchEvent(new CustomEvent("input")),this.search()}},{key:"canEdit",value:function(){return!0}}])&&F(t.prototype,n),r&&F(t,r),e}()},225:function(e,t,n){"use strict";var r=n(217);t.a=function(e){var t=e.page,n=e.filteredSearchTokenKeys,a=e.isGroup,s=e.isGroupAncestor,i=e.isGroupDecendent,o=e.stateFiltersSelector;r.a&&document.querySelector(".filtered-search")&&new r.a({page:t,isGroup:a,isGroupAncestor:s,isGroupDecendent:i,filteredSearchTokenKeys:n,stateFiltersSelector:o}).setup()}},226:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={MERGE_REQUESTS:"merge_requests",ISSUES:"issues",ADMIN_RUNNERS:"admin/runners"}}}]);
//# sourceMappingURL=commons~pages.admin.runners~pages.dashboard.issues~pages.dashboard.merge_requests~pages.groups.issue~50b11e95.5c522302.chunk.js.map